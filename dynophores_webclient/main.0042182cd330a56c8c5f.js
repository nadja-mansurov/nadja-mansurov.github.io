var AY=Object.defineProperty,_V=Object.getOwnPropertySymbols,TY=Object.prototype.hasOwnProperty,DY=Object.prototype.propertyIsEnumerable,bV=(ie,Ht,ct)=>Ht in ie?AY(ie,Ht,{enumerable:!0,configurable:!0,writable:!0,value:ct}):ie[Ht]=ct,yV=(ie,Ht)=>{for(var ct in Ht||(Ht={}))TY.call(Ht,ct)&&bV(ie,ct,Ht[ct]);if(_V)for(var ct of _V(Ht))DY.call(Ht,ct)&&bV(ie,ct,Ht[ct]);return ie};(self.webpackChunkdynophores_webclient=self.webpackChunkdynophores_webclient||[]).push([[179],{8255:ie=>{function Ht(ct){return Promise.resolve().then(()=>{var A=new Error("Cannot find module '"+ct+"'");throw A.code="MODULE_NOT_FOUND",A})}Ht.keys=()=>[],Ht.resolve=Ht,Ht.id=8255,ie.exports=Ht},7716:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{deG:()=>al,tb:()=>r2,AFp:()=>n2,ip1:()=>x0,CZH:()=>Hh,hGG:()=>Ax,z2F:()=>Do,sBO:()=>vO,Sil:()=>C0,_Vd:()=>Nd,EJc:()=>Rr,SBq:()=>ac,qLn:()=>Gg,vpe:()=>Zu,gxx:()=>ey,tBr:()=>kv,XFs:()=>ze,OlP:()=>zi,zs3:()=>No,ZZ4:()=>Gi,aQg:()=>Cs,soG:()=>Qf,YKP:()=>mA,v3s:()=>E0,h0i:()=>$u,PXZ:()=>oI,R0b:()=>za,FiY:()=>np,Lbi:()=>tv,g9A:()=>Zf,Qsj:()=>C5,FYo:()=>zM,JOm:()=>Eu,Tiy:()=>HM,q3G:()=>ki,tp0:()=>bd,EAV:()=>b3,Rgc:()=>qu,dDg:()=>o2,DyG:()=>Sv,GfV:()=>Uf,s_b:()=>Rm,ifc:()=>Bn,eFA:()=>P0,G48:()=>a2,Gpc:()=>Qt,X6Q:()=>wx,_c5:()=>pI,VLi:()=>C1,c2e:()=>Sl,zSh:()=>_p,wAp:()=>pr,vHH:()=>Qe,EiD:()=>PC,mCW:()=>oh,qzn:()=>cp,JVY:()=>ih,pB0:()=>yd,eBb:()=>lp,L6k:()=>Dg,LAX:()=>up,cg1:()=>Ry,Tjo:()=>x2,kL8:()=>jt,yhl:()=>Nv,dqk:()=>Eo,sIi:()=>M_,CqO:()=>Ww,QGY:()=>Ac,F4k:()=>$s,RDi:()=>QT,AaK:()=>Rt,z3N:()=>ul,qOj:()=>bp,TTD:()=>xg,_Bn:()=>Ny,xp6:()=>aw,uIk:()=>LS,ekj:()=>Em,Suo:()=>c1,Xpm:()=>Xd,lG2:()=>Zx,Yz7:()=>$i,cJS:()=>Ko,oAB:()=>Qp,Yjl:()=>Jp,Y36:()=>vh,_UZ:()=>Cy,GkF:()=>gM,BQk:()=>Mm,ynx:()=>I_,qZA:()=>xy,TgZ:()=>Cm,EpF:()=>Fi,n5z:()=>MD,Ikx:()=>EM,LFG:()=>Gs,$8M:()=>xu,NdJ:()=>qw,CRH:()=>Vh,oxw:()=>Oi,ALo:()=>r1,lcZ:()=>ox,Q6J:()=>Mp,VKq:()=>JM,WLB:()=>Vp,iGM:()=>Ir,MAs:()=>vm,CHM:()=>RP,LSH:()=>jv,kYT:()=>rl,YNc:()=>Ql,W1O:()=>Ca,_uU:()=>Ty,Oqu:()=>GS,hij:()=>Jw,AsE:()=>jS});var A=ct(9765),oe=ct(5319),Me=ct(7574),we=ct(6682),Jt=ct(8819);function xt(p){for(let h in p)if(p[h]===xt)return h;throw Error("Could not find renamed property on target object.")}function qt(p,h){for(const m in h)h.hasOwnProperty(m)&&!p.hasOwnProperty(m)&&(p[m]=h[m])}function Rt(p){if("string"==typeof p)return p;if(Array.isArray(p))return"["+p.map(Rt).join(", ")+"]";if(null==p)return""+p;if(p.overriddenName)return`${p.overriddenName}`;if(p.name)return`${p.name}`;const h=p.toString();if(null==h)return""+h;const m=h.indexOf("\n");return-1===m?h:h.substring(0,m)}function Wt(p,h){return null==p||""===p?null===h?"":h:null==h||""===h?p:p+" "+h}const yt=xt({__forward_ref__:xt});function Qt(p){return p.__forward_ref__=Qt,p.toString=function(){return Rt(this())},p}function St(p){return se(p)?p():p}function se(p){return"function"==typeof p&&p.hasOwnProperty(yt)&&p.__forward_ref__===Qt}class Qe extends Error{constructor(h,m){super(function(p,h){return`${p?`NG0${p}: `:""}${h}`}(h,m)),this.code=h}}function sn(p){return"string"==typeof p?p:null==p?"":String(p)}function Mn(p){return"function"==typeof p?p.name||p.toString():"object"==typeof p&&null!=p&&"function"==typeof p.type?p.type.name||p.type.toString():sn(p)}function fs(p,h){const m=h?` in ${h}`:"";throw new Qe("201",`No provider for ${Mn(p)} found${m}`)}function fi(p,h){null==p&&function(p,h,m,x){throw new Error(`ASSERTION ERROR: ${p}`+(null==x?"":` [Expected=> ${m} ${x} ${h} <=Actual]`))}(h,p,null,"!=")}function $i(p){return{token:p.token,providedIn:p.providedIn||null,factory:p.factory,value:void 0}}function Ko(p){return{providers:p.providers||[],imports:p.imports||[]}}function Oa(p){return qa(p,It)||qa(p,Bt)}function qa(p,h){return p.hasOwnProperty(h)?p[h]:null}function $d(p){return p&&(p.hasOwnProperty(ae)||p.hasOwnProperty(fn))?p[ae]:null}const It=xt({\u0275prov:xt}),ae=xt({\u0275inj:xt}),Bt=xt({ngInjectableDef:xt}),fn=xt({ngInjectorDef:xt});var ze=(()=>((ze=ze||{})[ze.Default=0]="Default",ze[ze.Host=1]="Host",ze[ze.Self=2]="Self",ze[ze.SkipSelf=4]="SkipSelf",ze[ze.Optional=8]="Optional",ze))();let Pn;function Ui(p){const h=Pn;return Pn=p,h}function Oo(p,h,m){const x=Oa(p);return x&&"root"==x.providedIn?void 0===x.value?x.value=x.factory():x.value:m&ze.Optional?null:void 0!==h?h:void fs(Rt(p),"Injector")}function $a(p){return{toString:p}.toString()}var mo=(()=>((mo=mo||{})[mo.OnPush=0]="OnPush",mo[mo.Default=1]="Default",mo))(),Bn=(()=>((Bn=Bn||{})[Bn.Emulated=0]="Emulated",Bn[Bn.None=2]="None",Bn[Bn.ShadowDom=3]="ShadowDom",Bn))();const Sr="undefined"!=typeof globalThis&&globalThis,gc="undefined"!=typeof window&&window,gu="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,so="undefined"!=typeof global&&global,Eo=Sr||so||gc||gu,Wo={},Ji=[],Yi=xt({\u0275cmp:xt}),yv=xt({\u0275dir:xt}),Yd=xt({\u0275pipe:xt}),vg=xt({\u0275mod:xt}),xv=xt({\u0275loc:xt}),Fl=xt({\u0275fac:xt}),mu=xt({__NG_ELEMENT_ID__:xt});let _g=0;function Xd(p){return $a(()=>{const m={},x={type:p.type,providersResolver:null,decls:p.decls,vars:p.vars,factory:null,template:p.template||null,consts:p.consts||null,ngContentSelectors:p.ngContentSelectors,hostBindings:p.hostBindings||null,hostVars:p.hostVars||0,hostAttrs:p.hostAttrs||null,contentQueries:p.contentQueries||null,declaredInputs:m,inputs:null,outputs:null,exportAs:p.exportAs||null,onPush:p.changeDetection===mo.OnPush,directiveDefs:null,pipeDefs:null,selectors:p.selectors||Ji,viewQuery:p.viewQuery||null,features:p.features||null,data:p.data||{},encapsulation:p.encapsulation||Bn.Emulated,id:"c",styles:p.styles||Ji,_:null,setInput:null,schemas:p.schemas||null,tView:null},n=p.directives,r=p.features,i=p.pipes;return x.id+=_g++,x.inputs=ob(p.inputs,m),x.outputs=ob(p.outputs),r&&r.forEach(s=>s(x)),x.directiveDefs=n?()=>("function"==typeof n?n():n).map(MP):null,x.pipeDefs=i?()=>("function"==typeof i?i():i).map(Zd):null,x})}function MP(p){return As(p)||function(p){return p[yv]||null}(p)}function Zd(p){return function(p){return p[Yd]||null}(p)}const Cv={};function Qp(p){return $a(()=>{const h={type:p.type,bootstrap:p.bootstrap||Ji,declarations:p.declarations||Ji,imports:p.imports||Ji,exports:p.exports||Ji,transitiveCompileScopes:null,schemas:p.schemas||null,id:p.id||null};return null!=p.id&&(Cv[p.id]=p.type),h})}function rl(p,h){return $a(()=>{const m=Vc(p,!0);m.declarations=h.declarations||Ji,m.imports=h.imports||Ji,m.exports=h.exports||Ji})}function ob(p,h){if(null==p)return Wo;const m={};for(const x in p)if(p.hasOwnProperty(x)){let n=p[x],r=n;Array.isArray(n)&&(r=n[1],n=n[0]),m[n]=x,h&&(h[n]=r)}return m}const Zx=Xd;function Jp(p){return{type:p.type,name:p.name,factory:null,pure:!1!==p.pure,onDestroy:p.type.prototype.ngOnDestroy||null}}function As(p){return p[Yi]||null}function Vc(p,h){const m=p[vg]||null;if(!m&&!0===h)throw new Error(`Type ${Rt(p)} does not have '\u0275mod' property.`);return m}function J(p){return Array.isArray(p)&&"object"==typeof p[1]}function xi(p){return Array.isArray(p)&&!0===p[1]}function Ro(p){return 0!=(8&p.flags)}function Si(p){return 2==(2&p.flags)}function yo(p){return 1==(1&p.flags)}function ea(p){return null!==p.template}function Ta(p){return 0!=(512&p[2])}function tf(p,h){return p.hasOwnProperty(Fl)?p[Fl]:null}class _E{constructor(h,m,x){this.previousValue=h,this.currentValue=m,this.firstChange=x}isFirstChange(){return this.firstChange}}function xg(){return OP}function OP(p){return p.type.prototype.ngOnChanges&&(p.setInput=ZT),XT}function XT(){const p=KT(this),h=null==p?void 0:p.current;if(h){const m=p.previous;if(m===Wo)p.previous=h;else for(let x in h)m[x]=h[x];p.current=null,this.ngOnChanges(h)}}function ZT(p,h,m,x){const n=KT(p)||function(p,h){return p[bE]=h}(p,{previous:Wo,current:null}),r=n.current||(n.current={}),i=n.previous,s=this.declaredInputs[m],c=i[s];r[s]=new _E(c&&c.currentValue,h,i===Wo),p[x]=h}xg.ngInherit=!0;const bE="__ngSimpleChanges__";function KT(p){return p[bE]||null}let Qx;function QT(p){Qx=p}function ms(p){return!!p.listen}const _u={createRenderer:(p,h)=>void 0!==Qx?Qx:"undefined"!=typeof document?document:void 0};function cn(p){for(;Array.isArray(p);)p=p[0];return p}function Jx(p,h){return cn(h[p])}function bu(p,h){return cn(h[p.index])}function DP(p,h){return p.data[h]}function wv(p,h){return p[h]}function Bl(p,h){const m=h[p];return J(m)?m:m[0]}function tD(p){return 4==(4&p[2])}function ME(p){return 128==(128&p[2])}function Cg(p,h){return null==h?null:p[h]}function PE(p){p[18]=0}function IP(p,h){p[5]+=h;let m=p,x=p[3];for(;null!==x&&(1===h&&1===m[5]||-1===h&&0===m[5]);)x[5]+=h,m=x,x=x[3]}const Yr={lFrame:uD(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function oD(){return Yr.bindingsEnabled}function an(){return Yr.lFrame.lView}function Vi(){return Yr.lFrame.tView}function RP(p){return Yr.lFrame.contextLView=p,p[8]}function vs(){let p=kP();for(;null!==p&&64===p.type;)p=p.parent;return p}function kP(){return Yr.lFrame.currentTNode}function yu(p,h){const m=Yr.lFrame;m.currentTNode=p,m.isParent=h}function eC(){return Yr.lFrame.isParent}function nC(){Yr.lFrame.isParent=!1}function rC(){return Yr.isInCheckNoChangesMode}function iC(p){Yr.isInCheckNoChangesMode=p}function Da(){const p=Yr.lFrame;let h=p.bindingRootIndex;return-1===h&&(h=p.bindingRootIndex=p.tView.bindingStartIndex),h}function md(){return Yr.lFrame.bindingIndex}function ef(){return Yr.lFrame.bindingIndex++}function vd(p){const h=Yr.lFrame,m=h.bindingIndex;return h.bindingIndex=h.bindingIndex+p,m}function OE(p,h){const m=Yr.lFrame;m.bindingIndex=m.bindingRootIndex=p,LP(h)}function LP(p){Yr.lFrame.currentDirectiveIndex=p}function EE(){return Yr.lFrame.currentQueryIndex}function cb(p){Yr.lFrame.currentQueryIndex=p}function SE(p){const h=p[1];return 2===h.type?h.declTNode:1===h.type?p[6]:null}function AE(p,h,m){if(m&ze.SkipSelf){let n=h,r=p;for(;!(n=n.parent,null!==n||m&ze.Host||(n=SE(r),null===n||(r=r[15],10&n.type))););if(null===n)return!1;h=n,p=r}const x=Yr.lFrame=TE();return x.currentTNode=h,x.lView=p,!0}function oC(p){const h=TE(),m=p[1];Yr.lFrame=h,h.currentTNode=m.firstChild,h.lView=p,h.tView=m,h.contextLView=p,h.bindingIndex=m.bindingStartIndex,h.inI18n=!1}function TE(){const p=Yr.lFrame,h=null===p?null:p.child;return null===h?uD(p):h}function uD(p){const h={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:p,child:null,inI18n:!1};return null!==p&&(p.child=h),h}function DE(){const p=Yr.lFrame;return Yr.lFrame=p.parent,p.currentTNode=null,p.lView=null,p}const dD=DE;function lb(){const p=DE();p.isParent=!0,p.tView=null,p.selectedIndex=-1,p.contextLView=null,p.elementDepthCount=0,p.currentDirectiveIndex=-1,p.currentNamespace=null,p.bindingRootIndex=-1,p.bindingIndex=-1,p.currentQueryIndex=0}function _c(){return Yr.lFrame.selectedIndex}function Pg(p){Yr.lFrame.selectedIndex=p}function Vs(){const p=Yr.lFrame;return DP(p.tView,p.selectedIndex)}function sC(p,h){for(let m=h.directiveStart,x=h.directiveEnd;m<x;m++){const r=p.data[m].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:s,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:f}=r;i&&(p.contentHooks||(p.contentHooks=[])).push(-m,i),s&&((p.contentHooks||(p.contentHooks=[])).push(m,s),(p.contentCheckHooks||(p.contentCheckHooks=[])).push(m,s)),c&&(p.viewHooks||(p.viewHooks=[])).push(-m,c),u&&((p.viewHooks||(p.viewHooks=[])).push(m,u),(p.viewCheckHooks||(p.viewCheckHooks=[])).push(m,u)),null!=f&&(p.destroyHooks||(p.destroyHooks=[])).push(m,f)}}function Ov(p,h,m){IE(p,h,3,m)}function aC(p,h,m,x){(3&p[2])===m&&IE(p,h,m,x)}function BP(p,h){let m=p[2];(3&m)===h&&(m&=2047,m+=1,p[2]=m)}function IE(p,h,m,x){const r=null!=x?x:-1,i=h.length-1;let s=0;for(let c=void 0!==x?65535&p[18]:0;c<i;c++)if("number"==typeof h[c+1]){if(s=h[c],null!=x&&s>=x)break}else h[c]<0&&(p[18]+=65536),(s<r||-1==r)&&(vD(p,m,h,c),p[18]=(4294901760&p[18])+c+2),c++}function vD(p,h,m,x){const n=m[x]<0,r=m[x+1],s=p[n?-m[x]:m[x]];if(n){if(p[2]>>11<p[18]>>16&&(3&p[2])===h){p[2]+=2048;try{r.call(s)}finally{}}}else try{r.call(s)}finally{}}class cC{constructor(h,m,x){this.factory=h,this.resolving=!1,this.canSeeViewProviders=m,this.injectImpl=x}}function VP(p,h,m){const x=ms(p);let n=0;for(;n<m.length;){const r=m[n];if("number"==typeof r){if(0!==r)break;n++;const i=m[n++],s=m[n++],c=m[n++];x?p.setAttribute(h,s,c,i):h.setAttributeNS(i,s,c)}else{const i=r,s=m[++n];Jd(i)?x&&p.setProperty(h,i,s):x?p.setAttribute(h,i,s):h.setAttribute(i,s),n++}}return n}function RE(p){return 3===p||4===p||6===p}function Jd(p){return 64===p.charCodeAt(0)}function lC(p,h){if(null!==h&&0!==h.length)if(null===p||0===p.length)p=h.slice();else{let m=-1;for(let x=0;x<h.length;x++){const n=h[x];"number"==typeof n?m=n:0===m||kE(p,m,n,null,-1===m||2===m?h[++x]:null)}}return p}function kE(p,h,m,x,n){let r=0,i=p.length;if(-1===h)i=-1;else for(;r<p.length;){const s=p[r++];if("number"==typeof s){if(s===h){i=-1;break}if(s>h){i=r-1;break}}}for(;r<p.length;){const s=p[r];if("number"==typeof s)break;if(s===m){if(null===x)return void(null!==n&&(p[r+1]=n));if(x===p[r+1])return void(p[r+2]=n)}r++,null!==x&&r++,null!==n&&r++}-1!==i&&(p.splice(i,0,h),r=i+1),p.splice(r++,0,m),null!==x&&p.splice(r++,0,x),null!==n&&p.splice(r++,0,n)}function uC(p){return-1!==p}function wg(p){return 32767&p}function db(p,h){let m=function(p){return p>>16}(p),x=h;for(;m>0;)x=x[15],m--;return x}let LE=!0;function dC(p){const h=LE;return LE=p,h}let AR=0;function pb(p,h){const m=We(p,h);if(-1!==m)return m;const x=h[1];x.firstCreatePass&&(p.injectorIndex=h.length,NE(x.data,p),NE(h,null),NE(x.blueprint,null));const n=hb(p,h),r=p.injectorIndex;if(uC(n)){const i=wg(n),s=db(n,h),c=s[1].data;for(let u=0;u<8;u++)h[r+u]=s[i+u]|c[i+u]}return h[r+8]=n,r}function NE(p,h){p.push(0,0,0,0,0,0,0,0,h)}function We(p,h){return-1===p.injectorIndex||p.parent&&p.parent.injectorIndex===p.injectorIndex||null===h[p.injectorIndex+8]?-1:p.injectorIndex}function hb(p,h){if(p.parent&&-1!==p.parent.injectorIndex)return p.parent.injectorIndex;let m=0,x=null,n=h;for(;null!==n;){const r=n[1],i=r.type;if(x=2===i?r.declTNode:1===i?n[6]:null,null===x)return-1;if(m++,n=n[15],-1!==x.injectorIndex)return x.injectorIndex|m<<16}return-1}function rf(p,h,m){!function(p,h,m){let x;"string"==typeof m?x=m.charCodeAt(0)||0:m.hasOwnProperty(mu)&&(x=m[mu]),null==x&&(x=m[mu]=AR++);const n=255&x;h.data[p+(n>>5)]|=1<<n}(p,h,m)}function ti(p,h,m){if(m&ze.Optional)return p;fs(h,"NodeInjector")}function Ul(p,h,m,x){if(m&ze.Optional&&void 0===x&&(x=null),0==(m&(ze.Self|ze.Host))){const n=p[9],r=Ui(void 0);try{return n?n.get(h,x,m&ze.Optional):Oo(h,x,m&ze.Optional)}finally{Ui(r)}}return ti(x,h,m)}function zP(p,h,m,x=ze.Default,n){if(null!==p){const r=function(p){if("string"==typeof p)return p.charCodeAt(0)||0;const h=p.hasOwnProperty(mu)?p[mu]:void 0;return"number"==typeof h?h>=0?255&h:xD:h}(m);if("function"==typeof r){if(!AE(h,p,x))return x&ze.Host?ti(n,m,x):Ul(h,m,x,n);try{const i=r(x);if(null!=i||x&ze.Optional)return i;fs(m)}finally{dD()}}else if("number"==typeof r){let i=null,s=We(p,h),c=-1,u=x&ze.Host?h[16][6]:null;for((-1===s||x&ze.SkipSelf)&&(c=-1===s?hb(p,h):h[s+8],-1!==c&&Ev(x,!1)?(i=h[1],s=wg(c),h=db(c,h)):s=-1);-1!==s;){const f=h[1];if(BE(r,s,f.data)){const v=CD(s,h,m,i,x,u);if(v!==pC)return v}c=h[s+8],-1!==c&&Ev(x,h[1].data[s+8]===u)&&BE(r,s,h)?(i=f,s=wg(c),h=db(c,h)):s=-1}}}return Ul(h,m,x,n)}const pC={};function xD(){return new Vl(vs(),an())}function CD(p,h,m,x,n,r){const i=h[1],s=i.data[p+8],f=ao(s,i,m,null==x?Si(s)&&LE:x!=i&&0!=(3&s.type),n&ze.Host&&r===s);return null!==f?_d(h,i,f,s):pC}function ao(p,h,m,x,n){const r=p.providerIndexes,i=h.data,s=1048575&r,c=p.directiveStart,f=r>>20,_=n?s+f:p.directiveEnd;for(let y=x?s:s+f;y<_;y++){const C=i[y];if(y<c&&m===C||y>=c&&C.type===m)return y}if(n){const y=i[c];if(y&&ea(y)&&y.type===m)return c}return null}function _d(p,h,m,x){let n=p[m];const r=h.data;if(function(p){return p instanceof cC}(n)){const i=n;i.resolving&&function(p,h){throw new Qe("200",`Circular dependency in DI detected for ${p}`)}(Mn(r[m]));const s=dC(i.canSeeViewProviders);i.resolving=!0;const c=i.injectImpl?Ui(i.injectImpl):null;AE(p,x,ze.Default);try{n=p[m]=i.factory(void 0,r,p,x),h.firstCreatePass&&m>=x.directiveStart&&function(p,h,m){const{ngOnChanges:x,ngOnInit:n,ngDoCheck:r}=h.type.prototype;if(x){const i=OP(h);(m.preOrderHooks||(m.preOrderHooks=[])).push(p,i),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(p,i)}n&&(m.preOrderHooks||(m.preOrderHooks=[])).push(0-p,n),r&&((m.preOrderHooks||(m.preOrderHooks=[])).push(p,r),(m.preOrderCheckHooks||(m.preOrderCheckHooks=[])).push(p,r))}(m,r[m],h)}finally{null!==c&&Ui(c),dC(s),i.resolving=!1,dD()}}return n}function BE(p,h,m){return!!(m[h+(p>>5)]&1<<p)}function Ev(p,h){return!(p&ze.Self||p&ze.Host&&h)}class Vl{constructor(h,m){this._tNode=h,this._lView=m}get(h,m){return zP(this._tNode,this._lView,h,void 0,m)}}function MD(p){return $a(()=>{const h=p.prototype.constructor,m=h[Fl]||oi(h),x=Object.prototype;let n=Object.getPrototypeOf(p.prototype).constructor;for(;n&&n!==x;){const r=n[Fl]||oi(n);if(r&&r!==m)return r;n=Object.getPrototypeOf(n)}return r=>new r})}function oi(p){return se(p)?()=>{const h=oi(St(p));return h&&h()}:tf(p)}function xu(p){return function(p,h){if("class"===h)return p.classes;if("style"===h)return p.styles;const m=p.attrs;if(m){const x=m.length;let n=0;for(;n<x;){const r=m[n];if(RE(r))break;if(0===r)n+=2;else if("number"==typeof r)for(n++;n<x&&"string"==typeof m[n];)n++;else{if(r===h)return m[n+1];n+=2}}}return null}(vs(),p)}const to="__parameters__";function Mu(p,h,m){return $a(()=>{const x=function(p){return function(...m){if(p){const x=p(...m);for(const n in x)this[n]=x[n]}}}(h);function n(...r){if(this instanceof n)return x.apply(this,r),this;const i=new n(...r);return s.annotation=i,s;function s(c,u,f){const v=c.hasOwnProperty(to)?c[to]:Object.defineProperty(c,to,{value:[]})[to];for(;v.length<=f;)v.push(null);return(v[f]=v[f]||[]).push(i),c}}return m&&(n.prototype=Object.create(m.prototype)),n.prototype.ngMetadataName=p,n.annotationCls=n,n})}class zi{constructor(h,m){this._desc=h,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof m?this.__NG_ELEMENT_ID__=m:void 0!==m&&(this.\u0275prov=$i({token:this,providedIn:m.providedIn||"root",factory:m.factory}))}toString(){return`InjectionToken ${this._desc}`}}const al=new zi("AnalyzeForEntryComponents"),Sv=Function;function Ts(p,h){void 0===h&&(h=p);for(let m=0;m<p.length;m++){let x=p[m];Array.isArray(x)?(h===p&&(h=p.slice(0,m)),Ts(x,h)):h!==p&&h.push(x)}return h}function yc(p,h){p.forEach(m=>Array.isArray(m)?yc(m,h):h(m))}function na(p,h,m){h>=p.length?p.push(m):p.splice(h,0,m)}function Pu(p,h){return h>=p.length-1?p.pop():p.splice(h,1)[0]}function Hc(p,h,m){let x=Sg(p,h);return x>=0?p[1|x]=m:(x=~x,function(p,h,m,x){let n=p.length;if(n==h)p.push(m,x);else if(1===n)p.push(x,p[0]),p[0]=m;else{for(n--,p.push(p[n-1],p[n]);n>h;)p[n]=p[n-2],n--;p[h]=m,p[h+1]=x}}(p,x,h,m)),x}function Eg(p,h){const m=Sg(p,h);if(m>=0)return p[1|m]}function Sg(p,h){return function(p,h,m){let x=0,n=p.length>>m;for(;n!==x;){const r=x+(n-x>>1),i=p[r<<m];if(h===i)return r<<m;i>h?n=r:x=r+1}return~(n<<m)}(p,h,1)}const vb={},_b="__NG_DI_FLAG__",ei="ngTempTokenPath",Iv=/\n/gm,bb="__source",Ag=xt({provide:String,useValue:xt});let Rv;function Ka(p){const h=Rv;return Rv=p,h}function jP(p,h=ze.Default){if(void 0===Rv)throw new Error("inject() must be called from an injection context");return null===Rv?Oo(p,void 0,h):Rv.get(p,h&ze.Optional?null:void 0,h)}function Gs(p,h=ze.Default){return(Pn||jP)(St(p),h)}function _s(p){const h=[];for(let m=0;m<p.length;m++){const x=St(p[m]);if(Array.isArray(x)){if(0===x.length)throw new Error("Arguments array must have arguments.");let n,r=ze.Default;for(let i=0;i<x.length;i++){const s=x[i],c=TD(s);"number"==typeof c?-1===c?n=s.token:r|=c:n=s}h.push(Gs(n,r))}else h.push(Gs(x))}return h}function ll(p,h){return p[_b]=h,p.prototype[_b]=h,p}function TD(p){return p[_b]}function ra(p,h,m,x){const n=p[ei];throw h[bb]&&n.unshift(h[bb]),p.message=function(p,h,m,x=null){p=p&&"\n"===p.charAt(0)&&"\u0275"==p.charAt(1)?p.substr(2):p;let n=Rt(h);if(Array.isArray(h))n=h.map(Rt).join(" -> ");else if("object"==typeof h){let r=[];for(let i in h)if(h.hasOwnProperty(i)){let s=h[i];r.push(i+":"+("string"==typeof s?JSON.stringify(s):Rt(s)))}n=`{${r.join(", ")}}`}return`${m}${x?"("+x+")":""}[${n}]: ${p.replace(Iv,"\n  ")}`}("\n"+p.message,n,m,x),p.ngTokenPath=n,p[ei]=null,p}const kv=ll(Mu("Inject",p=>({token:p})),-1),np=ll(Mu("Optional"),8),bd=ll(Mu("SkipSelf"),4);let nh;function sp(p){var h;return(null===(h=function(){if(void 0===nh&&(nh=null,Eo.trustedTypes))try{nh=Eo.trustedTypes.createPolicy("angular",{createHTML:p=>p,createScript:p=>p,createScriptURL:p=>p})}catch(p){}return nh}())||void 0===h?void 0:h.createHTML(p))||p}class Hl{constructor(h){this.changingThisBreaksApplicationSecurity=h}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Pb extends Hl{getTypeName(){return"HTML"}}class rh extends Hl{getTypeName(){return"Style"}}class Fv extends Hl{getTypeName(){return"Script"}}class Gl extends Hl{getTypeName(){return"URL"}}class sf extends Hl{getTypeName(){return"ResourceURL"}}function ul(p){return p instanceof Hl?p.changingThisBreaksApplicationSecurity:p}function cp(p,h){const m=Nv(p);if(null!=m&&m!==h){if("ResourceURL"===m&&"URL"===h)return!0;throw new Error(`Required a safe ${h}, got a ${m} (see https://g.co/ng/security#xss)`)}return m===h}function Nv(p){return p instanceof Hl&&p.getTypeName()||null}function ih(p){return new Pb(p)}function Dg(p){return new rh(p)}function lp(p){return new Fv(p)}function up(p){return new Gl(p)}function yd(p){return new sf(p)}class Bv{constructor(h){this.inertDocumentHelper=h}getInertBodyElement(h){h="<body><remove></remove>"+h;try{const m=(new window.DOMParser).parseFromString(sp(h),"text/html").body;return null===m?this.inertDocumentHelper.getInertBodyElement(h):(m.removeChild(m.firstChild),m)}catch(m){return null}}}class Uv{constructor(h){if(this.defaultDoc=h,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const m=this.inertDocument.createElement("html");this.inertDocument.appendChild(m);const x=this.inertDocument.createElement("body");m.appendChild(x)}}getInertBodyElement(h){const m=this.inertDocument.createElement("template");if("content"in m)return m.innerHTML=sp(h),m;const x=this.inertDocument.createElement("body");return x.innerHTML=sp(h),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(x),x}stripCustomNsAttrs(h){const m=h.attributes;for(let n=m.length-1;0<n;n--){const i=m.item(n).name;("xmlns:ns1"===i||0===i.indexOf("ns1:"))&&h.removeAttribute(i)}let x=h.firstChild;for(;x;)x.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(x),x=x.nextSibling}}const MC=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,wb=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function oh(p){return(p=String(p)).match(MC)||p.match(wb)?p:"unsafe:"+p}function dl(p){const h={};for(const m of p.split(","))h[m]=!0;return h}function xd(...p){const h={};for(const m of p)for(const x in m)m.hasOwnProperty(x)&&(h[x]=!0);return h}const Cd=dl("area,br,col,hr,img,wbr"),Ou=dl("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zv=dl("rp,rt"),pl=xd(Cd,xd(Ou,dl("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),xd(zv,dl("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),xd(zv,Ou)),kg=dl("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Lg=dl("srcset"),Md=xd(kg,Lg,dl("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),dl("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lf=dl("script,style,template");class Gv{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(h){let m=h.firstChild,x=!0;for(;m;)if(m.nodeType===Node.ELEMENT_NODE?x=this.startElement(m):m.nodeType===Node.TEXT_NODE?this.chars(m.nodeValue):this.sanitizedSomething=!0,x&&m.firstChild)m=m.firstChild;else for(;m;){m.nodeType===Node.ELEMENT_NODE&&this.endElement(m);let n=this.checkClobberedElement(m,m.nextSibling);if(n){m=n;break}m=this.checkClobberedElement(m,m.parentNode)}return this.buf.join("")}startElement(h){const m=h.nodeName.toLowerCase();if(!pl.hasOwnProperty(m))return this.sanitizedSomething=!0,!lf.hasOwnProperty(m);this.buf.push("<"),this.buf.push(m);const x=h.attributes;for(let n=0;n<x.length;n++){const r=x.item(n),i=r.name,s=i.toLowerCase();if(!Md.hasOwnProperty(s)){this.sanitizedSomething=!0;continue}let c=r.value;kg[s]&&(c=oh(c)),Lg[s]&&(p=c,c=(p=String(p)).split(",").map(h=>oh(h.trim())).join(", ")),this.buf.push(" ",i,'="',qE(c),'"')}var p;return this.buf.push(">"),!0}endElement(h){const m=h.nodeName.toLowerCase();pl.hasOwnProperty(m)&&!Cd.hasOwnProperty(m)&&(this.buf.push("</"),this.buf.push(m),this.buf.push(">"))}chars(h){this.buf.push(qE(h))}checkClobberedElement(h,m){if(m&&(h.compareDocumentPosition(m)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${h.outerHTML}`);return m}}const Fg=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ng=/([^\#-~ |!])/g;function qE(p){return p.replace(/&/g,"&amp;").replace(Fg,function(h){return"&#"+(1024*(h.charCodeAt(0)-55296)+(h.charCodeAt(1)-56320)+65536)+";"}).replace(Ng,function(h){return"&#"+h.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Bg;function PC(p,h){let m=null;try{Bg=Bg||function(p){const h=new Uv(p);return function(){try{return!!(new window.DOMParser).parseFromString(sp(""),"text/html")}catch(p){return!1}}()?new Bv(h):h}(p);let x=h?String(h):"";m=Bg.getInertBodyElement(x);let n=5,r=x;do{if(0===n)throw new Error("Failed to sanitize html because the input is unstable");n--,x=r,r=m.innerHTML,m=Bg.getInertBodyElement(x)}while(x!==r);return sp((new Gv).sanitizeChildren(hl(m)||m))}finally{if(m){const x=hl(m)||m;for(;x.firstChild;)x.removeChild(x.firstChild)}}}function hl(p){return"content"in p&&function(p){return p.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===p.nodeName}(p)?p.content:null}var ki=(()=>((ki=ki||{})[ki.NONE=0]="NONE",ki[ki.HTML=1]="HTML",ki[ki.STYLE=2]="STYLE",ki[ki.SCRIPT=3]="SCRIPT",ki[ki.URL=4]="URL",ki[ki.RESOURCE_URL=5]="RESOURCE_URL",ki))();function jv(p){const h=function(){const p=an();return p&&p[12]}();return h?h.sanitize(ki.URL,p)||"":cp(p,"URL")?ul(p):oh(sn(p))}const tc="__ngContext__";function Ao(p,h){p[tc]=h}function Wv(p){const h=function(p){return p[tc]||null}(p);return h?Array.isArray(h)?h:h.lView:null}function Tb(p){return p.ngOriginalError}function TC(p,...h){p.error(...h)}class Gg{constructor(){this._console=console}handleError(h){const m=this._findOriginalError(h),x=this._findContext(h),n=(p=h)&&p.ngErrorLogger||TC;var p;n(this._console,"ERROR",h),m&&n(this._console,"ORIGINAL ERROR",m),x&&n(this._console,"ERROR CONTEXT",x)}_findContext(h){return h?h.ngDebugContext||this._findContext(Tb(h)):null}_findOriginalError(h){let m=h&&Tb(h);for(;m&&Tb(m);)m=Tb(m);return m||null}}const wd=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Eo))();function Cc(p){return p instanceof Function?p():p}var Eu=(()=>((Eu=Eu||{})[Eu.Important=1]="Important",Eu[Eu.DashCase=2]="DashCase",Eu))();function qg(p,h){return undefined(p,h)}function Xv(p){const h=p[3];return xi(h)?h[3]:h}function $g(p){return QP(p[13])}function IC(p){return QP(p[4])}function QP(p){for(;null!==p&&!xi(p);)p=p[4];return p}function Yg(p,h,m,x,n){if(null!=x){let r,i=!1;xi(x)?r=x:J(x)&&(i=!0,x=x[0]);const s=cn(x);0===p&&null!==m?null==n?BC(h,m,s):Pc(h,m,s,n||null,!0):1===p&&null!==m?Pc(h,m,s,n||null,!0):2===p?function(p,h,m){const x=gf(p,h);x&&function(p,h,m,x){ms(p)?p.removeChild(h,m,x):h.removeChild(m)}(p,x,h,m)}(h,s,i):3===p&&h.destroyNode(s),null!=r&&function(p,h,m,x,n){const r=m[7];r!==cn(m)&&Yg(h,p,x,r,n);for(let s=10;s<m.length;s++){const c=m[s];Kg(c[1],c,p,h,x,r)}}(h,p,r,m,n)}}function kC(p,h,m){return ms(p)?p.createElement(h,m):null===m?p.createElement(h):p.createElementNS(m,h)}function tw(p,h){const m=p[9],x=m.indexOf(h),n=h[3];1024&h[2]&&(h[2]&=-1025,IP(n,-1)),m.splice(x,1)}function LC(p,h){if(p.length<=10)return;const m=10+h,x=p[m];if(x){const n=x[17];null!==n&&n!==p&&tw(n,x),h>0&&(p[m-1][4]=x[4]);const r=Pu(p,10+h);!function(p,h){Kg(p,h,h[11],2,null,null),h[0]=null,h[6]=null}(x[1],x);const i=r[19];null!==i&&i.detachView(r[1]),x[3]=null,x[4]=null,x[2]&=-129}return x}function FC(p,h){if(!(256&h[2])){const m=h[11];ms(m)&&m.destroyNode&&Kg(p,h,m,3,null,null),function(p){let h=p[13];if(!h)return Mc(p[1],p);for(;h;){let m=null;if(J(h))m=h[13];else{const x=h[10];x&&(m=x)}if(!m){for(;h&&!h[4]&&h!==p;)J(h)&&Mc(h[1],h),h=h[3];null===h&&(h=p),J(h)&&Mc(h[1],h),m=h&&h[4]}h=m}}(h)}}function Mc(p,h){if(!(256&h[2])){h[2]&=-129,h[2]|=256,function(p,h){let m;if(null!=p&&null!=(m=p.destroyHooks))for(let x=0;x<m.length;x+=2){const n=h[m[x]];if(!(n instanceof cC)){const r=m[x+1];if(Array.isArray(r))for(let i=0;i<r.length;i+=2){const s=n[r[i]],c=r[i+1];try{c.call(s)}finally{}}else try{r.call(n)}finally{}}}}(p,h),function(p,h){const m=p.cleanup,x=h[7];let n=-1;if(null!==m)for(let r=0;r<m.length-1;r+=2)if("string"==typeof m[r]){const i=m[r+1],s="function"==typeof i?i(h):cn(h[i]),c=x[n=m[r+2]],u=m[r+3];"boolean"==typeof u?s.removeEventListener(m[r],c,u):u>=0?x[n=u]():x[n=-u].unsubscribe(),r+=2}else{const i=x[n=m[r+1]];m[r].call(i)}if(null!==x){for(let r=n+1;r<x.length;r++)x[r]();h[7]=null}}(p,h),1===h[1].type&&ms(h[11])&&h[11].destroy();const m=h[17];if(null!==m&&xi(h[3])){m!==h[3]&&tw(m,h);const x=h[19];null!==x&&x.detachView(p)}}}function Zg(p,h,m){return function(p,h,m){let x=h;for(;null!==x&&40&x.type;)x=(h=x).parent;if(null===x)return m[0];if(2&x.flags){const n=p.data[x.directiveStart].encapsulation;if(n===Bn.None||n===Bn.Emulated)return null}return bu(x,m)}(p,h.parent,m)}function Pc(p,h,m,x,n){ms(p)?p.insertBefore(h,m,x,n):h.insertBefore(m,x,n)}function BC(p,h,m){ms(p)?p.appendChild(h,m):h.appendChild(m)}function Zv(p,h,m,x,n){null!==x?Pc(p,h,m,x,n):BC(p,h,m)}function gf(p,h){return ms(p)?p.parentNode(h):h.parentNode}let Jv=function(p,h,m){return 40&p.type?bu(p,m):null};function fl(p,h,m,x){const n=Zg(p,x,h),r=h[11],s=function(p,h,m){return Jv(p,h,m)}(x.parent||h[6],x,h);if(null!=n)if(Array.isArray(m))for(let c=0;c<m.length;c++)Zv(r,n,m[c],s,!1);else Zv(r,n,m,s,!1)}function mf(p,h){if(null!==h){const m=h.type;if(3&m)return bu(h,p);if(4&m)return t_(-1,p[h.index]);if(8&m){const x=h.child;if(null!==x)return mf(p,x);{const n=p[h.index];return xi(n)?t_(-1,n):cn(n)}}if(32&m)return qg(h,p)()||cn(p[h.index]);{const x=Ub(p,h);return null!==x?Array.isArray(x)?x[0]:mf(Xv(p[16]),x):mf(p,h.next)}}return null}function Ub(p,h){return null!==h?p[16][6].projection[h.projection]:null}function t_(p,h){const m=10+p+1;if(m<h.length){const x=h[m],n=x[1].firstChild;if(null!==n)return mf(x,n)}return h[7]}function uh(p,h,m,x,n,r,i){for(;null!=m;){const s=x[m.index],c=m.type;if(i&&0===h&&(s&&Ao(cn(s),x),m.flags|=4),64!=(64&m.flags))if(8&c)uh(p,h,m.child,x,n,r,!1),Yg(h,p,n,s,r);else if(32&c){const u=qg(m,x);let f;for(;f=u();)Yg(h,p,n,f,r);Yg(h,p,n,s,r)}else 16&c?Vb(p,h,x,m,n,r):Yg(h,p,n,s,r);m=i?m.projectionNext:m.next}}function Kg(p,h,m,x,n,r){uh(m,x,p.firstChild,h,n,r,!1)}function Vb(p,h,m,x,n,r){const i=m[16],c=i[6].projection[x.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)Yg(h,p,n,c[u],r);else uh(p,h,c,i[3],n,r,!0)}function HC(p,h,m){ms(p)?p.setAttribute(h,"style",m):h.style.cssText=m}function fp(p,h,m){ms(p)?""===m?p.removeAttribute(h,"class"):p.setAttribute(h,"class",m):h.className=m}function dh(p,h,m){let x=p.length;for(;;){const n=p.indexOf(h,m);if(-1===n)return n;if(0===n||p.charCodeAt(n-1)<=32){const r=h.length;if(n+r===x||p.charCodeAt(n+r)<=32)return n}m=n+1}}const vf="ng-template";function Hb(p,h,m){let x=0;for(;x<p.length;){let n=p[x++];if(m&&"class"===n){if(n=p[x],-1!==dh(n.toLowerCase(),h,0))return!0}else if(1===n){for(;x<p.length&&"string"==typeof(n=p[x++]);)if(n.toLowerCase()===h)return!0;return!1}}return!1}function rw(p){return 4===p.type&&p.value!==vf}function VD(p,h,m){return h===(4!==p.type||m?p.value:vf)}function zD(p,h,m){let x=4;const n=p.attrs||[],r=function(p){for(let h=0;h<p.length;h++)if(RE(p[h]))return h;return p.length}(n);let i=!1;for(let s=0;s<h.length;s++){const c=h[s];if("number"!=typeof c){if(!i)if(4&x){if(x=2|1&x,""!==c&&!VD(p,c,m)||""===c&&1===h.length){if(it(x))return!1;i=!0}}else{const u=8&x?c:h[++s];if(8&x&&null!==p.attrs){if(!Hb(p.attrs,u,m)){if(it(x))return!1;i=!0}continue}const v=ql(8&x?"class":c,n,rw(p),m);if(-1===v){if(it(x))return!1;i=!0;continue}if(""!==u){let _;_=v>r?"":n[v+1].toLowerCase();const y=8&x?_:null;if(y&&-1!==dh(y,u,0)||2&x&&u!==_){if(it(x))return!1;i=!0}}}}else{if(!i&&!it(x)&&!it(c))return!1;if(i&&it(c))continue;i=!1,x=c|1&x}}return it(x)||i}function it(p){return 0==(1&p)}function ql(p,h,m,x){if(null===h)return-1;let n=0;if(x||!m){let r=!1;for(;n<h.length;){const i=h[n];if(i===p)return n;if(3===i||6===i)r=!0;else{if(1===i||2===i){let s=h[++n];for(;"string"==typeof s;)s=h[++n];continue}if(4===i)break;if(0===i){n+=4;continue}}n+=r?1:2}return-1}return function(p,h){let m=p.indexOf(4);if(m>-1)for(m++;m<p.length;){const x=p[m];if("number"==typeof x)return-1;if(x===h)return m;m++}return-1}(h,p)}function Qg(p,h,m=!1){for(let x=0;x<h.length;x++)if(zD(p,h[x],m))return!0;return!1}function GC(p,h){return p?":not("+h.trim()+")":h}function sw(p){let h=p[0],m=1,x=2,n="",r=!1;for(;m<p.length;){let i=p[m];if("string"==typeof i)if(2&x){const s=p[++m];n+="["+i+(s.length>0?'="'+s+'"':"")+"]"}else 8&x?n+="."+i:4&x&&(n+=" "+i);else""!==n&&!it(i)&&(h+=GC(r,n),n=""),x=i,r=r||!it(x);m++}return""!==n&&(h+=GC(r,n)),h}const Cr={};function aw(p){cw(Vi(),an(),_c()+p,rC())}function cw(p,h,m,x){if(!x)if(3==(3&h[2])){const r=p.preOrderCheckHooks;null!==r&&Ov(h,r,m)}else{const r=p.preOrderHooks;null!==r&&aC(h,r,0,m)}Pg(m)}function e_(p,h){return p<<17|h<<2}function gl(p){return p>>17&32767}function Gb(p){return 2|p}function fa(p){return(131068&p)>>2}function jb(p,h){return-131069&p|h<<2}function jC(p){return 1|p}function $C(p,h){const m=p.contentQueries;if(null!==m)for(let x=0;x<m.length;x+=2){const n=m[x],r=m[x+1];if(-1!==r){const i=p.data[r];cb(n),i.contentQueries(2,h[r],r)}}}function c_(p,h,m,x,n,r,i,s,c,u){const f=h.blueprint.slice();return f[0]=n,f[2]=140|x,PE(f),f[3]=f[15]=p,f[8]=m,f[10]=i||p&&p[10],f[11]=s||p&&p[11],f[12]=c||p&&p[12]||null,f[9]=u||p&&p[9]||null,f[6]=r,f[16]=2==h.type?p[16]:f,f}function l_(p,h,m,x,n){let r=p.data[h];if(null===r)r=function(p,h,m,x,n){const r=kP(),i=eC(),c=p.data[h]=function(p,h,m,x,n,r){return{type:m,index:x,insertBeforeIndex:null,injectorIndex:h?h.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:n,attrs:r,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:h,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,i?r:r&&r.parent,m,h,x,n);return null===p.firstChild&&(p.firstChild=c),null!==r&&(i?null==r.child&&null!==c.parent&&(r.child=c):null===r.next&&(r.next=c)),c}(p,h,m,x,n),Yr.lFrame.inI18n&&(r.flags|=64);else if(64&r.type){r.type=m,r.value=x,r.attrs=n;const i=function(){const p=Yr.lFrame,h=p.currentTNode;return p.isParent?h:h.parent}();r.injectorIndex=null===i?-1:i.injectorIndex}return yu(r,!0),r}function $b(p,h,m,x){if(0===m)return-1;const n=h.length;for(let r=0;r<m;r++)h.push(x),p.blueprint.push(x),p.data.push(null);return n}function YC(p,h,m){oC(h);try{const x=p.viewQuery;null!==x&&tM(1,x,m);const n=p.template;null!==n&&YD(p,h,n,1,m),p.firstCreatePass&&(p.firstCreatePass=!1),p.staticContentQueries&&$C(p,h),p.staticViewQueries&&tM(2,p.viewQuery,m);const r=p.components;null!==r&&function(p,h){for(let m=0;m<h.length;m++)Oc(p,h[m])}(h,r)}catch(x){throw p.firstCreatePass&&(p.incompleteFirstPass=!0,p.firstCreatePass=!1),x}finally{h[2]&=-5,lb()}}function Yb(p,h,m,x){const n=h[2];if(256==(256&n))return;oC(h);const r=rC();try{PE(h),function(p){Yr.lFrame.bindingIndex=p}(p.bindingStartIndex),null!==m&&YD(p,h,m,2,x);const i=3==(3&n);if(!r)if(i){const u=p.preOrderCheckHooks;null!==u&&Ov(h,u,null)}else{const u=p.preOrderHooks;null!==u&&aC(h,u,0,null),BP(h,0)}if(function(p){for(let h=$g(p);null!==h;h=IC(h)){if(!h[2])continue;const m=h[9];for(let x=0;x<m.length;x++){const n=m[x],r=n[3];0==(1024&n[2])&&IP(r,1),n[2]|=1024}}}(h),function(p){for(let h=$g(p);null!==h;h=IC(h))for(let m=10;m<h.length;m++){const x=h[m],n=x[1];ME(x)&&Yb(n,x,n.template,x[8])}}(h),null!==p.contentQueries&&$C(p,h),!r)if(i){const u=p.contentCheckHooks;null!==u&&Ov(h,u)}else{const u=p.contentHooks;null!==u&&aC(h,u,1),BP(h,1)}!function(p,h){const m=p.hostBindingOpCodes;if(null!==m)try{for(let x=0;x<m.length;x++){const n=m[x];if(n<0)Pg(~n);else{const r=n,i=m[++x],s=m[++x];OE(i,r),s(2,h[r])}}}finally{Pg(-1)}}(p,h);const s=p.components;null!==s&&function(p,h){for(let m=0;m<h.length;m++)u_(p,h[m])}(h,s);const c=p.viewQuery;if(null!==c&&tM(2,c,x),!r)if(i){const u=p.viewCheckHooks;null!==u&&Ov(h,u)}else{const u=p.viewHooks;null!==u&&aC(h,u,2),BP(h,2)}!0===p.firstUpdatePass&&(p.firstUpdatePass=!1),r||(h[2]&=-73),1024&h[2]&&(h[2]&=-1025,IP(h[3],-1))}finally{lb()}}function FR(p,h,m,x){const n=h[10],r=!rC(),i=tD(h);try{r&&!i&&n.begin&&n.begin(),i&&YC(p,h,x),Yb(p,h,m,x)}finally{r&&!i&&n.end&&n.end()}}function YD(p,h,m,x,n){const r=_c(),i=2&x;try{Pg(-1),i&&h.length>20&&cw(p,h,20,rC()),m(x,n)}finally{Pg(r)}}function Xb(p,h,m){if(Ro(h)){const n=h.directiveEnd;for(let r=h.directiveStart;r<n;r++){const i=p.data[r];i.contentQueries&&i.contentQueries(1,m[r],r)}}}function Jg(p,h,m){!oD()||(function(p,h,m,x){const n=m.directiveStart,r=m.directiveEnd;p.firstCreatePass||pb(m,h),Ao(x,h);const i=m.initialInputs;for(let s=n;s<r;s++){const c=p.data[s],u=ea(c);u&&mi(h,m,c);const f=_d(h,p,s,m);Ao(f,h),null!==i&&nm(0,s-n,f,c,0,i),u&&(Bl(m.index,h)[8]=f)}}(p,h,m,bu(m,h)),128==(128&m.flags)&&function(p,h,m){const x=m.directiveStart,n=m.directiveEnd,i=m.index,s=Yr.lFrame.currentDirectiveIndex;try{Pg(i);for(let c=x;c<n;c++){const u=p.data[c],f=h[c];LP(c),(null!==u.hostBindings||0!==u.hostVars||null!==u.hostAttrs)&&Le(u,f)}}finally{Pg(-1),LP(s)}}(p,h,m))}function XC(p,h,m=bu){const x=h.localNames;if(null!==x){let n=h.index+1;for(let r=0;r<x.length;r+=2){const i=x[r+1],s=-1===i?m(h,p):p[i];p[n++]=s}}}function ZC(p){const h=p.tView;return null===h||h.incompleteFirstPass?p.tView=tm(1,null,p.template,p.decls,p.vars,p.directiveDefs,p.pipeDefs,p.viewQuery,p.schemas,p.consts):h}function tm(p,h,m,x,n,r,i,s,c,u){const f=20+x,v=f+n,_=function(p,h){const m=[];for(let x=0;x<h;x++)m.push(x<p?null:Cr);return m}(f,v),y="function"==typeof u?u():u;return _[1]={type:p,blueprint:_,template:m,queries:null,viewQuery:s,declTNode:h,data:_.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:v,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof r?r():r,pipeRegistry:"function"==typeof i?i():i,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1}}function bS(p,h,m,x){const n=Cw(h);null===m?n.push(x):(n.push(m),p.firstCreatePass&&Mw(p).push(x,n.length-1))}function Au(p,h,m){for(let x in p)if(p.hasOwnProperty(x)){const n=p[x];(m=null===m?{}:m).hasOwnProperty(x)?m[x].push(h,n):m[x]=[h,n]}return m}function Tu(p,h,m,x,n,r,i,s){const c=bu(h,m);let f,u=h.inputs;!s&&null!=u&&(f=u[x])?(Pw(p,m,f,x,n),Si(h)&&function(p,h){const m=Bl(h,p);16&m[2]||(m[2]|=64)}(m,h.index)):3&h.type&&(x=function(p){return"class"===p?"className":"for"===p?"htmlFor":"formaction"===p?"formAction":"innerHtml"===p?"innerHTML":"readonly"===p?"readOnly":"tabindex"===p?"tabIndex":p}(x),n=null!=i?i(n,h.value||"",x):n,ms(r)?r.setProperty(c,x,n):Jd(x)||(c.setProperty?c.setProperty(x,n):c[x]=n))}function Yl(p,h,m,x){let n=!1;if(oD()){const r=function(p,h,m){const x=p.directiveRegistry;let n=null;if(x)for(let r=0;r<x.length;r++){const i=x[r];Qg(m,i.selectors,!1)&&(n||(n=[]),rf(pb(m,h),p,i.type),ea(i)?(CS(p,m),n.unshift(i)):n.push(i))}return n}(p,h,m),i=null===x?null:{"":-1};if(null!==r){n=!0,Xr(m,p.data.length,r.length);for(let f=0;f<r.length;f++){const v=r[f];v.providersResolver&&v.providersResolver(v)}let s=!1,c=!1,u=$b(p,h,r.length,null);for(let f=0;f<r.length;f++){const v=r[f];m.mergedAttrs=lC(m.mergedAttrs,v.hostAttrs),hh(p,m,h,u,v),xf(u,v,i),null!==v.contentQueries&&(m.flags|=8),(null!==v.hostBindings||null!==v.hostAttrs||0!==v.hostVars)&&(m.flags|=128);const _=v.type.prototype;!s&&(_.ngOnChanges||_.ngOnInit||_.ngDoCheck)&&((p.preOrderHooks||(p.preOrderHooks=[])).push(m.index),s=!0),!c&&(_.ngOnChanges||_.ngDoCheck)&&((p.preOrderCheckHooks||(p.preOrderCheckHooks=[])).push(m.index),c=!0),u++}!function(p,h){const x=h.directiveEnd,n=p.data,r=h.attrs,i=[];let s=null,c=null;for(let u=h.directiveStart;u<x;u++){const f=n[u],v=f.inputs,_=null===r||rw(h)?null:rm(v,r);i.push(_),s=Au(v,u,s),c=Au(f.outputs,u,c)}null!==s&&(s.hasOwnProperty("class")&&(h.flags|=16),s.hasOwnProperty("style")&&(h.flags|=32)),h.initialInputs=i,h.inputs=s,h.outputs=c}(p,m)}i&&function(p,h,m){if(h){const x=p.localNames=[];for(let n=0;n<h.length;n+=2){const r=m[h[n+1]];if(null==r)throw new Qe("301",`Export of name '${h[n+1]}' not found!`);x.push(h[n],r)}}}(m,x,i)}return m.mergedAttrs=lC(m.mergedAttrs,m.attrs),n}function _w(p,h,m,x,n,r){const i=r.hostBindings;if(i){let s=p.hostBindingOpCodes;null===s&&(s=p.hostBindingOpCodes=[]);const c=~h.index;(function(p){let h=p.length;for(;h>0;){const m=p[--h];if("number"==typeof m&&m<0)return m}return 0})(s)!=c&&s.push(c),s.push(x,n,i)}}function Le(p,h){null!==p.hostBindings&&p.hostBindings(1,h)}function CS(p,h){h.flags|=2,(p.components||(p.components=[])).push(h.index)}function xf(p,h,m){if(m){if(h.exportAs)for(let x=0;x<h.exportAs.length;x++)m[h.exportAs[x]]=p;ea(h)&&(m[""]=p)}}function Xr(p,h,m){p.flags|=1,p.directiveStart=h,p.directiveEnd=h+m,p.providerIndexes=h}function hh(p,h,m,x,n){p.data[x]=n;const r=n.factory||(n.factory=tf(n.type)),i=new cC(r,ea(n),null);p.blueprint[x]=i,m[x]=i,_w(p,h,0,x,$b(p,m,n.hostVars,Cr),n)}function mi(p,h,m){const x=bu(h,p),n=ZC(m),r=p[10],i=Zb(p,c_(p,n,null,m.onPush?64:16,x,h,r,r.createRenderer(x,m),null,null));p[h.index]=i}function Gn(p,h,m,x,n,r){const i=bu(p,h);!function(p,h,m,x,n,r,i){if(null==r)ms(p)?p.removeAttribute(h,n,m):h.removeAttribute(n);else{const s=null==i?sn(r):i(r,x||"",n);ms(p)?p.setAttribute(h,n,s,m):m?h.setAttributeNS(m,n,s):h.setAttribute(n,s)}}(h[11],i,r,p.value,m,x,n)}function nm(p,h,m,x,n,r){const i=r[h];if(null!==i){const s=x.setInput;for(let c=0;c<i.length;){const u=i[c++],f=i[c++],v=i[c++];null!==s?x.setInput(m,v,u,f):m[f]=v}}}function rm(p,h){let m=null,x=0;for(;x<h.length;){const n=h[x];if(0!==n)if(5!==n){if("number"==typeof n)break;p.hasOwnProperty(n)&&(null===m&&(m=[]),m.push(n,p[n],h[x+1])),x+=2}else x+=2;else x+=4}return m}function Du(p,h,m,x){return new Array(p,!0,!1,h,null,0,x,m,null,null)}function u_(p,h){const m=Bl(h,p);if(ME(m)){const x=m[1];80&m[2]?Yb(x,m,x.template,m[8]):m[5]>0&&JC(m)}}function JC(p){for(let x=$g(p);null!==x;x=IC(x))for(let n=10;n<x.length;n++){const r=x[n];if(1024&r[2]){const i=r[1];Yb(i,r,i.template,r[8])}else r[5]>0&&JC(r)}const m=p[1].components;if(null!==m)for(let x=0;x<m.length;x++){const n=Bl(m[x],p);ME(n)&&n[5]>0&&JC(n)}}function Oc(p,h){const m=Bl(h,p),x=m[1];(function(p,h){for(let m=h.length;m<p.blueprint.length;m++)h.push(p.blueprint[m])})(x,m),YC(x,m,m[8])}function Zb(p,h){return p[13]?p[14][4]=h:p[13]=h,p[14]=h,h}function Kb(p){for(;p;){p[2]|=64;const h=Xv(p);if(Ta(p)&&!h)return p;p=h}return null}function yw(p,h,m){const x=h[10];x.begin&&x.begin();try{Yb(p,h,p.template,m)}catch(n){throw Jb(h,n),n}finally{x.end&&x.end()}}function ia(p){!function(p){for(let h=0;h<p.components.length;h++){const m=p.components[h],x=Wv(m),n=x[1];FR(n,x,n.template,m)}}(p[8])}function tM(p,h,m){cb(0),h(p,m)}const p_=(()=>Promise.resolve(null))();function Cw(p){return p[7]||(p[7]=[])}function Mw(p){return p.cleanup||(p.cleanup=[])}function Jb(p,h){const m=p[9],x=m?m.get(Gg,null):null;x&&x.handleError(h)}function Pw(p,h,m,x,n){for(let r=0;r<m.length;){const i=m[r++],s=m[r++],c=h[i],u=p.data[i];null!==u.setInput?u.setInput(c,n,x,s):c[s]=n}}function mp(p,h,m){const x=Jx(h,p);!function(p,h,m){ms(p)?p.setValue(h,m):h.textContent=m}(p[11],x,m)}function ty(p,h,m){let x=m?p.styles:null,n=m?p.classes:null,r=0;if(null!==h)for(let i=0;i<h.length;i++){const s=h[i];"number"==typeof s?r=s:1==r?n=Wt(n,s):2==r&&(x=Wt(x,s+": "+h[++i]+";"))}m?p.styles=x:p.stylesWithoutHost=x,m?p.classes=n:p.classesWithoutHost=n}const ey=new zi("INJECTOR",-1);class Ed{get(h,m=vb){if(m===vb){const x=new Error(`NullInjectorError: No provider for ${Rt(h)}!`);throw x.name="NullInjectorError",x}return m}}const _p=new zi("Set Injector scope."),ny={},ww={};let Mf;function h_(){return void 0===Mf&&(Mf=new Ed),Mf}function OS(p,h=null,m=null,x){return new VR(p,m,h||h_(),x)}class VR{constructor(h,m,x,n=null){this.parent=x,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];m&&yc(m,s=>this.processProvider(s,h,m)),yc([h],s=>this.processInjectorType(s,[],r)),this.records.set(ey,im(void 0,this));const i=this.records.get(_p);this.scope=null!=i?i.value:null,this.source=n||("object"==typeof h?null:Rt(h))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(h=>h.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(h,m=vb,x=ze.Default){this.assertNotDestroyed();const n=Ka(this),r=Ui(void 0);try{if(!(x&ze.SkipSelf)){let s=this.records.get(h);if(void 0===s){const c=("function"==typeof(p=h)||"object"==typeof p&&p instanceof zi)&&Oa(h);s=c&&this.injectableDefInScope(c)?im(ES(h),ny):null,this.records.set(h,s)}if(null!=s)return this.hydrate(h,s)}return(x&ze.Self?h_():this.parent).get(h,m=x&ze.Optional&&m===vb?null:m)}catch(i){if("NullInjectorError"===i.name){if((i[ei]=i[ei]||[]).unshift(Rt(h)),n)throw i;return ra(i,h,"R3InjectorError",this.source)}throw i}finally{Ui(r),Ka(n)}var p}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(h=>this.get(h))}toString(){const h=[];return this.records.forEach((x,n)=>h.push(Rt(n))),`R3Injector[${h.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(h,m,x){if(!(h=St(h)))return!1;let n=$d(h);const r=null==n&&h.ngModule||void 0,i=void 0===r?h:r,s=-1!==x.indexOf(i);if(void 0!==r&&(n=$d(r)),null==n)return!1;if(null!=n.imports&&!s){let f;x.push(i);try{yc(n.imports,v=>{this.processInjectorType(v,m,x)&&(void 0===f&&(f=[]),f.push(v))})}finally{}if(void 0!==f)for(let v=0;v<f.length;v++){const{ngModule:_,providers:y}=f[v];yc(y,C=>this.processProvider(C,_,y||Ji))}}this.injectorDefTypes.add(i);const c=tf(i)||(()=>new i);this.records.set(i,im(c,ny));const u=n.providers;if(null!=u&&!s){const f=h;yc(u,v=>this.processProvider(v,f,u))}return void 0!==r&&void 0!==h.providers}processProvider(h,m,x){let n=nc(h=St(h))?h:St(h&&h.provide);const r=JD(p=h)?im(void 0,p.useValue):im(ry(p),ny);var p;if(nc(h)||!0!==h.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=im(void 0,ny,!0),i.factory=()=>_s(i.multi),this.records.set(n,i)),n=h,i.multi.push(h)}this.records.set(n,r)}hydrate(h,m){return m.value===ny&&(m.value=ww,m.value=m.factory()),"object"==typeof m.value&&m.value&&null!==(p=m.value)&&"object"==typeof p&&"function"==typeof p.ngOnDestroy&&this.onDestroy.add(m.value),m.value;var p}injectableDefInScope(h){if(!h.providedIn)return!1;const m=St(h.providedIn);return"string"==typeof m?"any"===m||m===this.scope:this.injectorDefTypes.has(m)}}function ES(p){const h=Oa(p),m=null!==h?h.factory:tf(p);if(null!==m)return m;if(p instanceof zi)throw new Error(`Token ${Rt(p)} is missing a \u0275prov definition.`);if(p instanceof Function)return function(p){const h=p.length;if(h>0){const x=function(p,h){const m=[];for(let x=0;x<p;x++)m.push(h);return m}(h,"?");throw new Error(`Can't resolve all parameters for ${Rt(p)}: (${x.join(", ")}).`)}const m=function(p){const h=p&&(p[It]||p[Bt]);if(h){const m=function(p){if(p.hasOwnProperty("name"))return p.name;const h=(""+p).match(/^function\s*([^\s(]+)/);return null===h?"":h[1]}(p);return console.warn(`DEPRECATED: DI is instantiating a token "${m}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${m}" class.`),h}return null}(p);return null!==m?()=>m.factory(p):()=>new p}(p);throw new Error("unreachable")}function ry(p,h,m){let x;if(nc(p)){const n=St(p);return tf(n)||ES(n)}if(JD(p))x=()=>St(p.useValue);else if(function(p){return!(!p||!p.useFactory)}(p))x=()=>p.useFactory(..._s(p.deps||[]));else if(function(p){return!(!p||!p.useExisting)}(p))x=()=>Gs(St(p.useExisting));else{const n=St(p&&(p.useClass||p.provide));if(!function(p){return!!p.deps}(p))return tf(n)||ES(n);x=()=>new n(..._s(p.deps))}return x}function im(p,h,m=!1){return{factory:p,value:h,multi:m?[]:void 0}}function JD(p){return null!==p&&"object"==typeof p&&Ag in p}function nc(p){return"function"==typeof p}const sy=function(p,h,m){return function(p,h=null,m=null,x){const n=OS(p,h,m,x);return n._resolveInjectorDefTypes(),n}({name:m},h,p,m)};class No{static create(h,m){return Array.isArray(h)?sy(h,m,""):sy(h.providers,h.parent,h.name||"")}}function dy(p,h){sC(Wv(p)[1],vs())}function bp(p){let h=function(p){return Object.getPrototypeOf(p.prototype).constructor}(p.type),m=!0;const x=[p];for(;h;){let n;if(ea(p))n=h.\u0275cmp||h.\u0275dir;else{if(h.\u0275cmp)throw new Error("Directives cannot inherit Components");n=h.\u0275dir}if(n){if(m){x.push(n);const i=p;i.inputs=_l(p.inputs),i.declaredInputs=_l(p.declaredInputs),i.outputs=_l(p.outputs);const s=n.hostBindings;s&&x_(p,s);const c=n.viewQuery,u=n.contentQueries;if(c&&py(p,c),u&&i5(p,u),qt(p.inputs,n.inputs),qt(p.declaredInputs,n.declaredInputs),qt(p.outputs,n.outputs),ea(n)&&n.data.animation){const f=p.data;f.animation=(f.animation||[]).concat(n.data.animation)}}const r=n.features;if(r)for(let i=0;i<r.length;i++){const s=r[i];s&&s.ngInherit&&s(p),s===bp&&(m=!1)}}h=Object.getPrototypeOf(h)}!function(p){let h=0,m=null;for(let x=p.length-1;x>=0;x--){const n=p[x];n.hostVars=h+=n.hostVars,n.hostAttrs=lC(n.hostAttrs,m=lC(m,n.hostAttrs))}}(x)}function _l(p){return p===Wo?{}:p===Ji?[]:p}function py(p,h){const m=p.viewQuery;p.viewQuery=m?(x,n)=>{h(x,n),m(x,n)}:h}function i5(p,h){const m=p.contentQueries;p.contentQueries=m?(x,n,r)=>{h(x,n,r),m(x,n,r)}:h}function x_(p,h){const m=p.hostBindings;p.hostBindings=m?(x,n)=>{h(x,n),m(x,n)}:h}No.THROW_IF_NOT_FOUND=vb,No.NULL=new Ed,No.\u0275prov=$i({token:No,providedIn:"any",factory:()=>Gs(ey)}),No.__NG_ELEMENT_ID__=-1;let um=null;function dm(){if(!um){const p=Eo.Symbol;if(p&&p.iterator)um=p.iterator;else{const h=Object.getOwnPropertyNames(Map.prototype);for(let m=0;m<h.length;++m){const x=h[m];"entries"!==x&&"size"!==x&&Map.prototype[x]===Map.prototype.entries&&(um=x)}}}return um}class Iu{constructor(h){this.wrapped=h}static wrap(h){return new Iu(h)}static unwrap(h){return Iu.isWrapped(h)?h.wrapped:h}static isWrapped(h){return h instanceof Iu}}function M_(p){return!!ic(p)&&(Array.isArray(p)||!(p instanceof Map)&&dm()in p)}function ic(p){return null!==p&&("function"==typeof p||"object"==typeof p)}function Ru(p,h,m){return p[h]=m}function ga(p,h,m){return!Object.is(p[h],m)&&(p[h]=m,!0)}function Ef(p,h,m,x){const n=ga(p,h,m);return ga(p,h+1,x)||n}function LS(p,h,m,x){const n=an();return ga(n,ef(),h)&&(Vi(),Gn(Vs(),n,p,h,m,x)),LS}function Ql(p,h,m,x,n,r,i,s){const c=an(),u=Vi(),f=p+20,v=u.firstCreatePass?function(p,h,m,x,n,r,i,s,c){const u=h.consts,f=l_(h,p,4,i||null,Cg(u,s));Yl(h,m,f,Cg(u,c)),sC(h,f);const v=f.tViews=tm(2,f,x,n,r,h.directiveRegistry,h.pipeRegistry,null,h.schemas,u);return null!==h.queries&&(h.queries.template(h,f),v.queries=h.queries.embeddedTView(f)),f}(f,u,c,h,m,x,n,r,i):u.data[f];yu(v,!1);const _=c[11].createComment("");fl(u,c,_,v),Ao(_,c),Zb(c,c[f]=Du(_,c,_,v)),yo(v)&&Jg(u,c,v),null!=i&&XC(c,v,s)}function vm(p){return wv(Yr.lFrame.contextLView,20+p)}function vh(p,h=ze.Default){const m=an();return null===m?Gs(p,h):zP(vs(),m,St(p),h)}function Mp(p,h,m){const x=an();return ga(x,ef(),h)&&Tu(Vi(),Vs(),x,p,h,x[11],m,!1),Mp}function Pp(p,h,m,x,n){const i=n?"class":"style";Pw(p,m,h.inputs[i],i,x)}function Cm(p,h,m,x){const n=an(),r=Vi(),i=20+p,s=n[11],c=n[i]=kC(s,h,Yr.lFrame.currentNamespace),u=r.firstCreatePass?function(p,h,m,x,n,r,i){const s=h.consts,u=l_(h,p,2,n,Cg(s,r));return Yl(h,m,u,Cg(s,i)),null!==u.attrs&&ty(u,u.attrs,!1),null!==u.mergedAttrs&&ty(u,u.mergedAttrs,!0),null!==h.queries&&h.queries.elementStart(h,u),u}(i,r,n,0,h,m,x):r.data[i];yu(u,!0);const f=u.mergedAttrs;null!==f&&VP(s,c,f);const v=u.classes;null!==v&&fp(s,c,v);const _=u.styles;null!==_&&HC(s,c,_),64!=(64&u.flags)&&fl(r,n,c,u),0===Yr.lFrame.elementDepthCount&&Ao(c,n),Yr.lFrame.elementDepthCount++,yo(u)&&(Jg(r,n,u),Xb(r,u,n)),null!==x&&XC(n,u)}function xy(){let p=vs();eC()?nC():(p=p.parent,yu(p,!1));const h=p;Yr.lFrame.elementDepthCount--;const m=Vi();m.firstCreatePass&&(sC(m,p),Ro(p)&&m.queries.elementEnd(p)),null!=h.classesWithoutHost&&function(p){return 0!=(16&p.flags)}(h)&&Pp(m,h,an(),h.classesWithoutHost,!0),null!=h.stylesWithoutHost&&function(p){return 0!=(32&p.flags)}(h)&&Pp(m,h,an(),h.stylesWithoutHost,!1)}function Cy(p,h,m,x){Cm(p,h,m,x),xy()}function I_(p,h,m){const x=an(),n=Vi(),r=p+20,i=n.firstCreatePass?function(p,h,m,x,n){const r=h.consts,i=Cg(r,x),s=l_(h,p,8,"ng-container",i);return null!==i&&ty(s,i,!0),Yl(h,m,s,Cg(r,n)),null!==h.queries&&h.queries.elementStart(h,s),s}(r,n,x,h,m):n.data[r];yu(i,!0);const s=x[r]=x[11].createComment("");fl(n,x,s,i),Ao(s,x),yo(i)&&(Jg(n,x,i),Xb(n,i,x)),null!=m&&XC(x,i)}function Mm(){let p=vs();const h=Vi();eC()?nC():(p=p.parent,yu(p,!1)),h.firstCreatePass&&(sC(h,p),Ro(p)&&h.queries.elementEnd(p))}function gM(p,h,m){I_(p,h,m),Mm()}function Fi(){return an()}function Ac(p){return!!p&&"function"==typeof p.then}function $s(p){return!!p&&"function"==typeof p.subscribe}const Ww=$s;function qw(p,h,m,x){const n=an(),r=Vi(),i=vs();return function(p,h,m,x,n,r,i,s){const c=yo(x),f=p.firstCreatePass&&Mw(p),v=h[8],_=Cw(h);let y=!0;if(3&x.type||s){const w=bu(x,h),E=s?s(w):w,S=_.length,I=s?L=>s(cn(L[x.index])):x.index;if(ms(m)){let L=null;if(!s&&c&&(L=function(p,h,m,x){const n=p.cleanup;if(null!=n)for(let r=0;r<n.length-1;r+=2){const i=n[r];if(i===m&&n[r+1]===x){const s=h[7],c=n[r+2];return s.length>c?s[c]:null}"string"==typeof i&&(r+=2)}return null}(p,h,n,x.index)),null!==L)(L.__ngLastListenerFn__||L).__ngNextListenerFn__=r,L.__ngLastListenerFn__=r,y=!1;else{r=My(x,h,v,r,!1);const B=m.listen(E,n,r);_.push(r,B),f&&f.push(n,I,S,S+1)}}else r=My(x,h,v,r,!0),E.addEventListener(n,r,i),_.push(r),f&&f.push(n,I,S,i)}else r=My(x,h,v,r,!1);const C=x.outputs;let P;if(y&&null!==C&&(P=C[n])){const w=P.length;if(w)for(let E=0;E<w;E+=2){const V=h[P[E]][P[E+1]].subscribe(r),N=_.length;_.push(r,V),f&&f.push(n,x.index,N,-(N+1))}}}(r,n,n[11],i,p,h,!!m,x),qw}function vM(p,h,m,x){try{return!1!==m(x)}catch(n){return Jb(p,n),!1}}function My(p,h,m,x,n){return function r(i){if(i===Function)return x;const s=2&p.flags?Bl(p.index,h):h;0==(32&h[2])&&Kb(s);let c=vM(h,0,x,i),u=r.__ngNextListenerFn__;for(;u;)c=vM(h,0,u,i)&&c,u=u.__ngNextListenerFn__;return n&&!1===c&&(i.preventDefault(),i.returnValue=!1),c}}function Oi(p=1){return function(p){return(Yr.lFrame.contextLView=function(p,h){for(;p>0;)h=h[15],p--;return h}(p,Yr.lFrame.contextLView))[8]}(p)}function ls(p,h,m,x,n){const r=p[m+1],i=null===h;let s=x?gl(r):fa(r),c=!1;for(;0!==s&&(!1===c||i);){const f=p[s+1];Yo(p[s],h)&&(c=!0,p[s+1]=x?jC(f):Gb(f)),s=x?gl(f):fa(f)}c&&(p[m+1]=x?Gb(r):jC(r))}function Yo(p,h){return null===p||null==h||(Array.isArray(p)?p[1]:p)===h||!(!Array.isArray(p)||"string"!=typeof h)&&Sg(p,h)>=0}function Em(p,h){return function(p,h,m,x){const n=an(),r=Vi(),i=vd(2);r.firstUpdatePass&&function(p,h,m,x){const n=p.data;if(null===n[m+1]){const r=n[_c()],i=function(p,h){return h>=p.expandoStartIndex}(p,m);(function(p,h){return 0!=(p.flags&(h?16:32))})(r,x)&&null===h&&!i&&(h=!1),h=function(p,h,m,x){const n=function(p){const h=Yr.lFrame.currentDirectiveIndex;return-1===h?null:p[h]}(p);let r=x?h.residualClasses:h.residualStyles;if(null===n)0===(x?h.classBindings:h.styleBindings)&&(m=us(m=k_(null,p,h,m,x),h.attrs,x),r=null);else{const i=h.directiveStylingLast;if(-1===i||p[i]!==n)if(m=k_(n,p,h,m,x),null===r){let c=function(p,h,m){const x=m?h.classBindings:h.styleBindings;if(0!==fa(x))return p[gl(x)]}(p,h,x);void 0!==c&&Array.isArray(c)&&(c=k_(null,p,h,c[1],x),c=us(c,h.attrs,x),function(p,h,m,x){p[gl(m?h.classBindings:h.styleBindings)]=x}(p,h,x,c))}else r=function(p,h,m){let x;const n=h.directiveEnd;for(let r=1+h.directiveStylingLast;r<n;r++)x=us(x,p[r].hostAttrs,m);return us(x,h.attrs,m)}(p,h,x)}return void 0!==r&&(x?h.residualClasses=r:h.residualStyles=r),m}(n,r,h,x),function(p,h,m,x,n,r){let i=r?h.classBindings:h.styleBindings,s=gl(i),c=fa(i);p[x]=m;let f,u=!1;if(Array.isArray(m)){const v=m;f=v[1],(null===f||Sg(v,f)>0)&&(u=!0)}else f=m;if(n)if(0!==c){const _=gl(p[s+1]);p[x+1]=e_(_,s),0!==_&&(p[_+1]=jb(p[_+1],x)),p[s+1]=function(p,h){return 131071&p|h<<17}(p[s+1],x)}else p[x+1]=e_(s,0),0!==s&&(p[s+1]=jb(p[s+1],x)),s=x;else p[x+1]=e_(c,0),0===s?s=x:p[c+1]=jb(p[c+1],x),c=x;u&&(p[x+1]=Gb(p[x+1])),ls(p,f,x,!0),ls(p,f,x,!1),function(p,h,m,x,n){const r=n?p.residualClasses:p.residualStyles;null!=r&&"string"==typeof h&&Sg(r,h)>=0&&(m[x+1]=jC(m[x+1]))}(h,f,p,x,r),i=e_(s,c),r?h.classBindings=i:h.styleBindings=i}(n,r,h,m,i,x)}}(r,p,i,x),h!==Cr&&ga(n,i,h)&&function(p,h,m,x,n,r,i,s){if(!(3&h.type))return;const c=p.data,u=c[s+1];yh(function(p){return 1==(1&p)}(u)?Ay(c,h,m,n,fa(u),i):void 0)||(yh(r)||function(p){return 2==(2&p)}(u)&&(r=Ay(c,null,m,n,s,i)),function(p,h,m,x,n){const r=ms(p);if(h)n?r?p.addClass(m,x):m.classList.add(x):r?p.removeClass(m,x):m.classList.remove(x);else{let i=-1===x.indexOf("-")?void 0:Eu.DashCase;if(null==n)r?p.removeStyle(m,x,i):m.style.removeProperty(x);else{const s="string"==typeof n&&n.endsWith("!important");s&&(n=n.slice(0,-10),i|=Eu.Important),r?p.setStyle(m,x,n,i):m.style.setProperty(x,n,s?"important":"")}}}(x,i,Jx(_c(),m),n,r))}(r,r.data[_c()],n,n[11],p,n[i+1]=function(p,h){return null==p||("string"==typeof h?p+=h:"object"==typeof p&&(p=Rt(ul(p)))),p}(h,m),x,i)}(p,h,null,!0),Em}function k_(p,h,m,x,n){let r=null;const i=m.directiveEnd;let s=m.directiveStylingLast;for(-1===s?s=m.directiveStart:s++;s<i&&(r=h[s],x=us(x,r.hostAttrs,n),r!==p);)s++;return null!==p&&(m.directiveStylingLast=s),x}function us(p,h,m){const x=m?1:2;let n=-1;if(null!==h)for(let r=0;r<h.length;r++){const i=h[r];"number"==typeof i?n=i:n===x&&(Array.isArray(p)||(p=void 0===p?[]:["",p]),Hc(p,i,!!m||h[++r]))}return void 0===p?null:p}function Ay(p,h,m,x,n,r){const i=null===h;let s;for(;n>0;){const c=p[n],u=Array.isArray(c),f=u?c[1]:c,v=null===f;let _=m[n+1];_===Cr&&(_=v?Ji:void 0);let y=v?Eg(_,x):f===x?_:void 0;if(u&&!yh(y)&&(y=Eg(c,x)),yh(y)&&(s=y,i))return s;const C=p[n+1];n=i?gl(C):fa(C)}if(null!==h){let c=r?h.residualClasses:h.residualStyles;null!=c&&(s=Eg(c,x))}return s}function yh(p){return void 0!==p}function Ty(p,h=""){const m=an(),x=Vi(),n=p+20,r=x.firstCreatePass?l_(x,n,1,h,null):x.data[n],i=m[n]=function(p,h){return ms(p)?p.createText(h):p.createTextNode(h)}(m[11],h);fl(x,m,i,r),yu(r,!1)}function GS(p){return Jw("",p,""),GS}function Jw(p,h,m){const x=an(),n=function(p,h,m,x){return ga(p,ef(),m)?h+sn(m)+x:Cr}(x,p,h,m);return n!==Cr&&mp(x,_c(),n),Jw}function jS(p,h,m,x,n){const r=an(),i=function(p,h,m,x,n,r){const s=Ef(p,md(),m,n);return vd(2),s?h+sn(m)+x+sn(n)+r:Cr}(r,p,h,m,x,n);return i!==Cr&&mp(r,_c(),i),jS}function EM(p,h,m){const x=an();return ga(x,ef(),h)&&Tu(Vi(),Vs(),x,p,h,x[11],m,!0),EM}const ks=void 0;var p5=["en",[["a","p"],["AM","PM"],ks],[["AM","PM"],ks,ks],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],ks,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],ks,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",ks,"{1} 'at' {0}",ks],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(p){const h=Math.floor(Math.abs(p)),m=p.toString().replace(/^[^.]*\.?/,"").length;return 1===h&&0===m?1:5}];let z_={};function Ry(p){const h=function(p){return p.toLowerCase().replace(/_/g,"-")}(p);let m=oO(h);if(m)return m;const x=h.split("-")[0];if(m=oO(x),m)return m;if("en"===x)return p5;throw new Error(`Missing locale data for the locale "${p}".`)}function jt(p){return Ry(p)[pr.PluralCase]}function oO(p){return p in z_||(z_[p]=Eo.ng&&Eo.ng.common&&Eo.ng.common.locales&&Eo.ng.common.locales[p]),z_[p]}var pr=(()=>((pr=pr||{})[pr.LocaleId=0]="LocaleId",pr[pr.DayPeriodsFormat=1]="DayPeriodsFormat",pr[pr.DayPeriodsStandalone=2]="DayPeriodsStandalone",pr[pr.DaysFormat=3]="DaysFormat",pr[pr.DaysStandalone=4]="DaysStandalone",pr[pr.MonthsFormat=5]="MonthsFormat",pr[pr.MonthsStandalone=6]="MonthsStandalone",pr[pr.Eras=7]="Eras",pr[pr.FirstDayOfWeek=8]="FirstDayOfWeek",pr[pr.WeekendRange=9]="WeekendRange",pr[pr.DateFormat=10]="DateFormat",pr[pr.TimeFormat=11]="TimeFormat",pr[pr.DateTimeFormat=12]="DateTimeFormat",pr[pr.NumberSymbols=13]="NumberSymbols",pr[pr.NumberFormats=14]="NumberFormats",pr[pr.CurrencyCode=15]="CurrencyCode",pr[pr.CurrencySymbol=16]="CurrencySymbol",pr[pr.CurrencyName=17]="CurrencyName",pr[pr.Currencies=18]="Currencies",pr[pr.Directionality=19]="Directionality",pr[pr.PluralCase=20]="PluralCase",pr[pr.ExtraData=21]="ExtraData",pr))();const zo="en-US";let AM=zo;function Tm(p){fi(p,"Expected localeId to be defined"),"string"==typeof p&&(AM=p.toLowerCase().replace(/_/g,"-"))}function uO(p,h,m,x,n){if(p=St(p),Array.isArray(p))for(let r=0;r<p.length;r++)uO(p[r],h,m,x,n);else{const r=Vi(),i=an();let s=nc(p)?p:St(p.provide),c=ry(p);const u=vs(),f=1048575&u.providerIndexes,v=u.directiveStart,_=u.providerIndexes>>20;if(nc(p)||!p.multi){const y=new cC(c,n,vh),C=BM(s,h,n?f:f+_,v);-1===C?(rf(pb(u,i),r,s),dO(r,p,h.length),h.push(s),u.directiveStart++,u.directiveEnd++,n&&(u.providerIndexes+=1048576),m.push(y),i.push(y)):(m[C]=y,i[C]=y)}else{const y=BM(s,h,f+_,v),C=BM(s,h,f,f+_),P=y>=0&&m[y],w=C>=0&&m[C];if(n&&!w||!n&&!P){rf(pb(u,i),r,s);const E=function(p,h,m,x,n){const r=new cC(p,m,vh);return r.multi=[],r.index=h,r.componentProviders=0,pO(r,n,x&&!m),r}(n?hO:sc,m.length,n,x,c);!n&&w&&(m[C].providerFactory=E),dO(r,p,h.length,0),h.push(s),u.directiveStart++,u.directiveEnd++,n&&(u.providerIndexes+=1048576),m.push(E),i.push(E)}else dO(r,p,y>-1?y:C,pO(m[n?C:y],c,!n&&x));!n&&x&&w&&m[C].componentProviders++}}}function dO(p,h,m,x){const n=nc(h);if(n||function(p){return!!p.useClass}(h)){const i=(h.useClass||h).prototype.ngOnDestroy;if(i){const s=p.destroyHooks||(p.destroyHooks=[]);if(!n&&h.multi){const c=s.indexOf(m);-1===c?s.push(m,[x,i]):s[c+1].push(x,i)}else s.push(m,i)}}}function pO(p,h,m){return m&&p.componentProviders++,p.multi.push(h)-1}function BM(p,h,m,x){for(let n=m;n<x;n++)if(h[n]===p)return n;return-1}function sc(p,h,m,x){return Fd(this.multi,[])}function hO(p,h,m,x){const n=this.multi;let r;if(this.providerFactory){const i=this.providerFactory.componentProviders,s=_d(m,m[1],this.providerFactory.index,x);r=s.slice(0,i),Fd(n,r);for(let c=i;c<s.length;c++)r.push(s[c])}else r=[],Fd(n,r);return r}function Fd(p,h){for(let m=0;m<p.length;m++)h.push((0,p[m])());return h}function Ny(p,h=[]){return m=>{m.providersResolver=(x,n)=>function(p,h,m){const x=Vi();if(x.firstCreatePass){const n=ea(p);uO(m,x.data,x.blueprint,n,!0),uO(h,x.data,x.blueprint,n,!1)}}(x,n?n(p):p,h)}}class UM{}const uo="ngComponent";class y5{resolveComponentFactory(h){throw function(p){const h=Error(`No component factory found for ${Rt(p)}. Did you add it to @NgModule.entryComponents?`);return h[uo]=p,h}(h)}}class Nd{}function nu(...p){}function Th(p,h){return new ac(bu(p,h))}Nd.NULL=new y5;const VM=function(){return Th(vs(),an())};let ac=(()=>{class p{constructor(m){this.nativeElement=m}}return p.__NG_ELEMENT_ID__=VM,p})();function lA(p){return p instanceof ac?p.nativeElement:p}class zM{}let C5=(()=>{class p{}return p.__NG_ELEMENT_ID__=()=>M5(),p})();const M5=function(){const p=an(),m=Bl(vs().index,p);return function(p){return p[11]}(J(m)?m:p)};let HM=(()=>{class p{}return p.\u0275prov=$i({token:p,providedIn:"root",factory:()=>null}),p})();class Uf{constructor(h){this.full=h,this.major=h.split(".")[0],this.minor=h.split(".")[1],this.patch=h.split(".").slice(2).join(".")}}const Ei=new Uf("12.2.5");class hA{constructor(){}supports(h){return M_(h)}create(h){return new GM(h)}}const w5=(p,h)=>h;class GM{constructor(h){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=h||w5}forEachItem(h){let m;for(m=this._itHead;null!==m;m=m._next)h(m)}forEachOperation(h){let m=this._itHead,x=this._removalsHead,n=0,r=null;for(;m||x;){const i=!x||m&&m.currentIndex<Uy(x,n,r)?m:x,s=Uy(i,n,r),c=i.currentIndex;if(i===x)n--,x=x._nextRemoved;else if(m=m._next,null==i.previousIndex)n++;else{r||(r=[]);const u=s-n,f=c-n;if(u!=f){for(let _=0;_<u;_++){const y=_<r.length?r[_]:r[_]=0,C=y+_;f<=C&&C<u&&(r[_]=y+1)}r[i.previousIndex]=f-u}}s!==c&&h(i,s,c)}}forEachPreviousItem(h){let m;for(m=this._previousItHead;null!==m;m=m._nextPrevious)h(m)}forEachAddedItem(h){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)h(m)}forEachMovedItem(h){let m;for(m=this._movesHead;null!==m;m=m._nextMoved)h(m)}forEachRemovedItem(h){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)h(m)}forEachIdentityChange(h){let m;for(m=this._identityChangesHead;null!==m;m=m._nextIdentityChange)h(m)}diff(h){if(null==h&&(h=[]),!M_(h))throw new Error(`Error trying to diff '${Rt(h)}'. Only arrays and iterables are allowed`);return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let n,r,i,m=this._itHead,x=!1;if(Array.isArray(h)){this.length=h.length;for(let s=0;s<this.length;s++)r=h[s],i=this._trackByFn(s,r),null!==m&&Object.is(m.trackById,i)?(x&&(m=this._verifyReinsertion(m,r,i,s)),Object.is(m.item,r)||this._addIdentityChange(m,r)):(m=this._mismatch(m,r,i,s),x=!0),m=m._next}else n=0,function(p,h){if(Array.isArray(p))for(let m=0;m<p.length;m++)h(p[m]);else{const m=p[dm()]();let x;for(;!(x=m.next()).done;)h(x.value)}}(h,s=>{i=this._trackByFn(n,s),null!==m&&Object.is(m.trackById,i)?(x&&(m=this._verifyReinsertion(m,s,i,n)),Object.is(m.item,s)||this._addIdentityChange(m,s)):(m=this._mismatch(m,s,i,n),x=!0),m=m._next,n++}),this.length=n;return this._truncate(m),this.collection=h,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let h;for(h=this._previousItHead=this._itHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._additionsHead;null!==h;h=h._nextAdded)h.previousIndex=h.currentIndex;for(this._additionsHead=this._additionsTail=null,h=this._movesHead;null!==h;h=h._nextMoved)h.previousIndex=h.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(h,m,x,n){let r;return null===h?r=this._itTail:(r=h._prev,this._remove(h)),null!==(h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null))?(Object.is(h.item,m)||this._addIdentityChange(h,m),this._reinsertAfter(h,r,n)):null!==(h=null===this._linkedRecords?null:this._linkedRecords.get(x,n))?(Object.is(h.item,m)||this._addIdentityChange(h,m),this._moveAfter(h,r,n)):h=this._addAfter(new E5(m,x),r,n),h}_verifyReinsertion(h,m,x,n){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(x,null);return null!==r?h=this._reinsertAfter(r,h._prev,n):h.currentIndex!=n&&(h.currentIndex=n,this._addToMoves(h,n)),h}_truncate(h){for(;null!==h;){const m=h._next;this._addToRemovals(this._unlink(h)),h=m}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(h,m,x){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(h);const n=h._prevRemoved,r=h._nextRemoved;return null===n?this._removalsHead=r:n._nextRemoved=r,null===r?this._removalsTail=n:r._prevRemoved=n,this._insertAfter(h,m,x),this._addToMoves(h,x),h}_moveAfter(h,m,x){return this._unlink(h),this._insertAfter(h,m,x),this._addToMoves(h,x),h}_addAfter(h,m,x){return this._insertAfter(h,m,x),this._additionsTail=null===this._additionsTail?this._additionsHead=h:this._additionsTail._nextAdded=h,h}_insertAfter(h,m,x){const n=null===m?this._itHead:m._next;return h._next=n,h._prev=m,null===n?this._itTail=h:n._prev=h,null===m?this._itHead=h:m._next=h,null===this._linkedRecords&&(this._linkedRecords=new gO),this._linkedRecords.put(h),h.currentIndex=x,h}_remove(h){return this._addToRemovals(this._unlink(h))}_unlink(h){null!==this._linkedRecords&&this._linkedRecords.remove(h);const m=h._prev,x=h._next;return null===m?this._itHead=x:m._next=x,null===x?this._itTail=m:x._prev=m,h}_addToMoves(h,m){return h.previousIndex===m||(this._movesTail=null===this._movesTail?this._movesHead=h:this._movesTail._nextMoved=h),h}_addToRemovals(h){return null===this._unlinkedRecords&&(this._unlinkedRecords=new gO),this._unlinkedRecords.put(h),h.currentIndex=null,h._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=h,h._prevRemoved=null):(h._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=h),h}_addIdentityChange(h,m){return h.item=m,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=h:this._identityChangesTail._nextIdentityChange=h,h}}class E5{constructor(h,m){this.item=h,this.trackById=m,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class By{constructor(){this._head=null,this._tail=null}add(h){null===this._head?(this._head=this._tail=h,h._nextDup=null,h._prevDup=null):(this._tail._nextDup=h,h._prevDup=this._tail,h._nextDup=null,this._tail=h)}get(h,m){let x;for(x=this._head;null!==x;x=x._nextDup)if((null===m||m<=x.currentIndex)&&Object.is(x.trackById,h))return x;return null}remove(h){const m=h._prevDup,x=h._nextDup;return null===m?this._head=x:m._nextDup=x,null===x?this._tail=m:x._prevDup=m,null===this._head}}class gO{constructor(){this.map=new Map}put(h){const m=h.trackById;let x=this.map.get(m);x||(x=new By,this.map.set(m,x)),x.add(h)}get(h,m){const n=this.map.get(h);return n?n.get(h,m):null}remove(h){const m=h.trackById;return this.map.get(m).remove(h)&&this.map.delete(m),h}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Uy(p,h,m){const x=p.previousIndex;if(null===x)return x;let n=0;return m&&x<m.length&&(n=m[x]),x+h+n}class Vy{constructor(){}supports(h){return h instanceof Map||ic(h)}create(){return new Gu}}class Gu{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(h){let m;for(m=this._mapHead;null!==m;m=m._next)h(m)}forEachPreviousItem(h){let m;for(m=this._previousMapHead;null!==m;m=m._nextPrevious)h(m)}forEachChangedItem(h){let m;for(m=this._changesHead;null!==m;m=m._nextChanged)h(m)}forEachAddedItem(h){let m;for(m=this._additionsHead;null!==m;m=m._nextAdded)h(m)}forEachRemovedItem(h){let m;for(m=this._removalsHead;null!==m;m=m._nextRemoved)h(m)}diff(h){if(h){if(!(h instanceof Map||ic(h)))throw new Error(`Error trying to diff '${Rt(h)}'. Only maps and objects are allowed`)}else h=new Map;return this.check(h)?this:null}onDestroy(){}check(h){this._reset();let m=this._mapHead;if(this._appendAfter=null,this._forEach(h,(x,n)=>{if(m&&m.key===n)this._maybeAddToChanges(m,x),this._appendAfter=m,m=m._next;else{const r=this._getOrCreateRecordForKey(n,x);m=this._insertBeforeOrAppend(m,r)}}),m){m._prev&&(m._prev._next=null),this._removalsHead=m;for(let x=m;null!==x;x=x._nextRemoved)x===this._mapHead&&(this._mapHead=null),this._records.delete(x.key),x._nextRemoved=x._next,x.previousValue=x.currentValue,x.currentValue=null,x._prev=null,x._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(h,m){if(h){const x=h._prev;return m._next=h,m._prev=x,h._prev=m,x&&(x._next=m),h===this._mapHead&&(this._mapHead=m),this._appendAfter=h,h}return this._appendAfter?(this._appendAfter._next=m,m._prev=this._appendAfter):this._mapHead=m,this._appendAfter=m,null}_getOrCreateRecordForKey(h,m){if(this._records.has(h)){const n=this._records.get(h);this._maybeAddToChanges(n,m);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const x=new ju(h);return this._records.set(h,x),x.currentValue=m,this._addToAdditions(x),x}_reset(){if(this.isDirty){let h;for(this._previousMapHead=this._mapHead,h=this._previousMapHead;null!==h;h=h._next)h._nextPrevious=h._next;for(h=this._changesHead;null!==h;h=h._nextChanged)h.previousValue=h.currentValue;for(h=this._additionsHead;null!=h;h=h._nextAdded)h.previousValue=h.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(h,m){Object.is(m,h.currentValue)||(h.previousValue=h.currentValue,h.currentValue=m,this._addToChanges(h))}_addToAdditions(h){null===this._additionsHead?this._additionsHead=this._additionsTail=h:(this._additionsTail._nextAdded=h,this._additionsTail=h)}_addToChanges(h){null===this._changesHead?this._changesHead=this._changesTail=h:(this._changesTail._nextChanged=h,this._changesTail=h)}_forEach(h,m){h instanceof Map?h.forEach(m):Object.keys(h).forEach(x=>m(h[x],x))}}class ju{constructor(h){this.key=h,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function ro(){return new Gi([new hA])}let Gi=(()=>{class p{constructor(m){this.factories=m}static create(m,x){if(null!=x){const n=x.factories.slice();m=m.concat(n)}return new p(m)}static extend(m){return{provide:p,useFactory:x=>p.create(m,x||ro()),deps:[[p,new bd,new np]]}}find(m){const x=this.factories.find(n=>n.supports(m));if(null!=x)return x;throw new Error(`Cannot find a differ supporting object '${m}' of type '${function(p){return p.name||typeof p}(m)}'`)}}return p.\u0275prov=$i({token:p,providedIn:"root",factory:ro}),p})();function Im(){return new Cs([new Vy])}let Cs=(()=>{class p{constructor(m){this.factories=m}static create(m,x){if(x){const n=x.factories.slice();m=m.concat(n)}return new p(m)}static extend(m){return{provide:p,useFactory:x=>p.create(m,x||Im()),deps:[[p,new bd,new np]]}}find(m){const x=this.factories.find(n=>n.supports(m));if(x)return x;throw new Error(`Cannot find a differ supporting object '${m}'`)}}return p.\u0275prov=$i({token:p,providedIn:"root",factory:Im}),p})();function is(p,h,m,x,n=!1){for(;null!==m;){const r=h[m.index];if(null!==r&&x.push(cn(r)),xi(r))for(let s=10;s<r.length;s++){const c=r[s],u=c[1].firstChild;null!==u&&is(c[1],c,u,x)}const i=m.type;if(8&i)is(p,h,m.child,x);else if(32&i){const s=qg(m,h);let c;for(;c=s();)x.push(c)}else if(16&i){const s=Ub(h,m);if(Array.isArray(s))x.push(...s);else{const c=Xv(h[16]);is(c[1],c,s,x,!0)}}m=n?m.projectionNext:m.next}return x}class Pl{constructor(h,m){this._lView=h,this._cdRefInjectingView=m,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const h=this._lView,m=h[1];return is(m,h,m.firstChild,[])}get context(){return this._lView[8]}set context(h){this._lView[8]=h}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const h=this._lView[3];if(xi(h)){const m=h[8],x=m?m.indexOf(this):-1;x>-1&&(LC(h,x),Pu(m,x))}this._attachedToViewContainer=!1}FC(this._lView[1],this._lView)}onDestroy(h){bS(this._lView[1],this._lView,null,h)}markForCheck(){Kb(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yw(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(p,h,m){iC(!0);try{yw(p,h,m)}finally{iC(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var h;this._appRef=null,Kg(this._lView[1],h=this._lView,h[11],2,null,null)}attachToAppRef(h){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=h}}class Wu extends Pl{constructor(h){super(h),this._view=h}detectChanges(){ia(this._view)}checkNoChanges(){!function(p){iC(!0);try{ia(p)}finally{iC(!1)}}(this._view)}get context(){return null}}const mO=function(p){return function(p,h,m){if(Si(p)&&!m){const x=Bl(p.index,h);return new Pl(x,x)}return 47&p.type?new Pl(h[16],h):null}(vs(),an(),16==(16&p))};let vO=(()=>{class p{}return p.__NG_ELEMENT_ID__=mO,p})();const $_=[new Vy],Y_=new Gi([new hA]),gA=new Cs($_),Dh=function(){return jy(vs(),an())};let qu=(()=>{class p{}return p.__NG_ELEMENT_ID__=Dh,p})();const Hy=qu,Gy=class extends Hy{constructor(h,m,x){super(),this._declarationLView=h,this._declarationTContainer=m,this.elementRef=x}createEmbeddedView(h){const m=this._declarationTContainer.tViews,x=c_(this._declarationLView,m,h,16,null,m.declTNode,null,null,null,null);x[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(x[19]=r.createEmbeddedView(m)),YC(m,x,h),new Pl(x)}};function jy(p,h){return 4&p.type?new Gy(h,p,Th(p,h)):null}class $u{}class mA{}const A5=function(){return X_(vs(),an())};let Rm=(()=>{class p{}return p.__NG_ELEMENT_ID__=A5,p})();const Wy=Rm,bO=class extends Wy{constructor(h,m,x){super(),this._lContainer=h,this._hostTNode=m,this._hostLView=x}get element(){return Th(this._hostTNode,this._hostLView)}get injector(){return new Vl(this._hostTNode,this._hostLView)}get parentInjector(){const h=hb(this._hostTNode,this._hostLView);if(uC(h)){const m=db(h,this._hostLView),x=wg(h);return new Vl(m[1].data[x+8],m)}return new Vl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(h){const m=yO(this._lContainer);return null!==m&&m[h]||null}get length(){return this._lContainer.length-10}createEmbeddedView(h,m,x){const n=h.createEmbeddedView(m||{});return this.insert(n,x),n}createComponent(h,m,x,n,r){const i=x||this.parentInjector;if(!r&&null==h.ngModule&&i){const c=i.get($u,null);c&&(r=c)}const s=h.create(i,n,void 0,r);return this.insert(s.hostView,m),s}insert(h,m){const x=h._lView,n=x[1];if(xi(x[3])){const f=this.indexOf(h);if(-1!==f)this.detach(f);else{const v=x[3],_=new bO(v,v[6],v[3]);_.detach(_.indexOf(h))}}const r=this._adjustIndex(m),i=this._lContainer;!function(p,h,m,x){const n=10+x,r=m.length;x>0&&(m[n-1][4]=h),x<r-10?(h[4]=m[n],na(m,10+x,h)):(m.push(h),h[4]=null),h[3]=m;const i=h[17];null!==i&&m!==i&&function(p,h){const m=p[9];h[16]!==h[3][3][16]&&(p[2]=!0),null===m?p[9]=[h]:m.push(h)}(i,h);const s=h[19];null!==s&&s.insertView(p),h[2]|=128}(n,x,i,r);const s=t_(r,i),c=x[11],u=gf(c,i[7]);return null!==u&&function(p,h,m,x,n,r){x[0]=n,x[6]=h,Kg(p,x,m,1,n,r)}(n,i[6],c,x,u,s),h.attachToViewContainerRef(),na(qy(i),r,h),h}move(h,m){return this.insert(h,m)}indexOf(h){const m=yO(this._lContainer);return null!==m?m.indexOf(h):-1}remove(h){const m=this._adjustIndex(h,-1),x=LC(this._lContainer,m);x&&(Pu(qy(this._lContainer),m),FC(x[1],x))}detach(h){const m=this._adjustIndex(h,-1),x=LC(this._lContainer,m);return x&&null!=Pu(qy(this._lContainer),m)?new Pl(x):null}_adjustIndex(h,m=0){return null==h?this.length+m:h}};function yO(p){return p[8]}function qy(p){return p[8]||(p[8]=[])}function X_(p,h){let m;const x=h[p.index];if(xi(x))m=x;else{let n;if(8&p.type)n=cn(x);else{const r=h[11];n=r.createComment("");const i=bu(p,h);Pc(r,gf(r,i),n,function(p,h){return ms(p)?p.nextSibling(h):h.nextSibling}(r,i),!1)}h[p.index]=m=Du(x,h,n,p),Zb(h,m)}return new bO(m,p,h)}const s0={};class ss extends Nd{constructor(h){super(),this.ngModule=h}resolveComponentFactory(h){const m=As(h);return new a0(m,this.ngModule)}}function nx(p){const h=[];for(let m in p)p.hasOwnProperty(m)&&h.push({propName:p[m],templateName:m});return h}const ZM=new zi("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>wd});class a0 extends UM{constructor(h,m){super(),this.componentDef=h,this.ngModule=m,this.componentType=h.type,this.selector=h.selectors.map(sw).join(","),this.ngContentSelectors=h.ngContentSelectors?h.ngContentSelectors:[],this.isBoundToModule=!!m}get inputs(){return nx(this.componentDef.inputs)}get outputs(){return nx(this.componentDef.outputs)}create(h,m,x,n){const r=(n=n||this.ngModule)?function(p,h){return{get:(m,x,n)=>{const r=p.get(m,s0,n);return r!==s0||x===s0?r:h.get(m,x,n)}}}(h,n.injector):h,i=r.get(zM,_u),s=r.get(HM,null),c=i.createRenderer(null,this.componentDef),u=this.componentDef.selectors[0][0]||"div",f=x?function(p,h,m){if(ms(p))return p.selectRootElement(h,m===Bn.ShadowDom);let x="string"==typeof h?p.querySelector(h):h;return x.textContent="",x}(c,x,this.componentDef.encapsulation):kC(i.createRenderer(null,this.componentDef),u,function(p){const h=p.toLowerCase();return"svg"===h?"http://www.w3.org/2000/svg":"math"===h?"http://www.w3.org/1998/MathML/":null}(u)),v=this.componentDef.onPush?576:528,_=function(p,h){return{components:[],scheduler:p||wd,clean:p_,playerHandler:h||null,flags:0}}(),y=tm(0,null,null,1,0,null,null,null,null,null),C=c_(null,y,_,v,null,null,i,c,s,r);let P,w;oC(C);try{const E=function(p,h,m,x,n,r){const i=m[1];m[20]=p;const c=l_(i,20,2,"#host",null),u=c.mergedAttrs=h.hostAttrs;null!==u&&(ty(c,u,!0),null!==p&&(VP(n,p,u),null!==c.classes&&fp(n,p,c.classes),null!==c.styles&&HC(n,p,c.styles)));const f=x.createRenderer(p,h),v=c_(m,ZC(h),null,h.onPush?64:16,m[20],c,x,f,r||null,null);return i.firstCreatePass&&(rf(pb(c,m),i,h.type),CS(i,c),Xr(c,m.length,1)),Zb(m,v),m[20]=v}(f,this.componentDef,C,i,c);if(f)if(x)VP(c,f,["ng-version",Ei.full]);else{const{attrs:S,classes:I}=function(p){const h=[],m=[];let x=1,n=2;for(;x<p.length;){let r=p[x];if("string"==typeof r)2===n?""!==r&&h.push(r,p[++x]):8===n&&m.push(r);else{if(!it(n))break;n=r}x++}return{attrs:h,classes:m}}(this.componentDef.selectors[0]);S&&VP(c,f,S),I&&I.length>0&&fp(c,f,I.join(" "))}if(w=DP(y,20),void 0!==m){const S=w.projection=[];for(let I=0;I<this.ngContentSelectors.length;I++){const L=m[I];S.push(null!=L?Array.from(L):null)}}P=function(p,h,m,x,n){const r=m[1],i=function(p,h,m){const x=vs();p.firstCreatePass&&(m.providersResolver&&m.providersResolver(m),hh(p,x,h,$b(p,h,1,null),m));const n=_d(h,p,x.directiveStart,x);Ao(n,h);const r=bu(x,h);return r&&Ao(r,h),n}(r,m,h);if(x.components.push(i),p[8]=i,n&&n.forEach(c=>c(i,h)),h.contentQueries){const c=vs();h.contentQueries(1,i,c.directiveStart)}const s=vs();return!r.firstCreatePass||null===h.hostBindings&&null===h.hostAttrs||(Pg(s.index),_w(m[1],s,0,s.directiveStart,s.directiveEnd,h),Le(h,i)),i}(E,this.componentDef,C,_,[dy]),YC(y,C,null)}finally{lb()}return new FA(this.componentType,P,Th(w,C),C,w)}}class FA extends class{}{constructor(h,m,x,n,r){super(),this.location=x,this._rootLView=n,this._tNode=r,this.instance=m,this.hostView=this.changeDetectorRef=new Wu(n),this.componentType=h}get injector(){return new Vl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(h){this.hostView.onDestroy(h)}}const jm=new Map;class KM extends $u{constructor(h,m){super(),this._parent=m,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ss(this);const x=Vc(h),n=h[xv]||null;n&&Tm(n),this._bootstrapComponents=Cc(x.bootstrap),this._r3Injector=OS(h,m,[{provide:$u,useValue:this},{provide:Nd,useValue:this.componentFactoryResolver}],Rt(h)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(h)}get(h,m=No.THROW_IF_NOT_FOUND,x=ze.Default){return h===No||h===$u||h===ey?this:this._r3Injector.get(h,m,x)}destroy(){const h=this._r3Injector;!h.destroyed&&h.destroy(),this.destroyCbs.forEach(m=>m()),this.destroyCbs=null}onDestroy(h){this.destroyCbs.push(h)}}class QM extends mA{constructor(h){super(),this.moduleType=h,null!==Vc(h)&&function(p){const h=new Set;!function m(x){const n=Vc(x,!0),r=n.id;null!==r&&(function(p,h,m){if(h&&h!==m)throw new Error(`Duplicate module registered for ${p} - ${Rt(h)} vs ${Rt(h.name)}`)}(r,jm.get(r),x),jm.set(r,x));const i=Cc(n.imports);for(const s of i)h.has(s)||(h.add(s),m(s))}(p)}(h)}create(h){return new KM(this.moduleType,h)}}function JM(p,h,m,x){return e1(an(),Da(),p,h,m,x)}function Vp(p,h,m,x,n){return function(p,h,m,x,n,r,i){const s=h+m;return Ef(p,s,n,r)?Ru(p,s+2,i?x.call(i,n,r):x(n,r)):zp(p,s+2)}(an(),Da(),p,h,m,x,n)}function zp(p,h){const m=p[h];return m===Cr?void 0:m}function e1(p,h,m,x,n,r){const i=h+m;return ga(p,i,n)?Ru(p,i+1,r?x.call(r,n):x(n)):zp(p,i+1)}function r1(p,h){const m=Vi();let x;const n=p+20;m.firstCreatePass?(x=function(p,h){if(h)for(let m=h.length-1;m>=0;m--){const x=h[m];if(p===x.name)return x}throw new Qe("302",`The pipe '${p}' could not be found!`)}(h,m.pipeRegistry),m.data[n]=x,x.onDestroy&&(m.destroyHooks||(m.destroyHooks=[])).push(n,x.onDestroy)):x=m.data[n];const r=x.factory||(x.factory=tf(x.type)),i=Ui(vh);try{const s=dC(!1),c=r();return dC(s),function(p,h,m,x){m>=p.data.length&&(p.data[m]=null,p.blueprint[m]=null),h[m]=x}(m,an(),n,c),c}finally{Ui(i)}}function ox(p,h,m){const x=p+20,n=an(),r=wv(n,x);return function(p,h){Iu.isWrapped(h)&&(h=Iu.unwrap(h),p[md()]=Cr);return h}(n,function(p,h){return p[1].data[h].pure}(n,x)?e1(n,Da(),h,r.transform,m,r):r.transform(m))}function Hd(p){return h=>{setTimeout(p,void 0,h)}}const Zu=class extends A.xQ{constructor(h=!1){super(),this.__isAsync=h}emit(h){super.next(h)}subscribe(h,m,x){var n,r,i;let s=h,c=m||(()=>null),u=x;if(h&&"object"==typeof h){const v=h;s=null===(n=v.next)||void 0===n?void 0:n.bind(v),c=null===(r=v.error)||void 0===r?void 0:r.bind(v),u=null===(i=v.complete)||void 0===i?void 0:i.bind(v)}this.__isAsync&&(c=Hd(c),s&&(s=Hd(s)),u&&(u=Hd(u)));const f=super.subscribe({next:s,error:c,complete:u});return h instanceof oe.w&&h.add(f),f}};function p0(){return this._results[dm()]()}class qm{constructor(h=!1){this._emitDistinctChangesOnly=h,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const m=dm(),x=qm.prototype;x[m]||(x[m]=p0)}get changes(){return this._changes||(this._changes=new Zu)}get(h){return this._results[h]}map(h){return this._results.map(h)}filter(h){return this._results.filter(h)}find(h){return this._results.find(h)}reduce(h,m){return this._results.reduce(h,m)}forEach(h){this._results.forEach(h)}some(h){return this._results.some(h)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(h,m){const x=this;x.dirty=!1;const n=Ts(h);(this._changesDetected=!function(p,h,m){if(p.length!==h.length)return!1;for(let x=0;x<p.length;x++){let n=p[x],r=h[x];if(m&&(n=m(n),r=m(r)),r!==n)return!1}return!0}(x._results,n,m))&&(x._results=n,x.length=n.length,x.last=n[this.length-1],x.first=n[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class El{constructor(h){this.queryList=h,this.matches=null}clone(){return new El(this.queryList)}setDirty(){this.queryList.setDirty()}}class h0{constructor(h=[]){this.queries=h}createEmbeddedView(h){const m=h.queries;if(null!==m){const x=null!==h.contentQueries?h.contentQueries[0]:m.length,n=[];for(let r=0;r<x;r++){const i=m.getByIndex(r);n.push(this.queries[i.indexInDeclarationView].clone())}return new h0(n)}return null}insertView(h){this.dirtyQueriesWithMatches(h)}detachView(h){this.dirtyQueriesWithMatches(h)}dirtyQueriesWithMatches(h){for(let m=0;m<this.queries.length;m++)null!==cx(h,m).matches&&this.queries[m].setDirty()}}class ax{constructor(h,m,x=null){this.predicate=h,this.flags=m,this.read=x}}class Gp{constructor(h=[]){this.queries=h}elementStart(h,m){for(let x=0;x<this.queries.length;x++)this.queries[x].elementStart(h,m)}elementEnd(h){for(let m=0;m<this.queries.length;m++)this.queries[m].elementEnd(h)}embeddedTView(h){let m=null;for(let x=0;x<this.length;x++){const n=null!==m?m.length:0,r=this.getByIndex(x).embeddedTView(h,n);r&&(r.indexInDeclarationView=x,null!==m?m.push(r):m=[r])}return null!==m?new Gp(m):null}template(h,m){for(let x=0;x<this.queries.length;x++)this.queries[x].template(h,m)}getByIndex(h){return this.queries[h]}get length(){return this.queries.length}track(h){this.queries.push(h)}}class zO{constructor(h,m=-1){this.metadata=h,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=m}elementStart(h,m){this.isApplyingToNode(m)&&this.matchTNode(h,m)}elementEnd(h){this._declarationNodeIndex===h.index&&(this._appliesToNextNode=!1)}template(h,m){this.elementStart(h,m)}embeddedTView(h,m){return this.isApplyingToNode(h)?(this.crossesNgTemplate=!0,this.addMatch(-h.index,m),new zO(this.metadata)):null}isApplyingToNode(h){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const m=this._declarationNodeIndex;let x=h.parent;for(;null!==x&&8&x.type&&x.index!==m;)x=x.parent;return m===(null!==x?x.index:-1)}return this._appliesToNextNode}matchTNode(h,m){const x=this.metadata.predicate;if(Array.isArray(x))for(let n=0;n<x.length;n++){const r=x[n];this.matchTNodeWithReadOption(h,m,j5(m,r)),this.matchTNodeWithReadOption(h,m,ao(m,h,r,!1,!1))}else x===qu?4&m.type&&this.matchTNodeWithReadOption(h,m,-1):this.matchTNodeWithReadOption(h,m,ao(m,h,x,!1,!1))}matchTNodeWithReadOption(h,m,x){if(null!==x){const n=this.metadata.read;if(null!==n)if(n===ac||n===Rm||n===qu&&4&m.type)this.addMatch(m.index,-2);else{const r=ao(m,h,n,!1,!1);null!==r&&this.addMatch(m.index,r)}else this.addMatch(m.index,x)}}addMatch(h,m){null===this.matches?this.matches=[h,m]:this.matches.push(h,m)}}function j5(p,h){const m=p.localNames;if(null!==m)for(let x=0;x<m.length;x+=2)if(m[x]===h)return m[x+1];return null}function Va(p,h,m,x){return-1===m?function(p,h){return 11&p.type?Th(p,h):4&p.type?jy(p,h):null}(h,p):-2===m?function(p,h,m){return m===ac?Th(h,p):m===qu?jy(h,p):m===Rm?X_(h,p):void 0}(p,h,x):_d(p,p[1],m,h)}function UA(p,h,m,x){const n=h[19].queries[x];if(null===n.matches){const r=p.data,i=m.matches,s=[];for(let c=0;c<i.length;c+=2){const u=i[c];s.push(u<0?null:Va(h,r[u],i[c+1],m.metadata.read))}n.matches=s}return n.matches}function a1(p,h,m,x){const n=p.queries.getByIndex(m),r=n.matches;if(null!==r){const i=UA(p,h,n,m);for(let s=0;s<r.length;s+=2){const c=r[s];if(c>0)x.push(i[s/2]);else{const u=r[s+1],f=h[-c];for(let v=10;v<f.length;v++){const _=f[v];_[17]===_[3]&&a1(_[1],_,u,x)}if(null!==f[9]){const v=f[9];for(let _=0;_<v.length;_++){const y=v[_];a1(y[1],y,u,x)}}}}}return x}function Ir(p){const h=an(),m=Vi(),x=EE();cb(x+1);const n=cx(m,x);if(p.dirty&&tD(h)===(2==(2&n.metadata.flags))){if(null===n.matches)p.reset([]);else{const r=n.crossesNgTemplate?a1(m,h,x,[]):UA(m,h,n,x);p.reset(r,lA),p.notifyOnChanges()}return!0}return!1}function c1(p,h,m,x){const n=Vi();if(n.firstCreatePass){const r=vs();(function(p,h,m){null===p.queries&&(p.queries=new Gp),p.queries.track(new zO(h,m))})(n,new ax(h,m,x),r.index),function(p,h){const m=p.contentQueries||(p.contentQueries=[]);h!==(m.length?m[m.length-1]:-1)&&m.push(p.queries.length-1,h)}(n,p),2==(2&m)&&(n.staticContentQueries=!0)}!function(p,h,m){const x=new qm(4==(4&m));bS(p,h,x,x.destroy),null===h[19]&&(h[19]=new h0),h[19].queries.push(new El(x))}(n,an(),m)}function Vh(){return p=an(),h=EE(),p[19].queries[h].queryList;var p,h}function cx(p,h){return p.queries.getByIndex(h)}function Ca(p,h){return jy(p,h)}const x0=new zi("Application Initializer");let Hh=(()=>{class p{constructor(m){this.appInits=m,this.resolve=nu,this.reject=nu,this.initialized=!1,this.done=!1,this.donePromise=new Promise((x,n)=>{this.resolve=x,this.reject=n})}runInitializers(){if(this.initialized)return;const m=[],x=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const r=this.appInits[n]();if(Ac(r))m.push(r);else if(Ww(r)){const i=new Promise((s,c)=>{r.subscribe({complete:s,error:c})});m.push(i)}}Promise.all(m).then(()=>{x()}).catch(n=>{this.reject(n)}),0===m.length&&x(),this.initialized=!0}}return p.\u0275fac=function(m){return new(m||p)(Gs(x0,8))},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();const n2=new zi("AppId"),Q5={provide:n2,useFactory:function(){return`${Jm()}${Jm()}${Jm()}`},deps:[]};function Jm(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Zf=new zi("Platform Initializer"),tv=new zi("Platform ID"),r2=new zi("appBootstrapListener");let Sl=(()=>{class p{log(m){console.log(m)}warn(m){console.warn(m)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();const Qf=new zi("LocaleId"),Rr=new zi("DefaultCurrencyCode");class n3{constructor(h,m){this.ngModuleFactory=h,this.componentFactories=m}}const y1=function(p){return new QM(p)},r3=y1,o3=function(p){return Promise.resolve(y1(p))},_x=function(p){const h=y1(p),x=Cc(Vc(p).declarations).reduce((n,r)=>{const i=As(r);return i&&n.push(new a0(i)),n},[]);return new n3(h,x)},s3=_x,bx=function(p){return Promise.resolve(_x(p))};let C0=(()=>{class p{constructor(){this.compileModuleSync=r3,this.compileModuleAsync=o3,this.compileModuleAndAllComponentsSync=s3,this.compileModuleAndAllComponentsAsync=bx}clearCache(){}clearCacheFor(m){}getModuleId(m){}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();const u3=(()=>Promise.resolve(0))();function yx(p){"undefined"==typeof Zone?u3.then(()=>{p&&p.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",p)}class za{constructor({enableLongStackTrace:h=!1,shouldCoalesceEventChangeDetection:m=!1,shouldCoalesceRunChangeDetection:x=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Zu(!1),this.onMicrotaskEmpty=new Zu(!1),this.onStable=new Zu(!1),this.onError=new Zu(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const n=this;n._nesting=0,n._outer=n._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(n._inner=n._inner.fork(new Zone.TaskTrackingZoneSpec)),h&&Zone.longStackTraceZoneSpec&&(n._inner=n._inner.fork(Zone.longStackTraceZoneSpec)),n.shouldCoalesceEventChangeDetection=!x&&m,n.shouldCoalesceRunChangeDetection=x,n.lastRequestAnimationFrameId=-1,n.nativeRequestAnimationFrame=function(){let p=Eo.requestAnimationFrame,h=Eo.cancelAnimationFrame;if("undefined"!=typeof Zone&&p&&h){const m=p[Zone.__symbol__("OriginalDelegate")];m&&(p=m);const x=h[Zone.__symbol__("OriginalDelegate")];x&&(h=x)}return{nativeRequestAnimationFrame:p,nativeCancelAnimationFrame:h}}().nativeRequestAnimationFrame,function(p){const h=()=>{!function(p){p.isCheckStableRunning||-1!==p.lastRequestAnimationFrameId||(p.lastRequestAnimationFrameId=p.nativeRequestAnimationFrame.call(Eo,()=>{p.fakeTopEventTask||(p.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{p.lastRequestAnimationFrameId=-1,Cx(p),p.isCheckStableRunning=!0,xx(p),p.isCheckStableRunning=!1},void 0,()=>{},()=>{})),p.fakeTopEventTask.invoke()}),Cx(p))}(p)};p._inner=p._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(m,x,n,r,i,s)=>{try{return Mx(p),m.invokeTask(n,r,i,s)}finally{(p.shouldCoalesceEventChangeDetection&&"eventTask"===r.type||p.shouldCoalesceRunChangeDetection)&&h(),x1(p)}},onInvoke:(m,x,n,r,i,s,c)=>{try{return Mx(p),m.invoke(n,r,i,s,c)}finally{p.shouldCoalesceRunChangeDetection&&h(),x1(p)}},onHasTask:(m,x,n,r)=>{m.hasTask(n,r),x===n&&("microTask"==r.change?(p._hasPendingMicrotasks=r.microTask,Cx(p),xx(p)):"macroTask"==r.change&&(p.hasPendingMacrotasks=r.macroTask))},onHandleError:(m,x,n,r)=>(m.handleError(n,r),p.runOutsideAngular(()=>p.onError.emit(r)),!1)})}(n)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!za.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(za.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(h,m,x){return this._inner.run(h,m,x)}runTask(h,m,x,n){const r=this._inner,i=r.scheduleEventTask("NgZoneEvent: "+n,h,nv,nu,nu);try{return r.runTask(i,m,x)}finally{r.cancelTask(i)}}runGuarded(h,m,x){return this._inner.runGuarded(h,m,x)}runOutsideAngular(h){return this._outer.run(h)}}const nv={};function xx(p){if(0==p._nesting&&!p.hasPendingMicrotasks&&!p.isStable)try{p._nesting++,p.onMicrotaskEmpty.emit(null)}finally{if(p._nesting--,!p.hasPendingMicrotasks)try{p.runOutsideAngular(()=>p.onStable.emit(null))}finally{p.isStable=!0}}}function Cx(p){p.hasPendingMicrotasks=!!(p._hasPendingMicrotasks||(p.shouldCoalesceEventChangeDetection||p.shouldCoalesceRunChangeDetection)&&-1!==p.lastRequestAnimationFrameId)}function Mx(p){p._nesting++,p.isStable&&(p.isStable=!1,p.onUnstable.emit(null))}function x1(p){p._nesting--,xx(p)}class iv{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Zu,this.onMicrotaskEmpty=new Zu,this.onStable=new Zu,this.onError=new Zu}run(h,m,x){return h.apply(m,x)}runGuarded(h,m,x){return h.apply(m,x)}runOutsideAngular(h){return h()}runTask(h,m,x,n){return h.apply(m,x)}}let o2=(()=>{class p{constructor(m){this._ngZone=m,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),m.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{za.assertNotInAngularZone(),yx(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())yx(()=>{for(;0!==this._callbacks.length;){let m=this._callbacks.pop();clearTimeout(m.timeoutId),m.doneCb(this._didWork)}this._didWork=!1});else{let m=this.getPendingTasks();this._callbacks=this._callbacks.filter(x=>!x.updateCb||!x.updateCb(m)||(clearTimeout(x.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(m=>({source:m.source,creationLocation:m.creationLocation,data:m.data})):[]}addCallback(m,x,n){let r=-1;x&&x>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(i=>i.timeoutId!==r),m(this._didWork,this.getPendingTasks())},x)),this._callbacks.push({doneCb:m,timeoutId:r,updateCb:n})}whenStable(m,x,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(m,x,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(m,x,n){return[]}}return p.\u0275fac=function(m){return new(m||p)(Gs(za))},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})(),Px=(()=>{class p{constructor(){this._applications=new Map,s2.addToWindow(this)}registerApplication(m,x){this._applications.set(m,x)}unregisterApplication(m){this._applications.delete(m)}unregisterAllApplications(){this._applications.clear()}getTestability(m){return this._applications.get(m)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(m,x=!0){return s2.findTestabilityInTree(this,m,x)}}return p.\u0275fac=function(m){return new(m||p)},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();class p3{addToWindow(h){}findTestabilityInTree(h,m,x){return null}}function C1(p){s2=p}let s2=new p3,h3=!0,Rc=!1;function wx(){return Rc=!0,h3}function a2(){if(Rc)throw new Error("Cannot enable prod mode after platform setup.");h3=!1}let io;const p2=new zi("AllowMultipleToken");class oI{constructor(h,m){this.name=h,this.token=m}}function P0(p,h,m=[]){const x=`Platform: ${h}`,n=new zi(x);return(r=[])=>{let i=P1();if(!i||i.injector.get(p2,!1))if(p)p(m.concat(r).concat({provide:n,useValue:!0}));else{const s=m.concat(r).concat({provide:n,useValue:!0},{provide:_p,useValue:"platform"});!function(p){if(io&&!io.destroyed&&!io.injector.get(p2,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");io=p.get(Jf);const h=p.get(Zf,null);h&&h.forEach(m=>m())}(No.create({providers:s,name:x}))}return function(p){const h=P1();if(!h)throw new Error("No platform exists!");if(!h.injector.get(p,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return h}(n)}}function P1(){return io&&!io.destroyed?io:null}let Jf=(()=>{class p{constructor(m){this._injector=m,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(m,x){const s=function(p,h){let m;return m="noop"===p?new iv:("zone.js"===p?void 0:p)||new za({enableLongStackTrace:wx(),shouldCoalesceEventChangeDetection:!!(null==h?void 0:h.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==h?void 0:h.ngZoneRunCoalescing)}),m}(x?x.ngZone:void 0,{ngZoneEventCoalescing:x&&x.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:x&&x.ngZoneRunCoalescing||!1}),c=[{provide:za,useValue:s}];return s.run(()=>{const u=No.create({providers:c,parent:this.injector,name:m.moduleType.name}),f=m.create(u),v=f.injector.get(Gg,null);if(!v)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return s.runOutsideAngular(()=>{const _=s.onError.subscribe({next:y=>{v.handleError(y)}});f.onDestroy(()=>{O0(this._modules,f),_.unsubscribe()})}),function(p,h,m){try{const x=m();return Ac(x)?x.catch(n=>{throw h.runOutsideAngular(()=>p.handleError(n)),n}):x}catch(x){throw h.runOutsideAngular(()=>p.handleError(x)),x}}(v,s,()=>{const _=f.injector.get(Hh);return _.runInitializers(),_.donePromise.then(()=>(Tm(f.injector.get(Qf,zo)||zo),this._moduleDoBootstrap(f),f))})})}bootstrapModule(m,x=[]){const n=f2({},x);return function(p,h,m){const x=new QM(m);return Promise.resolve(x)}(0,0,m).then(r=>this.bootstrapModuleFactory(r,n))}_moduleDoBootstrap(m){const x=m.injector.get(Do);if(m._bootstrapComponents.length>0)m._bootstrapComponents.forEach(n=>x.bootstrap(n));else{if(!m.instance.ngDoBootstrap)throw new Error(`The module ${Rt(m.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);m.instance.ngDoBootstrap(x)}this._modules.push(m)}onDestroy(m){this._destroyListeners.push(m)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(m=>m.destroy()),this._destroyListeners.forEach(m=>m()),this._destroyed=!0}get destroyed(){return this._destroyed}}return p.\u0275fac=function(m){return new(m||p)(Gs(No))},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();function f2(p,h){return Array.isArray(h)?h.reduce(f2,p):Object.assign(Object.assign({},p),h)}let Do=(()=>{class p{constructor(m,x,n,r,i){this._zone=m,this._injector=x,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new Me.y(u=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{u.next(this._stable),u.complete()})}),c=new Me.y(u=>{let f;this._zone.runOutsideAngular(()=>{f=this._zone.onStable.subscribe(()=>{za.assertNotInAngularZone(),yx(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,u.next(!0))})})});const v=this._zone.onUnstable.subscribe(()=>{za.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{u.next(!1)}))});return()=>{f.unsubscribe(),v.unsubscribe()}});this.isStable=(0,we.T)(s,c.pipe((0,Jt.B)()))}bootstrap(m,x){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=m instanceof UM?m:this._componentFactoryResolver.resolveComponentFactory(m),this.componentTypes.push(n.componentType);const r=function(p){return p.isBoundToModule}(n)?void 0:this._injector.get($u),s=n.create(No.NULL,[],x||n.selector,r),c=s.location.nativeElement,u=s.injector.get(o2,null),f=u&&s.injector.get(Px);return u&&f&&f.registerApplication(c,u),s.onDestroy(()=>{this.detachView(s.hostView),O0(this.components,s),f&&f.unregisterApplication(c)}),this._loadComponent(s),s}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let m of this._views)m.detectChanges()}catch(m){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(m))}finally{this._runningTick=!1}}attachView(m){const x=m;this._views.push(x),x.attachToAppRef(this)}detachView(m){const x=m;O0(this._views,x),x.detachFromAppRef()}_loadComponent(m){this.attachView(m.hostView),this.tick(),this.components.push(m),this._injector.get(r2,[]).concat(this._bootstrapListeners).forEach(n=>n(m))}ngOnDestroy(){this._views.slice().forEach(m=>m.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return p.\u0275fac=function(m){return new(m||p)(Gs(za),Gs(No),Gs(Gg),Gs(Nd),Gs(Hh))},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();function O0(p,h){const m=p.indexOf(h);m>-1&&p.splice(m,1)}class E0{}class sI{}const tg={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let b3=(()=>{class p{constructor(m,x){this._compiler=m,this._config=x||tg}load(m){return this.loadAndCompile(m)}loadAndCompile(m){let[x,n]=m.split("#");return void 0===n&&(n="default"),ct(8255)(x).then(r=>r[n]).then(r=>m2(r,x,n)).then(r=>this._compiler.compileModuleAsync(r))}loadFactory(m){let[x,n]=m.split("#"),r="NgFactory";return void 0===n&&(n="default",r=""),ct(8255)(this._config.factoryPathPrefix+x+this._config.factoryPathSuffix).then(i=>i[n+r]).then(i=>m2(i,x,n))}}return p.\u0275fac=function(m){return new(m||p)(Gs(C0),Gs(sI,8))},p.\u0275prov=$i({token:p,factory:p.\u0275fac}),p})();function m2(p,h,m){if(!p)throw new Error(`Cannot find '${m}' in '${h}'`);return p}const x2=function(p){return null},pI=P0(null,"core",[{provide:tv,useValue:"unknown"},{provide:Jf,deps:[No]},{provide:Px,deps:[]},{provide:Sl,deps:[]}]),T0=[{provide:Do,useClass:Do,deps:[za,No,Gg,Nd,Hh]},{provide:ZM,deps:[za],useFactory:function(p){let h=[];return p.onStable.subscribe(()=>{for(;h.length;)h.pop()()}),function(m){h.push(m)}}},{provide:Hh,useClass:Hh,deps:[[new np,x0]]},{provide:C0,useClass:C0,deps:[]},Q5,{provide:Gi,useFactory:function(){return Y_},deps:[]},{provide:Cs,useFactory:function(){return gA},deps:[]},{provide:Qf,useFactory:function(p){return Tm(p=p||"undefined"!=typeof $localize&&$localize.locale||zo),p},deps:[[new kv(Qf),new np,new bd]]},{provide:Rr,useValue:"USD"}];let Ax=(()=>{class p{constructor(m){}}return p.\u0275fac=function(m){return new(m||p)(Gs(Do))},p.\u0275mod=Qp({type:p}),p.\u0275inj=Ko({providers:T0}),p})()},3572:(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{"use strict";__webpack_require__.d(__webpack_exports__,{FT:()=>StoreDevtoolsModule});var _angular_core__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(7716),_ngrx_store__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(4220),rxjs__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(9193),rxjs__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(7574),rxjs__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__(5917),rxjs__WEBPACK_IMPORTED_MODULE_15__=__webpack_require__(6682),rxjs__WEBPACK_IMPORTED_MODULE_18__=__webpack_require__(7771),rxjs__WEBPACK_IMPORTED_MODULE_19__=__webpack_require__(8229),rxjs_operators__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(8819),rxjs_operators__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(5435),rxjs_operators__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(8002),rxjs_operators__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(4612),rxjs_operators__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(2965),rxjs_operators__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(4395),rxjs_operators__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__(5304),rxjs_operators__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__(5257),rxjs_operators__WEBPACK_IMPORTED_MODULE_13__=__webpack_require__(6782),rxjs_operators__WEBPACK_IMPORTED_MODULE_14__=__webpack_require__(3190),rxjs_operators__WEBPACK_IMPORTED_MODULE_16__=__webpack_require__(3653),rxjs_operators__WEBPACK_IMPORTED_MODULE_17__=__webpack_require__(6136),rxjs_operators__WEBPACK_IMPORTED_MODULE_20__=__webpack_require__(7057),rxjs_operators__WEBPACK_IMPORTED_MODULE_21__=__webpack_require__(2145);class StoreDevtoolsConfig{constructor(){this.maxAge=!1}}const STORE_DEVTOOLS_CONFIG=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Options"),INITIAL_OPTIONS=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Initial Config");function noMonitor(){return null}const DEFAULT_NAME="NgRx Store DevTools";function createConfig(ie){const Ht={maxAge:!1,monitor:noMonitor,actionSanitizer:void 0,stateSanitizer:void 0,name:DEFAULT_NAME,serialize:!1,logOnly:!1,autoPause:!1,features:{pause:!0,lock:!0,persist:!0,export:!0,import:"custom",jump:!0,skip:!0,reorder:!0,dispatch:!0,test:!0}},ct="function"==typeof ie?ie():ie,Me=Object.assign({},Ht,{features:ct.features||!!ct.logOnly&&{pause:!0,export:!0,test:!0}||Ht.features},ct);if(Me.maxAge&&Me.maxAge<2)throw new Error(`Devtools 'maxAge' cannot be less than 2, got ${Me.maxAge}`);return Me}const PERFORM_ACTION="PERFORM_ACTION",REFRESH="REFRESH",RESET="RESET",ROLLBACK="ROLLBACK",COMMIT="COMMIT",SWEEP="SWEEP",TOGGLE_ACTION="TOGGLE_ACTION",SET_ACTIONS_ACTIVE="SET_ACTIONS_ACTIVE",JUMP_TO_STATE="JUMP_TO_STATE",JUMP_TO_ACTION="JUMP_TO_ACTION",IMPORT_STATE="IMPORT_STATE",LOCK_CHANGES="LOCK_CHANGES",PAUSE_RECORDING="PAUSE_RECORDING";class PerformAction{constructor(Ht,ct){if(this.action=Ht,this.timestamp=ct,this.type=PERFORM_ACTION,void 0===Ht.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?')}}class Refresh{constructor(){this.type=REFRESH}}class Reset{constructor(Ht){this.timestamp=Ht,this.type=RESET}}class Rollback{constructor(Ht){this.timestamp=Ht,this.type=ROLLBACK}}class Commit{constructor(Ht){this.timestamp=Ht,this.type=COMMIT}}class Sweep{constructor(){this.type=SWEEP}}class ToggleAction{constructor(Ht){this.id=Ht,this.type=TOGGLE_ACTION}}class SetActionsActive{constructor(Ht,ct,A=!0){this.start=Ht,this.end=ct,this.active=A,this.type=SET_ACTIONS_ACTIVE}}class JumpToState{constructor(Ht){this.index=Ht,this.type=JUMP_TO_STATE}}class JumpToAction{constructor(Ht){this.actionId=Ht,this.type=JUMP_TO_ACTION}}class ImportState{constructor(Ht){this.nextLiftedState=Ht,this.type=IMPORT_STATE}}class LockChanges{constructor(Ht){this.status=Ht,this.type=LOCK_CHANGES}}class PauseRecording{constructor(Ht){this.status=Ht,this.type=PAUSE_RECORDING}}let DevtoolsDispatcher=(()=>{class ie extends _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO{}return ie.\u0275fac=function(){let Ht;return function(A){return(Ht||(Ht=_angular_core__WEBPACK_IMPORTED_MODULE_0__.n5z(ie)))(A||ie)}}(),ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();function difference(ie,Ht){return ie.filter(ct=>Ht.indexOf(ct)<0)}function unliftState(ie){const{computedStates:Ht,currentStateIndex:ct}=ie;if(ct>=Ht.length){const{state:oe}=Ht[Ht.length-1];return oe}const{state:A}=Ht[ct];return A}function unliftAction(ie){return ie.actionsById[ie.nextActionId-1]}function liftAction(ie){return new PerformAction(ie,+Date.now())}function sanitizeActions(ie,Ht){return Object.keys(Ht).reduce((ct,A)=>{const oe=Number(A);return ct[oe]=sanitizeAction(ie,Ht[oe],oe),ct},{})}function sanitizeAction(ie,Ht,ct){return Object.assign(Object.assign({},Ht),{action:ie(Ht.action,ct)})}function sanitizeStates(ie,Ht){return Ht.map((ct,A)=>({state:sanitizeState(ie,ct.state,A),error:ct.error}))}function sanitizeState(ie,Ht,ct){return ie(Ht,ct)}function shouldFilterActions(ie){return ie.predicate||ie.actionsSafelist||ie.actionsBlocklist}function filterLiftedState(ie,Ht,ct,A){const oe=[],Me={},we=[];return ie.stagedActionIds.forEach((Jt,xt)=>{const qt=ie.actionsById[Jt];!qt||xt&&isActionFiltered(ie.computedStates[xt],qt,Ht,ct,A)||(Me[Jt]=qt,oe.push(Jt),we.push(ie.computedStates[xt]))}),Object.assign(Object.assign({},ie),{stagedActionIds:oe,actionsById:Me,computedStates:we})}function isActionFiltered(ie,Ht,ct,A,oe){const Me=ct&&!ct(ie,Ht.action),we=A&&!Ht.action.type.match(A.map(xt=>escapeRegExp(xt)).join("|")),Jt=oe&&Ht.action.type.match(oe.map(xt=>escapeRegExp(xt)).join("|"));return Me||we||Jt}function escapeRegExp(ie){return ie.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}const ExtensionActionTypes={START:"START",DISPATCH:"DISPATCH",STOP:"STOP",ACTION:"ACTION"},REDUX_DEVTOOLS_EXTENSION=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Redux Devtools Extension");let DevtoolsExtension=(()=>{class DevtoolsExtension{constructor(ie,Ht,ct){this.config=Ht,this.dispatcher=ct,this.devtoolsExtension=ie,this.createActionStreams()}notify(ie,Ht){if(this.devtoolsExtension)if(ie.type===PERFORM_ACTION){if(Ht.isLocked||Ht.isPaused)return;const ct=unliftState(Ht);if(shouldFilterActions(this.config)&&isActionFiltered(ct,ie,this.config.predicate,this.config.actionsSafelist,this.config.actionsBlocklist))return;const A=this.config.stateSanitizer?sanitizeState(this.config.stateSanitizer,ct,Ht.currentStateIndex):ct,oe=this.config.actionSanitizer?sanitizeAction(this.config.actionSanitizer,ie,Ht.nextActionId):ie;this.sendToReduxDevtools(()=>this.extensionConnection.send(oe,A))}else{const ct=Object.assign(Object.assign({},Ht),{stagedActionIds:Ht.stagedActionIds,actionsById:this.config.actionSanitizer?sanitizeActions(this.config.actionSanitizer,Ht.actionsById):Ht.actionsById,computedStates:this.config.stateSanitizer?sanitizeStates(this.config.stateSanitizer,Ht.computedStates):Ht.computedStates});this.sendToReduxDevtools(()=>this.devtoolsExtension.send(null,ct,this.getExtensionConfig(this.config)))}}createChangesObservable(){return this.devtoolsExtension?new rxjs__WEBPACK_IMPORTED_MODULE_3__.y(ie=>{const Ht=this.devtoolsExtension.connect(this.getExtensionConfig(this.config));return this.extensionConnection=Ht,Ht.init(),Ht.subscribe(ct=>ie.next(ct)),Ht.unsubscribe}):rxjs__WEBPACK_IMPORTED_MODULE_2__.E}createActionStreams(){const ie=this.createChangesObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_4__.B)()),Ht=ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Jt=>Jt.type===ExtensionActionTypes.START)),ct=ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Jt=>Jt.type===ExtensionActionTypes.STOP)),A=ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Jt=>Jt.type===ExtensionActionTypes.DISPATCH),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Jt=>this.unwrapAction(Jt.payload)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_7__.b)(Jt=>Jt.type===IMPORT_STATE?this.dispatcher.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(xt=>xt.type===_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_8__.V)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_9__.b)(1e3),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(()=>Jt),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_10__.K)(()=>(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Jt)),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_12__.q)(1)):(0,rxjs__WEBPACK_IMPORTED_MODULE_11__.of)(Jt))),Me=ie.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_5__.h)(Jt=>Jt.type===ExtensionActionTypes.ACTION),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Jt=>this.unwrapAction(Jt.payload))).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(ct)),we=A.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(ct));this.start$=Ht.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_13__.R)(ct)),this.actions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>Me)),this.liftedActions$=this.start$.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_14__.w)(()=>we))}unwrapAction(action){return"string"==typeof action?eval(`(${action})`):action}getExtensionConfig(ie){var Ht;const ct={name:ie.name,features:ie.features,serialize:ie.serialize,autoPause:null!==(Ht=ie.autoPause)&&void 0!==Ht&&Ht};return!1!==ie.maxAge&&(ct.maxAge=ie.maxAge),ct}sendToReduxDevtools(ie){try{ie()}catch(Ht){console.warn("@ngrx/store-devtools: something went wrong inside the redux devtools",Ht)}}}return DevtoolsExtension.\u0275fac=function(Ht){return new(Ht||DevtoolsExtension)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(REDUX_DEVTOOLS_EXTENSION),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher))},DevtoolsExtension.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:DevtoolsExtension,factory:DevtoolsExtension.\u0275fac}),DevtoolsExtension})();const INIT_ACTION={type:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg},RECOMPUTE="@ngrx/store-devtools/recompute",RECOMPUTE_ACTION={type:RECOMPUTE};function computeNextEntry(ie,Ht,ct,A,oe){if(A)return{state:ct,error:"Interrupted by an error up the chain"};let we,Me=ct;try{Me=ie(ct,Ht)}catch(Jt){we=Jt.toString(),oe.handleError(Jt)}return{state:Me,error:we}}function recomputeStates(ie,Ht,ct,A,oe,Me,we,Jt,xt){if(Ht>=ie.length&&ie.length===Me.length)return ie;const qt=ie.slice(0,Ht),Rt=Me.length-(xt?1:0);for(let Wt=Ht;Wt<Rt;Wt++){const yt=Me[Wt],Qt=oe[yt].action,St=qt[Wt-1],se=St?St.state:A,ln=St?St.error:void 0,on=we.indexOf(yt)>-1?St:computeNextEntry(ct,Qt,se,ln,Jt);qt.push(on)}return xt&&qt.push(ie[ie.length-1]),qt}function liftInitialState(ie,Ht){return{monitorState:Ht(void 0,{}),nextActionId:1,actionsById:{0:liftAction(INIT_ACTION)},stagedActionIds:[0],skippedActionIds:[],committedState:ie,currentStateIndex:0,computedStates:[],isLocked:!1,isPaused:!1}}function liftReducerWith(ie,Ht,ct,A,oe={}){return Me=>(we,Jt)=>{let{monitorState:xt,actionsById:qt,nextActionId:Rt,stagedActionIds:Wt,skippedActionIds:yt,committedState:Qt,currentStateIndex:St,computedStates:se,isLocked:ln,isPaused:Qe}=we||Ht;function on(Mn){let dr=Mn,es=Wt.slice(1,dr+1);for(let as=0;as<es.length;as++){if(se[as+1].error){dr=as,es=Wt.slice(1,dr+1);break}delete qt[es[as]]}yt=yt.filter(as=>-1===es.indexOf(as)),Wt=[0,...Wt.slice(dr+1)],Qt=se[dr].state,se=se.slice(dr),St=St>dr?St-dr:0}function vr(){qt={0:liftAction(INIT_ACTION)},Rt=1,Wt=[0],yt=[],Qt=se[St].state,St=0,se=[]}we||(qt=Object.create(qt));let sn=0;switch(Jt.type){case LOCK_CHANGES:ln=Jt.status,sn=1/0;break;case PAUSE_RECORDING:Qe=Jt.status,Qe?(Wt=[...Wt,Rt],qt[Rt]=new PerformAction({type:"@ngrx/devtools/pause"},+Date.now()),Rt++,sn=Wt.length-1,se=se.concat(se[se.length-1]),St===Wt.length-2&&St++,sn=1/0):vr();break;case RESET:qt={0:liftAction(INIT_ACTION)},Rt=1,Wt=[0],yt=[],Qt=ie,St=0,se=[];break;case COMMIT:vr();break;case ROLLBACK:qt={0:liftAction(INIT_ACTION)},Rt=1,Wt=[0],yt=[],St=0,se=[];break;case TOGGLE_ACTION:{const{id:Mn}=Jt;yt=-1===yt.indexOf(Mn)?[Mn,...yt]:yt.filter(es=>es!==Mn),sn=Wt.indexOf(Mn);break}case SET_ACTIONS_ACTIVE:{const{start:Mn,end:dr,active:es}=Jt,as=[];for(let fs=Mn;fs<dr;fs++)as.push(fs);yt=es?difference(yt,as):[...yt,...as],sn=Wt.indexOf(Mn);break}case JUMP_TO_STATE:St=Jt.index,sn=1/0;break;case JUMP_TO_ACTION:{const Mn=Wt.indexOf(Jt.actionId);-1!==Mn&&(St=Mn),sn=1/0;break}case SWEEP:Wt=difference(Wt,yt),yt=[],St=Math.min(St,Wt.length-1);break;case PERFORM_ACTION:{if(ln)return we||Ht;if(Qe||we&&isActionFiltered(we.computedStates[St],Jt,oe.predicate,oe.actionsSafelist,oe.actionsBlocklist)){const dr=se[se.length-1];se=[...se.slice(0,-1),computeNextEntry(Me,Jt.action,dr.state,dr.error,ct)],sn=1/0;break}oe.maxAge&&Wt.length===oe.maxAge&&on(1),St===Wt.length-1&&St++;const Mn=Rt++;qt[Mn]=Jt,Wt=[...Wt,Mn],sn=Wt.length-1;break}case IMPORT_STATE:({monitorState:xt,actionsById:qt,nextActionId:Rt,stagedActionIds:Wt,skippedActionIds:yt,committedState:Qt,currentStateIndex:St,computedStates:se,isLocked:ln,isPaused:Qe}=Jt.nextLiftedState);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.qg:sn=0,oe.maxAge&&Wt.length>oe.maxAge&&(se=recomputeStates(se,sn,Me,Qt,qt,Wt,yt,ct,Qe),on(Wt.length-oe.maxAge),sn=1/0);break;case _ngrx_store__WEBPACK_IMPORTED_MODULE_1__.wb:if(se.filter(dr=>dr.error).length>0)sn=0,oe.maxAge&&Wt.length>oe.maxAge&&(se=recomputeStates(se,sn,Me,Qt,qt,Wt,yt,ct,Qe),on(Wt.length-oe.maxAge),sn=1/0);else{if(!Qe&&!ln){St===Wt.length-1&&St++;const dr=Rt++;qt[dr]=new PerformAction(Jt,+Date.now()),Wt=[...Wt,dr],sn=Wt.length-1,se=recomputeStates(se,sn,Me,Qt,qt,Wt,yt,ct,Qe)}se=se.map(dr=>Object.assign(Object.assign({},dr),{state:Me(dr.state,RECOMPUTE_ACTION)})),St=Wt.length-1,oe.maxAge&&Wt.length>oe.maxAge&&on(Wt.length-oe.maxAge),sn=1/0}break;default:sn=1/0}return se=recomputeStates(se,sn,Me,Qt,qt,Wt,yt,ct,Qe),xt=A(xt,Jt),{monitorState:xt,actionsById:qt,nextActionId:Rt,stagedActionIds:Wt,skippedActionIds:yt,committedState:Qt,currentStateIndex:St,computedStates:se,isLocked:ln,isPaused:Qe}}}let StoreDevtools=(()=>{class ie{constructor(ct,A,oe,Me,we,Jt,xt,qt){const Rt=liftInitialState(xt,qt.monitor),Wt=liftReducerWith(xt,Rt,Jt,qt.monitor,qt),yt=(0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)((0,rxjs__WEBPACK_IMPORTED_MODULE_15__.T)(A.asObservable().pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_16__.T)(1)),Me.actions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(liftAction)),ct,Me.liftedActions$).pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_17__.QV)(rxjs__WEBPACK_IMPORTED_MODULE_18__.N)),Qt=oe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(Wt)),St=new rxjs__WEBPACK_IMPORTED_MODULE_19__.t(1),se=yt.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_20__.M)(Qt),(0,rxjs_operators__WEBPACK_IMPORTED_MODULE_21__.R)(({state:vr},[sn,Mn])=>{let dr=Mn(vr,sn);return sn.type!==PERFORM_ACTION&&shouldFilterActions(qt)&&(dr=filterLiftedState(dr,qt.predicate,qt.actionsSafelist,qt.actionsBlocklist)),Me.notify(sn,dr),{state:dr,action:sn}},{state:Rt,action:null})).subscribe(({state:vr,action:sn})=>{St.next(vr),sn.type===PERFORM_ACTION&&we.next(sn.action)}),ln=Me.start$.subscribe(()=>{this.refresh()}),Qe=St.asObservable(),on=Qe.pipe((0,rxjs_operators__WEBPACK_IMPORTED_MODULE_6__.U)(unliftState));this.extensionStartSubscription=ln,this.stateSubscription=se,this.dispatcher=ct,this.liftedState=Qe,this.state=on}dispatch(ct){this.dispatcher.next(ct)}next(ct){this.dispatcher.next(ct)}error(ct){}complete(){}performAction(ct){this.dispatch(new PerformAction(ct,+Date.now()))}refresh(){this.dispatch(new Refresh)}reset(){this.dispatch(new Reset(+Date.now()))}rollback(){this.dispatch(new Rollback(+Date.now()))}commit(){this.dispatch(new Commit(+Date.now()))}sweep(){this.dispatch(new Sweep)}toggleAction(ct){this.dispatch(new ToggleAction(ct))}jumpToAction(ct){this.dispatch(new JumpToAction(ct))}jumpToState(ct){this.dispatch(new JumpToState(ct))}importState(ct){this.dispatch(new ImportState(ct))}lockChanges(ct){this.dispatch(new LockChanges(ct))}pauseRecording(ct){this.dispatch(new PauseRecording(ct))}}return ie.\u0275fac=function(ct){return new(ct||ie)(_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsDispatcher),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.UO),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.n$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(DevtoolsExtension),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y$),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_angular_core__WEBPACK_IMPORTED_MODULE_0__.qLn),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.Y6),_angular_core__WEBPACK_IMPORTED_MODULE_0__.LFG(STORE_DEVTOOLS_CONFIG))},ie.\u0275prov=_angular_core__WEBPACK_IMPORTED_MODULE_0__.Yz7({token:ie,factory:ie.\u0275fac}),ie})();const IS_EXTENSION_OR_MONITOR_PRESENT=new _angular_core__WEBPACK_IMPORTED_MODULE_0__.OlP("@ngrx/store-devtools Is Devtools Extension or Monitor Present");function createIsExtensionOrMonitorPresent(ie,Ht){return Boolean(ie)||Ht.monitor!==noMonitor}function createReduxDevtoolsExtension(){const ie="__REDUX_DEVTOOLS_EXTENSION__";return"object"==typeof window&&void 0!==window[ie]?window[ie]:null}function createStateObservable(ie){return ie.state}let StoreDevtoolsModule=(()=>{class ie{static instrument(ct={}){return{ngModule:ie,providers:[DevtoolsExtension,DevtoolsDispatcher,StoreDevtools,{provide:INITIAL_OPTIONS,useValue:ct},{provide:IS_EXTENSION_OR_MONITOR_PRESENT,deps:[REDUX_DEVTOOLS_EXTENSION,STORE_DEVTOOLS_CONFIG],useFactory:createIsExtensionOrMonitorPresent},{provide:REDUX_DEVTOOLS_EXTENSION,useFactory:createReduxDevtoolsExtension},{provide:STORE_DEVTOOLS_CONFIG,deps:[INITIAL_OPTIONS],useFactory:createConfig},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.FR,deps:[StoreDevtools],useFactory:createStateObservable},{provide:_ngrx_store__WEBPACK_IMPORTED_MODULE_1__.mK,useExisting:DevtoolsDispatcher}]}}}return ie.\u0275fac=function(ct){return new(ct||ie)},ie.\u0275mod=_angular_core__WEBPACK_IMPORTED_MODULE_0__.oAB({type:ie}),ie.\u0275inj=_angular_core__WEBPACK_IMPORTED_MODULE_0__.cJS({}),ie})()},4220:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{UO:()=>fs,qg:()=>as,Y6:()=>Js,mK:()=>Bt,n$:()=>ae,Y$:()=>yi,FR:()=>Oo,yh:()=>bv,Aw:()=>vu,wb:()=>fn,PH:()=>sn,ZF:()=>ob,Lq:()=>Kx,P1:()=>Cv,on:()=>bo,Ky:()=>Mn,Ys:()=>Bn});var A=ct(7716),oe=ct(6215),Me=ct(7574),we=ct(9765),Jt=ct(7771),xt=ct(8002),Wt=ct(7393);class Qt{constructor(Se,ue){this.compare=Se,this.keySelector=ue}call(Se,ue){return ue.subscribe(new St(Se,this.compare,this.keySelector))}}class St extends Wt.L{constructor(Se,ue,Ae){super(Se),this.keySelector=Ae,this.hasKey=!1,"function"==typeof ue&&(this.compare=ue)}compare(Se,ue){return Se===ue}_next(Se){let ue;try{const{keySelector:Ie}=this;ue=Ie?Ie(Se):Se}catch(Ie){return this.destination.error(Ie)}let Ae=!1;if(this.hasKey)try{const{compare:Ie}=this;Ae=Ie(this.key,ue)}catch(Ie){return this.destination.error(Ie)}else this.hasKey=!0;Ae||(this.key=ue,this.destination.next(Se))}}var se=ct(6136),ln=ct(7057),Qe=ct(2145);const on={};function sn(Vt,Se){if(on[Vt]=(on[Vt]||0)+1,"function"==typeof Se)return es(Vt,(...Ae)=>Object.assign(Object.assign({},Se(...Ae)),{type:Vt}));switch(Se?Se._as:"empty"){case"empty":return es(Vt,()=>({type:Vt}));case"props":return es(Vt,Ae=>Object.assign(Object.assign({},Ae),{type:Vt}));default:throw new Error("Unexpected config.")}}function Mn(){return{_as:"props",_p:void 0}}function es(Vt,Se){return Object.defineProperty(Se,"type",{value:Vt,writable:!1})}const as="@ngrx/store/init";let fs=(()=>{class Vt extends oe.X{constructor(){super({type:as})}next(ue){if("function"==typeof ue)throw new TypeError("\n        Dispatch expected an object, instead it received a function.\n        If you're using the createAction function, make sure to invoke the function\n        before dispatching the action. For example, someAction should be someAction().");if(void 0===ue)throw new TypeError("Actions must be objects");if(void 0===ue.type)throw new TypeError("Actions must have a type property");super.next(ue)}complete(){}ngOnDestroy(){super.complete()}}return Vt.\u0275fac=function(ue){return new(ue||Vt)},Vt.\u0275prov=A.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const wa=[fs],pg=new A.OlP("@ngrx/store Internal Root Guard"),hg=new A.OlP("@ngrx/store Internal Initial State"),Js=new A.OlP("@ngrx/store Initial State"),Qi=new A.OlP("@ngrx/store Reducer Factory"),ns=new A.OlP("@ngrx/store Internal Reducer Factory Provider"),hi=new A.OlP("@ngrx/store Initial Reducers"),jo=new A.OlP("@ngrx/store Internal Initial Reducers"),cr=new A.OlP("@ngrx/store Store Features"),fg=new A.OlP("@ngrx/store Internal Store Reducers"),gg=new A.OlP("@ngrx/store Internal Feature Reducers"),mg=new A.OlP("@ngrx/store Internal Feature Configs"),vv=new A.OlP("@ngrx/store Internal Store Features"),fi=new A.OlP("@ngrx/store Internal Feature Reducers Token"),oo=new A.OlP("@ngrx/store Feature Reducers"),fc=new A.OlP("@ngrx/store User Provided Meta Reducers"),_v=new A.OlP("@ngrx/store Meta Reducers"),Kh=new A.OlP("@ngrx/store Internal Resolved Meta Reducers"),$i=new A.OlP("@ngrx/store User Runtime Checks Config"),hu=new A.OlP("@ngrx/store Internal User Runtime Checks Config"),Ko=new A.OlP("@ngrx/store Internal Runtime Checks"),Oa=new A.OlP("@ngrx/store Check if Action types are unique");function qa(Vt,Se={}){const ue=Object.keys(Vt),Ae={};for(let ce=0;ce<ue.length;ce++){const ye=ue[ce];"function"==typeof Vt[ye]&&(Ae[ye]=Vt[ye])}const Ie=Object.keys(Ae);return function(ye,Wr){ye=void 0===ye?Se:ye;let J=!1;const xi={};for(let Ro=0;Ro<Ie.length;Ro++){const Si=Ie[Ro],ea=ye[Si],Ta=(0,Ae[Si])(ea,Wr);xi[Si]=Ta,J=J||Ta!==ea}return J?xi:ye}}function rb(...Vt){return function(Se){if(0===Vt.length)return Se;const ue=Vt[Vt.length-1];return Vt.slice(0,-1).reduceRight((Ie,ce)=>ce(Ie),ue(Se))}}function $d(Vt,Se){return Array.isArray(Se)&&Se.length>0&&(Vt=rb.apply(null,[...Se,Vt])),(ue,Ae)=>{const Ie=Vt(ue);return(ce,ye)=>Ie(ce=void 0===ce?Ae:ce,ye)}}class ae extends Me.y{}class Bt extends fs{}const fn="@ngrx/store/update-reducers";let ze=(()=>{class Vt extends oe.X{constructor(ue,Ae,Ie,ce){super(ce(Ie,Ae)),this.dispatcher=ue,this.initialState=Ae,this.reducers=Ie,this.reducerFactory=ce}get currentReducers(){return this.reducers}addFeature(ue){this.addFeatures([ue])}addFeatures(ue){const Ae=ue.reduce((Ie,{reducers:ce,reducerFactory:ye,metaReducers:Wr,initialState:J,key:xi})=>{const Ro="function"==typeof ce?function(Vt){const Se=Array.isArray(Vt)&&Vt.length>0?rb(...Vt):ue=>ue;return(ue,Ae)=>(ue=Se(ue),(Ie,ce)=>ue(Ie=void 0===Ie?Ae:Ie,ce))}(Wr)(ce,J):$d(ye,Wr)(ce,J);return Ie[xi]=Ro,Ie},{});this.addReducers(Ae)}removeFeature(ue){this.removeFeatures([ue])}removeFeatures(ue){this.removeReducers(ue.map(Ae=>Ae.key))}addReducer(ue,Ae){this.addReducers({[ue]:Ae})}addReducers(ue){this.reducers=Object.assign(Object.assign({},this.reducers),ue),this.updateReducers(Object.keys(ue))}removeReducer(ue){this.removeReducers([ue])}removeReducers(ue){ue.forEach(Ae=>{this.reducers=function(Vt,Se){return Object.keys(Vt).filter(ue=>ue!==Se).reduce((ue,Ae)=>Object.assign(ue,{[Ae]:Vt[Ae]}),{})}(this.reducers,Ae)}),this.updateReducers(ue)}updateReducers(ue){this.next(this.reducerFactory(this.reducers,this.initialState)),this.dispatcher.next({type:fn,features:ue})}ngOnDestroy(){this.complete()}}return Vt.\u0275fac=function(ue){return new(ue||Vt)(A.LFG(Bt),A.LFG(Js),A.LFG(hi),A.LFG(Qi))},Vt.\u0275prov=A.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const Pn=[ze,{provide:ae,useExisting:ze},{provide:Bt,useExisting:fs}];let yi=(()=>{class Vt extends we.xQ{ngOnDestroy(){this.complete()}}return Vt.\u0275fac=function(){let Se;return function(Ae){return(Se||(Se=A.n5z(Vt)))(Ae||Vt)}}(),Vt.\u0275prov=A.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const Ui=[yi];class Oo extends Me.y{}let Ea=(()=>{class Vt extends oe.X{constructor(ue,Ae,Ie,ce){super(ce);const xi=ue.pipe((0,se.QV)(Jt.N)).pipe((0,ln.M)(Ae)).pipe((0,Qe.R)($a,{state:ce}));this.stateSubscription=xi.subscribe(({state:Ro,action:Si})=>{this.next(Ro),Ie.next(Si)})}ngOnDestroy(){this.stateSubscription.unsubscribe(),this.complete()}}return Vt.\u0275fac=function(ue){return new(ue||Vt)(A.LFG(fs),A.LFG(ae),A.LFG(yi),A.LFG(Js))},Vt.\u0275prov=A.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt.INIT=as,Vt})();function $a(Vt={state:void 0},[Se,ue]){const{state:Ae}=Vt;return{state:ue(Ae,Se),action:Se}}const mo=[Ea,{provide:Oo,useExisting:Ea}];let bv=(()=>{class Vt extends Me.y{constructor(ue,Ae,Ie){super(),this.actionsObserver=Ae,this.reducerManager=Ie,this.source=ue}select(ue,...Ae){return Bn.call(null,ue,...Ae)(this)}lift(ue){const Ae=new Vt(this,this.actionsObserver,this.reducerManager);return Ae.operator=ue,Ae}dispatch(ue){this.actionsObserver.next(ue)}next(ue){this.actionsObserver.next(ue)}error(ue){this.actionsObserver.error(ue)}complete(){this.actionsObserver.complete()}addReducer(ue,Ae){this.reducerManager.addReducer(ue,Ae)}removeReducer(ue){this.reducerManager.removeReducer(ue)}}return Vt.\u0275fac=function(ue){return new(ue||Vt)(A.LFG(Oo),A.LFG(fs),A.LFG(ze))},Vt.\u0275prov=A.Yz7({token:Vt,factory:Vt.\u0275fac}),Vt})();const Ss=[bv];function Bn(Vt,Se,...ue){return function(Ie){let ce;if("string"==typeof Vt){const ye=[Se,...ue].filter(Boolean);ce=Ie.pipe(function(...Vt){const Se=Vt.length;if(0===Se)throw new Error("list of properties cannot be empty.");return ue=>(0,xt.U)(function(Vt,Se){return Ae=>{let Ie=Ae;for(let ce=0;ce<Se;ce++){const ye=null!=Ie?Ie[Vt[ce]]:void 0;if(void 0===ye)return;Ie=ye}return Ie}}(Vt,Se))(ue)}(Vt,...ye))}else{if("function"!=typeof Vt)throw new TypeError(`Unexpected type '${typeof Vt}' in select operator, expected 'string' or 'function'`);ce=Ie.pipe((0,xt.U)(ye=>Vt(ye,Se)))}return ce.pipe(ue=>ue.lift(new Qt(void 0,void 0)))}}const gc="https://ngrx.io/guide/store/configuration/runtime-checks";function gu(Vt){return void 0===Vt}function so(Vt){return null===Vt}function Eo(Vt){return Array.isArray(Vt)}function Ji(Vt){return"object"==typeof Vt&&null!==Vt}function Yd(Vt){return"function"==typeof Vt}function Xd(Vt,Se){return Vt===Se}function ib(Vt,Se,ue){for(let Ae=0;Ae<Vt.length;Ae++)if(!ue(Vt[Ae],Se[Ae]))return!0;return!1}function Zd(Vt,Se=Xd,ue=Xd){let ce,Ae=null,Ie=null;return{memoized:function(){if(void 0!==ce)return ce.result;if(!Ae)return Ie=Vt.apply(null,arguments),Ae=arguments,Ie;if(!ib(arguments,Ae,Se))return Ie;const Ro=Vt.apply(null,arguments);return Ae=arguments,ue(Ie,Ro)?Ie:(Ie=Ro,Ro)},reset:function(){Ae=null,Ie=null},setResult:function(Ro){ce={result:Ro}},clearResult:function(){ce=void 0}}}function Cv(...Vt){return function(Vt,Se={stateFn:Qp}){return function(...ue){let Ae=ue;if(Array.isArray(Ae[0])){const[Ro,...Si]=Ae;Ae=[...Ro,...Si]}const Ie=Ae.slice(0,Ae.length-1),ce=Ae[Ae.length-1],ye=Ie.filter(Ro=>Ro.release&&"function"==typeof Ro.release),Wr=Vt(function(...Ro){return ce.apply(null,Ro)}),J=Zd(function(Ro,Si){return Se.stateFn.apply(null,[Ro,Ie,Si,Wr])});return Object.assign(J.memoized,{release:function(){J.reset(),Wr.reset(),ye.forEach(Ro=>Ro.release())},projector:Wr.memoized,setResult:J.setResult,clearResult:J.clearResult})}}(Zd)(...Vt)}function Qp(Vt,Se,ue,Ae){if(void 0===ue){const ce=Se.map(ye=>ye(Vt));return Ae.memoized.apply(null,ce)}const Ie=Se.map(ce=>ce(Vt,ue));return Ae.memoized.apply(null,[...Ie,ue])}function ob(Vt){return Cv(Se=>{const ue=Se[Vt];return(0,A.X6Q)()&&!(Vt in Se)&&console.warn(`@ngrx/store: The feature name "${Vt}" does not exist in the state, therefore createFeatureSelector cannot access it.  Be sure it is imported in a loaded module using StoreModule.forRoot('${Vt}', ...) or StoreModule.forFeature('${Vt}', ...).  If the default state is intended to be undefined, as is the case with router state, this development-only warning message can be ignored.`),ue},Se=>Se)}function mc(Vt){Object.freeze(Vt);const Se=Yd(Vt);return Object.getOwnPropertyNames(Vt).forEach(ue=>{if(!ue.startsWith("\u0275")&&function(Vt,Se){return Object.prototype.hasOwnProperty.call(Vt,Se)}(Vt,ue)&&(!Se||"caller"!==ue&&"callee"!==ue&&"arguments"!==ue)){const Ae=Vt[ue];(Ji(Ae)||Yd(Ae))&&!Object.isFrozen(Ae)&&mc(Ae)}}),Vt}function Mv(Vt,Se=[]){return(gu(Vt)||so(Vt))&&0===Se.length?{path:["root"],value:Vt}:Object.keys(Vt).reduce((Ae,Ie)=>{if(Ae)return Ae;const ce=Vt[Ie];return function(Vt){return Yd(Vt)&&Vt.hasOwnProperty("\u0275cmp")}(ce)?Ae:!(gu(ce)||so(ce)||function(Vt){return"number"==typeof Vt}(ce)||function(Vt){return"boolean"==typeof Vt}(ce)||function(Vt){return"string"==typeof Vt}(ce)||Eo(ce))&&(function(Vt){if(!function(Vt){return Ji(Vt)&&!Eo(Vt)}(Vt))return!1;const Se=Object.getPrototypeOf(Vt);return Se===Object.prototype||null===Se}(ce)?Mv(ce,[...Se,Ie]):{path:[...Se,Ie],value:ce})},!1)}function Aa(Vt,Se){if(!1===Vt)return;const ue=Vt.path.join("."),Ae=new Error(`Detected unserializable ${Se} at "${ue}". ${gc}#strict${Se}serializability`);throw Ae.value=Vt.value,Ae.unserializablePath=ue,Ae}function gi(Vt){return(0,A.X6Q)()?Object.assign({strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!0,strictActionImmutability:!0,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1},Vt):{strictStateSerializability:!1,strictActionSerializability:!1,strictStateImmutability:!1,strictActionImmutability:!1,strictActionWithinNgZone:!1,strictActionTypeUniqueness:!1}}function Io({strictActionSerializability:Vt,strictStateSerializability:Se}){return ue=>Vt||Se?function(Vt,Se){return function(ue,Ae){Se.action(Ae)&&Aa(Mv(Ae),"action");const Ie=Vt(ue,Ae);return Se.state()&&Aa(Mv(Ie),"state"),Ie}}(ue,{action:Ae=>Vt&&!hd(Ae),state:()=>Se}):ue}function zc({strictActionImmutability:Vt,strictStateImmutability:Se}){return ue=>Vt||Se?function(Vt,Se){return function(ue,Ae){const Ie=Se.action(Ae)?mc(Ae):Ae,ce=Vt(ue,Ie);return Se.state()?mc(ce):ce}}(ue,{action:Ae=>Vt&&!hd(Ae),state:()=>Se}):ue}function hd(Vt){return Vt.type.startsWith("@ngrx")}function ta({strictActionWithinNgZone:Vt}){return Se=>Vt?function(Vt,Se){return function(ue,Ae){if(Se.action(Ae)&&!A.R0b.isInAngularZone())throw new Error(`Action '${Ae.type}' running outside NgZone. ${gc}#strictactionwithinngzone`);return Vt(ue,Ae)}}(Se,{action:ue=>Vt&&!hd(ue)}):Se}function fd(Vt){return[{provide:hu,useValue:Vt},{provide:$i,useFactory:Kd,deps:[hu]},{provide:Ko,deps:[$i],useFactory:gi},{provide:_v,multi:!0,deps:[Ko],useFactory:zc},{provide:_v,multi:!0,deps:[Ko],useFactory:Io},{provide:_v,multi:!0,deps:[Ko],useFactory:ta}]}function Qo(){return[{provide:Oa,multi:!0,deps:[Ko],useFactory:Qd}]}function Kd(Vt){return Vt}function Qd(Vt){if(!Vt.strictActionTypeUniqueness)return;const Se=Object.entries(on).filter(([,ue])=>ue>1).map(([ue])=>ue);if(Se.length)throw new Error(`Action types are registered more than once, ${Se.map(ue=>`"${ue}"`).join(", ")}. ${gc}#strictactiontypeuniqueness`)}let Ar=(()=>{class Vt{constructor(ue,Ae,Ie,ce,ye,Wr){}}return Vt.\u0275fac=function(ue){return new(ue||Vt)(A.LFG(fs),A.LFG(ae),A.LFG(yi),A.LFG(bv),A.LFG(pg,8),A.LFG(Oa,8))},Vt.\u0275mod=A.oAB({type:Vt}),Vt.\u0275inj=A.cJS({}),Vt})(),ol=(()=>{class Vt{constructor(ue,Ae,Ie,ce,ye){this.features=ue,this.featureReducers=Ae,this.reducerManager=Ie;const Wr=ue.map((J,xi)=>{const Si=Ae.shift()[xi];return Object.assign(Object.assign({},J),{reducers:Si,initialState:Nl(J.initialState)})});Ie.addFeatures(Wr)}ngOnDestroy(){this.reducerManager.removeFeatures(this.features)}}return Vt.\u0275fac=function(ue){return new(ue||Vt)(A.LFG(vv),A.LFG(oo),A.LFG(ze),A.LFG(Ar),A.LFG(Oa,8))},Vt.\u0275mod=A.oAB({type:Vt}),Vt.\u0275inj=A.cJS({}),Vt})(),vu=(()=>{class Vt{static forRoot(ue,Ae={}){return{ngModule:Ar,providers:[{provide:pg,useFactory:sl,deps:[[bv,new A.FiY,new A.tp0]]},{provide:hg,useValue:Ae.initialState},{provide:Js,useFactory:Nl,deps:[hg]},{provide:jo,useValue:ue},{provide:fg,useExisting:ue instanceof A.OlP?ue:jo},{provide:hi,deps:[A.zs3,jo,[new A.tBr(fg)]],useFactory:Pv},{provide:fc,useValue:Ae.metaReducers?Ae.metaReducers:[]},{provide:Kh,deps:[_v,fc],useFactory:Qh},{provide:ns,useValue:Ae.reducerFactory?Ae.reducerFactory:qa},{provide:Qi,deps:[ns,Kh],useFactory:$d},wa,Pn,Ui,mo,Ss,fd(Ae.runtimeChecks),Qo()]}}static forFeature(ue,Ae,Ie={}){return{ngModule:ol,providers:[{provide:mg,multi:!0,useValue:ue instanceof Object?{}:Ie},{provide:cr,multi:!0,useValue:{key:ue instanceof Object?ue.name:ue,reducerFactory:Ie instanceof A.OlP||!Ie.reducerFactory?qa:Ie.reducerFactory,metaReducers:Ie instanceof A.OlP||!Ie.metaReducers?[]:Ie.metaReducers,initialState:Ie instanceof A.OlP||!Ie.initialState?void 0:Ie.initialState}},{provide:vv,deps:[A.zs3,mg,cr],useFactory:bg},{provide:gg,multi:!0,useValue:ue instanceof Object?ue.reducer:Ae},{provide:fi,multi:!0,useExisting:Ae instanceof A.OlP?Ae:gg},{provide:oo,multi:!0,deps:[A.zs3,gg,[new A.tBr(fi)]],useFactory:Ya},Qo()]}}}return Vt.\u0275fac=function(ue){return new(ue||Vt)},Vt.\u0275mod=A.oAB({type:Vt}),Vt.\u0275inj=A.cJS({}),Vt})();function Pv(Vt,Se){return Se instanceof A.OlP?Vt.get(Se):Se}function bg(Vt,Se,ue){return ue.map((Ae,Ie)=>{if(Se[Ie]instanceof A.OlP){const ce=Vt.get(Se[Ie]);return{key:Ae.key,reducerFactory:ce.reducerFactory?ce.reducerFactory:qa,metaReducers:ce.metaReducers?ce.metaReducers:[],initialState:ce.initialState}}return Ae})}function Ya(Vt,Se){return Se.map(Ae=>Ae instanceof A.OlP?Vt.get(Ae):Ae)}function Nl(Vt){return"function"==typeof Vt?Vt():Vt}function Qh(Vt,Se){return Vt.concat(Se)}function sl(Vt){if(Vt)throw new TypeError("StoreModule.forRoot() called twice. Feature modules should use StoreModule.forFeature() instead.");return"guarded"}function bo(...Vt){return{reducer:Vt.pop(),types:Vt.map(Ae=>Ae.type)}}function Kx(Vt,...Se){const ue=new Map;for(const Ae of Se)for(const Ie of Ae.types){const ce=ue.get(Ie);ue.set(Ie,ce?(Wr,J)=>Ae.reducer(ce(Wr,J),J):Ae.reducer)}return function(Ae=Vt,Ie){const ce=ue.get(Ie.type);return ce?ce(Ae,Ie):Ae}}},6898:(ie,Ht,ct)=>{"use strict";var n,r,i;ct.r(Ht),ct.d(Ht,{Version:()=>x,StaticDatasource:()=>wI,MdsrvDatasource:()=>ck,Colormaker:()=>Ai,Selection:()=>Fo,PdbWriter:()=>eM,SdfWriter:()=>ty,StlWriter:()=>ey,Stage:()=>Wi,Collection:()=>Ua,ComponentCollection:()=>Pr,RepresentationCollection:()=>Hf,Assembly:()=>sc,TrajectoryPlayer:()=>po,Superposition:()=>K_,Queue:()=>bl,Counter:()=>Ed,BufferRepresentation:()=>_O,ArrowBuffer:()=>Vr,BoxBuffer:()=>dx,ConeBuffer:()=>lx,CylinderBuffer:()=>qf,EllipsoidBuffer:()=>p1,OctahedronBuffer:()=>hx,SphereBuffer:()=>zf,TetrahedronBuffer:()=>ZO,TextBuffer:()=>Uh,TorusBuffer:()=>Zm,Shape:()=>Ho,Structure:()=>_r,Kdtree:()=>Ah,SpatialHash:()=>xp,MolecularSurface:()=>Gp,Volume:()=>no,MouseActions:()=>Hr,KeyActions:()=>Fs,Debug:()=>Le,setDebug:()=>KD,ScriptExtensions:()=>MS,ColormakerRegistry:()=>Xr,DatasourceRegistry:()=>hh,DecompressorRegistry:()=>nm,ParserRegistry:()=>Gn,RepresentationRegistry:()=>mi,setListingDatasource:()=>PS,setTrajectoryDatasource:()=>JC,ListingDatasource:()=>bw,TrajectoryDatasource:()=>u_,autoLoad:()=>d_,getDataInfo:()=>xw,getFileInfo:()=>ia,superpose:()=>t0,guessElement:()=>VM,flatten:()=>sS,throttle:()=>cS,download:()=>sw,getQuery:()=>VD,uniqueArray:()=>gl,LeftMouseButton:()=>Rw,MiddleMouseButton:()=>kw,RightMouseButton:()=>e5,Signal:()=>Br,Matrix3:()=>xi,Matrix4:()=>ye,Vector2:()=>ce,Vector3:()=>J,Box3:()=>to,Quaternion:()=>Wr,Euler:()=>Ia,Plane:()=>Xa,Color:()=>cn,UIStageParameters:()=>h}),"undefined"!=typeof window&&function(){window.console=window.console||{};for(var r,i,n=window.console,s={},c=function(){},u="memory".split(","),f="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");r=u.pop();)n[r]||(n[r]=s);for(;i=f.pop();)n[i]||(n[i]=c)}(),void 0!==window.HTMLCanvasElement&&!window.HTMLCanvasElement.prototype.toBlob&&Object.defineProperty(window.HTMLCanvasElement.prototype,"toBlob",{value:function(n,r,i){for(var s=window.atob(this.toDataURL(r,i).split(",")[1]),c=s.length,u=c>>2,f=new Uint8Array(c),v=new Uint32Array(f.buffer,0,u),_=0,y=0;_<u;_++)v[_]=s.charCodeAt(y++)|s.charCodeAt(y++)<<8|s.charCodeAt(y++)<<16|s.charCodeAt(y++)<<24;for(var C=3&c;C--;)f[y]=s.charCodeAt(y++);n(new window.Blob([f],{type:r||"image/png"}))}}),Math.cbrt=Math.cbrt||function(n){var r=Math.pow(Math.abs(n),1/3);return n<0?-r:r},Math.sign||(Math.sign=function(n){return 0==(n=+n)||isNaN(n)?Number(n):n>0?1:-1}),Number.isInteger||(Number.isInteger=function(r){return"number"==typeof r&&isFinite(r)&&r>-9007199254740992&&r<9007199254740992&&Math.floor(r)===r}),Number.isNaN||(Number.isNaN=function(r){return r!=r}),Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:function(n){var r=arguments;if(null==n)throw new TypeError("Cannot convert first argument to object");for(var c,i=Object(n),s=!1,u=1;u<arguments.length;u++){var f=r[u];if(null!=f){for(var v=Object.keys(Object(f)),_=0,y=v.length;_<y;_++){var C=v[_];try{var P=Object.getOwnPropertyDescriptor(f,C);void 0!==P&&P.enumerable&&(i[C]=f[C])}catch(w){s||(s=!0,c=w)}}if(s)throw c}}return i}}),String.prototype.startsWith||(n=function(){var s;try{var c={},u=Object.defineProperty;s=u(c,c,c)&&u}catch(f){}return s}(),r={}.toString,i=function(s){if(null===this)throw TypeError();var c=String(this);if(s&&"[object RegExp]"===r.call(s))throw TypeError();var u=c.length,f=String(s),v=f.length,_=arguments.length>1?arguments[1]:void 0,y=_?Number(_):0;Number.isNaN(y)&&(y=0);var C=Math.min(Math.max(y,0),u);if(v+C>u)return!1;for(var P=-1;++P<v;)if(c.charCodeAt(C+P)!==f.charCodeAt(P))return!1;return!0},n?n(String.prototype,"startsWith",{value:i,configurable:!0,writable:!0}):String.prototype.startsWith=i),String.prototype.endsWith||(String.prototype.endsWith=function(n,r){var i=this.toString();("number"!=typeof r||!isFinite(r)||Math.floor(r)!==r||r>i.length)&&(r=i.length);var s=i.indexOf(n,r-=n.length);return-1!==s&&s===r}),String.prototype.repeat||(String.prototype.repeat=function(n){if(null===this)throw new TypeError("can't convert "+this+" to object");var r=""+this;if(n=+n,Number.isNaN(n)&&(n=0),n<0)throw new RangeError("repeat count must be non-negative");if(n===1/0)throw new RangeError("repeat count must be less than infinity");if(n=Math.floor(n),0===r.length||0===n)return"";if(r.length*n>=1<<28)throw new RangeError("repeat count must not overflow maximum string size");for(var i="";1==(1&n)&&(i+=r),0!=(n>>>=1);)r+=r;return i}),String.prototype.includes||(String.prototype.includes=function(n,r){return"number"!=typeof r&&(r=0),!(r+n.length>this.length)&&-1!==this.indexOf(n,r)}),Array.prototype.includes||(Array.prototype.includes=function(n){if(null==this)throw new TypeError("Array.prototype.includes called on null or undefined");var r=Object(this),i=parseInt(r.length,10)||0;if(0===i)return!1;var c,u,s=parseInt(arguments[1],10)||0;for(s>=0?c=s:(c=i+s)<0&&(c=0);c<i;){if(n===(u=r[c])||Number.isNaN(n)&&Number.isNaN(u))return!0;c++}return!1}),Array.from||(Array.from=function(){var n=Object.prototype.toString,r=function(u){return"function"==typeof u||"[object Function]"===n.call(u)},s=Math.pow(2,53)-1,c=function(u){var f=function(u){var f=Number(u);return isNaN(f)?0:0!==f&&isFinite(f)?(f>0?1:-1)*Math.floor(Math.abs(f)):f}(u);return Math.min(Math.max(f,0),s)};return function(f){var v=this,_=Object(f);if(null==f)throw new TypeError("Array.from requires an array-like object - not null or undefined");var C,y=arguments.length>1?arguments[1]:void 0;if(void 0!==y){if(!r(y))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(C=arguments[2])}for(var S,P=c(_.length),w=r(v)?Object(new v(P)):new Array(P),E=0;E<P;)S=_[E],w[E]=y?void 0===C?y(S,E):y.call(C,S,E):S,E+=1;return w.length=P,w}}()),"undefined"!=typeof window&&function(){for(var n=0,r=["ms","moz","webkit","o"],i=0;i<r.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[r[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[r[i]+"CancelAnimationFrame"]||window[r[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(s){var c=(new Date).getTime(),u=Math.max(0,16-(c-n)),f=window.setTimeout(function(){s(c+u)},u);return n=c+u,f}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(s){clearTimeout(s)})}(),void 0===Function.prototype.name&&void 0!==Object.defineProperty&&Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*(\S*)\s*\(/)[1]}}),"undefined"!=typeof window&&(void 0===window.performance&&(self.performance={}),void 0===window.performance.now&&function(){var n=Date.now();window.performance.now=function(){return Date.now()-n}}());var A="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function oe(n,r){return n(r={exports:{}},r.exports),r.exports}var Me=oe(function(n){!function(r){var i=setTimeout;function s(){}function u(w){if(!(this instanceof u))throw new TypeError("Promises must be constructed via new");if("function"!=typeof w)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],P(w,this)}function f(w,E){for(;3===w._state;)w=w._value;0!==w._state?(w._handled=!0,u._immediateFn(function(){var S=1===w._state?E.onFulfilled:E.onRejected;if(null!==S){var I;try{I=S(w._value)}catch(L){return void _(E.promise,L)}v(E.promise,I)}else(1===w._state?v:_)(E.promise,w._value)})):w._deferreds.push(E)}function v(w,E){try{if(E===w)throw new TypeError("A promise cannot be resolved with itself.");if(E&&("object"==typeof E||"function"==typeof E)){var S=E.then;if(E instanceof u)return w._state=3,w._value=E,void y(w);if("function"==typeof S)return void P(function(w,E){return function(){w.apply(E,arguments)}}(S,E),w)}w._state=1,w._value=E,y(w)}catch(I){_(w,I)}}function _(w,E){w._state=2,w._value=E,y(w)}function y(w){2===w._state&&0===w._deferreds.length&&u._immediateFn(function(){w._handled||u._unhandledRejectionFn(w._value)});for(var E=0,S=w._deferreds.length;E<S;E++)f(w,w._deferreds[E]);w._deferreds=null}function C(w,E,S){this.onFulfilled="function"==typeof w?w:null,this.onRejected="function"==typeof E?E:null,this.promise=S}function P(w,E){var S=!1;try{w(function(I){S||(S=!0,v(E,I))},function(I){S||(S=!0,_(E,I))})}catch(I){if(S)return;S=!0,_(E,I)}}u.prototype.catch=function(w){return this.then(null,w)},u.prototype.then=function(w,E){var S=new this.constructor(s);return f(this,new C(w,E,S)),S},u.all=function(w){return new u(function(E,S){if(!w||void 0===w.length)throw new TypeError("Promise.all accepts an array");var I=Array.prototype.slice.call(w);if(0===I.length)return E([]);var L=I.length;function B(N,F){try{if(F&&("object"==typeof F||"function"==typeof F)){var z=F.then;if("function"==typeof z)return void z.call(F,function(G){B(N,G)},S)}I[N]=F,0==--L&&E(I)}catch(G){S(G)}}for(var V=0;V<I.length;V++)B(V,I[V])})},u.resolve=function(w){return w&&"object"==typeof w&&w.constructor===u?w:new u(function(E){E(w)})},u.reject=function(w){return new u(function(E,S){S(w)})},u.race=function(w){return new u(function(E,S){for(var I=0,L=w.length;I<L;I++)w[I].then(E,S)})},u._immediateFn="function"==typeof setImmediate&&function(w){setImmediate(w)}||function(w){i(w,0)},u._unhandledRejectionFn=function(E){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",E)},u._setImmediateFn=function(E){u._immediateFn=E},u._setUnhandledRejectionFn=function(E){u._unhandledRejectionFn=E},n.exports?n.exports=u:r.Promise||(r.Promise=u)}(A)});function we(){}void 0===Number.EPSILON&&(Number.EPSILON=Math.pow(2,-52)),void 0===Number.isInteger&&(Number.isInteger=function(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}),void 0===Math.sign&&(Math.sign=function(n){return n<0?-1:n>0?1:+n}),"name"in Function.prototype||Object.defineProperty(Function.prototype,"name",{get:function(){return this.toString().match(/^\s*function\s*([^\(\s]*)/)[1]}}),void 0===Object.assign&&(Object.assign=function(n){var r=arguments;if(null==n)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(n),s=1;s<arguments.length;s++){var c=r[s];if(null!=c)for(var u in c)Object.prototype.hasOwnProperty.call(c,u)&&(i[u]=c[u])}return i}),Object.assign(we.prototype,{addEventListener:function(n,r){void 0===this._listeners&&(this._listeners={});var i=this._listeners;void 0===i[n]&&(i[n]=[]),-1===i[n].indexOf(r)&&i[n].push(r)},hasEventListener:function(n,r){if(void 0===this._listeners)return!1;var i=this._listeners;return void 0!==i[n]&&-1!==i[n].indexOf(r)},removeEventListener:function(n,r){if(void 0!==this._listeners){var s=this._listeners[n];if(void 0!==s){var c=s.indexOf(r);-1!==c&&s.splice(c,1)}}},dispatchEvent:function(n){if(void 0!==this._listeners){var s=this._listeners[n.type];if(void 0!==s){n.target=this;for(var c=s.slice(0),u=0,f=c.length;u<f;u++)c[u].call(this,n)}}}});var Sr=1e3,gc=1001,gu=1002,so=1003,Sa=1006,Yi=1009,mu=1015,Qp=1022,rl=1023,Jp=1026,As=1027,Ar=2400,ol=2401,Ie={DEG2RAD:Math.PI/180,RAD2DEG:180/Math.PI,generateUUID:function(){var i,n="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),r=0;return function(){for(var c="",u=0;u<36;u++)8===u||13===u||18===u||23===u?c+="-":14===u?c+="4":(r<=2&&(r=33554432+16777216*Math.random()|0),i=15&r,r>>=4,c+=n[19===u?3&i|8:i]);return c}}(),clamp:function(n,r,i){return Math.max(r,Math.min(i,n))},euclideanModulo:function(n,r){return(n%r+r)%r},mapLinear:function(n,r,i,s,c){return s+(n-r)*(c-s)/(i-r)},lerp:function(n,r,i){return(1-i)*n+i*r},smoothstep:function(n,r,i){return n<=r?0:n>=i?1:(n=(n-r)/(i-r))*n*(3-2*n)},smootherstep:function(n,r,i){return n<=r?0:n>=i?1:(n=(n-r)/(i-r))*n*n*(n*(6*n-15)+10)},randInt:function(n,r){return n+Math.floor(Math.random()*(r-n+1))},randFloat:function(n,r){return n+Math.random()*(r-n)},randFloatSpread:function(n){return n*(.5-Math.random())},degToRad:function(n){return n*Ie.DEG2RAD},radToDeg:function(n){return n*Ie.RAD2DEG},isPowerOfTwo:function(n){return 0==(n&n-1)&&0!==n},ceilPowerOfTwo:function(n){return Math.pow(2,Math.ceil(Math.log(n)/Math.LN2))},floorPowerOfTwo:function(n){return Math.pow(2,Math.floor(Math.log(n)/Math.LN2))}};function ce(n,r){this.x=n||0,this.y=r||0}function ye(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}function Wr(n,r,i,s){this._x=n||0,this._y=r||0,this._z=i||0,this._w=void 0!==s?s:1}function J(n,r,i){this.x=n||0,this.y=r||0,this.z=i||0}function xi(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}Object.defineProperties(ce.prototype,{width:{get:function(){return this.x},set:function(n){this.x=n}},height:{get:function(){return this.y},set:function(n){this.y=n}}}),Object.assign(ce.prototype,{isVector2:!0,set:function(n,r){return this.x=n,this.y=r,this},setScalar:function(n){return this.x=n,this.y=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setComponent:function(n,r){switch(n){case 0:this.x=r;break;case 1:this.y=r;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y)},copy:function(n){return this.x=n.x,this.y=n.y,this},add:function(n,r){return void 0!==r?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,r)):(this.x+=n.x,this.y+=n.y,this)},addScalar:function(n){return this.x+=n,this.y+=n,this},addVectors:function(n,r){return this.x=n.x+r.x,this.y=n.y+r.y,this},addScaledVector:function(n,r){return this.x+=n.x*r,this.y+=n.y*r,this},sub:function(n,r){return void 0!==r?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,r)):(this.x-=n.x,this.y-=n.y,this)},subScalar:function(n){return this.x-=n,this.y-=n,this},subVectors:function(n,r){return this.x=n.x-r.x,this.y=n.y-r.y,this},multiply:function(n){return this.x*=n.x,this.y*=n.y,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this},divide:function(n){return this.x/=n.x,this.y/=n.y,this},divideScalar:function(n){return this.multiplyScalar(1/n)},applyMatrix3:function(n){var r=this.x,i=this.y,s=n.elements;return this.x=s[0]*r+s[3]*i+s[6],this.y=s[1]*r+s[4]*i+s[7],this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this},clamp:function(n,r){return this.x=Math.max(n.x,Math.min(r.x,this.x)),this.y=Math.max(n.y,Math.min(r.y,this.y)),this},clampScalar:function(){var n=new ce,r=new ce;return function(s,c){return n.set(s,s),r.set(c,c),this.clamp(n,r)}}(),clampLength:function(n,r){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(n,Math.min(r,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this},negate:function(){return this.x=-this.x,this.y=-this.y,this},dot:function(n){return this.x*n.x+this.y*n.y},lengthSq:function(){return this.x*this.x+this.y*this.y},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)},normalize:function(){return this.divideScalar(this.length()||1)},angle:function(){var n=Math.atan2(this.y,this.x);return n<0&&(n+=2*Math.PI),n},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var r=this.x-n.x,i=this.y-n.y;return r*r+i*i},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,r){return this.x+=(n.x-this.x)*r,this.y+=(n.y-this.y)*r,this},lerpVectors:function(n,r,i){return this.subVectors(r,n).multiplyScalar(i).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y},fromArray:function(n,r){return void 0===r&&(r=0),this.x=n[r],this.y=n[r+1],this},toArray:function(n,r){return void 0===n&&(n=[]),void 0===r&&(r=0),n[r]=this.x,n[r+1]=this.y,n},fromBufferAttribute:function(n,r,i){return void 0!==i&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(r),this.y=n.getY(r),this},rotateAround:function(n,r){var i=Math.cos(r),s=Math.sin(r),c=this.x-n.x,u=this.y-n.y;return this.x=c*i-u*s+n.x,this.y=c*s+u*i+n.y,this}}),Object.assign(ye.prototype,{isMatrix4:!0,set:function(n,r,i,s,c,u,f,v,_,y,C,P,w,E,S,I){var L=this.elements;return L[0]=n,L[4]=r,L[8]=i,L[12]=s,L[1]=c,L[5]=u,L[9]=f,L[13]=v,L[2]=_,L[6]=y,L[10]=C,L[14]=P,L[3]=w,L[7]=E,L[11]=S,L[15]=I,this},identity:function(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this},clone:function(){return(new ye).fromArray(this.elements)},copy:function(n){var r=this.elements,i=n.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],r[9]=i[9],r[10]=i[10],r[11]=i[11],r[12]=i[12],r[13]=i[13],r[14]=i[14],r[15]=i[15],this},copyPosition:function(n){var r=this.elements,i=n.elements;return r[12]=i[12],r[13]=i[13],r[14]=i[14],this},extractBasis:function(n,r,i){return n.setFromMatrixColumn(this,0),r.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this},makeBasis:function(n,r,i){return this.set(n.x,r.x,i.x,0,n.y,r.y,i.y,0,n.z,r.z,i.z,0,0,0,0,1),this},extractRotation:function(){var n=new J;return function(i){var s=this.elements,c=i.elements,u=1/n.setFromMatrixColumn(i,0).length(),f=1/n.setFromMatrixColumn(i,1).length(),v=1/n.setFromMatrixColumn(i,2).length();return s[0]=c[0]*u,s[1]=c[1]*u,s[2]=c[2]*u,s[4]=c[4]*f,s[5]=c[5]*f,s[6]=c[6]*f,s[8]=c[8]*v,s[9]=c[9]*v,s[10]=c[10]*v,this}}(),makeRotationFromEuler:function(n){n&&n.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");var r=this.elements,i=n.x,s=n.y,c=n.z,u=Math.cos(i),f=Math.sin(i),v=Math.cos(s),_=Math.sin(s),y=Math.cos(c),C=Math.sin(c);if("XYZ"===n.order){var P=u*y,w=u*C,E=f*y,S=f*C;r[0]=v*y,r[4]=-v*C,r[8]=_,r[1]=w+E*_,r[5]=P-S*_,r[9]=-f*v,r[2]=S-P*_,r[6]=E+w*_,r[10]=u*v}else if("YXZ"===n.order){var L=v*C,B=_*y;r[0]=(I=v*y)+(V=_*C)*f,r[4]=B*f-L,r[8]=u*_,r[1]=u*C,r[5]=u*y,r[9]=-f,r[2]=L*f-B,r[6]=V+I*f,r[10]=u*v}else if("ZXY"===n.order){var I,V;L=v*C,B=_*y,r[0]=(I=v*y)-(V=_*C)*f,r[4]=-u*C,r[8]=B+L*f,r[1]=L+B*f,r[5]=u*y,r[9]=V-I*f,r[2]=-u*_,r[6]=f,r[10]=u*v}else if("ZYX"===n.order)P=u*y,w=u*C,E=f*y,S=f*C,r[0]=v*y,r[4]=E*_-w,r[8]=P*_+S,r[1]=v*C,r[5]=S*_+P,r[9]=w*_-E,r[2]=-_,r[6]=f*v,r[10]=u*v;else if("YZX"===n.order){var N=u*v,F=u*_,z=f*v,G=f*_;r[0]=v*y,r[4]=G-N*C,r[8]=z*C+F,r[1]=C,r[5]=u*y,r[9]=-f*y,r[2]=-_*y,r[6]=F*C+z,r[10]=N-G*C}else"XZY"===n.order&&(N=u*v,F=u*_,z=f*v,G=f*_,r[0]=v*y,r[4]=-C,r[8]=_*y,r[1]=N*C+G,r[5]=u*y,r[9]=F*C-z,r[2]=z*C-F,r[6]=f*y,r[10]=G*C+N);return r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},makeRotationFromQuaternion:function(n){var r=this.elements,i=n._x,s=n._y,c=n._z,u=n._w,f=i+i,v=s+s,_=c+c,y=i*f,C=i*v,P=i*_,w=s*v,E=s*_,S=c*_,I=u*f,L=u*v,B=u*_;return r[0]=1-(w+S),r[4]=C-B,r[8]=P+L,r[1]=C+B,r[5]=1-(y+S),r[9]=E-I,r[2]=P-L,r[6]=E+I,r[10]=1-(y+w),r[3]=0,r[7]=0,r[11]=0,r[12]=0,r[13]=0,r[14]=0,r[15]=1,this},lookAt:function(){var n=new J,r=new J,i=new J;return function(c,u,f){var v=this.elements;return i.subVectors(c,u),0===i.lengthSq()&&(i.z=1),i.normalize(),n.crossVectors(f,i),0===n.lengthSq()&&(1===Math.abs(f.z)?i.x+=1e-4:i.z+=1e-4,i.normalize(),n.crossVectors(f,i)),n.normalize(),r.crossVectors(i,n),v[0]=n.x,v[4]=r.x,v[8]=i.x,v[1]=n.y,v[5]=r.y,v[9]=i.y,v[2]=n.z,v[6]=r.z,v[10]=i.z,this}}(),multiply:function(n,r){return void 0!==r?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(n,r)):this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,r){var i=n.elements,s=r.elements,c=this.elements,u=i[0],f=i[4],v=i[8],_=i[12],y=i[1],C=i[5],P=i[9],w=i[13],E=i[2],S=i[6],I=i[10],L=i[14],B=i[3],V=i[7],N=i[11],F=i[15],z=s[0],G=s[4],q=s[8],Y=s[12],X=s[1],$=s[5],tt=s[9],ot=s[13],nt=s[2],et=s[6],vt=s[10],dt=s[14],Dt=s[3],Et=s[7],Mt=s[11],st=s[15];return c[0]=u*z+f*X+v*nt+_*Dt,c[4]=u*G+f*$+v*et+_*Et,c[8]=u*q+f*tt+v*vt+_*Mt,c[12]=u*Y+f*ot+v*dt+_*st,c[1]=y*z+C*X+P*nt+w*Dt,c[5]=y*G+C*$+P*et+w*Et,c[9]=y*q+C*tt+P*vt+w*Mt,c[13]=y*Y+C*ot+P*dt+w*st,c[2]=E*z+S*X+I*nt+L*Dt,c[6]=E*G+S*$+I*et+L*Et,c[10]=E*q+S*tt+I*vt+L*Mt,c[14]=E*Y+S*ot+I*dt+L*st,c[3]=B*z+V*X+N*nt+F*Dt,c[7]=B*G+V*$+N*et+F*Et,c[11]=B*q+V*tt+N*vt+F*Mt,c[15]=B*Y+V*ot+N*dt+F*st,this},multiplyScalar:function(n){var r=this.elements;return r[0]*=n,r[4]*=n,r[8]*=n,r[12]*=n,r[1]*=n,r[5]*=n,r[9]*=n,r[13]*=n,r[2]*=n,r[6]*=n,r[10]*=n,r[14]*=n,r[3]*=n,r[7]*=n,r[11]*=n,r[15]*=n,this},applyToBufferAttribute:function(){var n=new J;return function(i){for(var c=0,u=i.count;c<u;c++)n.x=i.getX(c),n.y=i.getY(c),n.z=i.getZ(c),n.applyMatrix4(this),i.setXYZ(c,n.x,n.y,n.z);return i}}(),determinant:function(){var n=this.elements,r=n[0],i=n[4],s=n[8],c=n[12],u=n[1],f=n[5],v=n[9],_=n[13],y=n[2],C=n[6],P=n[10],w=n[14];return n[3]*(+c*v*C-s*_*C-c*f*P+i*_*P+s*f*w-i*v*w)+n[7]*(+r*v*w-r*_*P+c*u*P-s*u*w+s*_*y-c*v*y)+n[11]*(+r*_*C-r*f*w-c*u*C+i*u*w+c*f*y-i*_*y)+n[15]*(-s*f*y-r*v*C+r*f*P+s*u*C-i*u*P+i*v*y)},transpose:function(){var r,n=this.elements;return r=n[1],n[1]=n[4],n[4]=r,r=n[2],n[2]=n[8],n[8]=r,r=n[6],n[6]=n[9],n[9]=r,r=n[3],n[3]=n[12],n[12]=r,r=n[7],n[7]=n[13],n[13]=r,r=n[11],n[11]=n[14],n[14]=r,this},setPosition:function(n){var r=this.elements;return r[12]=n.x,r[13]=n.y,r[14]=n.z,this},getInverse:function(n,r){var i=this.elements,s=n.elements,c=s[0],u=s[1],f=s[2],v=s[3],_=s[4],y=s[5],C=s[6],P=s[7],w=s[8],E=s[9],S=s[10],I=s[11],L=s[12],B=s[13],V=s[14],N=s[15],F=E*V*P-B*S*P+B*C*I-y*V*I-E*C*N+y*S*N,z=L*S*P-w*V*P-L*C*I+_*V*I+w*C*N-_*S*N,G=w*B*P-L*E*P+L*y*I-_*B*I-w*y*N+_*E*N,q=L*E*C-w*B*C-L*y*S+_*B*S+w*y*V-_*E*V,Y=c*F+u*z+f*G+v*q;if(0===Y){var X="THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0";if(!0===r)throw new Error(X);return console.warn(X),this.identity()}var $=1/Y;return i[0]=F*$,i[1]=(B*S*v-E*V*v-B*f*I+u*V*I+E*f*N-u*S*N)*$,i[2]=(y*V*v-B*C*v+B*f*P-u*V*P-y*f*N+u*C*N)*$,i[3]=(E*C*v-y*S*v-E*f*P+u*S*P+y*f*I-u*C*I)*$,i[4]=z*$,i[5]=(w*V*v-L*S*v+L*f*I-c*V*I-w*f*N+c*S*N)*$,i[6]=(L*C*v-_*V*v-L*f*P+c*V*P+_*f*N-c*C*N)*$,i[7]=(_*S*v-w*C*v+w*f*P-c*S*P-_*f*I+c*C*I)*$,i[8]=G*$,i[9]=(L*E*v-w*B*v-L*u*I+c*B*I+w*u*N-c*E*N)*$,i[10]=(_*B*v-L*y*v+L*u*P-c*B*P-_*u*N+c*y*N)*$,i[11]=(w*y*v-_*E*v-w*u*P+c*E*P+_*u*I-c*y*I)*$,i[12]=q*$,i[13]=(w*B*f-L*E*f+L*u*S-c*B*S-w*u*V+c*E*V)*$,i[14]=(L*y*f-_*B*f-L*u*C+c*B*C+_*u*V-c*y*V)*$,i[15]=(_*E*f-w*y*f+w*u*C-c*E*C-_*u*S+c*y*S)*$,this},scale:function(n){var r=this.elements,i=n.x,s=n.y,c=n.z;return r[0]*=i,r[4]*=s,r[8]*=c,r[1]*=i,r[5]*=s,r[9]*=c,r[2]*=i,r[6]*=s,r[10]*=c,r[3]*=i,r[7]*=s,r[11]*=c,this},getMaxScaleOnAxis:function(){var n=this.elements;return Math.sqrt(Math.max(n[0]*n[0]+n[1]*n[1]+n[2]*n[2],n[4]*n[4]+n[5]*n[5]+n[6]*n[6],n[8]*n[8]+n[9]*n[9]+n[10]*n[10]))},makeTranslation:function(n,r,i){return this.set(1,0,0,n,0,1,0,r,0,0,1,i,0,0,0,1),this},makeRotationX:function(n){var r=Math.cos(n),i=Math.sin(n);return this.set(1,0,0,0,0,r,-i,0,0,i,r,0,0,0,0,1),this},makeRotationY:function(n){var r=Math.cos(n),i=Math.sin(n);return this.set(r,0,i,0,0,1,0,0,-i,0,r,0,0,0,0,1),this},makeRotationZ:function(n){var r=Math.cos(n),i=Math.sin(n);return this.set(r,-i,0,0,i,r,0,0,0,0,1,0,0,0,0,1),this},makeRotationAxis:function(n,r){var i=Math.cos(r),s=Math.sin(r),c=1-i,u=n.x,f=n.y,v=n.z,_=c*u,y=c*f;return this.set(_*u+i,_*f-s*v,_*v+s*f,0,_*f+s*v,y*f+i,y*v-s*u,0,_*v-s*f,y*v+s*u,c*v*v+i,0,0,0,0,1),this},makeScale:function(n,r,i){return this.set(n,0,0,0,0,r,0,0,0,0,i,0,0,0,0,1),this},makeShear:function(n,r,i){return this.set(1,r,i,0,n,1,i,0,n,r,1,0,0,0,0,1),this},compose:function(n,r,i){return this.makeRotationFromQuaternion(r),this.scale(i),this.setPosition(n),this},decompose:function(){var n=new J,r=new ye;return function(s,c,u){var f=this.elements,v=n.set(f[0],f[1],f[2]).length(),_=n.set(f[4],f[5],f[6]).length(),y=n.set(f[8],f[9],f[10]).length();this.determinant()<0&&(v=-v),s.x=f[12],s.y=f[13],s.z=f[14],r.copy(this);var P=1/v,w=1/_,E=1/y;return r.elements[0]*=P,r.elements[1]*=P,r.elements[2]*=P,r.elements[4]*=w,r.elements[5]*=w,r.elements[6]*=w,r.elements[8]*=E,r.elements[9]*=E,r.elements[10]*=E,c.setFromRotationMatrix(r),u.x=v,u.y=_,u.z=y,this}}(),makePerspective:function(n,r,i,s,c,u){void 0===u&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");var f=this.elements,_=2*c/(i-s),y=(r+n)/(r-n),C=(i+s)/(i-s),P=-(u+c)/(u-c),w=-2*u*c/(u-c);return f[0]=2*c/(r-n),f[4]=0,f[8]=y,f[12]=0,f[1]=0,f[5]=_,f[9]=C,f[13]=0,f[2]=0,f[6]=0,f[10]=P,f[14]=w,f[3]=0,f[7]=0,f[11]=-1,f[15]=0,this},makeOrthographic:function(n,r,i,s,c,u){var f=this.elements,v=1/(r-n),_=1/(i-s),y=1/(u-c),C=(r+n)*v,P=(i+s)*_,w=(u+c)*y;return f[0]=2*v,f[4]=0,f[8]=0,f[12]=-C,f[1]=0,f[5]=2*_,f[9]=0,f[13]=-P,f[2]=0,f[6]=0,f[10]=-2*y,f[14]=-w,f[3]=0,f[7]=0,f[11]=0,f[15]=1,this},equals:function(n){for(var r=this.elements,i=n.elements,s=0;s<16;s++)if(r[s]!==i[s])return!1;return!0},fromArray:function(n,r){void 0===r&&(r=0);for(var s=0;s<16;s++)this.elements[s]=n[s+r];return this},toArray:function(n,r){void 0===n&&(n=[]),void 0===r&&(r=0);var i=this.elements;return n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7],n[r+8]=i[8],n[r+9]=i[9],n[r+10]=i[10],n[r+11]=i[11],n[r+12]=i[12],n[r+13]=i[13],n[r+14]=i[14],n[r+15]=i[15],n}}),Object.assign(Wr,{slerp:function(n,r,i,s){return i.copy(n).slerp(r,s)},slerpFlat:function(n,r,i,s,c,u,f){var v=i[s+0],_=i[s+1],y=i[s+2],C=i[s+3],P=c[u+0],w=c[u+1],E=c[u+2],S=c[u+3];if(C!==S||v!==P||_!==w||y!==E){var I=1-f,L=v*P+_*w+y*E+C*S,B=L>=0?1:-1,V=1-L*L;if(V>Number.EPSILON){var N=Math.sqrt(V),F=Math.atan2(N,L*B);I=Math.sin(I*F)/N,f=Math.sin(f*F)/N}var z=f*B;if(v=v*I+P*z,_=_*I+w*z,y=y*I+E*z,C=C*I+S*z,I===1-f){var G=1/Math.sqrt(v*v+_*_+y*y+C*C);v*=G,_*=G,y*=G,C*=G}}n[r]=v,n[r+1]=_,n[r+2]=y,n[r+3]=C}}),Object.defineProperties(Wr.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback()}},w:{get:function(){return this._w},set:function(n){this._w=n,this.onChangeCallback()}}}),Object.assign(Wr.prototype,{set:function(n,r,i,s){return this._x=n,this._y=r,this._z=i,this._w=s,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._w)},copy:function(n){return this._x=n.x,this._y=n.y,this._z=n.z,this._w=n.w,this.onChangeCallback(),this},setFromEuler:function(n,r){if(!n||!n.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");var i=n._x,s=n._y,c=n._z,u=n.order,f=Math.cos,v=Math.sin,_=f(i/2),y=f(s/2),C=f(c/2),P=v(i/2),w=v(s/2),E=v(c/2);return"XYZ"===u?(this._x=P*y*C+_*w*E,this._y=_*w*C-P*y*E,this._z=_*y*E+P*w*C,this._w=_*y*C-P*w*E):"YXZ"===u?(this._x=P*y*C+_*w*E,this._y=_*w*C-P*y*E,this._z=_*y*E-P*w*C,this._w=_*y*C+P*w*E):"ZXY"===u?(this._x=P*y*C-_*w*E,this._y=_*w*C+P*y*E,this._z=_*y*E+P*w*C,this._w=_*y*C-P*w*E):"ZYX"===u?(this._x=P*y*C-_*w*E,this._y=_*w*C+P*y*E,this._z=_*y*E-P*w*C,this._w=_*y*C+P*w*E):"YZX"===u?(this._x=P*y*C+_*w*E,this._y=_*w*C+P*y*E,this._z=_*y*E-P*w*C,this._w=_*y*C-P*w*E):"XZY"===u&&(this._x=P*y*C-_*w*E,this._y=_*w*C-P*y*E,this._z=_*y*E+P*w*C,this._w=_*y*C+P*w*E),!1!==r&&this.onChangeCallback(),this},setFromAxisAngle:function(n,r){var i=r/2,s=Math.sin(i);return this._x=n.x*s,this._y=n.y*s,this._z=n.z*s,this._w=Math.cos(i),this.onChangeCallback(),this},setFromRotationMatrix:function(n){var w,r=n.elements,i=r[0],s=r[4],c=r[8],u=r[1],f=r[5],v=r[9],_=r[2],y=r[6],C=r[10],P=i+f+C;return P>0?(w=.5/Math.sqrt(P+1),this._w=.25/w,this._x=(y-v)*w,this._y=(c-_)*w,this._z=(u-s)*w):i>f&&i>C?(w=2*Math.sqrt(1+i-f-C),this._w=(y-v)/w,this._x=.25*w,this._y=(s+u)/w,this._z=(c+_)/w):f>C?(w=2*Math.sqrt(1+f-i-C),this._w=(c-_)/w,this._x=(s+u)/w,this._y=.25*w,this._z=(v+y)/w):(w=2*Math.sqrt(1+C-i-f),this._w=(u-s)/w,this._x=(c+_)/w,this._y=(v+y)/w,this._z=.25*w),this.onChangeCallback(),this},setFromUnitVectors:function(){var r,n=new J;return function(c,u){return void 0===n&&(n=new J),(r=c.dot(u)+1)<1e-6?(r=0,Math.abs(c.x)>Math.abs(c.z)?n.set(-c.y,c.x,0):n.set(0,-c.z,c.y)):n.crossVectors(c,u),this._x=n.x,this._y=n.y,this._z=n.z,this._w=r,this.normalize()}}(),inverse:function(){return this.conjugate().normalize()},conjugate:function(){return this._x*=-1,this._y*=-1,this._z*=-1,this.onChangeCallback(),this},dot:function(n){return this._x*n._x+this._y*n._y+this._z*n._z+this._w*n._w},lengthSq:function(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w},length:function(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)},normalize:function(){var n=this.length();return 0===n?(this._x=0,this._y=0,this._z=0,this._w=1):(this._x=this._x*(n=1/n),this._y=this._y*n,this._z=this._z*n,this._w=this._w*n),this.onChangeCallback(),this},multiply:function(n,r){return void 0!==r?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(n,r)):this.multiplyQuaternions(this,n)},premultiply:function(n){return this.multiplyQuaternions(n,this)},multiplyQuaternions:function(n,r){var i=n._x,s=n._y,c=n._z,u=n._w,f=r._x,v=r._y,_=r._z,y=r._w;return this._x=i*y+u*f+s*_-c*v,this._y=s*y+u*v+c*f-i*_,this._z=c*y+u*_+i*v-s*f,this._w=u*y-i*f-s*v-c*_,this.onChangeCallback(),this},slerp:function(n,r){if(0===r)return this;if(1===r)return this.copy(n);var i=this._x,s=this._y,c=this._z,u=this._w,f=u*n._w+i*n._x+s*n._y+c*n._z;if(f<0?(this._w=-n._w,this._x=-n._x,this._y=-n._y,this._z=-n._z,f=-f):this.copy(n),f>=1)return this._w=u,this._x=i,this._y=s,this._z=c,this;var v=Math.sqrt(1-f*f);if(Math.abs(v)<.001)return this._w=.5*(u+this._w),this._x=.5*(i+this._x),this._y=.5*(s+this._y),this._z=.5*(c+this._z),this;var _=Math.atan2(v,f),y=Math.sin((1-r)*_)/v,C=Math.sin(r*_)/v;return this._w=u*y+this._w*C,this._x=i*y+this._x*C,this._y=s*y+this._y*C,this._z=c*y+this._z*C,this.onChangeCallback(),this},equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._w===this._w},fromArray:function(n,r){return void 0===r&&(r=0),this._x=n[r],this._y=n[r+1],this._z=n[r+2],this._w=n[r+3],this.onChangeCallback(),this},toArray:function(n,r){return void 0===n&&(n=[]),void 0===r&&(r=0),n[r]=this._x,n[r+1]=this._y,n[r+2]=this._z,n[r+3]=this._w,n},onChange:function(n){return this.onChangeCallback=n,this},onChangeCallback:function(){}}),Object.assign(J.prototype,{isVector3:!0,set:function(n,r,i){return this.x=n,this.y=r,this.z=i,this},setScalar:function(n){return this.x=n,this.y=n,this.z=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setComponent:function(n,r){switch(n){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this},add:function(n,r){return void 0!==r?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,r)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this},addVectors:function(n,r){return this.x=n.x+r.x,this.y=n.y+r.y,this.z=n.z+r.z,this},addScaledVector:function(n,r){return this.x+=n.x*r,this.y+=n.y*r,this.z+=n.z*r,this},sub:function(n,r){return void 0!==r?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,r)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this},subVectors:function(n,r){return this.x=n.x-r.x,this.y=n.y-r.y,this.z=n.z-r.z,this},multiply:function(n,r){return void 0!==r?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(n,r)):(this.x*=n.x,this.y*=n.y,this.z*=n.z,this)},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this},multiplyVectors:function(n,r){return this.x=n.x*r.x,this.y=n.y*r.y,this.z=n.z*r.z,this},applyEuler:function(){var n=new Wr;return function(i){return i&&i.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(n.setFromEuler(i))}}(),applyAxisAngle:function(){var n=new Wr;return function(i,s){return this.applyQuaternion(n.setFromAxisAngle(i,s))}}(),applyMatrix3:function(n){var r=this.x,i=this.y,s=this.z,c=n.elements;return this.x=c[0]*r+c[3]*i+c[6]*s,this.y=c[1]*r+c[4]*i+c[7]*s,this.z=c[2]*r+c[5]*i+c[8]*s,this},applyMatrix4:function(n){var r=this.x,i=this.y,s=this.z,c=n.elements,u=1/(c[3]*r+c[7]*i+c[11]*s+c[15]);return this.x=(c[0]*r+c[4]*i+c[8]*s+c[12])*u,this.y=(c[1]*r+c[5]*i+c[9]*s+c[13])*u,this.z=(c[2]*r+c[6]*i+c[10]*s+c[14])*u,this},applyQuaternion:function(n){var r=this.x,i=this.y,s=this.z,c=n.x,u=n.y,f=n.z,v=n.w,_=v*r+u*s-f*i,y=v*i+f*r-c*s,C=v*s+c*i-u*r,P=-c*r-u*i-f*s;return this.x=_*v+P*-c+y*-f-C*-u,this.y=y*v+P*-u+C*-c-_*-f,this.z=C*v+P*-f+_*-u-y*-c,this},project:function(){var n=new ye;return function(i){return n.multiplyMatrices(i.projectionMatrix,n.getInverse(i.matrixWorld)),this.applyMatrix4(n)}}(),unproject:function(){var n=new ye;return function(i){return n.multiplyMatrices(i.matrixWorld,n.getInverse(i.projectionMatrix)),this.applyMatrix4(n)}}(),transformDirection:function(n){var r=this.x,i=this.y,s=this.z,c=n.elements;return this.x=c[0]*r+c[4]*i+c[8]*s,this.y=c[1]*r+c[5]*i+c[9]*s,this.z=c[2]*r+c[6]*i+c[10]*s,this.normalize()},divide:function(n){return this.x/=n.x,this.y/=n.y,this.z/=n.z,this},divideScalar:function(n){return this.multiplyScalar(1/n)},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this},clamp:function(n,r){return this.x=Math.max(n.x,Math.min(r.x,this.x)),this.y=Math.max(n.y,Math.min(r.y,this.y)),this.z=Math.max(n.z,Math.min(r.z,this.z)),this},clampScalar:function(){var n=new J,r=new J;return function(s,c){return n.set(s,s,s),r.set(c,c,c),this.clamp(n,r)}}(),clampLength:function(n,r){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(n,Math.min(r,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,r){return this.x+=(n.x-this.x)*r,this.y+=(n.y-this.y)*r,this.z+=(n.z-this.z)*r,this},lerpVectors:function(n,r,i){return this.subVectors(r,n).multiplyScalar(i).add(n)},cross:function(n,r){return void 0!==r?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(n,r)):this.crossVectors(this,n)},crossVectors:function(n,r){var i=n.x,s=n.y,c=n.z,u=r.x,f=r.y,v=r.z;return this.x=s*v-c*f,this.y=c*u-i*v,this.z=i*f-s*u,this},projectOnVector:function(n){var r=n.dot(this)/n.lengthSq();return this.copy(n).multiplyScalar(r)},projectOnPlane:function(){var n=new J;return function(i){return n.copy(this).projectOnVector(i),this.sub(n)}}(),reflect:function(){var n=new J;return function(i){return this.sub(n.copy(i).multiplyScalar(2*this.dot(i)))}}(),angleTo:function(n){var r=this.dot(n)/Math.sqrt(this.lengthSq()*n.lengthSq());return Math.acos(Ie.clamp(r,-1,1))},distanceTo:function(n){return Math.sqrt(this.distanceToSquared(n))},distanceToSquared:function(n){var r=this.x-n.x,i=this.y-n.y,s=this.z-n.z;return r*r+i*i+s*s},manhattanDistanceTo:function(n){return Math.abs(this.x-n.x)+Math.abs(this.y-n.y)+Math.abs(this.z-n.z)},setFromSpherical:function(n){var r=Math.sin(n.phi)*n.radius;return this.x=r*Math.sin(n.theta),this.y=Math.cos(n.phi)*n.radius,this.z=r*Math.cos(n.theta),this},setFromCylindrical:function(n){return this.x=n.radius*Math.sin(n.theta),this.y=n.y,this.z=n.radius*Math.cos(n.theta),this},setFromMatrixPosition:function(n){var r=n.elements;return this.x=r[12],this.y=r[13],this.z=r[14],this},setFromMatrixScale:function(n){var r=this.setFromMatrixColumn(n,0).length(),i=this.setFromMatrixColumn(n,1).length(),s=this.setFromMatrixColumn(n,2).length();return this.x=r,this.y=i,this.z=s,this},setFromMatrixColumn:function(n,r){return this.fromArray(n.elements,4*r)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z},fromArray:function(n,r){return void 0===r&&(r=0),this.x=n[r],this.y=n[r+1],this.z=n[r+2],this},toArray:function(n,r){return void 0===n&&(n=[]),void 0===r&&(r=0),n[r]=this.x,n[r+1]=this.y,n[r+2]=this.z,n},fromBufferAttribute:function(n,r,i){return void 0!==i&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(r),this.y=n.getY(r),this.z=n.getZ(r),this}}),Object.assign(xi.prototype,{isMatrix3:!0,set:function(n,r,i,s,c,u,f,v,_){var y=this.elements;return y[0]=n,y[1]=s,y[2]=f,y[3]=r,y[4]=c,y[5]=v,y[6]=i,y[7]=u,y[8]=_,this},identity:function(){return this.set(1,0,0,0,1,0,0,0,1),this},clone:function(){return(new this.constructor).fromArray(this.elements)},copy:function(n){var r=this.elements,i=n.elements;return r[0]=i[0],r[1]=i[1],r[2]=i[2],r[3]=i[3],r[4]=i[4],r[5]=i[5],r[6]=i[6],r[7]=i[7],r[8]=i[8],this},setFromMatrix4:function(n){var r=n.elements;return this.set(r[0],r[4],r[8],r[1],r[5],r[9],r[2],r[6],r[10]),this},applyToBufferAttribute:function(){var n=new J;return function(i){for(var c=0,u=i.count;c<u;c++)n.x=i.getX(c),n.y=i.getY(c),n.z=i.getZ(c),n.applyMatrix3(this),i.setXYZ(c,n.x,n.y,n.z);return i}}(),multiply:function(n){return this.multiplyMatrices(this,n)},premultiply:function(n){return this.multiplyMatrices(n,this)},multiplyMatrices:function(n,r){var i=n.elements,s=r.elements,c=this.elements,u=i[0],f=i[3],v=i[6],_=i[1],y=i[4],C=i[7],P=i[2],w=i[5],E=i[8],S=s[0],I=s[3],L=s[6],B=s[1],V=s[4],N=s[7],F=s[2],z=s[5],G=s[8];return c[0]=u*S+f*B+v*F,c[3]=u*I+f*V+v*z,c[6]=u*L+f*N+v*G,c[1]=_*S+y*B+C*F,c[4]=_*I+y*V+C*z,c[7]=_*L+y*N+C*G,c[2]=P*S+w*B+E*F,c[5]=P*I+w*V+E*z,c[8]=P*L+w*N+E*G,this},multiplyScalar:function(n){var r=this.elements;return r[0]*=n,r[3]*=n,r[6]*=n,r[1]*=n,r[4]*=n,r[7]*=n,r[2]*=n,r[5]*=n,r[8]*=n,this},determinant:function(){var n=this.elements,r=n[0],i=n[1],s=n[2],c=n[3],u=n[4],f=n[5],v=n[6],_=n[7],y=n[8];return r*u*y-r*f*_-i*c*y+i*f*v+s*c*_-s*u*v},getInverse:function(n,r){n&&n.isMatrix4&&console.error("THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.");var i=n.elements,s=this.elements,c=i[0],u=i[1],f=i[2],v=i[3],_=i[4],y=i[5],C=i[6],P=i[7],w=i[8],E=w*_-y*P,S=y*C-w*v,I=P*v-_*C,L=c*E+u*S+f*I;if(0===L){var B="THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0";if(!0===r)throw new Error(B);return console.warn(B),this.identity()}var V=1/L;return s[0]=E*V,s[1]=(f*P-w*u)*V,s[2]=(y*u-f*_)*V,s[3]=S*V,s[4]=(w*c-f*C)*V,s[5]=(f*v-y*c)*V,s[6]=I*V,s[7]=(u*C-P*c)*V,s[8]=(_*c-u*v)*V,this},transpose:function(){var n,r=this.elements;return n=r[1],r[1]=r[3],r[3]=n,n=r[2],r[2]=r[6],r[6]=n,n=r[5],r[5]=r[7],r[7]=n,this},getNormalMatrix:function(n){return this.setFromMatrix4(n).getInverse(this).transpose()},transposeIntoArray:function(n){var r=this.elements;return n[0]=r[0],n[1]=r[3],n[2]=r[6],n[3]=r[1],n[4]=r[4],n[5]=r[7],n[6]=r[2],n[7]=r[5],n[8]=r[8],this},setUvTransform:function(n,r,i,s,c,u,f){var v=Math.cos(c),_=Math.sin(c);this.set(i*v,i*_,-i*(v*u+_*f)+u+n,-s*_,s*v,-s*(-_*u+v*f)+f+r,0,0,1)},scale:function(n,r){var i=this.elements;return i[0]*=n,i[3]*=n,i[6]*=n,i[1]*=r,i[4]*=r,i[7]*=r,this},rotate:function(n){var r=Math.cos(n),i=Math.sin(n),s=this.elements,c=s[0],u=s[3],f=s[6],v=s[1],_=s[4],y=s[7];return s[0]=r*c+i*v,s[3]=r*u+i*_,s[6]=r*f+i*y,s[1]=-i*c+r*v,s[4]=-i*u+r*_,s[7]=-i*f+r*y,this},translate:function(n,r){var i=this.elements;return i[0]+=n*i[2],i[3]+=n*i[5],i[6]+=n*i[8],i[1]+=r*i[2],i[4]+=r*i[5],i[7]+=r*i[8],this},equals:function(n){for(var r=this.elements,i=n.elements,s=0;s<9;s++)if(r[s]!==i[s])return!1;return!0},fromArray:function(n,r){void 0===r&&(r=0);for(var s=0;s<9;s++)this.elements[s]=n[s+r];return this},toArray:function(n,r){void 0===n&&(n=[]),void 0===r&&(r=0);var i=this.elements;return n[r]=i[0],n[r+1]=i[1],n[r+2]=i[2],n[r+3]=i[3],n[r+4]=i[4],n[r+5]=i[5],n[r+6]=i[6],n[r+7]=i[7],n[r+8]=i[8],n}});var Ro=0;function Si(n,r,i,s,c,u,f,v,_,y){Object.defineProperty(this,"id",{value:Ro++}),this.uuid=Ie.generateUUID(),this.name="",this.image=void 0!==n?n:Si.DEFAULT_IMAGE,this.mipmaps=[],this.mapping=void 0!==r?r:Si.DEFAULT_MAPPING,this.wrapS=void 0!==i?i:gc,this.wrapT=void 0!==s?s:gc,this.magFilter=void 0!==c?c:Sa,this.minFilter=void 0!==u?u:1008,this.anisotropy=void 0!==_?_:1,this.format=void 0!==f?f:rl,this.type=void 0!==v?v:Yi,this.offset=new ce(0,0),this.repeat=new ce(1,1),this.center=new ce(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new xi,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=void 0!==y?y:3e3,this.version=0,this.onUpdate=null}function yo(n,r,i,s){this.x=n||0,this.y=r||0,this.z=i||0,this.w=void 0!==s?s:1}function ea(n,r,i){this.uuid=Ie.generateUUID(),this.width=n,this.height=r,this.scissor=new yo(0,0,n,r),this.scissorTest=!1,this.viewport=new yo(0,0,n,r),void 0===(i=i||{}).minFilter&&(i.minFilter=Sa),this.texture=new Si(void 0,void 0,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.encoding),this.depthBuffer=void 0===i.depthBuffer||i.depthBuffer,this.stencilBuffer=void 0===i.stencilBuffer||i.stencilBuffer,this.depthTexture=void 0!==i.depthTexture?i.depthTexture:null}function Ta(n,r,i){ea.call(this,n,r,i),this.activeCubeFace=0,this.activeMipMapLevel=0}function Jh(n,r,i,s,c,u,f,v,_,y,C,P){Si.call(this,null,u,f,v,_,y,s,c,C,P),this.image={data:n,width:r,height:i},this.magFilter=void 0!==_?_:so,this.minFilter=void 0!==y?y:so,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}function yg(n,r,i,s,c,u,f,v,_,y){Si.call(this,n=void 0!==n?n:[],r=void 0!==r?r:301,i,s,c,u,f,v,_,y),this.flipY=!1}Si.DEFAULT_IMAGE=void 0,Si.DEFAULT_MAPPING=300,Object.defineProperty(Si.prototype,"needsUpdate",{set:function(n){!0===n&&this.version++}}),Object.assign(Si.prototype,we.prototype,{constructor:Si,isTexture:!0,clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.name=n.name,this.image=n.image,this.mipmaps=n.mipmaps.slice(0),this.mapping=n.mapping,this.wrapS=n.wrapS,this.wrapT=n.wrapT,this.magFilter=n.magFilter,this.minFilter=n.minFilter,this.anisotropy=n.anisotropy,this.format=n.format,this.type=n.type,this.offset.copy(n.offset),this.repeat.copy(n.repeat),this.center.copy(n.center),this.rotation=n.rotation,this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrix.copy(n.matrix),this.generateMipmaps=n.generateMipmaps,this.premultiplyAlpha=n.premultiplyAlpha,this.flipY=n.flipY,this.unpackAlignment=n.unpackAlignment,this.encoding=n.encoding,this},toJSON:function(n){var r=void 0===n||"string"==typeof n;if(!r&&void 0!==n.textures[this.uuid])return n.textures[this.uuid];var s={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY};if(void 0!==this.image){var c=this.image;void 0===c.uuid&&(c.uuid=Ie.generateUUID()),!r&&void 0===n.images[c.uuid]&&(n.images[c.uuid]={uuid:c.uuid,url:function(u){var f;if(u instanceof HTMLCanvasElement)f=u;else{(f=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")).width=u.width,f.height=u.height;var v=f.getContext("2d");u instanceof ImageData?v.putImageData(u,0,0):v.drawImage(u,0,0,u.width,u.height)}return f.width>2048||f.height>2048?f.toDataURL("image/jpeg",.6):f.toDataURL("image/png")}(c)}),s.image=c.uuid}return r||(n.textures[this.uuid]=s),s},dispose:function(){this.dispatchEvent({type:"dispose"})},transformUv:function(n){if(300===this.mapping){if(n.applyMatrix3(this.matrix),n.x<0||n.x>1)switch(this.wrapS){case Sr:n.x=n.x-Math.floor(n.x);break;case gc:n.x=n.x<0?0:1;break;case gu:n.x=1===Math.abs(Math.floor(n.x)%2)?Math.ceil(n.x)-n.x:n.x-Math.floor(n.x)}if(n.y<0||n.y>1)switch(this.wrapT){case Sr:n.y=n.y-Math.floor(n.y);break;case gc:n.y=n.y<0?0:1;break;case gu:n.y=1===Math.abs(Math.floor(n.y)%2)?Math.ceil(n.y)-n.y:n.y-Math.floor(n.y)}this.flipY&&(n.y=1-n.y)}}}),Object.assign(yo.prototype,{isVector4:!0,set:function(n,r,i,s){return this.x=n,this.y=r,this.z=i,this.w=s,this},setScalar:function(n){return this.x=n,this.y=n,this.z=n,this.w=n,this},setX:function(n){return this.x=n,this},setY:function(n){return this.y=n,this},setZ:function(n){return this.z=n,this},setW:function(n){return this.w=n,this},setComponent:function(n,r){switch(n){case 0:this.x=r;break;case 1:this.y=r;break;case 2:this.z=r;break;case 3:this.w=r;break;default:throw new Error("index is out of range: "+n)}return this},getComponent:function(n){switch(n){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+n)}},clone:function(){return new this.constructor(this.x,this.y,this.z,this.w)},copy:function(n){return this.x=n.x,this.y=n.y,this.z=n.z,this.w=void 0!==n.w?n.w:1,this},add:function(n,r){return void 0!==r?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(n,r)):(this.x+=n.x,this.y+=n.y,this.z+=n.z,this.w+=n.w,this)},addScalar:function(n){return this.x+=n,this.y+=n,this.z+=n,this.w+=n,this},addVectors:function(n,r){return this.x=n.x+r.x,this.y=n.y+r.y,this.z=n.z+r.z,this.w=n.w+r.w,this},addScaledVector:function(n,r){return this.x+=n.x*r,this.y+=n.y*r,this.z+=n.z*r,this.w+=n.w*r,this},sub:function(n,r){return void 0!==r?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(n,r)):(this.x-=n.x,this.y-=n.y,this.z-=n.z,this.w-=n.w,this)},subScalar:function(n){return this.x-=n,this.y-=n,this.z-=n,this.w-=n,this},subVectors:function(n,r){return this.x=n.x-r.x,this.y=n.y-r.y,this.z=n.z-r.z,this.w=n.w-r.w,this},multiplyScalar:function(n){return this.x*=n,this.y*=n,this.z*=n,this.w*=n,this},applyMatrix4:function(n){var r=this.x,i=this.y,s=this.z,c=this.w,u=n.elements;return this.x=u[0]*r+u[4]*i+u[8]*s+u[12]*c,this.y=u[1]*r+u[5]*i+u[9]*s+u[13]*c,this.z=u[2]*r+u[6]*i+u[10]*s+u[14]*c,this.w=u[3]*r+u[7]*i+u[11]*s+u[15]*c,this},divideScalar:function(n){return this.multiplyScalar(1/n)},setAxisAngleFromQuaternion:function(n){this.w=2*Math.acos(n.w);var r=Math.sqrt(1-n.w*n.w);return r<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=n.x/r,this.y=n.y/r,this.z=n.z/r),this},setAxisAngleFromRotationMatrix:function(n){var r,i,s,c,u=.01,f=.1,v=n.elements,_=v[0],y=v[4],C=v[8],P=v[1],w=v[5],E=v[9],S=v[2],I=v[6],L=v[10];if(Math.abs(y-P)<u&&Math.abs(C-S)<u&&Math.abs(E-I)<u){if(Math.abs(y+P)<f&&Math.abs(C+S)<f&&Math.abs(E+I)<f&&Math.abs(_+w+L-3)<f)return this.set(1,0,0,0),this;r=Math.PI;var B=(_+1)/2,V=(w+1)/2,N=(L+1)/2,F=(y+P)/4,z=(C+S)/4,G=(E+I)/4;return B>V&&B>N?B<u?(i=0,s=.707106781,c=.707106781):(s=F/(i=Math.sqrt(B)),c=z/i):V>N?V<u?(i=.707106781,s=0,c=.707106781):(i=F/(s=Math.sqrt(V)),c=G/s):N<u?(i=.707106781,s=.707106781,c=0):(i=z/(c=Math.sqrt(N)),s=G/c),this.set(i,s,c,r),this}var q=Math.sqrt((I-E)*(I-E)+(C-S)*(C-S)+(P-y)*(P-y));return Math.abs(q)<.001&&(q=1),this.x=(I-E)/q,this.y=(C-S)/q,this.z=(P-y)/q,this.w=Math.acos((_+w+L-1)/2),this},min:function(n){return this.x=Math.min(this.x,n.x),this.y=Math.min(this.y,n.y),this.z=Math.min(this.z,n.z),this.w=Math.min(this.w,n.w),this},max:function(n){return this.x=Math.max(this.x,n.x),this.y=Math.max(this.y,n.y),this.z=Math.max(this.z,n.z),this.w=Math.max(this.w,n.w),this},clamp:function(n,r){return this.x=Math.max(n.x,Math.min(r.x,this.x)),this.y=Math.max(n.y,Math.min(r.y,this.y)),this.z=Math.max(n.z,Math.min(r.z,this.z)),this.w=Math.max(n.w,Math.min(r.w,this.w)),this},clampScalar:function(){var n,r;return function(s,c){return void 0===n&&(n=new yo,r=new yo),n.set(s,s,s,s),r.set(c,c,c,c),this.clamp(n,r)}}(),clampLength:function(n,r){var i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(n,Math.min(r,i)))},floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this},ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this},round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this},roundToZero:function(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this},negate:function(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this},dot:function(n){return this.x*n.x+this.y*n.y+this.z*n.z+this.w*n.w},lengthSq:function(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w},length:function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)},manhattanLength:function(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)},normalize:function(){return this.divideScalar(this.length()||1)},setLength:function(n){return this.normalize().multiplyScalar(n)},lerp:function(n,r){return this.x+=(n.x-this.x)*r,this.y+=(n.y-this.y)*r,this.z+=(n.z-this.z)*r,this.w+=(n.w-this.w)*r,this},lerpVectors:function(n,r,i){return this.subVectors(r,n).multiplyScalar(i).add(n)},equals:function(n){return n.x===this.x&&n.y===this.y&&n.z===this.z&&n.w===this.w},fromArray:function(n,r){return void 0===r&&(r=0),this.x=n[r],this.y=n[r+1],this.z=n[r+2],this.w=n[r+3],this},toArray:function(n,r){return void 0===n&&(n=[]),void 0===r&&(r=0),n[r]=this.x,n[r+1]=this.y,n[r+2]=this.z,n[r+3]=this.w,n},fromBufferAttribute:function(n,r,i){return void 0!==i&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=n.getX(r),this.y=n.getY(r),this.z=n.getZ(r),this.w=n.getW(r),this}}),Object.assign(ea.prototype,we.prototype,{isWebGLRenderTarget:!0,setSize:function(n,r){(this.width!==n||this.height!==r)&&(this.width=n,this.height=r,this.dispose()),this.viewport.set(0,0,n,r),this.scissor.set(0,0,n,r)},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.width=n.width,this.height=n.height,this.viewport.copy(n.viewport),this.texture=n.texture.clone(),this.depthBuffer=n.depthBuffer,this.stencilBuffer=n.stencilBuffer,this.depthTexture=n.depthTexture,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Ta.prototype=Object.create(ea.prototype)).constructor=Ta,Ta.prototype.isWebGLRenderTargetCube=!0,(Jh.prototype=Object.create(Si.prototype)).constructor=Jh,Jh.prototype.isDataTexture=!0,(yg.prototype=Object.create(Si.prototype)).constructor=yg,yg.prototype.isCubeTexture=!0,Object.defineProperty(yg.prototype,"images",{get:function(){return this.image},set:function(n){this.image=n}});var fE=new Si,HT=new yg;function gE(){this.seq=[],this.map={}}var GT=[],jT=[],WT=new Float32Array(16),qT=new Float32Array(9);function sb(n,r,i){var s=n[0];if(s<=0||s>0)return n;var c=r*i,u=GT[c];if(void 0===u&&(u=new Float32Array(c),GT[c]=u),0!==r){s.toArray(u,0);for(var f=1,v=0;f!==r;++f)n[f].toArray(u,v+=i)}return u}function $T(n,r){var i=jT[r];void 0===i&&(i=new Int32Array(r),jT[r]=i);for(var s=0;s!==r;++s)i[s]=n.allocTextureUnit();return i}function hR(n,r){n.uniform1f(this.addr,r)}function fR(n,r){n.uniform1i(this.addr,r)}function gR(n,r){void 0===r.x?n.uniform2fv(this.addr,r):n.uniform2f(this.addr,r.x,r.y)}function mR(n,r){void 0!==r.x?n.uniform3f(this.addr,r.x,r.y,r.z):void 0!==r.r?n.uniform3f(this.addr,r.r,r.g,r.b):n.uniform3fv(this.addr,r)}function vR(n,r){void 0===r.x?n.uniform4fv(this.addr,r):n.uniform4f(this.addr,r.x,r.y,r.z,r.w)}function YT(n,r){n.uniformMatrix2fv(this.addr,!1,r.elements||r)}function mE(n,r){void 0===r.elements?n.uniformMatrix3fv(this.addr,!1,r):(qT.set(r.elements),n.uniformMatrix3fv(this.addr,!1,qT))}function PP(n,r){void 0===r.elements?n.uniformMatrix4fv(this.addr,!1,r):(WT.set(r.elements),n.uniformMatrix4fv(this.addr,!1,WT))}function _R(n,r,i){var s=i.allocTextureUnit();n.uniform1i(this.addr,s),i.setTexture2D(r||fE,s)}function vE(n,r,i){var s=i.allocTextureUnit();n.uniform1i(this.addr,s),i.setTextureCube(r||HT,s)}function wP(n,r){n.uniform2iv(this.addr,r)}function tf(n,r){n.uniform3iv(this.addr,r)}function _E(n,r){n.uniform4iv(this.addr,r)}function OP(n,r){n.uniform1fv(this.addr,r)}function XT(n,r){n.uniform1iv(this.addr,r)}function ZT(n,r){n.uniform2fv(this.addr,sb(r,this.size,2))}function bE(n,r){n.uniform3fv(this.addr,sb(r,this.size,3))}function KT(n,r){n.uniform4fv(this.addr,sb(r,this.size,4))}function bR(n,r){n.uniformMatrix2fv(this.addr,!1,sb(r,this.size,4))}function yE(n,r){n.uniformMatrix3fv(this.addr,!1,sb(r,this.size,9))}function yR(n,r){n.uniformMatrix4fv(this.addr,!1,sb(r,this.size,16))}function gd(n,r,i){var s=r.length,c=$T(i,s);n.uniform1iv(this.addr,c);for(var u=0;u!==s;++u)i.setTexture2D(r[u]||fE,c[u])}function EP(n,r,i){var s=r.length,c=$T(i,s);n.uniform1iv(this.addr,c);for(var u=0;u!==s;++u)i.setTextureCube(r[u]||HT,c[u])}function Qx(n,r,i){this.id=n,this.addr=i,this.setValue=function(n){switch(n){case 5126:return hR;case 35664:return gR;case 35665:return mR;case 35666:return vR;case 35674:return YT;case 35675:return mE;case 35676:return PP;case 35678:case 36198:return _R;case 35680:return vE;case 5124:case 35670:return fR;case 35667:case 35671:return wP;case 35668:case 35672:return tf;case 35669:case 35673:return _E}}(r.type)}function QT(n,r,i){this.id=n,this.addr=i,this.size=r.size,this.setValue=function(n){switch(n){case 5126:return OP;case 35664:return ZT;case 35665:return bE;case 35666:return KT;case 35674:return bR;case 35675:return yE;case 35676:return yR;case 35678:return gd;case 35680:return EP;case 5124:case 35670:return XT;case 35667:case 35671:return wP;case 35668:case 35672:return tf;case 35669:case 35673:return _E}}(r.type)}function SP(n){this.id=n,gE.call(this)}SP.prototype.setValue=function(n,r){for(var i=this.seq,s=0,c=i.length;s!==c;++s){var u=i[s];u.setValue(n,r[u.id])}};var AP=/([\w\d_]+)(\])?(\[|\.)?/g;function ms(n,r){n.seq.push(r),n.map[r.id]=r}function CE(n,r,i){var s=n.name,c=s.length;for(AP.lastIndex=0;;){var u=AP.exec(s),v=u[1],y=u[3];if("]"===u[2]&&(v|=0),void 0===y||"["===y&&AP.lastIndex+2===c){ms(i,void 0===y?new Qx(v,n,r):new QT(v,n,r));break}var P=i.map[v];void 0===P&&ms(i,P=new SP(v)),i=P}}function _u(n,r,i){gE.call(this),this.renderer=i;for(var c=n.getProgramParameter(r,n.ACTIVE_UNIFORMS),u=0;u<c;++u){var f=n.getActiveUniform(r,u);CE(f,n.getUniformLocation(r,f.name),this)}}_u.prototype.setValue=function(n,r,i){var s=this.map[r];void 0!==s&&s.setValue(n,i,this.renderer)},_u.prototype.setOptional=function(n,r,i){var s=r[i];void 0!==s&&this.setValue(n,i,s)},_u.upload=function(n,r,i,s){for(var c=0,u=r.length;c!==u;++c){var f=r[c],v=i[f.id];!1!==v.needsUpdate&&f.setValue(n,v.value,s)}},_u.seqWithValue=function(n,r){for(var i=[],s=0,c=n.length;s!==c;++s){var u=n[s];u.id in r&&i.push(u)}return i};var JT={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function cn(n,r,i){return void 0===r&&void 0===i?this.set(n):this.setRGB(n,r,i)}Object.assign(cn.prototype,{isColor:!0,r:1,g:1,b:1,set:function(n){return n&&n.isColor?this.copy(n):"number"==typeof n?this.setHex(n):"string"==typeof n&&this.setStyle(n),this},setScalar:function(n){return this.r=n,this.g=n,this.b=n,this},setHex:function(n){return n=Math.floor(n),this.r=(n>>16&255)/255,this.g=(n>>8&255)/255,this.b=(255&n)/255,this},setRGB:function(n,r,i){return this.r=n,this.g=r,this.b=i,this},setHSL:function(){function n(r,i,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?r+6*(i-r)*s:s<.5?i:s<2/3?r+6*(i-r)*(2/3-s):r}return function(i,s,c){if(i=Ie.euclideanModulo(i,1),s=Ie.clamp(s,0,1),c=Ie.clamp(c,0,1),0===s)this.r=this.g=this.b=c;else{var u=c<=.5?c*(1+s):c+s-c*s,f=2*c-u;this.r=n(f,u,i+1/3),this.g=n(f,u,i),this.b=n(f,u,i-1/3)}return this}}(),setStyle:function(n){function r(P){void 0!==P&&parseFloat(P)<1&&console.warn("THREE.Color: Alpha component of "+n+" will be ignored.")}var i;if(i=/^((?:rgb|hsl)a?)\(\s*([^\)]*)\)/.exec(n)){var s,u=i[2];switch(i[1]){case"rgb":case"rgba":if(s=/^(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(255,parseInt(s[1],10))/255,this.g=Math.min(255,parseInt(s[2],10))/255,this.b=Math.min(255,parseInt(s[3],10))/255,r(s[5]),this;if(s=/^(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u))return this.r=Math.min(100,parseInt(s[1],10))/100,this.g=Math.min(100,parseInt(s[2],10))/100,this.b=Math.min(100,parseInt(s[3],10))/100,r(s[5]),this;break;case"hsl":case"hsla":if(s=/^([0-9]*\.?[0-9]+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(,\s*([0-9]*\.?[0-9]+)\s*)?$/.exec(u)){var f=parseFloat(s[1])/360,v=parseInt(s[2],10)/100,_=parseInt(s[3],10)/100;return r(s[5]),this.setHSL(f,v,_)}}}else if(i=/^\#([A-Fa-f0-9]+)$/.exec(n)){var y,C=(y=i[1]).length;if(3===C)return this.r=parseInt(y.charAt(0)+y.charAt(0),16)/255,this.g=parseInt(y.charAt(1)+y.charAt(1),16)/255,this.b=parseInt(y.charAt(2)+y.charAt(2),16)/255,this;if(6===C)return this.r=parseInt(y.charAt(0)+y.charAt(1),16)/255,this.g=parseInt(y.charAt(2)+y.charAt(3),16)/255,this.b=parseInt(y.charAt(4)+y.charAt(5),16)/255,this}return n&&n.length>0&&(void 0!==(y=JT[n])?this.setHex(y):console.warn("THREE.Color: Unknown color "+n)),this},clone:function(){return new this.constructor(this.r,this.g,this.b)},copy:function(n){return this.r=n.r,this.g=n.g,this.b=n.b,this},copyGammaToLinear:function(n,r){return void 0===r&&(r=2),this.r=Math.pow(n.r,r),this.g=Math.pow(n.g,r),this.b=Math.pow(n.b,r),this},copyLinearToGamma:function(n,r){void 0===r&&(r=2);var i=r>0?1/r:1;return this.r=Math.pow(n.r,i),this.g=Math.pow(n.g,i),this.b=Math.pow(n.b,i),this},convertGammaToLinear:function(){var n=this.r,r=this.g,i=this.b;return this.r=n*n,this.g=r*r,this.b=i*i,this},convertLinearToGamma:function(){return this.r=Math.sqrt(this.r),this.g=Math.sqrt(this.g),this.b=Math.sqrt(this.b),this},getHex:function(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0},getHexString:function(){return("000000"+this.getHex().toString(16)).slice(-6)},getHSL:function(n){var v,_,r=n||{h:0,s:0,l:0},i=this.r,s=this.g,c=this.b,u=Math.max(i,s,c),f=Math.min(i,s,c),y=(f+u)/2;if(f===u)v=0,_=0;else{var C=u-f;switch(_=y<=.5?C/(u+f):C/(2-u-f),u){case i:v=(s-c)/C+(s<c?6:0);break;case s:v=(c-i)/C+2;break;case c:v=(i-s)/C+4}v/=6}return r.h=v,r.s=_,r.l=y,r},getStyle:function(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"},offsetHSL:function(n,r,i){var s=this.getHSL();return s.h+=n,s.s+=r,s.l+=i,this.setHSL(s.h,s.s,s.l),this},add:function(n){return this.r+=n.r,this.g+=n.g,this.b+=n.b,this},addColors:function(n,r){return this.r=n.r+r.r,this.g=n.g+r.g,this.b=n.b+r.b,this},addScalar:function(n){return this.r+=n,this.g+=n,this.b+=n,this},sub:function(n){return this.r=Math.max(0,this.r-n.r),this.g=Math.max(0,this.g-n.g),this.b=Math.max(0,this.b-n.b),this},multiply:function(n){return this.r*=n.r,this.g*=n.g,this.b*=n.b,this},multiplyScalar:function(n){return this.r*=n,this.g*=n,this.b*=n,this},lerp:function(n,r){return this.r+=(n.r-this.r)*r,this.g+=(n.g-this.g)*r,this.b+=(n.b-this.b)*r,this},equals:function(n){return n.r===this.r&&n.g===this.g&&n.b===this.b},fromArray:function(n,r){return void 0===r&&(r=0),this.r=n[r],this.g=n[r+1],this.b=n[r+2],this},toArray:function(n,r){return void 0===n&&(n=[]),void 0===r&&(r=0),n[r]=this.r,n[r+1]=this.g,n[r+2]=this.b,n},toJSON:function(){return this.getHex()}});var ar={common:{diffuse:{value:new cn(15658734)},opacity:{value:1},map:{value:null},uvTransform:{value:new xi},alphaMap:{value:null}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new ce(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new cn(16777215)}},lights:{ambientLightColor:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{},shadow:{},shadowBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}}},points:{diffuse:{value:new cn(15658734)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},uvTransform:{value:new xi}}},vc={merge:function(n){for(var i={},s=0;s<n.length;s++){var c=this.clone(n[s]);for(var u in c)i[u]=c[u]}return i},clone:function(n){var r={};for(var i in n)for(var s in r[i]={},n[i]){var c=n[i][s];r[i][s]=c&&(c.isColor||c.isMatrix3||c.isMatrix4||c.isVector2||c.isVector3||c.isVector4||c.isTexture)?c.clone():Array.isArray(c)?c.slice():c}return r}},ao={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif\n",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif\n",alphatest_fragment:"#ifdef ALPHATEST\n\tif ( diffuseColor.a < ALPHATEST ) discard;\n#endif\n",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\n\t#endif\n#endif\n",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"\nvec3 transformed = vec3( position );\n",beginnormal_vertex:"\nvec3 objectNormal = vec3( normal );\n",bsdfs:"float punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\tif( decayExponent > 0.0 ) {\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tfloat maxDistanceCutoffFactor = pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\treturn distanceFalloff * maxDistanceCutoffFactor;\n#else\n\t\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\n#endif\n\t}\n\treturn 1.0;\n}\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\n\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\n\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\n}\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\treturn 1.0 / ( gl * gv );\n}\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNL = saturate( dot( geometry.normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( G * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE  = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\n\tfloat theta = acos( dot( N, V ) );\n\tvec2 uv = vec2(\n\t\tsqrt( saturate( roughness ) ),\n\t\tsaturate( theta / ( 0.5 * PI ) ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.86267 + (0.49788 + 0.01436 * y ) * y;\n\tfloat b = 3.45068 + (4.18814 + y) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = (x > 0.0) ? v : 0.5 * inversesqrt( 1.0 - x * x ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tvec3 result = vec3( LTC_ClippedSphereFormFactor( vectorFormFactor ) );\n\treturn result;\n}\nvec3 BRDF_Specular_GGX_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness ) {\n\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 AB = vec2( -1.04, 1.04 ) * a004 + r.zw;\n\treturn specularColor * AB.x + AB.y;\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, dotLH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\n\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\n}\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\n\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\n}\n",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 );\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif\n",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; ++ i ) {\n\t\tvec4 plane = clippingPlanes[ i ];\n\t\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t\t\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; ++ i ) {\n\t\t\tvec4 plane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\tif ( clipped ) discard;\n\t\n\t#endif\n#endif\n",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\t#if ! defined( PHYSICAL ) && ! defined( PHONG )\n\t\tvarying vec3 vViewPosition;\n\t#endif\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif\n",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvarying vec3 vViewPosition;\n#endif\n",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0 && ! defined( PHYSICAL ) && ! defined( PHONG )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n",color_fragment:"#ifdef USE_COLOR\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif\n",color_pars_vertex:"#ifdef USE_COLOR\n\tvarying vec3 vColor;\n#endif",color_vertex:"#ifdef USE_COLOR\n\tvColor.xyz = color.xyz;\n#endif",common:"#define PI 3.14159265359\n#define PI2 6.28318530718\n#define PI_HALF 1.5707963267949\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n#define LOG2 1.442695\n#define EPSILON 1e-6\n#define saturate(a) clamp( a, 0.0, 1.0 )\n#define whiteCompliment(a) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract(sin(sn) * c);\n}\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\tfloat distance = dot( planeNormal, point - pointOnPlane );\n\treturn - distance * planeNormal + point;\n}\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn sign( dot( point - pointOnPlane, planeNormal ) );\n}\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\n\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\n",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n#define cubeUV_textureSize (1024.0)\nint getFaceFromDirection(vec3 direction) {\n\tvec3 absDirection = abs(direction);\n\tint face = -1;\n\tif( absDirection.x > absDirection.z ) {\n\t\tif(absDirection.x > absDirection.y )\n\t\t\tface = direction.x > 0.0 ? 0 : 3;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\telse {\n\t\tif(absDirection.z > absDirection.y )\n\t\t\tface = direction.z > 0.0 ? 2 : 5;\n\t\telse\n\t\t\tface = direction.y > 0.0 ? 1 : 4;\n\t}\n\treturn face;\n}\n#define cubeUV_maxLods1  (log2(cubeUV_textureSize*0.25) - 1.0)\n#define cubeUV_rangeClamp (exp2((6.0 - 1.0) * 2.0))\nvec2 MipLevelInfo( vec3 vec, float roughnessLevel, float roughness ) {\n\tfloat scale = exp2(cubeUV_maxLods1 - roughnessLevel);\n\tfloat dxRoughness = dFdx(roughness);\n\tfloat dyRoughness = dFdy(roughness);\n\tvec3 dx = dFdx( vec * scale * dxRoughness );\n\tvec3 dy = dFdy( vec * scale * dyRoughness );\n\tfloat d = max( dot( dx, dx ), dot( dy, dy ) );\n\td = clamp(d, 1.0, cubeUV_rangeClamp);\n\tfloat mipLevel = 0.5 * log2(d);\n\treturn vec2(floor(mipLevel), fract(mipLevel));\n}\n#define cubeUV_maxLods2 (log2(cubeUV_textureSize*0.25) - 2.0)\n#define cubeUV_rcpTextureSize (1.0 / cubeUV_textureSize)\nvec2 getCubeUV(vec3 direction, float roughnessLevel, float mipLevel) {\n\tmipLevel = roughnessLevel > cubeUV_maxLods2 - 3.0 ? 0.0 : mipLevel;\n\tfloat a = 16.0 * cubeUV_rcpTextureSize;\n\tvec2 exp2_packed = exp2( vec2( roughnessLevel, mipLevel ) );\n\tvec2 rcp_exp2_packed = vec2( 1.0 ) / exp2_packed;\n\tfloat powScale = exp2_packed.x * exp2_packed.y;\n\tfloat scale = rcp_exp2_packed.x * rcp_exp2_packed.y * 0.25;\n\tfloat mipOffset = 0.75*(1.0 - rcp_exp2_packed.y) * rcp_exp2_packed.x;\n\tbool bRes = mipLevel == 0.0;\n\tscale =  bRes && (scale < a) ? a : scale;\n\tvec3 r;\n\tvec2 offset;\n\tint face = getFaceFromDirection(direction);\n\tfloat rcpPowScale = 1.0 / powScale;\n\tif( face == 0) {\n\t\tr = vec3(direction.x, -direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 1) {\n\t\tr = vec3(direction.y, direction.x, direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 2) {\n\t\tr = vec3(direction.z, direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.75 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? a : offset.y;\n\t}\n\telse if( face == 3) {\n\t\tr = vec3(direction.x, direction.z, direction.y);\n\t\toffset = vec2(0.0+mipOffset,0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse if( face == 4) {\n\t\tr = vec3(direction.y, direction.x, -direction.z);\n\t\toffset = vec2(scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\telse {\n\t\tr = vec3(direction.z, -direction.x, direction.y);\n\t\toffset = vec2(2.0*scale+mipOffset, 0.5 * rcpPowScale);\n\t\toffset.y = bRes && (offset.y < 2.0*a) ? 0.0 : offset.y;\n\t}\n\tr = normalize(r);\n\tfloat texelOffset = 0.5 * cubeUV_rcpTextureSize;\n\tvec2 s = ( r.yz / abs( r.x ) + vec2( 1.0 ) ) * 0.5;\n\tvec2 base = offset + vec2( texelOffset );\n\treturn base + s * ( scale - 2.0 * texelOffset );\n}\n#define cubeUV_maxLods3 (log2(cubeUV_textureSize*0.25) - 3.0)\nvec4 textureCubeUV(vec3 reflectedDirection, float roughness ) {\n\tfloat roughnessVal = roughness* cubeUV_maxLods3;\n\tfloat r1 = floor(roughnessVal);\n\tfloat r2 = r1 + 1.0;\n\tfloat t = fract(roughnessVal);\n\tvec2 mipInfo = MipLevelInfo(reflectedDirection, r1, roughness);\n\tfloat s = mipInfo.y;\n\tfloat level0 = mipInfo.x;\n\tfloat level1 = level0 + 1.0;\n\tlevel1 = level1 > 5.0 ? 5.0 : level1;\n\tlevel0 += min( floor( s + 0.5 ), 5.0 );\n\tvec2 uv_10 = getCubeUV(reflectedDirection, r1, level0);\n\tvec4 color10 = envMapTexelToLinear(texture2D(envMap, uv_10));\n\tvec2 uv_20 = getCubeUV(reflectedDirection, r2, level0);\n\tvec4 color20 = envMapTexelToLinear(texture2D(envMap, uv_20));\n\tvec4 result = mix(color10, color20, t);\n\treturn vec4(result.rgb, 1.0);\n}\n#endif\n",defaultnormal_vertex:"vec3 transformedNormal = normalMatrix * objectNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif\n",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, uv ).x * displacementScale + displacementBias );\n#endif\n",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif\n",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif\n",encodings_fragment:"  gl_FragColor = linearToOutputTexel( gl_FragColor );\n",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( gammaFactor ) ), value.w );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.xyz, vec3( 1.0 / gammaFactor ) ), value.w );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.w );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.w );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.xyz * value.w * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat M      = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM            = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.x, max( value.g, value.b ) );\n\tfloat D      = max( maxRange / maxRGB, 1.0 );\n\tD            = min( floor( D ) / 255.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value )  {\n\tvec3 Xp_Y_XYZp = value.rgb * cLogLuvM;\n\tXp_Y_XYZp = max(Xp_Y_XYZp, vec3(1e-6, 1e-6, 1e-6));\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract(Le);\n\tvResult.z = (Le - (floor(vResult.w*255.0))/255.0)/255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2((Le - 127.0) / 2.0);\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = Xp_Y_XYZp.rgb * cLogLuvInverseM;\n\treturn vec4( max(vRGB, 0.0), 1.0 );\n}\n",envmap_fragment:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvec3 cameraToVertex = normalize( vWorldPosition - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\tvec2 sampleUV;\n\t\treflectVec = normalize( reflectVec );\n\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\tvec4 envColor = texture2D( envMap, sampleUV );\n\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\treflectVec = normalize( reflectVec );\n\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\n\t\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\tenvColor = envMapTexelToLinear( envColor );\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif\n",envmap_pars_fragment:"#if defined( USE_ENVMAP ) || defined( PHYSICAL )\n\tuniform float reflectivity;\n\tuniform float envMapIntensity;\n#endif\n#ifdef USE_ENVMAP\n\t#if ! defined( PHYSICAL ) && ( defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) )\n\t\tvarying vec3 vWorldPosition;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\tuniform float flipEnvMap;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( PHYSICAL )\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif\n",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif\n",envmap_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif\n",fog_vertex:"\n#ifdef USE_FOG\nfogDepth = -mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n  varying float fogDepth;\n#endif\n",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 ) );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif\n",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float fogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif\n",gradientmap_pars_fragment:"#ifdef TOON\n\tuniform sampler2D gradientMap;\n\tvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\t\tfloat dotNL = dot( normal, lightDirection );\n\t\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t\t#ifdef USE_GRADIENTMAP\n\t\t\treturn texture2D( gradientMap, coord ).rgb;\n\t\t#else\n\t\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t\t#endif\n\t}\n#endif\n",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\treflectedLight.indirectDiffuse += PI * texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n#endif\n",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\n#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = PI * directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvLightFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n#endif\n",lights_pars:"uniform vec3 ambientLightColor;\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treturn irradiance;\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tdirectLight.color = directionalLight.color;\n\t\tdirectLight.direction = directionalLight.direction;\n\t\tdirectLight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t\tfloat shadowCameraNear;\n\t\tfloat shadowCameraFar;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tdirectLight.color = pointLight.color;\n\t\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\n\t\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t\tint shadow;\n\t\tfloat shadowBias;\n\t\tfloat shadowRadius;\n\t\tvec2 shadowMapSize;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tdirectLight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tfloat angleCos = dot( directLight.direction, spotLight.direction );\n\t\tif ( angleCos > spotLight.coneCos ) {\n\t\t\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\t\tdirectLight.color = spotLight.color;\n\t\t\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tdirectLight.visible = true;\n\t\t} else {\n\t\t\tdirectLight.color = vec3( 0.0 );\n\t\t\tdirectLight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltcMat;\tuniform sampler2D ltcMag;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tirradiance *= PI;\n\t\t#endif\n\t\treturn irradiance;\n\t}\n#endif\n#if defined( USE_ENVMAP ) && defined( PHYSICAL )\n\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\n\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\n\t\t\tvec4 envMapColor = textureCubeUV( queryVec, 1.0 );\n\t\t#else\n\t\t\tvec4 envMapColor = vec4( 0.0 );\n\t\t#endif\n\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t}\n\tfloat getSpecularMIPLevel( const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\tfloat maxMIPLevelScalar = float( maxMIPLevel );\n\t\tfloat desiredMIPLevel = maxMIPLevelScalar + 0.79248 - 0.5 * log2( pow2( blinnShininessExponent ) + 1.0 );\n\t\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\n\t}\n\tvec3 getLightProbeIndirectRadiance( const in GeometricContext geometry, const in float blinnShininessExponent, const in int maxMIPLevel ) {\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( -geometry.viewDir, geometry.normal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( -geometry.viewDir, geometry.normal, refractionRatio );\n\t\t#endif\n\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\tfloat specularMIPLevel = getSpecularMIPLevel( blinnShininessExponent, maxMIPLevel );\n\t\t#ifdef ENVMAP_TYPE_CUBE\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\n\t\t\tvec4 envMapColor = textureCubeUV(queryReflectVec, BlinnExponentToGGXRoughness(blinnShininessExponent));\n\t\t#elif defined( ENVMAP_TYPE_EQUIREC )\n\t\t\tvec2 sampleUV;\n\t\t\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\t\t\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#elif defined( ENVMAP_TYPE_SPHERE )\n\t\t\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\n\t\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\t\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#else\n\t\t\t\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\n\t\t\t#endif\n\t\t\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\n\t\t#endif\n\t\treturn envMapColor.rgb * envMapIntensity;\n\t}\n#endif\n",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;\n",lights_phong_pars_fragment:"varying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\nstruct BlinnPhongMaterial {\n\tvec3\tdiffuseColor;\n\tvec3\tspecularColor;\n\tfloat\tspecularShininess;\n\tfloat\tspecularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifdef TOON\n\t\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\t#else\n\t\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\t\tvec3 irradiance = dotNL * directLight.color;\n\t#endif\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)\n",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nmaterial.specularRoughness = clamp( roughnessFactor, 0.04, 1.0 );\n#ifdef STANDARD\n\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.clearCoat = saturate( clearCoat );\tmaterial.clearCoatRoughness = clamp( clearCoatRoughness, 0.04, 1.0 );\n#endif\n",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3\tdiffuseColor;\n\tfloat\tspecularRoughness;\n\tvec3\tspecularColor;\n\t#ifndef STANDARD\n\t\tfloat clearCoat;\n\t\tfloat clearCoatRoughness;\n\t#endif\n};\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\nfloat clearCoatDHRApprox( const in float roughness, const in float dotNL ) {\n\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.specularRoughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos - halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos + halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos + halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos - halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tfloat norm = texture2D( ltcMag, uv ).a;\n\t\tvec4 t = texture2D( ltcMat, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3(   1,   0, t.y ),\n\t\t\tvec3(   0, t.z,   0 ),\n\t\t\tvec3( t.w,   0, t.x )\n\t\t);\n\t\treflectedLight.directSpecular += lightColor * material.specularColor * norm * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tirradiance *= PI;\n\t#endif\n\t#ifndef STANDARD\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.directSpecular += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry, material.specularColor, material.specularRoughness );\n\treflectedLight.directDiffuse += ( 1.0 - clearCoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n\t#ifndef STANDARD\n\t\treflectedLight.directSpecular += irradiance * material.clearCoat * BRDF_Specular_GGX( directLight, geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 clearCoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t#ifndef STANDARD\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\tfloat dotNL = dotNV;\n\t\tfloat clearCoatDHR = material.clearCoat * clearCoatDHRApprox( material.clearCoatRoughness, dotNL );\n\t#else\n\t\tfloat clearCoatDHR = 0.0;\n\t#endif\n\treflectedLight.indirectSpecular += ( 1.0 - clearCoatDHR ) * radiance * BRDF_Specular_GGX_Environment( geometry, material.specularColor, material.specularRoughness );\n\t#ifndef STANDARD\n\t\treflectedLight.indirectSpecular += clearCoatRadiance * material.clearCoat * BRDF_Specular_GGX_Environment( geometry, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearCoatRoughness );\n\t#endif\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\n#define Material_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.specularRoughness )\n#define Material_ClearCoat_BlinnShininessExponent( material )   GGXRoughnessToBlinnExponent( material.clearCoatRoughness )\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}\n",lights_template:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = normalize( vViewPosition );\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( pointLight.shadow, directLight.visible ) ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( spotLight.shadow, directLight.visible ) ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\n\t\t#ifdef USE_SHADOWMAP\n\t\tdirectLight.color *= all( bvec2( directionalLight.shadow, directLight.visible ) ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\t#ifdef USE_LIGHTMAP\n\t\tvec3 lightMapIrradiance = texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( PHYSICAL ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tirradiance += getLightProbeIndirectIrradiance( geometry, 8 );\n\t#endif\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tvec3 radiance = getLightProbeIndirectRadiance( geometry, Material_BlinnShininessExponent( material ), 8 );\n\t#ifndef STANDARD\n\t\tvec3 clearCoatRadiance = getLightProbeIndirectRadiance( geometry, Material_ClearCoat_BlinnShininessExponent( material ), 8 );\n\t#else\n\t\tvec3 clearCoatRadiance = vec3( 0.0 );\n\t#endif\n\tRE_IndirectSpecular( radiance, clearCoatRadiance, geometry, material, reflectedLight );\n#endif\n",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#ifdef USE_LOGDEPTHBUF\n\tuniform float logDepthBufFC;\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n#endif\n",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t#endif\n\tuniform float logDepthBufFC;\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t#else\n\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\tgl_Position.z *= gl_Position.w;\n\t#endif\n#endif\n",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif\n",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n",map_particle_fragment:"#ifdef USE_MAP\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n",map_particle_pars_fragment:"#ifdef USE_MAP\n\tuniform mat3 uvTransform;\n\tuniform sampler2D map;\n#endif\n",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif\n",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal += ( morphNormal0 - normal ) * morphTargetInfluences[ 0 ];\n\tobjectNormal += ( morphNormal1 - normal ) * morphTargetInfluences[ 1 ];\n\tobjectNormal += ( morphNormal2 - normal ) * morphTargetInfluences[ 2 ];\n\tobjectNormal += ( morphNormal3 - normal ) * morphTargetInfluences[ 3 ];\n#endif\n",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\t#ifndef USE_MORPHNORMALS\n\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed += ( morphTarget0 - position ) * morphTargetInfluences[ 0 ];\n\ttransformed += ( morphTarget1 - position ) * morphTargetInfluences[ 1 ];\n\ttransformed += ( morphTarget2 - position ) * morphTargetInfluences[ 2 ];\n\ttransformed += ( morphTarget3 - position ) * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\ttransformed += ( morphTarget4 - position ) * morphTargetInfluences[ 4 ];\n\ttransformed += ( morphTarget5 - position ) * morphTargetInfluences[ 5 ];\n\ttransformed += ( morphTarget6 - position ) * morphTargetInfluences[ 6 ];\n\ttransformed += ( morphTarget7 - position ) * morphTargetInfluences[ 7 ];\n\t#endif\n#endif\n",normal_fragment:"#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\n\t#endif\n#endif\n#ifdef USE_NORMALMAP\n\tnormal = perturbNormal2Arb( -vViewPosition, normal );\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\n#endif\n",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 S = normalize( q0 * st1.t - q1 * st0.t );\n\t\tvec3 T = normalize( -q0 * st1.s + q1 * st0.s );\n\t\tvec3 N = normalize( surf_norm );\n\t\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t\tmapN.xy = normalScale * mapN.xy;\n\t\tmat3 tsn = mat3( S, T, N );\n\t\treturn normalize( tsn * mapN );\n\t}\n#endif\n",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}\n",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif\n",project_vertex:"vec4 mvPosition = modelViewMatrix * vec4( transformed, 1.0 );\ngl_Position = projectionMatrix * mvPosition;\n",dithering_fragment:"#if defined( DITHERING )\n  gl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif\n",dithering_pars_fragment:"#if defined( DITHERING )\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif\n",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif\n",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tfloat texture2DShadowLerp( sampler2D depths, vec2 size, vec2 uv, float compare ) {\n\t\tconst vec2 offset = vec2( 0.0, 1.0 );\n\t\tvec2 texelSize = vec2( 1.0 ) / size;\n\t\tvec2 centroidUV = floor( uv * size + 0.5 ) / size;\n\t\tfloat lb = texture2DCompare( depths, centroidUV + texelSize * offset.xx, compare );\n\t\tfloat lt = texture2DCompare( depths, centroidUV + texelSize * offset.xy, compare );\n\t\tfloat rb = texture2DCompare( depths, centroidUV + texelSize * offset.yx, compare );\n\t\tfloat rt = texture2DCompare( depths, centroidUV + texelSize * offset.yy, compare );\n\t\tvec2 f = fract( uv * size + 0.5 );\n\t\tfloat a = mix( lb, lt, f.y );\n\t\tfloat b = mix( rb, rt, f.y );\n\t\tfloat c = mix( a, b, f.x );\n\t\treturn c;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tshadow = (\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DShadowLerp( shadowMap, shadowMapSize, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif\n",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHTS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHTS ];\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHTS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHTS ];\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHTS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHTS ];\n\t#endif\n#endif\n",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\n\t}\n\t#endif\n#endif\n",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHTS > 0\n\tDirectionalLight directionalLight;\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tshadow *= bool( directionalLight.shadow ) ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_SPOT_LIGHTS > 0\n\tSpotLight spotLight;\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tshadow *= bool( spotLight.shadow ) ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#endif\n\t#if NUM_POINT_LIGHTS > 0\n\tPointLight pointLight;\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tshadow *= bool( pointLight.shadow ) ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#endif\n\t#endif\n\treturn shadow;\n}\n",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif\n",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif\n",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n#endif\n",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n  gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif\n",tonemapping_pars_fragment:"#ifndef saturate\n\t#define saturate(a) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nuniform float toneMappingWhitePoint;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\nvec3 Uncharted2ToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\n",uv_pars_fragment:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvarying vec2 vUv;\n\tuniform mat3 uvTransform;\n#endif\n",uv_vertex:"#if defined( USE_MAP ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( USE_SPECULARMAP ) || defined( USE_ALPHAMAP ) || defined( USE_EMISSIVEMAP ) || defined( USE_ROUGHNESSMAP ) || defined( USE_METALNESSMAP )\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = uv2;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\n\tvec4 worldPosition = modelMatrix * vec4( transformed, 1.0 );\n#endif\n",cube_frag:"uniform samplerCube tCube;\nuniform float tFlip;\nuniform float opacity;\nvarying vec3 vWorldPosition;\nvoid main() {\n\tgl_FragColor = textureCube( tCube, vec3( tFlip * vWorldPosition.x, vWorldPosition.yz ) );\n\tgl_FragColor.a *= opacity;\n}\n",cube_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}\n",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( gl_FragCoord.z ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( gl_FragCoord.z );\n\t#endif\n}\n",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n}\n",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}\n",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}\n",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldPosition );\n\tvec2 sampleUV;\n\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\n\tgl_FragColor = texture2D( tEquirect, sampleUV );\n}\n",equirect_vert:"varying vec3 vWorldPosition;\n#include <common>\nvoid main() {\n\tvWorldPosition = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}\n",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\tvLineDistance = scale * lineDistance;\n\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}\n",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\treflectedLight.indirectDiffuse += texture2D( lightMap, vUv2 ).xyz * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_ENVMAP\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}\n",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",meshphysical_frag:"#define PHYSICAL\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifndef STANDARD\n\tuniform float clearCoat;\n\tuniform float clearCoatRoughness;\n#endif\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <lights_pars>\n#include <lights_physical_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_template>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}\n",meshphysical_vert:"#define PHYSICAL\nvarying vec3 vViewPosition;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",normal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\nvoid main() {\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}\n",normal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}\n",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\n\t#include <premultiplied_alpha_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}\n",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#ifdef USE_SIZEATTENUATION\n\t\tgl_PointSize = size * ( scale / - mvPosition.z );\n\t#else\n\t\tgl_PointSize = size;\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <fog_fragment>\n}\n",shadow_vert:"#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}\n"},_d={basic:{uniforms:vc.merge([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.fog]),vertexShader:ao.meshbasic_vert,fragmentShader:ao.meshbasic_frag},lambert:{uniforms:vc.merge([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.fog,ar.lights,{emissive:{value:new cn(0)}}]),vertexShader:ao.meshlambert_vert,fragmentShader:ao.meshlambert_frag},phong:{uniforms:vc.merge([ar.common,ar.specularmap,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.gradientmap,ar.fog,ar.lights,{emissive:{value:new cn(0)},specular:{value:new cn(1118481)},shininess:{value:30}}]),vertexShader:ao.meshphong_vert,fragmentShader:ao.meshphong_frag},standard:{uniforms:vc.merge([ar.common,ar.envmap,ar.aomap,ar.lightmap,ar.emissivemap,ar.bumpmap,ar.normalmap,ar.displacementmap,ar.roughnessmap,ar.metalnessmap,ar.fog,ar.lights,{emissive:{value:new cn(0)},roughness:{value:.5},metalness:{value:.5},envMapIntensity:{value:1}}]),vertexShader:ao.meshphysical_vert,fragmentShader:ao.meshphysical_frag},points:{uniforms:vc.merge([ar.points,ar.fog]),vertexShader:ao.points_vert,fragmentShader:ao.points_frag},dashed:{uniforms:vc.merge([ar.common,ar.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ao.linedashed_vert,fragmentShader:ao.linedashed_frag},depth:{uniforms:vc.merge([ar.common,ar.displacementmap]),vertexShader:ao.depth_vert,fragmentShader:ao.depth_frag},normal:{uniforms:vc.merge([ar.common,ar.bumpmap,ar.normalmap,ar.displacementmap,{opacity:{value:1}}]),vertexShader:ao.normal_vert,fragmentShader:ao.normal_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ao.cube_vert,fragmentShader:ao.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ao.equirect_vert,fragmentShader:ao.equirect_frag},distanceRGBA:{uniforms:vc.merge([ar.common,ar.displacementmap,{referencePosition:{value:new J},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ao.distanceRGBA_vert,fragmentShader:ao.distanceRGBA_frag},shadow:{uniforms:vc.merge([ar.lights,ar.fog,{color:{value:new cn(0)},opacity:{value:1}}]),vertexShader:ao.shadow_vert,fragmentShader:ao.shadow_frag}};function hC(n,r){this.min=void 0!==n?n:new ce(1/0,1/0),this.max=void 0!==r?r:new ce(-1/0,-1/0)}function BE(n,r,i,s,c){var u,f,v,_,y,C,P,w;this.render=function(I,L,B,V){if(0!==I.length){var N=new J,F=V.w/V.z,z=.5*V.z,G=.5*V.w,q=16/V.w,Y=new ce(q*F,q),X=new J(1,1,0),$=new ce(1,1),tt=new hC;tt.min.set(V.x,V.y),tt.max.set(V.x+(V.z-16),V.y+(V.w-16)),void 0===_&&function(){var I=new Float32Array([-1,-1,0,0,1,-1,1,0,1,1,1,1,-1,1,0,1]),L=new Uint16Array([0,1,2,0,2,3]);u=r.createBuffer(),f=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,I,r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,f),r.bufferData(r.ELEMENT_ARRAY_BUFFER,L,r.STATIC_DRAW),P=r.createTexture(),w=r.createTexture(),i.bindTexture(r.TEXTURE_2D,P),r.texImage2D(r.TEXTURE_2D,0,r.RGB,16,16,0,r.RGB,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),i.bindTexture(r.TEXTURE_2D,w),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,16,16,0,r.RGBA,r.UNSIGNED_BYTE,null),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.NEAREST),v={vertexShader:["uniform lowp int renderType;","uniform vec3 screenPosition;","uniform vec2 scale;","uniform float rotation;","uniform sampler2D occlusionMap;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tvUV = uv;","\tvec2 pos = position;","\tif ( renderType == 2 ) {","\t\tvec4 visibility = texture2D( occlusionMap, vec2( 0.1, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.1 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.9, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.9 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.1, 0.5 ) );","\t\tvisibility += texture2D( occlusionMap, vec2( 0.5, 0.5 ) );","\t\tvVisibility =        visibility.r / 9.0;","\t\tvVisibility *= 1.0 - visibility.g / 9.0;","\t\tvVisibility *=       visibility.b / 9.0;","\t\tvVisibility *= 1.0 - visibility.a / 9.0;","\t\tpos.x = cos( rotation ) * position.x - sin( rotation ) * position.y;","\t\tpos.y = sin( rotation ) * position.x + cos( rotation ) * position.y;","\t}","\tgl_Position = vec4( ( pos * scale + screenPosition.xy ).xy, screenPosition.z, 1.0 );","}"].join("\n"),fragmentShader:["uniform lowp int renderType;","uniform sampler2D map;","uniform float opacity;","uniform vec3 color;","varying vec2 vUV;","varying float vVisibility;","void main() {","\tif ( renderType == 0 ) {","\t\tgl_FragColor = vec4( 1.0, 0.0, 1.0, 0.0 );","\t} else if ( renderType == 1 ) {","\t\tgl_FragColor = texture2D( map, vUV );","\t} else {","\t\tvec4 texture = texture2D( map, vUV );","\t\ttexture.a *= opacity * vVisibility;","\t\tgl_FragColor = texture;","\t\tgl_FragColor.rgb *= color;","\t}","}"].join("\n")},_=function(I){var L=r.createProgram(),B=r.createShader(r.FRAGMENT_SHADER),V=r.createShader(r.VERTEX_SHADER),N="precision "+c.precision+" float;\n";return r.shaderSource(B,N+I.fragmentShader),r.shaderSource(V,N+I.vertexShader),r.compileShader(B),r.compileShader(V),r.attachShader(L,B),r.attachShader(L,V),r.linkProgram(L),L}(v),y={vertex:r.getAttribLocation(_,"position"),uv:r.getAttribLocation(_,"uv")},C={renderType:r.getUniformLocation(_,"renderType"),map:r.getUniformLocation(_,"map"),occlusionMap:r.getUniformLocation(_,"occlusionMap"),opacity:r.getUniformLocation(_,"opacity"),color:r.getUniformLocation(_,"color"),scale:r.getUniformLocation(_,"scale"),rotation:r.getUniformLocation(_,"rotation"),screenPosition:r.getUniformLocation(_,"screenPosition")}}(),i.useProgram(_),i.initAttributes(),i.enableAttribute(y.vertex),i.enableAttribute(y.uv),i.disableUnusedAttributes(),r.uniform1i(C.occlusionMap,0),r.uniform1i(C.map,1),r.bindBuffer(r.ARRAY_BUFFER,u),r.vertexAttribPointer(y.vertex,2,r.FLOAT,!1,16,0),r.vertexAttribPointer(y.uv,2,r.FLOAT,!1,16,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,f),i.disable(r.CULL_FACE),i.buffers.depth.setMask(!1);for(var ot=0,nt=I.length;ot<nt;ot++){Y.set((q=16/V.w)*F,q);var et=I[ot];if(N.set(et.matrixWorld.elements[12],et.matrixWorld.elements[13],et.matrixWorld.elements[14]),N.applyMatrix4(B.matrixWorldInverse),N.applyMatrix4(B.projectionMatrix),X.copy(N),$.x=V.x+X.x*z+z-8,$.y=V.y+X.y*G+G-8,!0===tt.containsPoint($)){i.activeTexture(r.TEXTURE0),i.bindTexture(r.TEXTURE_2D,null),i.activeTexture(r.TEXTURE1),i.bindTexture(r.TEXTURE_2D,P),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGB,$.x,$.y,16,16,0),r.uniform1i(C.renderType,0),r.uniform2f(C.scale,Y.x,Y.y),r.uniform3f(C.screenPosition,X.x,X.y,X.z),i.disable(r.BLEND),i.enable(r.DEPTH_TEST),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),i.activeTexture(r.TEXTURE0),i.bindTexture(r.TEXTURE_2D,w),r.copyTexImage2D(r.TEXTURE_2D,0,r.RGBA,$.x,$.y,16,16,0),r.uniform1i(C.renderType,1),i.disable(r.DEPTH_TEST),i.activeTexture(r.TEXTURE1),i.bindTexture(r.TEXTURE_2D,P),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),et.positionScreen.copy(X),et.customUpdateCallback?et.customUpdateCallback(et):et.updateLensFlares(),r.uniform1i(C.renderType,2),i.enable(r.BLEND);for(var vt=0,dt=et.lensFlares.length;vt<dt;vt++){var Dt=et.lensFlares[vt];Dt.opacity>.001&&Dt.scale>.001&&(X.x=Dt.x,X.y=Dt.y,X.z=Dt.z,Y.x=(q=Dt.size*Dt.scale/V.w)*F,Y.y=q,r.uniform3f(C.screenPosition,X.x,X.y,X.z),r.uniform2f(C.scale,Y.x,Y.y),r.uniform1f(C.rotation,Dt.rotation),r.uniform1f(C.opacity,Dt.opacity),r.uniform3f(C.color,Dt.color.r,Dt.color.g,Dt.color.b),i.setBlending(Dt.blending,Dt.blendEquation,Dt.blendSrc,Dt.blendDst),s.setTexture2D(Dt.texture,1),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0))}}}i.enable(r.CULL_FACE),i.enable(r.DEPTH_TEST),i.buffers.depth.setMask(!0),i.reset()}}}function Ev(n,r,i,s,c,u,f,v,_){Si.call(this,n,r,i,s,c,u,f,v,_),this.needsUpdate=!0}function Vl(n,r,i,s,c){var u,f,v,_,y,C,P=new J,w=new Wr,E=new J;function L(B,V){return B.renderOrder!==V.renderOrder?B.renderOrder-V.renderOrder:B.z!==V.z?V.z-B.z:V.id-B.id}this.render=function(B,V,N){if(0!==B.length){void 0===v&&function(){var B=new Float32Array([-.5,-.5,0,0,.5,-.5,1,0,.5,.5,1,1,-.5,.5,0,1]),V=new Uint16Array([0,1,2,0,2,3]);u=r.createBuffer(),f=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,u),r.bufferData(r.ARRAY_BUFFER,B,r.STATIC_DRAW),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,f),r.bufferData(r.ELEMENT_ARRAY_BUFFER,V,r.STATIC_DRAW),v=function(){var B=r.createProgram(),V=r.createShader(r.VERTEX_SHADER),N=r.createShader(r.FRAGMENT_SHADER);return r.shaderSource(V,["precision "+c.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform float rotation;","uniform vec2 scale;","uniform vec2 uvOffset;","uniform vec2 uvScale;","attribute vec2 position;","attribute vec2 uv;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvUV = uvOffset + uv * uvScale;","\tvec2 alignedPosition = position * scale;","\tvec2 rotatedPosition;","\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;","\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;","\tvec4 mvPosition;","\tmvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );","\tmvPosition.xy += rotatedPosition;","\tgl_Position = projectionMatrix * mvPosition;","\tfogDepth = - mvPosition.z;","}"].join("\n")),r.shaderSource(N,["precision "+c.precision+" float;","#define SHADER_NAME SpriteMaterial","uniform vec3 color;","uniform sampler2D map;","uniform float opacity;","uniform int fogType;","uniform vec3 fogColor;","uniform float fogDensity;","uniform float fogNear;","uniform float fogFar;","uniform float alphaTest;","varying vec2 vUV;","varying float fogDepth;","void main() {","\tvec4 texture = texture2D( map, vUV );","\tgl_FragColor = vec4( color * texture.xyz, texture.a * opacity );","\tif ( gl_FragColor.a < alphaTest ) discard;","\tif ( fogType > 0 ) {","\t\tfloat fogFactor = 0.0;","\t\tif ( fogType == 1 ) {","\t\t\tfogFactor = smoothstep( fogNear, fogFar, fogDepth );","\t\t} else {","\t\t\tconst float LOG2 = 1.442695;","\t\t\tfogFactor = exp2( - fogDensity * fogDensity * fogDepth * fogDepth * LOG2 );","\t\t\tfogFactor = 1.0 - clamp( fogFactor, 0.0, 1.0 );","\t\t}","\t\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );","\t}","}"].join("\n")),r.compileShader(V),r.compileShader(N),r.attachShader(B,V),r.attachShader(B,N),r.linkProgram(B),B}(),_={position:r.getAttribLocation(v,"position"),uv:r.getAttribLocation(v,"uv")},y={uvOffset:r.getUniformLocation(v,"uvOffset"),uvScale:r.getUniformLocation(v,"uvScale"),rotation:r.getUniformLocation(v,"rotation"),scale:r.getUniformLocation(v,"scale"),color:r.getUniformLocation(v,"color"),map:r.getUniformLocation(v,"map"),opacity:r.getUniformLocation(v,"opacity"),modelViewMatrix:r.getUniformLocation(v,"modelViewMatrix"),projectionMatrix:r.getUniformLocation(v,"projectionMatrix"),fogType:r.getUniformLocation(v,"fogType"),fogDensity:r.getUniformLocation(v,"fogDensity"),fogNear:r.getUniformLocation(v,"fogNear"),fogFar:r.getUniformLocation(v,"fogFar"),fogColor:r.getUniformLocation(v,"fogColor"),fogDepth:r.getUniformLocation(v,"fogDepth"),alphaTest:r.getUniformLocation(v,"alphaTest")};var N=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");N.width=8,N.height=8;var F=N.getContext("2d");F.fillStyle="white",F.fillRect(0,0,8,8),C=new Ev(N)}(),i.useProgram(v),i.initAttributes(),i.enableAttribute(_.position),i.enableAttribute(_.uv),i.disableUnusedAttributes(),i.disable(r.CULL_FACE),i.enable(r.BLEND),r.bindBuffer(r.ARRAY_BUFFER,u),r.vertexAttribPointer(_.position,2,r.FLOAT,!1,16,0),r.vertexAttribPointer(_.uv,2,r.FLOAT,!1,16,8),r.bindBuffer(r.ELEMENT_ARRAY_BUFFER,f),r.uniformMatrix4fv(y.projectionMatrix,!1,N.projectionMatrix.elements),i.activeTexture(r.TEXTURE0),r.uniform1i(y.map,0);var F=0,z=0,G=V.fog;G?(r.uniform3f(y.fogColor,G.color.r,G.color.g,G.color.b),G.isFog?(r.uniform1f(y.fogNear,G.near),r.uniform1f(y.fogFar,G.far),r.uniform1i(y.fogType,1),F=1,z=1):G.isFogExp2&&(r.uniform1f(y.fogDensity,G.density),r.uniform1i(y.fogType,2),F=2,z=2)):(r.uniform1i(y.fogType,0),F=0,z=0);for(var q=0,Y=B.length;q<Y;q++)(X=B[q]).modelViewMatrix.multiplyMatrices(N.matrixWorldInverse,X.matrixWorld),X.z=-X.modelViewMatrix.elements[14];B.sort(L);var $=[];for(q=0,Y=B.length;q<Y;q++){var X,tt=(X=B[q]).material;if(!1!==tt.visible){X.onBeforeRender(n,V,N,void 0,tt,void 0),r.uniform1f(y.alphaTest,tt.alphaTest),r.uniformMatrix4fv(y.modelViewMatrix,!1,X.modelViewMatrix.elements),X.matrixWorld.decompose(P,w,E),$[0]=E.x,$[1]=E.y;var ot=0;V.fog&&tt.fog&&(ot=z),F!==ot&&(r.uniform1i(y.fogType,ot),F=ot),null!==tt.map?(r.uniform2f(y.uvOffset,tt.map.offset.x,tt.map.offset.y),r.uniform2f(y.uvScale,tt.map.repeat.x,tt.map.repeat.y)):(r.uniform2f(y.uvOffset,0,0),r.uniform2f(y.uvScale,1,1)),r.uniform1f(y.opacity,tt.opacity),r.uniform3f(y.color,tt.color.r,tt.color.g,tt.color.b),r.uniform1f(y.rotation,tt.rotation),r.uniform2fv(y.scale,$),i.setBlending(tt.blending,tt.blendEquation,tt.blendSrc,tt.blendDst,tt.blendEquationAlpha,tt.blendSrcAlpha,tt.blendDstAlpha,tt.premultipliedAlpha),i.buffers.depth.setTest(tt.depthTest),i.buffers.depth.setMask(tt.depthWrite),i.buffers.color.setMask(tt.colorWrite),s.setTexture2D(tt.map||C,0),r.drawElements(r.TRIANGLES,6,r.UNSIGNED_SHORT,0),X.onAfterRender(n,V,N,void 0,tt,void 0)}}i.enable(r.CULL_FACE),i.reset()}}}_d.physical={uniforms:vc.merge([_d.standard.uniforms,{clearCoat:{value:0},clearCoatRoughness:{value:0}}]),vertexShader:ao.meshphysical_vert,fragmentShader:ao.meshphysical_frag},Object.assign(hC.prototype,{set:function(n,r){return this.min.copy(n),this.max.copy(r),this},setFromPoints:function(n){this.makeEmpty();for(var i=0,s=n.length;i<s;i++)this.expandByPoint(n[i]);return this},setFromCenterAndSize:function(){var n=new ce;return function(i,s){var c=n.copy(s).multiplyScalar(.5);return this.min.copy(i).sub(c),this.max.copy(i).add(c),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y},getCenter:function(n){var r=n||new ce;return this.isEmpty()?r.set(0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){var r=n||new ce;return this.isEmpty()?r.set(0,0):r.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y},getParameter:function(n,r){return(r||new ce).set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y)},clampPoint:function(n,r){return(r||new ce).copy(n).clamp(this.min,this.max)},distanceToPoint:function(){var n=new ce;return function(i){return n.copy(i).clamp(this.min,this.max).sub(i).length()}}(),intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}),(Ev.prototype=Object.create(Si.prototype)).constructor=Ev;var MD=0;function oi(){Object.defineProperty(this,"id",{value:MD++}),this.uuid=Ie.generateUUID(),this.name="",this.type="Material",this.fog=!0,this.lights=!0,this.blending=1,this.side=0,this.flatShading=!1,this.vertexColors=0,this.opacity=1,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaTest=0,this.premultipliedAlpha=!1,this.overdraw=0,this.visible=!0,this.userData={},this.needsUpdate=!0}function xu(n){oi.call(this),this.type="MeshDepthMaterial",this.depthPacking=3200,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.setValues(n)}function Cu(n){oi.call(this),this.type="MeshDistanceMaterial",this.referencePosition=new J,this.nearDistance=1,this.farDistance=1e3,this.skinning=!1,this.morphTargets=!1,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.lights=!1,this.setValues(n)}function to(n,r){this.min=void 0!==n?n:new J(1/0,1/0,1/0),this.max=void 0!==r?r:new J(-1/0,-1/0,-1/0)}function zs(n,r){this.center=void 0!==n?n:new J,this.radius=void 0!==r?r:0}function Xa(n,r){this.normal=void 0!==n?n:new J(1,0,0),this.constant=void 0!==r?r:0}function fb(n,r,i,s,c,u){this.planes=[void 0!==n?n:new Xa,void 0!==r?r:new Xa,void 0!==i?i:new Xa,void 0!==s?s:new Xa,void 0!==c?c:new Xa,void 0!==u?u:new Xa]}function Mu(n,r,i){for(var s=new fb,c=new ye,u=new ce,f=new ce(i,i),v=new J,_=new J,w=new Array(4),E=new Array(4),S={},I=[new J(1,0,0),new J(-1,0,0),new J(0,0,1),new J(0,0,-1),new J(0,1,0),new J(0,-1,0)],L=[new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,1,0),new J(0,0,1),new J(0,0,-1)],B=[new yo,new yo,new yo,new yo,new yo,new yo],V=0;4!==V;++V){var N=0!=(1&V),F=0!=(2&V),z=new xu({depthPacking:3201,morphTargets:N,skinning:F});w[V]=z;var G=new Cu({morphTargets:N,skinning:F});E[V]=G}var q=this;function Y($,tt,ot,nt,et,vt){var dt=$.geometry,Dt=null,Et=w,Mt=$.customDepthMaterial;if(ot&&(Et=E,Mt=$.customDistanceMaterial),Mt)Dt=Mt;else{var st=!1;tt.morphTargets&&(dt&&dt.isBufferGeometry?st=dt.morphAttributes&&dt.morphAttributes.position&&dt.morphAttributes.position.length>0:dt&&dt.isGeometry&&(st=dt.morphTargets&&dt.morphTargets.length>0)),$.isSkinnedMesh&&!1===tt.skinning&&console.warn("THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:",$);var Ft=0;st&&(Ft|=1),$.isSkinnedMesh&&tt.skinning&&(Ft|=2),Dt=Et[Ft]}if(n.localClippingEnabled&&!0===tt.clipShadows&&0!==tt.clippingPlanes.length){var Lt=Dt.uuid,$t=tt.uuid,ft=S[Lt];void 0===ft&&(S[Lt]=ft={});var Zt=ft[$t];void 0===Zt&&(Zt=Dt.clone(),ft[$t]=Zt),Dt=Zt}Dt.visible=tt.visible,Dt.wireframe=tt.wireframe;var bt=tt.side;return q.renderSingleSided&&2==bt&&(bt=0),q.renderReverseSided&&(0===bt?bt=1:1===bt&&(bt=0)),Dt.side=bt,Dt.clipShadows=tt.clipShadows,Dt.clippingPlanes=tt.clippingPlanes,Dt.clipIntersection=tt.clipIntersection,Dt.wireframeLinewidth=tt.wireframeLinewidth,Dt.linewidth=tt.linewidth,ot&&Dt.isMeshDistanceMaterial&&(Dt.referencePosition.copy(nt),Dt.nearDistance=et,Dt.farDistance=vt),Dt}function X($,tt,ot,nt){if(!1!==$.visible){if($.layers.test(tt.layers)&&($.isMesh||$.isLine||$.isPoints)&&$.castShadow&&(!$.frustumCulled||s.intersectsObject($))){$.modelViewMatrix.multiplyMatrices(ot.matrixWorldInverse,$.matrixWorld);var vt=r.update($),dt=$.material;if(Array.isArray(dt))for(var Dt=vt.groups,Et=0,Mt=Dt.length;Et<Mt;Et++){var st=Dt[Et],ht=dt[st.materialIndex];if(ht&&ht.visible){var Ft=Y($,ht,nt,_,ot.near,ot.far);n.renderBufferDirect(ot,null,vt,Ft,$,st)}}else dt.visible&&(Ft=Y($,dt,nt,_,ot.near,ot.far),n.renderBufferDirect(ot,null,vt,Ft,$,null))}for(var Lt=$.children,$t=0,ft=Lt.length;$t<ft;$t++)X(Lt[$t],tt,ot,nt)}}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.renderReverseSided=!0,this.renderSingleSided=!0,this.render=function($,tt,ot){if(!1!==q.enabled&&(!1!==q.autoUpdate||!1!==q.needsUpdate)&&0!==$.length){var et=n.state;et.disable(n.context.BLEND),et.buffers.color.setClear(1,1,1,1),et.buffers.depth.setTest(!0),et.setScissorTest(!1);for(var vt,dt=0,Dt=$.length;dt<Dt;dt++){var Et=$[dt],Mt=Et.shadow,st=Et&&Et.isPointLight;if(void 0!==Mt){var ht=Mt.camera;if(u.copy(Mt.mapSize),u.min(f),st){var Ft=u.x,Lt=u.y;B[0].set(2*Ft,Lt,Ft,Lt),B[1].set(0,Lt,Ft,Lt),B[2].set(3*Ft,Lt,Ft,Lt),B[3].set(Ft,Lt,Ft,Lt),B[4].set(3*Ft,0,Ft,Lt),B[5].set(Ft,0,Ft,Lt),u.x*=4,u.y*=2}null===Mt.map&&(Mt.map=new ea(u.x,u.y,{minFilter:so,magFilter:so,format:rl}),Mt.map.texture.name=Et.name+".shadowMap",ht.updateProjectionMatrix()),Mt.isSpotLightShadow&&Mt.update(Et);var ft=Mt.map,Zt=Mt.matrix;_.setFromMatrixPosition(Et.matrixWorld),ht.position.copy(_),st?(vt=6,Zt.makeTranslation(-_.x,-_.y,-_.z)):(vt=1,v.setFromMatrixPosition(Et.target.matrixWorld),ht.lookAt(v),ht.updateMatrixWorld(),Zt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),Zt.multiply(ht.projectionMatrix),Zt.multiply(ht.matrixWorldInverse)),n.setRenderTarget(ft),n.clear();for(var bt=0;bt<vt;bt++)st&&(v.copy(ht.position),v.add(I[bt]),ht.up.copy(L[bt]),ht.lookAt(v),ht.updateMatrixWorld(),et.viewport(B[bt])),c.multiplyMatrices(ht.projectionMatrix,ht.matrixWorldInverse),s.setFromMatrix(c),X(tt,ot,ht,st)}else console.warn("THREE.WebGLShadowMap:",Et,"has no shadow.")}q.needsUpdate=!1}}}function qo(n){var r={};return{get:function(v){return v.isInterleavedBufferAttribute&&(v=v.data),r[v.uuid]},remove:function(v){v.isInterleavedBufferAttribute&&(v=v.data);var _=r[v.uuid];_&&(n.deleteBuffer(_.buffer),delete r[v.uuid])},update:function(v,_){v.isInterleavedBufferAttribute&&(v=v.data);var y=r[v.uuid];void 0===y?r[v.uuid]=function(v,_){var y=v.array,C=v.dynamic?n.DYNAMIC_DRAW:n.STATIC_DRAW,P=n.createBuffer();n.bindBuffer(_,P),n.bufferData(_,y,C),v.onUploadCallback();var w=n.FLOAT;return y instanceof Float32Array?w=n.FLOAT:y instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):y instanceof Uint16Array?w=n.UNSIGNED_SHORT:y instanceof Int16Array?w=n.SHORT:y instanceof Uint32Array?w=n.UNSIGNED_INT:y instanceof Int32Array?w=n.INT:y instanceof Int8Array?w=n.BYTE:y instanceof Uint8Array&&(w=n.UNSIGNED_BYTE),{buffer:P,type:w,bytesPerElement:y.BYTES_PER_ELEMENT,version:v.version}}(v,_):y.version<v.version&&(function(v,_,y){var C=_.array,P=_.updateRange;n.bindBuffer(y,v),!1===_.dynamic?n.bufferData(y,C,n.STATIC_DRAW):-1===P.count?n.bufferSubData(y,0,C):0===P.count?console.error("THREE.WebGLObjects.updateBuffer: dynamic THREE.BufferAttribute marked as needsUpdate but updateRange.count is 0, ensure you are using set methods or updating manually."):(n.bufferSubData(y,P.offset*C.BYTES_PER_ELEMENT,C.subarray(P.offset,P.offset+P.count)),P.count=-1)}(y.buffer,v,_),y.version=v.version)}}}function Ia(n,r,i,s){this._x=n||0,this._y=r||0,this._z=i||0,this._order=s||Ia.DefaultOrder}function fC(){this.mask=1}Object.assign(oi.prototype,we.prototype,{isMaterial:!0,onBeforeCompile:function(){},setValues:function(n){var r=this;if(void 0!==n)for(var i in n){var s=n[i];if(void 0!==s)if("shading"!==i){var c=r[i];void 0!==c?c&&c.isColor?c.set(s):c&&c.isVector3&&s&&s.isVector3?c.copy(s):r[i]="overdraw"===i?Number(s):s:console.warn("THREE."+r.type+": '"+i+"' is not a property of this material.")}else console.warn("THREE."+r.type+": .shading has been removed. Use the boolean .flatShading instead."),r.flatShading=1===s;else console.warn("THREE.Material: '"+i+"' parameter is undefined.")}},toJSON:function(n){var r=void 0===n||"string"==typeof n;r&&(n={textures:{},images:{}});var i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function s(f){var v=[];for(var _ in f){var y=f[_];delete y.metadata,v.push(y)}return v}if(i.uuid=this.uuid,i.type=this.type,""!==this.name&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),void 0!==this.roughness&&(i.roughness=this.roughness),void 0!==this.metalness&&(i.metalness=this.metalness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),1!==this.emissiveIntensity&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),void 0!==this.shininess&&(i.shininess=this.shininess),void 0!==this.clearCoat&&(i.clearCoat=this.clearCoat),void 0!==this.clearCoatRoughness&&(i.clearCoatRoughness=this.clearCoatRoughness),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(n).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(n).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(n).uuid),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(n).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(n).uuid,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(n).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(n).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(n).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(n).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(n).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(n).uuid,i.reflectivity=this.reflectivity),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(n).uuid),void 0!==this.size&&(i.size=this.size),void 0!==this.sizeAttenuation&&(i.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(i.blending=this.blending),!0===this.flatShading&&(i.flatShading=this.flatShading),0!==this.side&&(i.side=this.side),0!==this.vertexColors&&(i.vertexColors=this.vertexColors),this.opacity<1&&(i.opacity=this.opacity),!0===this.transparent&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,0!==this.rotation&&(i.rotation=this.rotation),1!==this.linewidth&&(i.linewidth=this.linewidth),void 0!==this.dashSize&&(i.dashSize=this.dashSize),void 0!==this.gapSize&&(i.gapSize=this.gapSize),void 0!==this.scale&&(i.scale=this.scale),!0===this.dithering&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),!0===this.premultipliedAlpha&&(i.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(i.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(i.wireframeLinejoin=this.wireframeLinejoin),!0===this.morphTargets&&(i.morphTargets=!0),!0===this.skinning&&(i.skinning=!0),!1===this.visible&&(i.visible=!1),"{}"!==JSON.stringify(this.userData)&&(i.userData=this.userData),r){var c=s(n.textures),u=s(n.images);c.length>0&&(i.textures=c),u.length>0&&(i.images=u)}return i},clone:function(){return(new this.constructor).copy(this)},copy:function(n){this.name=n.name,this.fog=n.fog,this.lights=n.lights,this.blending=n.blending,this.side=n.side,this.flatShading=n.flatShading,this.vertexColors=n.vertexColors,this.opacity=n.opacity,this.transparent=n.transparent,this.blendSrc=n.blendSrc,this.blendDst=n.blendDst,this.blendEquation=n.blendEquation,this.blendSrcAlpha=n.blendSrcAlpha,this.blendDstAlpha=n.blendDstAlpha,this.blendEquationAlpha=n.blendEquationAlpha,this.depthFunc=n.depthFunc,this.depthTest=n.depthTest,this.depthWrite=n.depthWrite,this.colorWrite=n.colorWrite,this.precision=n.precision,this.polygonOffset=n.polygonOffset,this.polygonOffsetFactor=n.polygonOffsetFactor,this.polygonOffsetUnits=n.polygonOffsetUnits,this.dithering=n.dithering,this.alphaTest=n.alphaTest,this.premultipliedAlpha=n.premultipliedAlpha,this.overdraw=n.overdraw,this.visible=n.visible,this.userData=JSON.parse(JSON.stringify(n.userData)),this.clipShadows=n.clipShadows,this.clipIntersection=n.clipIntersection;var r=n.clippingPlanes,i=null;if(null!==r){var s=r.length;i=new Array(s);for(var c=0;c!==s;++c)i[c]=r[c].clone()}return this.clippingPlanes=i,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(xu.prototype=Object.create(oi.prototype)).constructor=xu,xu.prototype.isMeshDepthMaterial=!0,xu.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.depthPacking=n.depthPacking,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this},(Cu.prototype=Object.create(oi.prototype)).constructor=Cu,Cu.prototype.isMeshDistanceMaterial=!0,Cu.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.referencePosition.copy(n.referencePosition),this.nearDistance=n.nearDistance,this.farDistance=n.farDistance,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.map=n.map,this.alphaMap=n.alphaMap,this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this},Object.assign(to.prototype,{isBox3:!0,set:function(n,r){return this.min.copy(n),this.max.copy(r),this},setFromArray:function(n){for(var r=1/0,i=1/0,s=1/0,c=-1/0,u=-1/0,f=-1/0,v=0,_=n.length;v<_;v+=3){var y=n[v],C=n[v+1],P=n[v+2];y<r&&(r=y),C<i&&(i=C),P<s&&(s=P),y>c&&(c=y),C>u&&(u=C),P>f&&(f=P)}return this.min.set(r,i,s),this.max.set(c,u,f),this},setFromBufferAttribute:function(n){for(var r=1/0,i=1/0,s=1/0,c=-1/0,u=-1/0,f=-1/0,v=0,_=n.count;v<_;v++){var y=n.getX(v),C=n.getY(v),P=n.getZ(v);y<r&&(r=y),C<i&&(i=C),P<s&&(s=P),y>c&&(c=y),C>u&&(u=C),P>f&&(f=P)}return this.min.set(r,i,s),this.max.set(c,u,f),this},setFromPoints:function(n){this.makeEmpty();for(var i=0,s=n.length;i<s;i++)this.expandByPoint(n[i]);return this},setFromCenterAndSize:function(){var n=new J;return function(i,s){var c=n.copy(s).multiplyScalar(.5);return this.min.copy(i).sub(c),this.max.copy(i).add(c),this}}(),setFromObject:function(n){return this.makeEmpty(),this.expandByObject(n)},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.min.copy(n.min),this.max.copy(n.max),this},makeEmpty:function(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this},isEmpty:function(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z},getCenter:function(n){var r=n||new J;return this.isEmpty()?r.set(0,0,0):r.addVectors(this.min,this.max).multiplyScalar(.5)},getSize:function(n){var r=n||new J;return this.isEmpty()?r.set(0,0,0):r.subVectors(this.max,this.min)},expandByPoint:function(n){return this.min.min(n),this.max.max(n),this},expandByVector:function(n){return this.min.sub(n),this.max.add(n),this},expandByScalar:function(n){return this.min.addScalar(-n),this.max.addScalar(n),this},expandByObject:function(){var n,r,i,s=new J;function c(u){var f=u.geometry;if(void 0!==f)if(f.isGeometry){var v=f.vertices;for(r=0,i=v.length;r<i;r++)s.copy(v[r]),s.applyMatrix4(u.matrixWorld),n.expandByPoint(s)}else if(f.isBufferGeometry){var _=f.attributes.position;if(void 0!==_)for(r=0,i=_.count;r<i;r++)s.fromBufferAttribute(_,r).applyMatrix4(u.matrixWorld),n.expandByPoint(s)}}return function(f){return n=this,f.updateMatrixWorld(!0),f.traverse(c),this}}(),containsPoint:function(n){return!(n.x<this.min.x||n.x>this.max.x||n.y<this.min.y||n.y>this.max.y||n.z<this.min.z||n.z>this.max.z)},containsBox:function(n){return this.min.x<=n.min.x&&n.max.x<=this.max.x&&this.min.y<=n.min.y&&n.max.y<=this.max.y&&this.min.z<=n.min.z&&n.max.z<=this.max.z},getParameter:function(n,r){return(r||new J).set((n.x-this.min.x)/(this.max.x-this.min.x),(n.y-this.min.y)/(this.max.y-this.min.y),(n.z-this.min.z)/(this.max.z-this.min.z))},intersectsBox:function(n){return!(n.max.x<this.min.x||n.min.x>this.max.x||n.max.y<this.min.y||n.min.y>this.max.y||n.max.z<this.min.z||n.min.z>this.max.z)},intersectsSphere:function(){var n=new J;return function(i){return this.clampPoint(i.center,n),n.distanceToSquared(i.center)<=i.radius*i.radius}}(),intersectsPlane:function(n){var r,i;return n.normal.x>0?(r=n.normal.x*this.min.x,i=n.normal.x*this.max.x):(r=n.normal.x*this.max.x,i=n.normal.x*this.min.x),n.normal.y>0?(r+=n.normal.y*this.min.y,i+=n.normal.y*this.max.y):(r+=n.normal.y*this.max.y,i+=n.normal.y*this.min.y),n.normal.z>0?(r+=n.normal.z*this.min.z,i+=n.normal.z*this.max.z):(r+=n.normal.z*this.max.z,i+=n.normal.z*this.min.z),r<=n.constant&&i>=n.constant},clampPoint:function(n,r){return(r||new J).copy(n).clamp(this.min,this.max)},distanceToPoint:function(){var n=new J;return function(i){return n.copy(i).clamp(this.min,this.max).sub(i).length()}}(),getBoundingSphere:function(){var n=new J;return function(i){var s=i||new zs;return this.getCenter(s.center),s.radius=.5*this.getSize(n).length(),s}}(),intersect:function(n){return this.min.max(n.min),this.max.min(n.max),this.isEmpty()&&this.makeEmpty(),this},union:function(n){return this.min.min(n.min),this.max.max(n.max),this},applyMatrix4:function(){var n=[new J,new J,new J,new J,new J,new J,new J,new J];return function(i){return this.isEmpty()||(n[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(i),n[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(i),n[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(i),n[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(i),n[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(i),n[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(i),n[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(i),n[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(i),this.setFromPoints(n)),this}}(),translate:function(n){return this.min.add(n),this.max.add(n),this},equals:function(n){return n.min.equals(this.min)&&n.max.equals(this.max)}}),Object.assign(zs.prototype,{set:function(n,r){return this.center.copy(n),this.radius=r,this},setFromPoints:function(){var n=new to;return function(i,s){var c=this.center;void 0!==s?c.copy(s):n.setFromPoints(i).getCenter(c);for(var u=0,f=0,v=i.length;f<v;f++)u=Math.max(u,c.distanceToSquared(i[f]));return this.radius=Math.sqrt(u),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.center.copy(n.center),this.radius=n.radius,this},empty:function(){return this.radius<=0},containsPoint:function(n){return n.distanceToSquared(this.center)<=this.radius*this.radius},distanceToPoint:function(n){return n.distanceTo(this.center)-this.radius},intersectsSphere:function(n){var r=this.radius+n.radius;return n.center.distanceToSquared(this.center)<=r*r},intersectsBox:function(n){return n.intersectsSphere(this)},intersectsPlane:function(n){return Math.abs(n.distanceToPoint(this.center))<=this.radius},clampPoint:function(n,r){var i=this.center.distanceToSquared(n),s=r||new J;return s.copy(n),i>this.radius*this.radius&&(s.sub(this.center).normalize(),s.multiplyScalar(this.radius).add(this.center)),s},getBoundingBox:function(n){var r=n||new to;return r.set(this.center,this.center),r.expandByScalar(this.radius),r},applyMatrix4:function(n){return this.center.applyMatrix4(n),this.radius=this.radius*n.getMaxScaleOnAxis(),this},translate:function(n){return this.center.add(n),this},equals:function(n){return n.center.equals(this.center)&&n.radius===this.radius}}),Object.assign(Xa.prototype,{set:function(n,r){return this.normal.copy(n),this.constant=r,this},setComponents:function(n,r,i,s){return this.normal.set(n,r,i),this.constant=s,this},setFromNormalAndCoplanarPoint:function(n,r){return this.normal.copy(n),this.constant=-r.dot(this.normal),this},setFromCoplanarPoints:function(){var n=new J,r=new J;return function(s,c,u){var f=n.subVectors(u,c).cross(r.subVectors(s,c)).normalize();return this.setFromNormalAndCoplanarPoint(f,s),this}}(),clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.normal.copy(n.normal),this.constant=n.constant,this},normalize:function(){var n=1/this.normal.length();return this.normal.multiplyScalar(n),this.constant*=n,this},negate:function(){return this.constant*=-1,this.normal.negate(),this},distanceToPoint:function(n){return this.normal.dot(n)+this.constant},distanceToSphere:function(n){return this.distanceToPoint(n.center)-n.radius},projectPoint:function(n,r){return(r||new J).copy(this.normal).multiplyScalar(-this.distanceToPoint(n)).add(n)},intersectLine:function(){var n=new J;return function(i,s){var c=s||new J,u=i.delta(n),f=this.normal.dot(u);if(0===f)return 0===this.distanceToPoint(i.start)?c.copy(i.start):void 0;var v=-(i.start.dot(this.normal)+this.constant)/f;return v<0||v>1?void 0:c.copy(u).multiplyScalar(v).add(i.start)}}(),intersectsLine:function(n){var r=this.distanceToPoint(n.start),i=this.distanceToPoint(n.end);return r<0&&i>0||i<0&&r>0},intersectsBox:function(n){return n.intersectsPlane(this)},intersectsSphere:function(n){return n.intersectsPlane(this)},coplanarPoint:function(n){return(n||new J).copy(this.normal).multiplyScalar(-this.constant)},applyMatrix4:function(){var n=new J,r=new xi;return function(s,c){var u=c||r.getNormalMatrix(s),f=this.coplanarPoint(n).applyMatrix4(s),v=this.normal.applyMatrix3(u).normalize();return this.constant=-f.dot(v),this}}(),translate:function(n){return this.constant-=n.dot(this.normal),this},equals:function(n){return n.normal.equals(this.normal)&&n.constant===this.constant}}),Object.assign(fb.prototype,{set:function(n,r,i,s,c,u){var f=this.planes;return f[0].copy(n),f[1].copy(r),f[2].copy(i),f[3].copy(s),f[4].copy(c),f[5].copy(u),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){for(var r=this.planes,i=0;i<6;i++)r[i].copy(n.planes[i]);return this},setFromMatrix:function(n){var r=this.planes,i=n.elements,s=i[0],c=i[1],u=i[2],f=i[3],v=i[4],_=i[5],y=i[6],C=i[7],P=i[8],w=i[9],E=i[10],S=i[11],I=i[12],L=i[13],B=i[14],V=i[15];return r[0].setComponents(f-s,C-v,S-P,V-I).normalize(),r[1].setComponents(f+s,C+v,S+P,V+I).normalize(),r[2].setComponents(f+c,C+_,S+w,V+L).normalize(),r[3].setComponents(f-c,C-_,S-w,V-L).normalize(),r[4].setComponents(f-u,C-y,S-E,V-B).normalize(),r[5].setComponents(f+u,C+y,S+E,V+B).normalize(),this},intersectsObject:function(){var n=new zs;return function(i){var s=i.geometry;return null===s.boundingSphere&&s.computeBoundingSphere(),n.copy(s.boundingSphere).applyMatrix4(i.matrixWorld),this.intersectsSphere(n)}}(),intersectsSprite:function(){var n=new zs;return function(i){return n.center.set(0,0,0),n.radius=.7071067811865476,n.applyMatrix4(i.matrixWorld),this.intersectsSphere(n)}}(),intersectsSphere:function(n){for(var r=this.planes,i=n.center,s=-n.radius,c=0;c<6;c++)if(r[c].distanceToPoint(i)<s)return!1;return!0},intersectsBox:function(){var n=new J,r=new J;return function(s){for(var c=this.planes,u=0;u<6;u++){var f=c[u];n.x=f.normal.x>0?s.min.x:s.max.x,r.x=f.normal.x>0?s.max.x:s.min.x,n.y=f.normal.y>0?s.min.y:s.max.y,r.y=f.normal.y>0?s.max.y:s.min.y,n.z=f.normal.z>0?s.min.z:s.max.z,r.z=f.normal.z>0?s.max.z:s.min.z;var v=f.distanceToPoint(n),_=f.distanceToPoint(r);if(v<0&&_<0)return!1}return!0}}(),containsPoint:function(n){for(var r=this.planes,i=0;i<6;i++)if(r[i].distanceToPoint(n)<0)return!1;return!0}}),Ia.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"],Ia.DefaultOrder="XYZ",Object.defineProperties(Ia.prototype,{x:{get:function(){return this._x},set:function(n){this._x=n,this.onChangeCallback()}},y:{get:function(){return this._y},set:function(n){this._y=n,this.onChangeCallback()}},z:{get:function(){return this._z},set:function(n){this._z=n,this.onChangeCallback()}},order:{get:function(){return this._order},set:function(n){this._order=n,this.onChangeCallback()}}}),Object.assign(Ia.prototype,{isEuler:!0,set:function(n,r,i,s){return this._x=n,this._y=r,this._z=i,this._order=s||this._order,this.onChangeCallback(),this},clone:function(){return new this.constructor(this._x,this._y,this._z,this._order)},copy:function(n){return this._x=n._x,this._y=n._y,this._z=n._z,this._order=n._order,this.onChangeCallback(),this},setFromRotationMatrix:function(n,r,i){var s=Ie.clamp,c=n.elements,u=c[0],f=c[4],v=c[8],_=c[1],y=c[5],C=c[9],P=c[2],w=c[6],E=c[10];return"XYZ"===(r=r||this._order)?(this._y=Math.asin(s(v,-1,1)),Math.abs(v)<.99999?(this._x=Math.atan2(-C,E),this._z=Math.atan2(-f,u)):(this._x=Math.atan2(w,y),this._z=0)):"YXZ"===r?(this._x=Math.asin(-s(C,-1,1)),Math.abs(C)<.99999?(this._y=Math.atan2(v,E),this._z=Math.atan2(_,y)):(this._y=Math.atan2(-P,u),this._z=0)):"ZXY"===r?(this._x=Math.asin(s(w,-1,1)),Math.abs(w)<.99999?(this._y=Math.atan2(-P,E),this._z=Math.atan2(-f,y)):(this._y=0,this._z=Math.atan2(_,u))):"ZYX"===r?(this._y=Math.asin(-s(P,-1,1)),Math.abs(P)<.99999?(this._x=Math.atan2(w,E),this._z=Math.atan2(_,u)):(this._x=0,this._z=Math.atan2(-f,y))):"YZX"===r?(this._z=Math.asin(s(_,-1,1)),Math.abs(_)<.99999?(this._x=Math.atan2(-C,y),this._y=Math.atan2(-P,u)):(this._x=0,this._y=Math.atan2(v,E))):"XZY"===r?(this._z=Math.asin(-s(f,-1,1)),Math.abs(f)<.99999?(this._x=Math.atan2(w,y),this._y=Math.atan2(v,u)):(this._x=Math.atan2(-C,E),this._y=0)):console.warn("THREE.Euler: .setFromRotationMatrix() given unsupported order: "+r),this._order=r,!1!==i&&this.onChangeCallback(),this},setFromQuaternion:function(){var n=new ye;return function(i,s,c){return n.makeRotationFromQuaternion(i),this.setFromRotationMatrix(n,s,c)}}(),setFromVector3:function(n,r){return this.set(n.x,n.y,n.z,r||this._order)},reorder:function(){var n=new Wr;return function(i){return n.setFromEuler(this),this.setFromQuaternion(n,i)}}(),equals:function(n){return n._x===this._x&&n._y===this._y&&n._z===this._z&&n._order===this._order},fromArray:function(n){return this._x=n[0],this._y=n[1],this._z=n[2],void 0!==n[3]&&(this._order=n[3]),this.onChangeCallback(),this},toArray:function(n,r){return void 0===n&&(n=[]),void 0===r&&(r=0),n[r]=this._x,n[r+1]=this._y,n[r+2]=this._z,n[r+3]=this._order,n},toVector3:function(n){return n?n.set(this._x,this._y,this._z):new J(this._x,this._y,this._z)},onChange:function(n){return this.onChangeCallback=n,this},onChangeCallback:function(){}}),Object.assign(fC.prototype,{set:function(n){this.mask=1<<n|0},enable:function(n){this.mask|=1<<n|0},toggle:function(n){this.mask^=1<<n|0},disable:function(n){this.mask&=~(1<<n|0)},test:function(n){return 0!=(this.mask&n.mask)}});var DR=0;function Ln(){Object.defineProperty(this,"id",{value:DR++}),this.uuid=Ie.generateUUID(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Ln.DefaultUp.clone();var n=new J,r=new Ia,i=new Wr,s=new J(1,1,1);r.onChange(function(){i.setFromEuler(r,!1)}),i.onChange(function(){r.setFromQuaternion(i,void 0,!1)}),Object.defineProperties(this,{position:{enumerable:!0,value:n},rotation:{enumerable:!0,value:r},quaternion:{enumerable:!0,value:i},scale:{enumerable:!0,value:s},modelViewMatrix:{value:new ye},normalMatrix:{value:new xi}}),this.matrix=new ye,this.matrixWorld=new ye,this.matrixAutoUpdate=Ln.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new fC,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.userData={}}function zi(){Ln.call(this),this.type="Camera",this.matrixWorldInverse=new ye,this.projectionMatrix=new ye}function al(n,r,i,s,c,u){zi.call(this),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=n,this.right=r,this.top=i,this.bottom=s,this.near=void 0!==c?c:.1,this.far=void 0!==u?u:2e3,this.updateProjectionMatrix()}function bc(n,r,i,s,c,u){this.a=n,this.b=r,this.c=i,this.normal=s&&s.isVector3?s:new J,this.vertexNormals=Array.isArray(s)?s:[],this.color=c&&c.isColor?c:new cn,this.vertexColors=Array.isArray(c)?c:[],this.materialIndex=void 0!==u?u:0}Ln.DefaultUp=new J(0,1,0),Ln.DefaultMatrixAutoUpdate=!0,Object.assign(Ln.prototype,we.prototype,{isObject3D:!0,onBeforeRender:function(){},onAfterRender:function(){},applyMatrix:function(n){this.matrix.multiplyMatrices(n,this.matrix),this.matrix.decompose(this.position,this.quaternion,this.scale)},applyQuaternion:function(n){return this.quaternion.premultiply(n),this},setRotationFromAxisAngle:function(n,r){this.quaternion.setFromAxisAngle(n,r)},setRotationFromEuler:function(n){this.quaternion.setFromEuler(n,!0)},setRotationFromMatrix:function(n){this.quaternion.setFromRotationMatrix(n)},setRotationFromQuaternion:function(n){this.quaternion.copy(n)},rotateOnAxis:function(){var n=new Wr;return function(i,s){return n.setFromAxisAngle(i,s),this.quaternion.multiply(n),this}}(),rotateOnWorldAxis:function(){var n=new Wr;return function(i,s){return n.setFromAxisAngle(i,s),this.quaternion.premultiply(n),this}}(),rotateX:function(){var n=new J(1,0,0);return function(i){return this.rotateOnAxis(n,i)}}(),rotateY:function(){var n=new J(0,1,0);return function(i){return this.rotateOnAxis(n,i)}}(),rotateZ:function(){var n=new J(0,0,1);return function(i){return this.rotateOnAxis(n,i)}}(),translateOnAxis:function(){var n=new J;return function(i,s){return n.copy(i).applyQuaternion(this.quaternion),this.position.add(n.multiplyScalar(s)),this}}(),translateX:function(){var n=new J(1,0,0);return function(i){return this.translateOnAxis(n,i)}}(),translateY:function(){var n=new J(0,1,0);return function(i){return this.translateOnAxis(n,i)}}(),translateZ:function(){var n=new J(0,0,1);return function(i){return this.translateOnAxis(n,i)}}(),localToWorld:function(n){return n.applyMatrix4(this.matrixWorld)},worldToLocal:function(){var n=new ye;return function(i){return i.applyMatrix4(n.getInverse(this.matrixWorld))}}(),lookAt:function(){var n=new ye,r=new J;return function(s,c,u){s.isVector3?r.copy(s):r.set(s,c,u),this.isCamera?n.lookAt(this.position,r,this.up):n.lookAt(r,this.position,this.up),this.quaternion.setFromRotationMatrix(n)}}(),add:function(n){var r=arguments,i=this;if(arguments.length>1){for(var s=0;s<arguments.length;s++)i.add(r[s]);return this}return n===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",n),this):(n&&n.isObject3D?(null!==n.parent&&n.parent.remove(n),n.parent=this,n.dispatchEvent({type:"added"}),this.children.push(n)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",n),this)},remove:function(n){var r=arguments,i=this;if(arguments.length>1){for(var s=0;s<arguments.length;s++)i.remove(r[s]);return this}var c=this.children.indexOf(n);return-1!==c&&(n.parent=null,n.dispatchEvent({type:"removed"}),this.children.splice(c,1)),this},getObjectById:function(n){return this.getObjectByProperty("id",n)},getObjectByName:function(n){return this.getObjectByProperty("name",n)},getObjectByProperty:function(n,r){if(this[n]===r)return this;for(var s=0,c=this.children.length;s<c;s++){var f=this.children[s].getObjectByProperty(n,r);if(void 0!==f)return f}},getWorldPosition:function(n){var r=n||new J;return this.updateMatrixWorld(!0),r.setFromMatrixPosition(this.matrixWorld)},getWorldQuaternion:function(){var n=new J,r=new J;return function(s){var c=s||new Wr;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(n,c,r),c}}(),getWorldRotation:function(){var n=new Wr;return function(i){var s=i||new Ia;return this.getWorldQuaternion(n),s.setFromQuaternion(n,this.rotation.order,!1)}}(),getWorldScale:function(){var n=new J,r=new Wr;return function(s){var c=s||new J;return this.updateMatrixWorld(!0),this.matrixWorld.decompose(n,r,c),c}}(),getWorldDirection:function(){var n=new Wr;return function(i){var s=i||new J;return this.getWorldQuaternion(n),s.set(0,0,1).applyQuaternion(n)}}(),raycast:function(){},traverse:function(n){n(this);for(var r=this.children,i=0,s=r.length;i<s;i++)r[i].traverse(n)},traverseVisible:function(n){if(!1!==this.visible){n(this);for(var r=this.children,i=0,s=r.length;i<s;i++)r[i].traverseVisible(n)}},traverseAncestors:function(n){var r=this.parent;null!==r&&(n(r),r.traverseAncestors(n))},updateMatrix:function(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0},updateMatrixWorld:function(n){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||n)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,n=!0);for(var r=this.children,i=0,s=r.length;i<s;i++)r[i].updateMatrixWorld(n)},toJSON:function(n){var i=void 0===n||"string"==typeof n,s={};i&&(n={geometries:{},materials:{},textures:{},images:{}},s.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});var c={};function u(S,I){return void 0===S[I.uuid]&&(S[I.uuid]=I.toJSON(n)),I.uuid}if(c.uuid=this.uuid,c.type=this.type,""!==this.name&&(c.name=this.name),!0===this.castShadow&&(c.castShadow=!0),!0===this.receiveShadow&&(c.receiveShadow=!0),!1===this.visible&&(c.visible=!1),"{}"!==JSON.stringify(this.userData)&&(c.userData=this.userData),c.matrix=this.matrix.toArray(),void 0!==this.geometry&&(c.geometry=u(n.geometries,this.geometry)),void 0!==this.material)if(Array.isArray(this.material)){for(var f=[],v=0,_=this.material.length;v<_;v++)f.push(u(n.materials,this.material[v]));c.material=f}else c.material=u(n.materials,this.material);if(this.children.length>0)for(c.children=[],v=0;v<this.children.length;v++)c.children.push(this.children[v].toJSON(n).object);if(i){var y=E(n.geometries),C=E(n.materials),P=E(n.textures),w=E(n.images);y.length>0&&(s.geometries=y),C.length>0&&(s.materials=C),P.length>0&&(s.textures=P),w.length>0&&(s.images=w)}return s.object=c,s;function E(S){var I=[];for(var L in S){var B=S[L];delete B.metadata,I.push(B)}return I}},clone:function(n){return(new this.constructor).copy(this,n)},copy:function(n,r){if(void 0===r&&(r=!0),this.name=n.name,this.up.copy(n.up),this.position.copy(n.position),this.quaternion.copy(n.quaternion),this.scale.copy(n.scale),this.matrix.copy(n.matrix),this.matrixWorld.copy(n.matrixWorld),this.matrixAutoUpdate=n.matrixAutoUpdate,this.matrixWorldNeedsUpdate=n.matrixWorldNeedsUpdate,this.layers.mask=n.layers.mask,this.visible=n.visible,this.castShadow=n.castShadow,this.receiveShadow=n.receiveShadow,this.frustumCulled=n.frustumCulled,this.renderOrder=n.renderOrder,this.userData=JSON.parse(JSON.stringify(n.userData)),!0===r)for(var s=0;s<n.children.length;s++)this.add(n.children[s].clone());return this}}),zi.prototype=Object.assign(Object.create(Ln.prototype),{constructor:zi,isCamera:!0,copy:function(n,r){return Ln.prototype.copy.call(this,n,r),this.matrixWorldInverse.copy(n.matrixWorldInverse),this.projectionMatrix.copy(n.projectionMatrix),this},getWorldDirection:function(){var n=new Wr;return function(i){var s=i||new J;return this.getWorldQuaternion(n),s.set(0,0,-1).applyQuaternion(n)}}(),updateMatrixWorld:function(n){Ln.prototype.updateMatrixWorld.call(this,n),this.matrixWorldInverse.getInverse(this.matrixWorld)},clone:function(){return(new this.constructor).copy(this)}}),al.prototype=Object.assign(Object.create(zi.prototype),{constructor:al,isOrthographicCamera:!0,copy:function(n,r){return zi.prototype.copy.call(this,n,r),this.left=n.left,this.right=n.right,this.top=n.top,this.bottom=n.bottom,this.near=n.near,this.far=n.far,this.zoom=n.zoom,this.view=null===n.view?null:Object.assign({},n.view),this},setViewOffset:function(n,r,i,s,c,u){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=s,this.view.width=c,this.view.height=u,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=(this.right-this.left)/(2*this.zoom),r=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,s=(this.top+this.bottom)/2,c=i-n,u=i+n,f=s+r,v=s-r;if(null!==this.view&&this.view.enabled){var _=this.zoom/(this.view.width/this.view.fullWidth),y=this.zoom/(this.view.height/this.view.fullHeight),C=(this.right-this.left)/this.view.width,P=(this.top-this.bottom)/this.view.height;u=(c+=C*(this.view.offsetX/_))+C*(this.view.width/_),v=(f-=P*(this.view.offsetY/y))-P*(this.view.height/y)}this.projectionMatrix.makeOrthographic(c,u,f,v,this.near,this.far)},toJSON:function(n){var r=Ln.prototype.toJSON.call(this,n);return r.object.zoom=this.zoom,r.object.left=this.left,r.object.right=this.right,r.object.top=this.top,r.object.bottom=this.bottom,r.object.near=this.near,r.object.far=this.far,null!==this.view&&(r.object.view=Object.assign({},this.view)),r}}),Object.assign(bc.prototype,{clone:function(){return(new this.constructor).copy(this)},copy:function(n){this.a=n.a,this.b=n.b,this.c=n.c,this.normal.copy(n.normal),this.color.copy(n.color),this.materialIndex=n.materialIndex;for(var i=0,s=n.vertexNormals.length;i<s;i++)this.vertexNormals[i]=n.vertexNormals[i].clone();for(i=0,s=n.vertexColors.length;i<s;i++)this.vertexColors[i]=n.vertexColors[i].clone();return this}});var gC=0;function Nr(){Object.defineProperty(this,"id",{value:gC+=2}),this.uuid=Ie.generateUUID(),this.name="",this.type="Geometry",this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.elementsNeedUpdate=!1,this.verticesNeedUpdate=!1,this.uvsNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.lineDistancesNeedUpdate=!1,this.groupsNeedUpdate=!1}function xr(n,r,i){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.uuid=Ie.generateUUID(),this.name="",this.array=n,this.itemSize=r,this.count=void 0!==n?n.length/r:0,this.normalized=!0===i,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function UE(n,r,i){xr.call(this,new Int8Array(n),r,i)}function VE(n,r,i){xr.call(this,new Uint8Array(n),r,i)}function HP(n,r,i){xr.call(this,new Uint8ClampedArray(n),r,i)}function zE(n,r,i){xr.call(this,new Int16Array(n),r,i)}function mC(n,r,i){xr.call(this,new Uint16Array(n),r,i)}function HE(n,r,i){xr.call(this,new Int32Array(n),r,i)}function tp(n,r,i){xr.call(this,new Uint32Array(n),r,i)}function Fn(n,r,i){xr.call(this,new Float32Array(n),r,i)}function Hs(n,r,i){xr.call(this,new Float64Array(n),r,i)}function Sv(){this.indices=[],this.vertices=[],this.normals=[],this.colors=[],this.uvs=[],this.uvs2=[],this.groups=[],this.morphTargets={},this.skinWeights=[],this.skinIndices=[],this.boundingBox=null,this.boundingSphere=null,this.verticesNeedUpdate=!1,this.normalsNeedUpdate=!1,this.colorsNeedUpdate=!1,this.uvsNeedUpdate=!1,this.groupsNeedUpdate=!1}function Av(n){if(0===n.length)return-1/0;for(var r=n[0],i=1,s=n.length;i<s;++i)n[i]>r&&(r=n[i]);return r}Object.assign(Nr.prototype,we.prototype,{isGeometry:!0,applyMatrix:function(n){for(var i=(new xi).getNormalMatrix(n),s=0,c=this.vertices.length;s<c;s++)this.vertices[s].applyMatrix4(n);for(s=0,c=this.faces.length;s<c;s++){var f=this.faces[s];f.normal.applyMatrix3(i).normalize();for(var v=0,_=f.vertexNormals.length;v<_;v++)f.vertexNormals[v].applyMatrix3(i).normalize()}return null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this.verticesNeedUpdate=!0,this.normalsNeedUpdate=!0,this},rotateX:function(){var n=new ye;return function(i){return n.makeRotationX(i),this.applyMatrix(n),this}}(),rotateY:function(){var n=new ye;return function(i){return n.makeRotationY(i),this.applyMatrix(n),this}}(),rotateZ:function(){var n=new ye;return function(i){return n.makeRotationZ(i),this.applyMatrix(n),this}}(),translate:function(){var n=new ye;return function(i,s,c){return n.makeTranslation(i,s,c),this.applyMatrix(n),this}}(),scale:function(){var n=new ye;return function(i,s,c){return n.makeScale(i,s,c),this.applyMatrix(n),this}}(),lookAt:function(){var n=new Ln;return function(i){n.lookAt(i),n.updateMatrix(),this.applyMatrix(n.matrix)}}(),fromBufferGeometry:function(n){var r=this,i=null!==n.index?n.index.array:void 0,s=n.attributes,c=s.position.array,u=void 0!==s.normal?s.normal.array:void 0,f=void 0!==s.color?s.color.array:void 0,v=void 0!==s.uv?s.uv.array:void 0,_=void 0!==s.uv2?s.uv2.array:void 0;void 0!==_&&(this.faceVertexUvs[1]=[]);for(var y=[],C=[],P=[],w=0,E=0;w<c.length;w+=3,E+=2)r.vertices.push(new J(c[w],c[w+1],c[w+2])),void 0!==u&&y.push(new J(u[w],u[w+1],u[w+2])),void 0!==f&&r.colors.push(new cn(f[w],f[w+1],f[w+2])),void 0!==v&&C.push(new ce(v[E],v[E+1])),void 0!==_&&P.push(new ce(_[E],_[E+1]));function S(F,z,G,q){var $=new bc(F,z,G,void 0!==u?[y[F].clone(),y[z].clone(),y[G].clone()]:[],void 0!==f?[r.colors[F].clone(),r.colors[z].clone(),r.colors[G].clone()]:[],q);r.faces.push($),void 0!==v&&r.faceVertexUvs[0].push([C[F].clone(),C[z].clone(),C[G].clone()]),void 0!==_&&r.faceVertexUvs[1].push([P[F].clone(),P[z].clone(),P[G].clone()])}var I=n.groups;if(I.length>0)for(w=0;w<I.length;w++)for(var L=I[w],B=L.start,N=(E=B,B+L.count);E<N;E+=3)void 0!==i?S(i[E],i[E+1],i[E+2],L.materialIndex):S(E,E+1,E+2,L.materialIndex);else if(void 0!==i)for(w=0;w<i.length;w+=3)S(i[w],i[w+1],i[w+2]);else for(w=0;w<c.length/3;w+=3)S(w,w+1,w+2);return this.computeFaceNormals(),null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone()),null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),this},center:function(){this.computeBoundingBox();var n=this.boundingBox.getCenter().negate();return this.translate(n.x,n.y,n.z),n},normalize:function(){this.computeBoundingSphere();var n=this.boundingSphere.center,r=this.boundingSphere.radius,i=0===r?1:1/r,s=new ye;return s.set(i,0,0,-i*n.x,0,i,0,-i*n.y,0,0,i,-i*n.z,0,0,0,1),this.applyMatrix(s),this},computeFaceNormals:function(){for(var n=this,r=new J,i=new J,s=0,c=this.faces.length;s<c;s++){var u=n.faces[s],f=n.vertices[u.a],v=n.vertices[u.b];r.subVectors(n.vertices[u.c],v),i.subVectors(f,v),r.cross(i),r.normalize(),u.normal.copy(r)}},computeVertexNormals:function(n){var i,s,c,u,f,v,r=this;for(void 0===n&&(n=!0),v=new Array(this.vertices.length),i=0,s=this.vertices.length;i<s;i++)v[i]=new J;if(n){var _,y,P=new J,w=new J;for(c=0,u=this.faces.length;c<u;c++)_=r.vertices[(f=r.faces[c]).a],P.subVectors(r.vertices[f.c],y=r.vertices[f.b]),w.subVectors(_,y),P.cross(w),v[f.a].add(P),v[f.b].add(P),v[f.c].add(P)}else for(this.computeFaceNormals(),c=0,u=this.faces.length;c<u;c++)v[(f=r.faces[c]).a].add(f.normal),v[f.b].add(f.normal),v[f.c].add(f.normal);for(i=0,s=this.vertices.length;i<s;i++)v[i].normalize();for(c=0,u=this.faces.length;c<u;c++){var E=(f=r.faces[c]).vertexNormals;3===E.length?(E[0].copy(v[f.a]),E[1].copy(v[f.b]),E[2].copy(v[f.c])):(E[0]=v[f.a].clone(),E[1]=v[f.b].clone(),E[2]=v[f.c].clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeFlatVertexNormals:function(){var r,i,s;for(this.computeFaceNormals(),r=0,i=this.faces.length;r<i;r++){var c=(s=this.faces[r]).vertexNormals;3===c.length?(c[0].copy(s.normal),c[1].copy(s.normal),c[2].copy(s.normal)):(c[0]=s.normal.clone(),c[1]=s.normal.clone(),c[2]=s.normal.clone())}this.faces.length>0&&(this.normalsNeedUpdate=!0)},computeMorphNormals:function(){var r,i,s,c,u,n=this;for(s=0,c=this.faces.length;s<c;s++)for((u=n.faces[s]).__originalFaceNormal?u.__originalFaceNormal.copy(u.normal):u.__originalFaceNormal=u.normal.clone(),u.__originalVertexNormals||(u.__originalVertexNormals=[]),r=0,i=u.vertexNormals.length;r<i;r++)u.__originalVertexNormals[r]?u.__originalVertexNormals[r].copy(u.vertexNormals[r]):u.__originalVertexNormals[r]=u.vertexNormals[r].clone();var f=new Nr;for(f.faces=this.faces,r=0,i=this.morphTargets.length;r<i;r++){if(!n.morphNormals[r]){n.morphNormals[r]={},n.morphNormals[r].faceNormals=[],n.morphNormals[r].vertexNormals=[];var v=n.morphNormals[r].faceNormals,_=n.morphNormals[r].vertexNormals;for(s=0,c=this.faces.length;s<c;s++)C=new J,P={a:new J,b:new J,c:new J},v.push(C),_.push(P)}var C,P,y=n.morphNormals[r];for(f.vertices=n.morphTargets[r].vertices,f.computeFaceNormals(),f.computeVertexNormals(),s=0,c=this.faces.length;s<c;s++)P=y.vertexNormals[s],(C=y.faceNormals[s]).copy((u=n.faces[s]).normal),P.a.copy(u.vertexNormals[0]),P.b.copy(u.vertexNormals[1]),P.c.copy(u.vertexNormals[2])}for(s=0,c=this.faces.length;s<c;s++)(u=n.faces[s]).normal=u.__originalFaceNormal,u.vertexNormals=u.__originalVertexNormals},computeLineDistances:function(){for(var r=0,i=this.vertices,s=0,c=i.length;s<c;s++)s>0&&(r+=i[s].distanceTo(i[s-1])),this.lineDistances[s]=r},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new to),this.boundingBox.setFromPoints(this.vertices)},computeBoundingSphere:function(){null===this.boundingSphere&&(this.boundingSphere=new zs),this.boundingSphere.setFromPoints(this.vertices)},merge:function(n,r,i){if(n&&n.isGeometry){var s,c=this.vertices.length,u=this.vertices,f=n.vertices,v=this.faces,_=n.faces,y=this.faceVertexUvs[0],C=n.faceVertexUvs[0],P=this.colors,w=n.colors;void 0===i&&(i=0),void 0!==r&&(s=(new xi).getNormalMatrix(r));for(var E=0,S=f.length;E<S;E++){var L=f[E].clone();void 0!==r&&L.applyMatrix4(r),u.push(L)}for(E=0,S=w.length;E<S;E++)P.push(w[E].clone());for(E=0,S=_.length;E<S;E++){var V,N,B=_[E],z=B.vertexNormals,G=B.vertexColors;(V=new bc(B.a+c,B.b+c,B.c+c)).normal.copy(B.normal),void 0!==s&&V.normal.applyMatrix3(s).normalize();for(var q=0,Y=z.length;q<Y;q++)N=z[q].clone(),void 0!==s&&N.applyMatrix3(s).normalize(),V.vertexNormals.push(N);for(V.color.copy(B.color),q=0,Y=G.length;q<Y;q++)V.vertexColors.push(G[q].clone());V.materialIndex=B.materialIndex+i,v.push(V)}for(E=0,S=C.length;E<S;E++){var X=C[E],$=[];if(void 0!==X){for(q=0,Y=X.length;q<Y;q++)$.push(X[q].clone());y.push($)}}}else console.error("THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.",n)},mergeMesh:function(n){n&&n.isMesh?(n.matrixAutoUpdate&&n.updateMatrix(),this.merge(n.geometry,n.matrix)):console.error("THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.",n)},mergeVertices:function(){var c,u,_,y,C,P,w,E,n=this,r={},i=[],s=[],v=Math.pow(10,4);for(_=0,y=this.vertices.length;_<y;_++)c=n.vertices[_],void 0===r[u=Math.round(c.x*v)+"_"+Math.round(c.y*v)+"_"+Math.round(c.z*v)]?(r[u]=_,i.push(n.vertices[_]),s[_]=i.length-1):s[_]=s[r[u]];var S=[];for(_=0,y=this.faces.length;_<y;_++){(C=n.faces[_]).a=s[C.a],C.b=s[C.b],C.c=s[C.c],P=[C.a,C.b,C.c];for(var I=0;I<3;I++)if(P[I]===P[(I+1)%3]){S.push(_);break}}for(_=S.length-1;_>=0;_--){var L=S[_];for(n.faces.splice(L,1),w=0,E=this.faceVertexUvs.length;w<E;w++)n.faceVertexUvs[w].splice(L,1)}var B=this.vertices.length-i.length;return this.vertices=i,B},setFromPoints:function(n){this.vertices=[];for(var i=0,s=n.length;i<s;i++){var c=n[i];this.vertices.push(new J(c.x,c.y,c.z||0))}return this},sortFacesByMaterialIndex:function(){for(var n=this.faces,r=n.length,i=0;i<r;i++)n[i]._id=i;n.sort(function(y,C){return y.materialIndex-C.materialIndex});var f,v,c=this.faceVertexUvs[0],u=this.faceVertexUvs[1];for(c&&c.length===r&&(f=[]),u&&u.length===r&&(v=[]),i=0;i<r;i++){var _=n[i]._id;f&&f.push(c[_]),v&&v.push(u[_])}f&&(this.faceVertexUvs[0]=f),v&&(this.faceVertexUvs[1]=v)},toJSON:function(){var n=this,r={metadata:{version:4.5,type:"Geometry",generator:"Geometry.toJSON"}};if(r.uuid=this.uuid,r.type=this.type,""!==this.name&&(r.name=this.name),void 0!==this.parameters){var i=this.parameters;for(var s in i)void 0!==i[s]&&(r[s]=i[s]);return r}for(var c=[],u=0;u<this.vertices.length;u++){var f=n.vertices[u];c.push(f.x,f.y,f.z)}var v=[],_=[],y={},C=[],P={},w=[],E={};for(u=0;u<this.faces.length;u++){var S=n.faces[u],B=void 0!==n.faceVertexUvs[0][u],V=S.normal.length()>0,N=S.vertexNormals.length>0,F=1!==S.color.r||1!==S.color.g||1!==S.color.b,z=S.vertexColors.length>0,G=0;if(G=$(G,0,0),G=$(G,1,!0),G=$(G,2,!1),G=$(G,3,B),G=$(G,4,V),G=$(G,5,N),G=$(G,6,F),G=$(G,7,z),v.push(G),v.push(S.a,S.b,S.c),v.push(S.materialIndex),B){var q=n.faceVertexUvs[0][u];v.push(nt(q[0]),nt(q[1]),nt(q[2]))}if(V&&v.push(tt(S.normal)),N){var Y=S.vertexNormals;v.push(tt(Y[0]),tt(Y[1]),tt(Y[2]))}if(F&&v.push(ot(S.color)),z){var X=S.vertexColors;v.push(ot(X[0]),ot(X[1]),ot(X[2]))}}function $(et,vt,dt){return dt?et|1<<vt:et&~(1<<vt)}function tt(et){var vt=et.x.toString()+et.y.toString()+et.z.toString();return void 0!==y[vt]||(y[vt]=_.length/3,_.push(et.x,et.y,et.z)),y[vt]}function ot(et){var vt=et.r.toString()+et.g.toString()+et.b.toString();return void 0!==P[vt]||(P[vt]=C.length,C.push(et.getHex())),P[vt]}function nt(et){var vt=et.x.toString()+et.y.toString();return void 0!==E[vt]||(E[vt]=w.length/2,w.push(et.x,et.y)),E[vt]}return r.data={},r.data.vertices=c,r.data.normals=_,C.length>0&&(r.data.colors=C),w.length>0&&(r.data.uvs=[w]),r.data.faces=v,r},clone:function(){return(new Nr).copy(this)},copy:function(n){var i,s,c,u,f,v,r=this;this.vertices=[],this.colors=[],this.faces=[],this.faceVertexUvs=[[]],this.morphTargets=[],this.morphNormals=[],this.skinWeights=[],this.skinIndices=[],this.lineDistances=[],this.boundingBox=null,this.boundingSphere=null,this.name=n.name;var _=n.vertices;for(i=0,s=_.length;i<s;i++)r.vertices.push(_[i].clone());var y=n.colors;for(i=0,s=y.length;i<s;i++)r.colors.push(y[i].clone());var C=n.faces;for(i=0,s=C.length;i<s;i++)r.faces.push(C[i].clone());for(i=0,s=n.faceVertexUvs.length;i<s;i++){var P=n.faceVertexUvs[i];for(void 0===r.faceVertexUvs[i]&&(r.faceVertexUvs[i]=[]),c=0,u=P.length;c<u;c++){var w=P[c],E=[];for(f=0,v=w.length;f<v;f++)E.push(w[f].clone());r.faceVertexUvs[i].push(E)}}var I=n.morphTargets;for(i=0,s=I.length;i<s;i++){var L={};if(L.name=I[i].name,void 0!==I[i].vertices)for(L.vertices=[],c=0,u=I[i].vertices.length;c<u;c++)L.vertices.push(I[i].vertices[c].clone());if(void 0!==I[i].normals)for(L.normals=[],c=0,u=I[i].normals.length;c<u;c++)L.normals.push(I[i].normals[c].clone());r.morphTargets.push(L)}var B=n.morphNormals;for(i=0,s=B.length;i<s;i++){var V={};if(void 0!==B[i].vertexNormals)for(V.vertexNormals=[],c=0,u=B[i].vertexNormals.length;c<u;c++){var N=B[i].vertexNormals[c],F={};F.a=N.a.clone(),F.b=N.b.clone(),F.c=N.c.clone(),V.vertexNormals.push(F)}if(void 0!==B[i].faceNormals)for(V.faceNormals=[],c=0,u=B[i].faceNormals.length;c<u;c++)V.faceNormals.push(B[i].faceNormals[c].clone());r.morphNormals.push(V)}var z=n.skinWeights;for(i=0,s=z.length;i<s;i++)r.skinWeights.push(z[i].clone());var G=n.skinIndices;for(i=0,s=G.length;i<s;i++)r.skinIndices.push(G[i].clone());var q=n.lineDistances;for(i=0,s=q.length;i<s;i++)r.lineDistances.push(q[i]);var Y=n.boundingBox;null!==Y&&(this.boundingBox=Y.clone());var X=n.boundingSphere;return null!==X&&(this.boundingSphere=X.clone()),this.elementsNeedUpdate=n.elementsNeedUpdate,this.verticesNeedUpdate=n.verticesNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.lineDistancesNeedUpdate=n.lineDistancesNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),Object.defineProperty(xr.prototype,"needsUpdate",{set:function(n){!0===n&&this.version++}}),Object.assign(xr.prototype,{isBufferAttribute:!0,setArray:function(n){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==n?n.length/this.itemSize:0,this.array=n},setDynamic:function(n){return this.dynamic=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.itemSize=n.itemSize,this.count=n.count,this.normalized=n.normalized,this.dynamic=n.dynamic,this},copyAt:function(n,r,i){n*=this.itemSize,i*=r.itemSize;for(var c=0,u=this.itemSize;c<u;c++)this.array[n+c]=r.array[i+c];return this},copyArray:function(n){return this.array.set(n),this},copyColorsArray:function(n){for(var r=this.array,i=0,s=0,c=n.length;s<c;s++){var u=n[s];void 0===u&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",s),u=new cn),r[i++]=u.r,r[i++]=u.g,r[i++]=u.b}return this},copyIndicesArray:function(n){for(var r=this.array,i=0,s=0,c=n.length;s<c;s++){var u=n[s];r[i++]=u.a,r[i++]=u.b,r[i++]=u.c}return this},copyVector2sArray:function(n){for(var r=this.array,i=0,s=0,c=n.length;s<c;s++){var u=n[s];void 0===u&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",s),u=new ce),r[i++]=u.x,r[i++]=u.y}return this},copyVector3sArray:function(n){for(var r=this.array,i=0,s=0,c=n.length;s<c;s++){var u=n[s];void 0===u&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",s),u=new J),r[i++]=u.x,r[i++]=u.y,r[i++]=u.z}return this},copyVector4sArray:function(n){for(var r=this.array,i=0,s=0,c=n.length;s<c;s++){var u=n[s];void 0===u&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",s),u=new yo),r[i++]=u.x,r[i++]=u.y,r[i++]=u.z,r[i++]=u.w}return this},set:function(n,r){return void 0===r&&(r=0),this.array.set(n,r),this},getX:function(n){return this.array[n*this.itemSize]},setX:function(n,r){return this.array[n*this.itemSize]=r,this},getY:function(n){return this.array[n*this.itemSize+1]},setY:function(n,r){return this.array[n*this.itemSize+1]=r,this},getZ:function(n){return this.array[n*this.itemSize+2]},setZ:function(n,r){return this.array[n*this.itemSize+2]=r,this},getW:function(n){return this.array[n*this.itemSize+3]},setW:function(n,r){return this.array[n*this.itemSize+3]=r,this},setXY:function(n,r,i){return this.array[0+(n*=this.itemSize)]=r,this.array[n+1]=i,this},setXYZ:function(n,r,i,s){return this.array[0+(n*=this.itemSize)]=r,this.array[n+1]=i,this.array[n+2]=s,this},setXYZW:function(n,r,i,s,c){return this.array[0+(n*=this.itemSize)]=r,this.array[n+1]=i,this.array[n+2]=s,this.array[n+3]=c,this},onUpload:function(n){return this.onUploadCallback=n,this},clone:function(){return new this.constructor(this.array,this.itemSize).copy(this)}}),(UE.prototype=Object.create(xr.prototype)).constructor=UE,(VE.prototype=Object.create(xr.prototype)).constructor=VE,(HP.prototype=Object.create(xr.prototype)).constructor=HP,(zE.prototype=Object.create(xr.prototype)).constructor=zE,(mC.prototype=Object.create(xr.prototype)).constructor=mC,(HE.prototype=Object.create(xr.prototype)).constructor=HE,(tp.prototype=Object.create(xr.prototype)).constructor=tp,(Fn.prototype=Object.create(xr.prototype)).constructor=Fn,(Hs.prototype=Object.create(xr.prototype)).constructor=Hs,Object.assign(Sv.prototype,{computeGroups:function(n){for(var r,i=[],s=void 0,c=n.faces,u=0;u<c.length;u++){var f=c[u];f.materialIndex!==s&&(s=f.materialIndex,void 0!==r&&(r.count=3*u-r.start,i.push(r)),r={start:3*u,materialIndex:s})}void 0!==r&&(r.count=3*u-r.start,i.push(r)),this.groups=i},fromGeometry:function(n){var y,r=this,i=n.faces,s=n.vertices,c=n.faceVertexUvs,u=c[0]&&c[0].length>0,f=c[1]&&c[1].length>0,v=n.morphTargets,_=v.length;if(_>0){y=[];for(var C=0;C<_;C++)y[C]=[];this.morphTargets.position=y}var E,P=n.morphNormals,w=P.length;if(w>0){for(E=[],C=0;C<w;C++)E[C]=[];this.morphTargets.normal=E}var S=n.skinIndices,I=n.skinWeights,L=S.length===s.length,B=I.length===s.length;for(C=0;C<i.length;C++){var V=i[C];r.vertices.push(s[V.a],s[V.b],s[V.c]);var N=V.vertexNormals;if(3===N.length)r.normals.push(N[0],N[1],N[2]);else{var F=V.normal;r.normals.push(F,F,F)}var q,z=V.vertexColors;if(3===z.length)r.colors.push(z[0],z[1],z[2]);else{var G=V.color;r.colors.push(G,G,G)}!0===u&&(void 0!==(q=c[0][C])?r.uvs.push(q[0],q[1],q[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ",C),r.uvs.push(new ce,new ce,new ce))),!0===f&&(void 0!==(q=c[1][C])?r.uvs2.push(q[0],q[1],q[2]):(console.warn("THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ",C),r.uvs2.push(new ce,new ce,new ce)));for(var Y=0;Y<_;Y++){var X=v[Y].vertices;y[Y].push(X[V.a],X[V.b],X[V.c])}for(Y=0;Y<w;Y++){var $=P[Y].vertexNormals[C];E[Y].push($.a,$.b,$.c)}L&&r.skinIndices.push(S[V.a],S[V.b],S[V.c]),B&&r.skinWeights.push(I[V.a],I[V.b],I[V.c])}return this.computeGroups(n),this.verticesNeedUpdate=n.verticesNeedUpdate,this.normalsNeedUpdate=n.normalsNeedUpdate,this.colorsNeedUpdate=n.colorsNeedUpdate,this.uvsNeedUpdate=n.uvsNeedUpdate,this.groupsNeedUpdate=n.groupsNeedUpdate,this}});var gb=1;function On(){Object.defineProperty(this,"id",{value:gb+=2}),this.uuid=Ie.generateUUID(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0}}function Ts(n,r,i,s,c,u){Nr.call(this),this.type="BoxGeometry",this.parameters={width:n,height:r,depth:i,widthSegments:s,heightSegments:c,depthSegments:u},this.fromBufferGeometry(new yc(n,r,i,s,c,u)),this.mergeVertices()}function yc(n,r,i,s,c,u){On.call(this),this.type="BoxBufferGeometry",this.parameters={width:n,height:r,depth:i,widthSegments:s,heightSegments:c,depthSegments:u};var f=this;n=n||1,r=r||1,i=i||1,s=Math.floor(s)||1,c=Math.floor(c)||1,u=Math.floor(u)||1;var v=[],_=[],y=[],C=[],P=0,w=0;function E(S,I,L,B,V,N,F,z,G,q,Y){var Et,Mt,X=N/G,$=F/q,tt=N/2,ot=F/2,nt=z/2,et=G+1,vt=q+1,dt=0,Dt=0,st=new J;for(Mt=0;Mt<vt;Mt++){var ht=Mt*$-ot;for(Et=0;Et<et;Et++)st[S]=(Et*X-tt)*B,st[I]=ht*V,st[L]=nt,_.push(st.x,st.y,st.z),st[S]=0,st[I]=0,st[L]=z>0?1:-1,y.push(st.x,st.y,st.z),C.push(Et/G),C.push(1-Mt/q),dt+=1}for(Mt=0;Mt<q;Mt++)for(Et=0;Et<G;Et++){var $t=P+Et+et*(Mt+1),ft=P+(Et+1)+et*(Mt+1),Zt=P+(Et+1)+et*Mt;v.push(P+Et+et*Mt,$t,Zt),v.push($t,ft,Zt),Dt+=6}f.addGroup(w,Dt,Y),w+=Dt,P+=dt}E("z","y","x",-1,-1,i,r,n,u,c,0),E("z","y","x",1,-1,i,r,-n,u,c,1),E("x","z","y",1,1,n,i,r,s,u,2),E("x","z","y",1,-1,n,i,-r,s,u,3),E("x","y","z",1,-1,n,r,i,s,c,4),E("x","y","z",-1,-1,n,r,-i,s,c,5),this.setIndex(v),this.addAttribute("position",new Fn(_,3)),this.addAttribute("normal",new Fn(y,3)),this.addAttribute("uv",new Fn(C,2))}function na(n,r,i,s){Nr.call(this),this.type="PlaneGeometry",this.parameters={width:n,height:r,widthSegments:i,heightSegments:s},this.fromBufferGeometry(new Pu(n,r,i,s)),this.mergeVertices()}function Pu(n,r,i,s){On.call(this),this.type="PlaneBufferGeometry",this.parameters={width:n,height:r,widthSegments:i,heightSegments:s};var w,E,c=(n=n||1)/2,u=(r=r||1)/2,f=Math.floor(i)||1,v=Math.floor(s)||1,_=f+1,y=v+1,C=n/f,P=r/v,S=[],I=[],L=[],B=[];for(E=0;E<y;E++){var V=E*P-u;for(w=0;w<_;w++)I.push(w*C-c,-V,0),L.push(0,0,1),B.push(w/f),B.push(1-E/v)}for(E=0;E<v;E++)for(w=0;w<f;w++){var z=w+_*(E+1),G=w+1+_*(E+1),q=w+1+_*E;S.push(w+_*E,z,q),S.push(z,G,q)}this.setIndex(S),this.addAttribute("position",new Fn(I,3)),this.addAttribute("normal",new Fn(L,3)),this.addAttribute("uv",new Fn(B,2))}function pa(n){oi.call(this),this.type="MeshBasicMaterial",this.color=new cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.lights=!1,this.setValues(n)}function Za(n){oi.call(this),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,void 0!==n&&(void 0!==n.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(n))}function Tv(n,r){this.origin=void 0!==n?n:new J,this.direction=void 0!==r?r:new J}function mb(n,r){this.start=void 0!==n?n:new J,this.end=void 0!==r?r:new J}function Og(n,r,i){this.a=void 0!==n?n:new J,this.b=void 0!==r?r:new J,this.c=void 0!==i?i:new J}function cl(n,r){Ln.call(this),this.type="Mesh",this.geometry=void 0!==n?n:new On,this.material=void 0!==r?r:new pa({color:16777215*Math.random()}),this.drawMode=0,this.updateMorphTargets()}function ep(n,r,i,s){var f,v,_,c=new cn(0),u=0;function C(P,w){r.buffers.color.setClear(P.r,P.g,P.b,w,s)}return{getClearColor:function(){return c},setClearColor:function(P,w){c.set(P),C(c,u=void 0!==w?w:1)},getClearAlpha:function(){return u},setClearAlpha:function(P){C(c,u=P)},render:function(P,w,E,S){var I=w.background;null===I?C(c,u):I&&I.isColor&&(C(I,1),S=!0),(n.autoClear||S)&&n.clear(n.autoClearColor,n.autoClearDepth,n.autoClearStencil),I&&I.isCubeTexture?(void 0===_&&((_=new cl(new yc(1,1,1),new Za({uniforms:_d.cube.uniforms,vertexShader:_d.cube.vertexShader,fragmentShader:_d.cube.fragmentShader,side:1,depthTest:!0,depthWrite:!1,fog:!1}))).geometry.removeAttribute("normal"),_.geometry.removeAttribute("uv"),_.onBeforeRender=function(L,B,V){this.matrixWorld.copyPosition(V.matrixWorld)},i.update(_.geometry)),_.material.uniforms.tCube.value=I,P.push(_,_.geometry,_.material,0,null)):I&&I.isTexture&&(void 0===f&&(f=new al(-1,1,1,-1,0,1),v=new cl(new Pu(2,2),new pa({depthTest:!1,depthWrite:!1,fog:!1})),i.update(v.geometry)),v.material.map=I,n.renderBufferDirect(f,null,v.geometry,v.material,v,null))}}}function Hc(n,r){return n.renderOrder!==r.renderOrder?n.renderOrder-r.renderOrder:n.program&&r.program&&n.program!==r.program?n.program.id-r.program.id:n.material.id!==r.material.id?n.material.id-r.material.id:n.z!==r.z?n.z-r.z:n.id-r.id}function Eg(n,r){return n.renderOrder!==r.renderOrder?n.renderOrder-r.renderOrder:n.z!==r.z?r.z-n.z:n.id-r.id}function Sg(){var n=[],r=0,i=[],s=[];return{opaque:i,transparent:s,init:function(){r=0,i.length=0,s.length=0},push:function(v,_,y,C,P){var w=n[r];void 0===w?n[r]=w={id:v.id,object:v,geometry:_,material:y,program:y.program,renderOrder:v.renderOrder,z:C,group:P}:(w.id=v.id,w.object=v,w.geometry=_,w.material=y,w.program=y.program,w.renderOrder=v.renderOrder,w.z=C,w.group=P),(!0===y.transparent?s:i).push(w),r++},sort:function(){i.length>1&&i.sort(Hc),s.length>1&&s.sort(Eg)}}}function IR(){var n={};return{get:function(s,c){var u=s.id+","+c.id,f=n[u];return void 0===f&&(f=new Sg,n[u]=f),f},dispose:function(){n={}}}}function GE(n,r){return Math.abs(r[1])-Math.abs(n[1])}function PD(n){var r={},i=new Float32Array(8);return{update:function(c,u,f,v){var _=c.morphTargetInfluences,y=_.length,C=r[u.id];if(void 0===C){C=[];for(var P=0;P<y;P++)C[P]=[P,0];r[u.id]=C}var w=f.morphTargets&&u.morphAttributes.position,E=f.morphNormals&&u.morphAttributes.normal;for(P=0;P<y;P++)0!==(S=C[P])[1]&&(w&&u.removeAttribute("morphTarget"+P),E&&u.removeAttribute("morphNormal"+P));for(P=0;P<y;P++)(S=C[P])[0]=P,S[1]=_[P];for(C.sort(GE),P=0;P<8;P++){var S;if(S=C[P]){var I=S[0],L=S[1];if(L){w&&u.addAttribute("morphTarget"+P,w[I]),E&&u.addAttribute("morphNormal"+P,E[I]),i[P]=L;continue}}i[P]=0}v.getUniforms().setValue(n,"morphTargetInfluences",i)}}}function wD(n,r,i){var s,u,f;this.setMode=function(C){s=C},this.setIndex=function(C){u=C.type,f=C.bytesPerElement},this.render=function(C,P){n.drawElements(s,P,u,C*f),i.calls++,i.vertices+=P,s===n.TRIANGLES?i.faces+=P/3:s===n.POINTS&&(i.points+=P)},this.renderInstances=function(C,P,w){var E=r.get("ANGLE_instanced_arrays");null!==E?(E.drawElementsInstancedANGLE(s,w,u,P*f,C.maxInstancedCount),i.calls++,i.vertices+=w*C.maxInstancedCount,s===n.TRIANGLES?i.faces+=C.maxInstancedCount*w/3:s===n.POINTS&&(i.points+=C.maxInstancedCount*w)):console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function OD(n,r,i){var s;this.setMode=function(v){s=v},this.render=function(v,_){n.drawArrays(s,v,_),i.calls++,i.vertices+=_,s===n.TRIANGLES?i.faces+=_/3:s===n.POINTS&&(i.points+=_)},this.renderInstances=function(v,_,y){var C=r.get("ANGLE_instanced_arrays");if(null!==C){var P=v.attributes.position;P.isInterleavedBufferAttribute?C.drawArraysInstancedANGLE(s,0,y=P.data.count,v.maxInstancedCount):C.drawArraysInstancedANGLE(s,_,y,v.maxInstancedCount),i.calls++,i.vertices+=y*v.maxInstancedCount,s===n.TRIANGLES?i.faces+=v.maxInstancedCount*y/3:s===n.POINTS&&(i.points+=v.maxInstancedCount*y)}else console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.")}}function ED(n,r,i){var s={},c={};function u(y){var C=y.target,P=s[C.id];for(var w in null!==P.index&&r.remove(P.index),P.attributes)r.remove(P.attributes[w]);C.removeEventListener("dispose",u),delete s[C.id];var E=c[C.id];E&&(r.remove(E),delete c[C.id]),(E=c[P.id])&&(r.remove(E),delete c[P.id]),i.geometries--}return{get:function(y,C){var P=s[C.id];return P||(C.addEventListener("dispose",u),C.isBufferGeometry?P=C:C.isGeometry&&(void 0===C._bufferGeometry&&(C._bufferGeometry=(new On).setFromObject(y)),P=C._bufferGeometry),s[C.id]=P,i.geometries++,P)},update:function(y){var C=y.index,P=y.attributes;for(var w in null!==C&&r.update(C,n.ELEMENT_ARRAY_BUFFER),P)r.update(P[w],n.ARRAY_BUFFER);var E=y.morphAttributes;for(var w in E)for(var S=E[w],I=0,L=S.length;I<L;I++)r.update(S[I],n.ARRAY_BUFFER)},getWireframeAttribute:function(y){var C=c[y.id];if(C)return C;var S,P=[],w=y.index,E=y.attributes;if(null!==w)for(var I=0,L=(S=w.array).length;I<L;I+=3)P.push(B=S[I+0],V=S[I+1],V,N=S[I+2],N,B);else for(I=0,L=(S=E.position.array).length/3-1;I<L;I+=3){var B,V,N;P.push(B=I+0,V=I+1,V,N=I+2,N,B)}return C=new(Av(P)>65535?tp:mC)(P,1),r.update(C,n.ELEMENT_ARRAY_BUFFER),c[y.id]=C,C}}}function jE(){var n={};return{get:function(r){if(void 0!==n[r.id])return n[r.id];var i;switch(r.type){case"DirectionalLight":i={direction:new J,color:new cn,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ce};break;case"SpotLight":i={position:new J,direction:new J,color:new cn,distance:0,coneCos:0,penumbraCos:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ce};break;case"PointLight":i={position:new J,color:new cn,distance:0,decay:0,shadow:!1,shadowBias:0,shadowRadius:1,shadowMapSize:new ce,shadowCameraNear:1,shadowCameraFar:1e3};break;case"HemisphereLight":i={direction:new J,skyColor:new cn,groundColor:new cn};break;case"RectAreaLight":i={color:new cn,position:new J,halfWidth:new J,halfHeight:new J}}return n[r.id]=i,i}}}function Dv(){var n=new jE,r={hash:"",ambient:[0,0,0],directional:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],point:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]},i=new J,s=new ye,c=new ye;return{setup:function(f,v,_){for(var y=0,C=0,P=0,w=0,E=0,S=0,I=0,L=0,B=_.matrixWorldInverse,V=0,N=f.length;V<N;V++){var F=f[V],z=F.color,G=F.intensity,q=F.distance,Y=F.shadow&&F.shadow.map?F.shadow.map.texture:null;if(F.isAmbientLight)y+=z.r*G,C+=z.g*G,P+=z.b*G;else if(F.isDirectionalLight)(X=n.get(F)).color.copy(F.color).multiplyScalar(F.intensity),X.direction.setFromMatrixPosition(F.matrixWorld),i.setFromMatrixPosition(F.target.matrixWorld),X.direction.sub(i),X.direction.transformDirection(B),X.shadow=F.castShadow,F.castShadow&&(X.shadowBias=($=F.shadow).bias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize),r.directionalShadowMap[w]=Y,r.directionalShadowMatrix[w]=F.shadow.matrix,r.directional[w]=X,w++;else if(F.isSpotLight)(X=n.get(F)).position.setFromMatrixPosition(F.matrixWorld),X.position.applyMatrix4(B),X.color.copy(z).multiplyScalar(G),X.distance=q,X.direction.setFromMatrixPosition(F.matrixWorld),i.setFromMatrixPosition(F.target.matrixWorld),X.direction.sub(i),X.direction.transformDirection(B),X.coneCos=Math.cos(F.angle),X.penumbraCos=Math.cos(F.angle*(1-F.penumbra)),X.decay=0===F.distance?0:F.decay,X.shadow=F.castShadow,F.castShadow&&(X.shadowBias=($=F.shadow).bias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize),r.spotShadowMap[S]=Y,r.spotShadowMatrix[S]=F.shadow.matrix,r.spot[S]=X,S++;else if(F.isRectAreaLight)(X=n.get(F)).color.copy(z).multiplyScalar(G/(F.width*F.height)),X.position.setFromMatrixPosition(F.matrixWorld),X.position.applyMatrix4(B),c.identity(),s.copy(F.matrixWorld),s.premultiply(B),c.extractRotation(s),X.halfWidth.set(.5*F.width,0,0),X.halfHeight.set(0,.5*F.height,0),X.halfWidth.applyMatrix4(c),X.halfHeight.applyMatrix4(c),r.rectArea[I]=X,I++;else if(F.isPointLight){var $;(X=n.get(F)).position.setFromMatrixPosition(F.matrixWorld),X.position.applyMatrix4(B),X.color.copy(F.color).multiplyScalar(F.intensity),X.distance=F.distance,X.decay=0===F.distance?0:F.decay,X.shadow=F.castShadow,F.castShadow&&(X.shadowBias=($=F.shadow).bias,X.shadowRadius=$.radius,X.shadowMapSize=$.mapSize,X.shadowCameraNear=$.camera.near,X.shadowCameraFar=$.camera.far),r.pointShadowMap[E]=Y,r.pointShadowMatrix[E]=F.shadow.matrix,r.point[E]=X,E++}else if(F.isHemisphereLight){var X;(X=n.get(F)).direction.setFromMatrixPosition(F.matrixWorld),X.direction.transformDirection(B),X.direction.normalize(),X.skyColor.copy(F.color).multiplyScalar(G),X.groundColor.copy(F.groundColor).multiplyScalar(G),r.hemi[L]=X,L++}}r.ambient[0]=y,r.ambient[1]=C,r.ambient[2]=P,r.directional.length=w,r.spot.length=S,r.rectArea.length=I,r.point.length=E,r.hemi.length=L,r.hash=w+","+E+","+S+","+I+","+L+","+v.length},state:r}}function GP(n,r){var i={};return{update:function(u){var f=r.frame,v=u.geometry,_=n.get(u,v);return i[_.id]!==f&&(v.isGeometry&&_.updateFromObject(u),n.update(_),i[_.id]=f),_},clear:function(){i={}}}}function SD(n,r,i){var s=n.createShader(r);return n.shaderSource(s,i),n.compileShader(s),!1===n.getShaderParameter(s,n.COMPILE_STATUS)&&console.error("THREE.WebGLShader: Shader couldn't compile."),""!==n.getShaderInfoLog(s)&&console.warn("THREE.WebGLShader: gl.getShaderInfoLog()",r===n.VERTEX_SHADER?"vertex":"fragment",n.getShaderInfoLog(s),function(n){for(var r=n.split("\n"),i=0;i<r.length;i++)r[i]=i+1+": "+r[i];return r.join("\n")}(i)),s}Object.assign(On.prototype,we.prototype,{isBufferGeometry:!0,getIndex:function(){return this.index},setIndex:function(n){this.index=Array.isArray(n)?new(Av(n)>65535?tp:mC)(n,1):n},addAttribute:function(n,r){return r&&r.isBufferAttribute||r&&r.isInterleavedBufferAttribute?"index"===n?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),void this.setIndex(r)):(this.attributes[n]=r,this):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),void this.addAttribute(n,new xr(arguments[1],arguments[2])))},getAttribute:function(n){return this.attributes[n]},removeAttribute:function(n){return delete this.attributes[n],this},addGroup:function(n,r,i){this.groups.push({start:n,count:r,materialIndex:void 0!==i?i:0})},clearGroups:function(){this.groups=[]},setDrawRange:function(n,r){this.drawRange.start=n,this.drawRange.count=r},applyMatrix:function(n){var r=this.attributes.position;void 0!==r&&(n.applyToBufferAttribute(r),r.needsUpdate=!0);var i=this.attributes.normal;return void 0!==i&&((new xi).getNormalMatrix(n).applyToBufferAttribute(i),i.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this},rotateX:function(){var n=new ye;return function(i){return n.makeRotationX(i),this.applyMatrix(n),this}}(),rotateY:function(){var n=new ye;return function(i){return n.makeRotationY(i),this.applyMatrix(n),this}}(),rotateZ:function(){var n=new ye;return function(i){return n.makeRotationZ(i),this.applyMatrix(n),this}}(),translate:function(){var n=new ye;return function(i,s,c){return n.makeTranslation(i,s,c),this.applyMatrix(n),this}}(),scale:function(){var n=new ye;return function(i,s,c){return n.makeScale(i,s,c),this.applyMatrix(n),this}}(),lookAt:function(){var n=new Ln;return function(i){n.lookAt(i),n.updateMatrix(),this.applyMatrix(n.matrix)}}(),center:function(){this.computeBoundingBox();var n=this.boundingBox.getCenter().negate();return this.translate(n.x,n.y,n.z),n},setFromObject:function(n){var r=n.geometry;if(n.isPoints||n.isLine){var i=new Fn(3*r.vertices.length,3),s=new Fn(3*r.colors.length,3);if(this.addAttribute("position",i.copyVector3sArray(r.vertices)),this.addAttribute("color",s.copyColorsArray(r.colors)),r.lineDistances&&r.lineDistances.length===r.vertices.length){var c=new Fn(r.lineDistances.length,1);this.addAttribute("lineDistance",c.copyArray(r.lineDistances))}null!==r.boundingSphere&&(this.boundingSphere=r.boundingSphere.clone()),null!==r.boundingBox&&(this.boundingBox=r.boundingBox.clone())}else n.isMesh&&r&&r.isGeometry&&this.fromGeometry(r);return this},setFromPoints:function(n){for(var r=[],i=0,s=n.length;i<s;i++){var c=n[i];r.push(c.x,c.y,c.z||0)}return this.addAttribute("position",new Fn(r,3)),this},updateFromObject:function(n){var s,r=n.geometry;if(n.isMesh){var i=r.__directGeometry;if(!0===r.elementsNeedUpdate&&(i=void 0,r.elementsNeedUpdate=!1),void 0===i)return this.fromGeometry(r);i.verticesNeedUpdate=r.verticesNeedUpdate,i.normalsNeedUpdate=r.normalsNeedUpdate,i.colorsNeedUpdate=r.colorsNeedUpdate,i.uvsNeedUpdate=r.uvsNeedUpdate,i.groupsNeedUpdate=r.groupsNeedUpdate,r.verticesNeedUpdate=!1,r.normalsNeedUpdate=!1,r.colorsNeedUpdate=!1,r.uvsNeedUpdate=!1,r.groupsNeedUpdate=!1,r=i}return!0===r.verticesNeedUpdate&&(void 0!==(s=this.attributes.position)&&(s.copyVector3sArray(r.vertices),s.needsUpdate=!0),r.verticesNeedUpdate=!1),!0===r.normalsNeedUpdate&&(void 0!==(s=this.attributes.normal)&&(s.copyVector3sArray(r.normals),s.needsUpdate=!0),r.normalsNeedUpdate=!1),!0===r.colorsNeedUpdate&&(void 0!==(s=this.attributes.color)&&(s.copyColorsArray(r.colors),s.needsUpdate=!0),r.colorsNeedUpdate=!1),r.uvsNeedUpdate&&(void 0!==(s=this.attributes.uv)&&(s.copyVector2sArray(r.uvs),s.needsUpdate=!0),r.uvsNeedUpdate=!1),r.lineDistancesNeedUpdate&&(void 0!==(s=this.attributes.lineDistance)&&(s.copyArray(r.lineDistances),s.needsUpdate=!0),r.lineDistancesNeedUpdate=!1),r.groupsNeedUpdate&&(r.computeGroups(n.geometry),this.groups=r.groups,r.groupsNeedUpdate=!1),this},fromGeometry:function(n){return n.__directGeometry=(new Sv).fromGeometry(n),this.fromDirectGeometry(n.__directGeometry)},fromDirectGeometry:function(n){var i=new Float32Array(3*n.vertices.length);if(this.addAttribute("position",new xr(i,3).copyVector3sArray(n.vertices)),n.normals.length>0){var s=new Float32Array(3*n.normals.length);this.addAttribute("normal",new xr(s,3).copyVector3sArray(n.normals))}if(n.colors.length>0){var c=new Float32Array(3*n.colors.length);this.addAttribute("color",new xr(c,3).copyColorsArray(n.colors))}if(n.uvs.length>0){var u=new Float32Array(2*n.uvs.length);this.addAttribute("uv",new xr(u,2).copyVector2sArray(n.uvs))}if(n.uvs2.length>0){var f=new Float32Array(2*n.uvs2.length);this.addAttribute("uv2",new xr(f,2).copyVector2sArray(n.uvs2))}if(n.indices.length>0){var _=new(Av(n.indices)>65535?Uint32Array:Uint16Array)(3*n.indices.length);this.setIndex(new xr(_,1).copyIndicesArray(n.indices))}for(var y in this.groups=n.groups,n.morphTargets){for(var C=[],P=n.morphTargets[y],w=0,E=P.length;w<E;w++){var S=P[w],I=new Fn(3*S.length,3);C.push(I.copyVector3sArray(S))}this.morphAttributes[y]=C}if(n.skinIndices.length>0){var L=new Fn(4*n.skinIndices.length,4);this.addAttribute("skinIndex",L.copyVector4sArray(n.skinIndices))}if(n.skinWeights.length>0){var B=new Fn(4*n.skinWeights.length,4);this.addAttribute("skinWeight",B.copyVector4sArray(n.skinWeights))}return null!==n.boundingSphere&&(this.boundingSphere=n.boundingSphere.clone()),null!==n.boundingBox&&(this.boundingBox=n.boundingBox.clone()),this},computeBoundingBox:function(){null===this.boundingBox&&(this.boundingBox=new to);var n=this.attributes.position;void 0!==n?this.boundingBox.setFromBufferAttribute(n):this.boundingBox.makeEmpty(),(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)},computeBoundingSphere:function(){var n=new to,r=new J;return function(){null===this.boundingSphere&&(this.boundingSphere=new zs);var s=this.attributes.position;if(s){var c=this.boundingSphere.center;n.setFromBufferAttribute(s),n.getCenter(c);for(var u=0,f=0,v=s.count;f<v;f++)r.x=s.getX(f),r.y=s.getY(f),r.z=s.getZ(f),u=Math.max(u,c.distanceToSquared(r));this.boundingSphere.radius=Math.sqrt(u),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}}(),computeFaceNormals:function(){},computeVertexNormals:function(){var n=this.index,r=this.attributes,i=this.groups;if(r.position){var s=r.position.array;if(void 0===r.normal)this.addAttribute("normal",new xr(new Float32Array(s.length),3));else for(var c=r.normal.array,u=0,f=c.length;u<f;u++)c[u]=0;var _,y,C,v=r.normal.array,P=new J,w=new J,E=new J,S=new J,I=new J;if(n){var L=n.array;0===i.length&&this.addGroup(0,L.length);for(var B=0,V=i.length;B<V;++B){var N=i[B],F=N.start;for(u=F,f=F+N.count;u<f;u+=3)y=3*L[u+1],C=3*L[u+2],P.fromArray(s,_=3*L[u+0]),w.fromArray(s,y),E.fromArray(s,C),S.subVectors(E,w),I.subVectors(P,w),S.cross(I),v[_]+=S.x,v[_+1]+=S.y,v[_+2]+=S.z,v[y]+=S.x,v[y+1]+=S.y,v[y+2]+=S.z,v[C]+=S.x,v[C+1]+=S.y,v[C+2]+=S.z}}else for(u=0,f=s.length;u<f;u+=9)P.fromArray(s,u),w.fromArray(s,u+3),E.fromArray(s,u+6),S.subVectors(E,w),I.subVectors(P,w),S.cross(I),v[u]=S.x,v[u+1]=S.y,v[u+2]=S.z,v[u+3]=S.x,v[u+4]=S.y,v[u+5]=S.z,v[u+6]=S.x,v[u+7]=S.y,v[u+8]=S.z;this.normalizeNormals(),r.normal.needsUpdate=!0}},merge:function(n,r){if(n&&n.isBufferGeometry){void 0===r&&(r=0);var i=this.attributes;for(var s in i)if(void 0!==n.attributes[s])for(var u=i[s].array,f=n.attributes[s],v=f.array,y=0,C=f.itemSize*r;y<v.length;y++,C++)u[C]=v[y];return this}console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",n)},normalizeNormals:function(){var n=new J;return function(){for(var i=this.attributes.normal,s=0,c=i.count;s<c;s++)n.x=i.getX(s),n.y=i.getY(s),n.z=i.getZ(s),n.normalize(),i.setXYZ(s,n.x,n.y,n.z)}}(),toNonIndexed:function(){if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed."),this;var n=new On,r=this.index.array,i=this.attributes;for(var s in i){for(var c=i[s],u=c.array,f=c.itemSize,v=new u.constructor(r.length*f),_=0,y=0,C=0,P=r.length;C<P;C++){_=r[C]*f;for(var w=0;w<f;w++)v[y++]=u[_++]}n.addAttribute(s,new xr(v,f))}return n},toJSON:function(){var n={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(n.uuid=this.uuid,n.type=this.type,""!==this.name&&(n.name=this.name),void 0!==this.parameters){var r=this.parameters;for(var i in r)void 0!==r[i]&&(n[i]=r[i]);return n}n.data={attributes:{}};var s=this.index;if(null!==s){var c=Array.prototype.slice.call(s.array);n.data.index={type:s.array.constructor.name,array:c}}var u=this.attributes;for(var i in u){var f=u[i];c=Array.prototype.slice.call(f.array),n.data.attributes[i]={itemSize:f.itemSize,type:f.array.constructor.name,array:c,normalized:f.normalized}}var v=this.groups;v.length>0&&(n.data.groups=JSON.parse(JSON.stringify(v)));var _=this.boundingSphere;return null!==_&&(n.data.boundingSphere={center:_.center.toArray(),radius:_.radius}),n},clone:function(){return(new On).copy(this)},copy:function(n){var i,s,c,r=this;this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.name=n.name;var u=n.index;null!==u&&this.setIndex(u.clone());var f=n.attributes;for(i in f)r.addAttribute(i,f[i].clone());var _=n.morphAttributes;for(i in _){var y=[],C=_[i];for(s=0,c=C.length;s<c;s++)y.push(C[s].clone());r.morphAttributes[i]=y}var P=n.groups;for(s=0,c=P.length;s<c;s++){var w=P[s];r.addGroup(w.start,w.count,w.materialIndex)}var E=n.boundingBox;null!==E&&(this.boundingBox=E.clone());var S=n.boundingSphere;return null!==S&&(this.boundingSphere=S.clone()),this.drawRange.start=n.drawRange.start,this.drawRange.count=n.drawRange.count,this},dispose:function(){this.dispatchEvent({type:"dispose"})}}),(Ts.prototype=Object.create(Nr.prototype)).constructor=Ts,(yc.prototype=Object.create(On.prototype)).constructor=yc,(na.prototype=Object.create(Nr.prototype)).constructor=na,(Pu.prototype=Object.create(On.prototype)).constructor=Pu,(pa.prototype=Object.create(oi.prototype)).constructor=pa,pa.prototype.isMeshBasicMaterial=!0,pa.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this},(Za.prototype=Object.create(oi.prototype)).constructor=Za,Za.prototype.isShaderMaterial=!0,Za.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.fragmentShader=n.fragmentShader,this.vertexShader=n.vertexShader,this.uniforms=vc.clone(n.uniforms),this.defines=n.defines,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.lights=n.lights,this.clipping=n.clipping,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this.extensions=n.extensions,this},Za.prototype.toJSON=function(n){var r=oi.prototype.toJSON.call(this,n);return r.uniforms=this.uniforms,r.vertexShader=this.vertexShader,r.fragmentShader=this.fragmentShader,r},Object.assign(Tv.prototype,{set:function(n,r){return this.origin.copy(n),this.direction.copy(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.origin.copy(n.origin),this.direction.copy(n.direction),this},at:function(n,r){return(r||new J).copy(this.direction).multiplyScalar(n).add(this.origin)},lookAt:function(n){return this.direction.copy(n).sub(this.origin).normalize(),this},recast:function(){var n=new J;return function(i){return this.origin.copy(this.at(i,n)),this}}(),closestPointToPoint:function(n,r){var i=r||new J;i.subVectors(n,this.origin);var s=i.dot(this.direction);return s<0?i.copy(this.origin):i.copy(this.direction).multiplyScalar(s).add(this.origin)},distanceToPoint:function(n){return Math.sqrt(this.distanceSqToPoint(n))},distanceSqToPoint:function(){var n=new J;return function(i){var s=n.subVectors(i,this.origin).dot(this.direction);return s<0?this.origin.distanceToSquared(i):(n.copy(this.direction).multiplyScalar(s).add(this.origin),n.distanceToSquared(i))}}(),distanceSqToSegment:function(){var n=new J,r=new J,i=new J;return function(c,u,f,v){n.copy(c).add(u).multiplyScalar(.5),r.copy(u).sub(c).normalize(),i.copy(this.origin).sub(n);var S,I,L,B,_=.5*c.distanceTo(u),y=-this.direction.dot(r),C=i.dot(this.direction),P=-i.dot(r),w=i.lengthSq(),E=Math.abs(1-y*y);if(E>0)if(I=y*C-P,B=_*E,(S=y*P-C)>=0)if(I>=-B)if(I<=B){var V=1/E;L=(S*=V)*(S+y*(I*=V)+2*C)+I*(y*S+I+2*P)+w}else I=_,L=-(S=Math.max(0,-(y*I+C)))*S+I*(I+2*P)+w;else I=-_,L=-(S=Math.max(0,-(y*I+C)))*S+I*(I+2*P)+w;else I<=-B?L=-(S=Math.max(0,-(-y*_+C)))*S+(I=S>0?-_:Math.min(Math.max(-_,-P),_))*(I+2*P)+w:I<=B?(S=0,L=(I=Math.min(Math.max(-_,-P),_))*(I+2*P)+w):L=-(S=Math.max(0,-(y*_+C)))*S+(I=S>0?_:Math.min(Math.max(-_,-P),_))*(I+2*P)+w;else I=y>0?-_:_,L=-(S=Math.max(0,-(y*I+C)))*S+I*(I+2*P)+w;return f&&f.copy(this.direction).multiplyScalar(S).add(this.origin),v&&v.copy(r).multiplyScalar(I).add(n),L}}(),intersectSphere:function(){var n=new J;return function(i,s){n.subVectors(i.center,this.origin);var c=n.dot(this.direction),u=n.dot(n)-c*c,f=i.radius*i.radius;if(u>f)return null;var v=Math.sqrt(f-u),_=c-v,y=c+v;return _<0&&y<0?null:this.at(_<0?y:_,s)}}(),intersectsSphere:function(n){return this.distanceToPoint(n.center)<=n.radius},distanceToPlane:function(n){var r=n.normal.dot(this.direction);if(0===r)return 0===n.distanceToPoint(this.origin)?0:null;var i=-(this.origin.dot(n.normal)+n.constant)/r;return i>=0?i:null},intersectPlane:function(n,r){var i=this.distanceToPlane(n);return null===i?null:this.at(i,r)},intersectsPlane:function(n){var r=n.distanceToPoint(this.origin);return 0===r||n.normal.dot(this.direction)*r<0},intersectBox:function(n,r){var i,s,c,u,f,v,_=1/this.direction.x,y=1/this.direction.y,C=1/this.direction.z,P=this.origin;return _>=0?(i=(n.min.x-P.x)*_,s=(n.max.x-P.x)*_):(i=(n.max.x-P.x)*_,s=(n.min.x-P.x)*_),y>=0?(c=(n.min.y-P.y)*y,u=(n.max.y-P.y)*y):(c=(n.max.y-P.y)*y,u=(n.min.y-P.y)*y),i>u||c>s||((c>i||i!=i)&&(i=c),(u<s||s!=s)&&(s=u),C>=0?(f=(n.min.z-P.z)*C,v=(n.max.z-P.z)*C):(f=(n.max.z-P.z)*C,v=(n.min.z-P.z)*C),i>v||f>s)||((f>i||i!=i)&&(i=f),(v<s||s!=s)&&(s=v),s<0)?null:this.at(i>=0?i:s,r)},intersectsBox:function(){var n=new J;return function(i){return null!==this.intersectBox(i,n)}}(),intersectTriangle:function(){var n=new J,r=new J,i=new J,s=new J;return function(u,f,v,_,y){r.subVectors(f,u),i.subVectors(v,u),s.crossVectors(r,i);var P,C=this.direction.dot(s);if(C>0){if(_)return null;P=1}else{if(!(C<0))return null;P=-1,C=-C}n.subVectors(this.origin,u);var w=P*this.direction.dot(i.crossVectors(n,i));if(w<0)return null;var E=P*this.direction.dot(r.cross(n));if(E<0||w+E>C)return null;var S=-P*n.dot(s);return S<0?null:this.at(S/C,y)}}(),applyMatrix4:function(n){return this.origin.applyMatrix4(n),this.direction.transformDirection(n),this},equals:function(n){return n.origin.equals(this.origin)&&n.direction.equals(this.direction)}}),Object.assign(mb.prototype,{set:function(n,r){return this.start.copy(n),this.end.copy(r),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.start.copy(n.start),this.end.copy(n.end),this},getCenter:function(n){return(n||new J).addVectors(this.start,this.end).multiplyScalar(.5)},delta:function(n){return(n||new J).subVectors(this.end,this.start)},distanceSq:function(){return this.start.distanceToSquared(this.end)},distance:function(){return this.start.distanceTo(this.end)},at:function(n,r){var i=r||new J;return this.delta(i).multiplyScalar(n).add(this.start)},closestPointToPointParameter:function(){var n=new J,r=new J;return function(s,c){n.subVectors(s,this.start),r.subVectors(this.end,this.start);var u=r.dot(r),v=r.dot(n)/u;return c&&(v=Ie.clamp(v,0,1)),v}}(),closestPointToPoint:function(n,r,i){var s=this.closestPointToPointParameter(n,r),c=i||new J;return this.delta(c).multiplyScalar(s).add(this.start)},applyMatrix4:function(n){return this.start.applyMatrix4(n),this.end.applyMatrix4(n),this},equals:function(n){return n.start.equals(this.start)&&n.end.equals(this.end)}}),Object.assign(Og,{normal:function(){var n=new J;return function(i,s,c,u){var f=u||new J;f.subVectors(c,s),n.subVectors(i,s),f.cross(n);var v=f.lengthSq();return v>0?f.multiplyScalar(1/Math.sqrt(v)):f.set(0,0,0)}}(),barycoordFromPoint:function(){var n=new J,r=new J,i=new J;return function(c,u,f,v,_){n.subVectors(v,u),r.subVectors(f,u),i.subVectors(c,u);var y=n.dot(n),C=n.dot(r),P=n.dot(i),w=r.dot(r),E=r.dot(i),S=y*w-C*C,I=_||new J;if(0===S)return I.set(-2,-1,-1);var L=1/S,B=(w*P-C*E)*L,V=(y*E-C*P)*L;return I.set(1-B-V,V,B)}}(),containsPoint:function(){var n=new J;return function(i,s,c,u){var f=Og.barycoordFromPoint(i,s,c,u,n);return f.x>=0&&f.y>=0&&f.x+f.y<=1}}()}),Object.assign(Og.prototype,{set:function(n,r,i){return this.a.copy(n),this.b.copy(r),this.c.copy(i),this},setFromPointsAndIndices:function(n,r,i,s){return this.a.copy(n[r]),this.b.copy(n[i]),this.c.copy(n[s]),this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.a.copy(n.a),this.b.copy(n.b),this.c.copy(n.c),this},area:function(){var n=new J,r=new J;return function(){return n.subVectors(this.c,this.b),r.subVectors(this.a,this.b),.5*n.cross(r).length()}}(),midpoint:function(n){return(n||new J).addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)},normal:function(n){return Og.normal(this.a,this.b,this.c,n)},plane:function(n){return(n||new Xa).setFromCoplanarPoints(this.a,this.b,this.c)},barycoordFromPoint:function(n,r){return Og.barycoordFromPoint(n,this.a,this.b,this.c,r)},containsPoint:function(n){return Og.containsPoint(n,this.a,this.b,this.c)},closestPointToPoint:function(){var n=new Xa,r=[new mb,new mb,new mb],i=new J,s=new J;return function(u,f){var v=f||new J,_=1/0;if(n.setFromCoplanarPoints(this.a,this.b,this.c),n.projectPoint(u,i),!0===this.containsPoint(i))v.copy(i);else{r[0].set(this.a,this.b),r[1].set(this.b,this.c),r[2].set(this.c,this.a);for(var y=0;y<r.length;y++){r[y].closestPointToPoint(i,!0,s);var C=i.distanceToSquared(s);C<_&&(_=C,v.copy(s))}}return v}}(),equals:function(n){return n.a.equals(this.a)&&n.b.equals(this.b)&&n.c.equals(this.c)}}),cl.prototype=Object.assign(Object.create(Ln.prototype),{constructor:cl,isMesh:!0,setDrawMode:function(n){this.drawMode=n},copy:function(n){return Ln.prototype.copy.call(this,n),this.drawMode=n.drawMode,void 0!==n.morphTargetInfluences&&(this.morphTargetInfluences=n.morphTargetInfluences.slice()),void 0!==n.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},n.morphTargetDictionary)),this},updateMorphTargets:function(){var i,s,c,n=this,r=this.geometry;if(r.isBufferGeometry){var u=r.morphAttributes,f=Object.keys(u);if(f.length>0){var v=u[f[0]];if(void 0!==v)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},i=0,s=v.length;i<s;i++)c=v[i].name||String(i),n.morphTargetInfluences.push(0),n.morphTargetDictionary[c]=i}}else{var _=r.morphTargets;if(void 0!==_&&_.length>0)for(this.morphTargetInfluences=[],this.morphTargetDictionary={},i=0,s=_.length;i<s;i++)c=_[i].name||String(i),n.morphTargetInfluences.push(0),n.morphTargetDictionary[c]=i}},raycast:function(){var n=new ye,r=new Tv,i=new zs,s=new J,c=new J,u=new J,f=new J,v=new J,_=new J,y=new ce,C=new ce,P=new ce,w=new J,E=new J,S=new J;function I(V,N,F,z,G,q,Y){return Og.barycoordFromPoint(V,N,F,z,w),G.multiplyScalar(w.x),q.multiplyScalar(w.y),Y.multiplyScalar(w.z),G.add(q).add(Y),G.clone()}function L(V,N,F,z,G,q,Y,X){if(null===(1===N.side?z.intersectTriangle(Y,q,G,!0,X):z.intersectTriangle(G,q,Y,2!==N.side,X)))return null;S.copy(X),S.applyMatrix4(V.matrixWorld);var tt=F.ray.origin.distanceTo(S);return tt<F.near||tt>F.far?null:{distance:tt,point:S.clone(),object:V}}function B(V,N,F,z,G,q,Y,X){s.fromBufferAttribute(z,q),c.fromBufferAttribute(z,Y),u.fromBufferAttribute(z,X);var $=L(V,V.material,N,F,s,c,u,E);return $&&(G&&(y.fromBufferAttribute(G,q),C.fromBufferAttribute(G,Y),P.fromBufferAttribute(G,X),$.uv=I(E,s,c,u,y,C,P)),$.face=new bc(q,Y,X,Og.normal(s,c,u)),$.faceIndex=q),$}return function(N,F){var X,z=this,G=this.geometry,q=this.material,Y=this.matrixWorld;if(void 0!==q&&(null===G.boundingSphere&&G.computeBoundingSphere(),i.copy(G.boundingSphere),i.applyMatrix4(Y),!1!==N.ray.intersectsSphere(i)&&(n.getInverse(Y),r.copy(N.ray).applyMatrix4(n),null===G.boundingBox||!1!==r.intersectsBox(G.boundingBox))))if(G.isBufferGeometry){var $,tt,ot,dt,Dt,nt=G.index,et=G.attributes.position,vt=G.attributes.uv;if(null!==nt)for(dt=0,Dt=nt.count;dt<Dt;dt+=3)$=nt.getX(dt),tt=nt.getX(dt+1),ot=nt.getX(dt+2),(X=B(z,N,r,et,vt,$,tt,ot))&&(X.faceIndex=Math.floor(dt/3),F.push(X));else if(void 0!==et)for(dt=0,Dt=et.count;dt<Dt;dt+=3)(X=B(z,N,r,et,vt,$=dt,tt=dt+1,ot=dt+2))&&(X.index=$,F.push(X))}else if(G.isGeometry){var Et,Mt,st,$t,ht=Array.isArray(q),Ft=G.vertices,Lt=G.faces,ft=G.faceVertexUvs[0];ft.length>0&&($t=ft);for(var Zt=0,bt=Lt.length;Zt<bt;Zt++){var Gt=Lt[Zt],Nt=ht?q[Gt.materialIndex]:q;if(void 0!==Nt){if(Et=Ft[Gt.a],Mt=Ft[Gt.b],st=Ft[Gt.c],!0===Nt.morphTargets){var le=G.morphTargets,Oe=z.morphTargetInfluences;s.set(0,0,0),c.set(0,0,0),u.set(0,0,0);for(var tn=0,ge=le.length;tn<ge;tn++){var pe=Oe[tn];if(0!==pe){var he=le[tn].vertices;s.addScaledVector(f.subVectors(he[Gt.a],Et),pe),c.addScaledVector(v.subVectors(he[Gt.b],Mt),pe),u.addScaledVector(_.subVectors(he[Gt.c],st),pe)}}s.add(Et),c.add(Mt),u.add(st),Et=s,Mt=c,st=u}if(X=L(z,Nt,N,r,Et,Mt,st,E)){if($t&&$t[Zt]){var Ze=$t[Zt];y.copy(Ze[0]),C.copy(Ze[1]),P.copy(Ze[2]),X.uv=I(E,Et,Mt,st,y,C,P)}X.face=Gt,X.faceIndex=Zt,F.push(X)}}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}});var vb=0;function _b(n){switch(n){case 3e3:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];default:throw new Error("unsupported encoding: "+n)}}function ei(n,r){var i=_b(r);return"vec4 "+n+"( vec4 value ) { return "+i[0]+"ToLinear"+i[1]+"; }"}function AD(n,r){var i=_b(r);return"vec4 "+n+"( vec4 value ) { return LinearTo"+i[0]+i[1]+"; }"}function Iv(n,r){var i;switch(r){case 1:i="Linear";break;case 2:i="Reinhard";break;case 3:i="Uncharted2";break;case 4:i="OptimizedCineon";break;default:throw new Error("unsupported toneMapping: "+r)}return"vec3 "+n+"( vec3 color ) { return "+i+"ToneMapping( color ); }"}function Ag(n){return""!==n}function Rv(n,r){return n.replace(/NUM_DIR_LIGHTS/g,r.numDirLights).replace(/NUM_SPOT_LIGHTS/g,r.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,r.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,r.numPointLights).replace(/NUM_HEMI_LIGHTS/g,r.numHemiLights)}function Ka(n){return n.replace(/^[ \t]*#include +<([\w\d.]+)>/gm,function(s,c){var u=ao[c];if(void 0===u)throw new Error("Can not resolve #include <"+c+">");return Ka(u)})}function jP(n){return n.replace(/for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,function(s,c,u,f){for(var v="",_=parseInt(c);_<parseInt(u);_++)v+=f.replace(/\[ i \]/g,"[ "+_+" ]");return v})}function Gs(n,r,i,s,c,u){var f=n.context,v=s.defines,_=c.vertexShader,y=c.fragmentShader,C="SHADOWMAP_TYPE_BASIC";1===u.shadowMapType?C="SHADOWMAP_TYPE_PCF":2===u.shadowMapType&&(C="SHADOWMAP_TYPE_PCF_SOFT");var P="ENVMAP_TYPE_CUBE",w="ENVMAP_MODE_REFLECTION",E="ENVMAP_BLENDING_MULTIPLY";if(u.envMap){switch(s.envMap.mapping){case 301:case 302:P="ENVMAP_TYPE_CUBE";break;case 306:case 307:P="ENVMAP_TYPE_CUBE_UV";break;case 303:case 304:P="ENVMAP_TYPE_EQUIREC";break;case 305:P="ENVMAP_TYPE_SPHERE"}switch(s.envMap.mapping){case 302:case 304:w="ENVMAP_MODE_REFRACTION"}switch(s.combine){case 0:E="ENVMAP_BLENDING_MULTIPLY";break;case 1:E="ENVMAP_BLENDING_MIX";break;case 2:E="ENVMAP_BLENDING_ADD"}}var V,N,S=n.gammaFactor>0?n.gammaFactor:1,I=function(n,r,i){return[(n=n||{}).derivatives||r.envMapCubeUV||r.bumpMap||r.normalMap||r.flatShading?"#extension GL_OES_standard_derivatives : enable":"",(n.fragDepth||r.logarithmicDepthBuffer)&&i.get("EXT_frag_depth")?"#extension GL_EXT_frag_depth : enable":"",n.drawBuffers&&i.get("WEBGL_draw_buffers")?"#extension GL_EXT_draw_buffers : require":"",(n.shaderTextureLOD||r.envMap)&&i.get("EXT_shader_texture_lod")?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Ag).join("\n")}(s.extensions,u,r),L=function(n){var r=[];for(var i in n){var s=n[i];!1!==s&&r.push("#define "+i+" "+s)}return r.join("\n")}(v),B=f.createProgram();s.isRawShaderMaterial?((V=[L].filter(Ag).join("\n")).length>0&&(V+="\n"),(N=[I,L].filter(Ag).join("\n")).length>0&&(N+="\n")):(V=["precision "+u.precision+" float;","precision "+u.precision+" int;","#define SHADER_NAME "+c.name,L,u.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+S,"#define MAX_BONES "+u.maxBones,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+w:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.displacementMap&&u.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.flatShading?"#define FLAT_SHADED":"",u.skinning?"#define USE_SKINNING":"",u.useVertexTexture?"#define BONE_TEXTURE":"",u.morphTargets?"#define USE_MORPHTARGETS":"",u.morphNormals&&!1===u.flatShading?"#define USE_MORPHNORMALS":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+u.numClippingPlanes,u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+C:"",u.sizeAttenuation?"#define USE_SIZEATTENUATION":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&r.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_COLOR","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(Ag).join("\n"),N=[I,"precision "+u.precision+" float;","precision "+u.precision+" int;","#define SHADER_NAME "+c.name,L,u.alphaTest?"#define ALPHATEST "+u.alphaTest:"","#define GAMMA_FACTOR "+S,u.useFog&&u.fog?"#define USE_FOG":"",u.useFog&&u.fogExp?"#define FOG_EXP2":"",u.map?"#define USE_MAP":"",u.envMap?"#define USE_ENVMAP":"",u.envMap?"#define "+P:"",u.envMap?"#define "+w:"",u.envMap?"#define "+E:"",u.lightMap?"#define USE_LIGHTMAP":"",u.aoMap?"#define USE_AOMAP":"",u.emissiveMap?"#define USE_EMISSIVEMAP":"",u.bumpMap?"#define USE_BUMPMAP":"",u.normalMap?"#define USE_NORMALMAP":"",u.specularMap?"#define USE_SPECULARMAP":"",u.roughnessMap?"#define USE_ROUGHNESSMAP":"",u.metalnessMap?"#define USE_METALNESSMAP":"",u.alphaMap?"#define USE_ALPHAMAP":"",u.vertexColors?"#define USE_COLOR":"",u.gradientMap?"#define USE_GRADIENTMAP":"",u.flatShading?"#define FLAT_SHADED":"",u.doubleSided?"#define DOUBLE_SIDED":"",u.flipSided?"#define FLIP_SIDED":"","#define NUM_CLIPPING_PLANES "+u.numClippingPlanes,"#define UNION_CLIPPING_PLANES "+(u.numClippingPlanes-u.numClipIntersection),u.shadowMapEnabled?"#define USE_SHADOWMAP":"",u.shadowMapEnabled?"#define "+C:"",u.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",u.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",u.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",u.logarithmicDepthBuffer&&r.get("EXT_frag_depth")?"#define USE_LOGDEPTHBUF_EXT":"",u.envMap&&r.get("EXT_shader_texture_lod")?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;",0!==u.toneMapping?"#define TONE_MAPPING":"",0!==u.toneMapping?ao.tonemapping_pars_fragment:"",0!==u.toneMapping?Iv("toneMapping",u.toneMapping):"",u.dithering?"#define DITHERING":"",u.outputEncoding||u.mapEncoding||u.envMapEncoding||u.emissiveMapEncoding?ao.encodings_pars_fragment:"",u.mapEncoding?ei("mapTexelToLinear",u.mapEncoding):"",u.envMapEncoding?ei("envMapTexelToLinear",u.envMapEncoding):"",u.emissiveMapEncoding?ei("emissiveMapTexelToLinear",u.emissiveMapEncoding):"",u.outputEncoding?AD("linearToOutputTexel",u.outputEncoding):"",u.depthPacking?"#define DEPTH_PACKING "+s.depthPacking:"","\n"].filter(Ag).join("\n")),_=Rv(_=Ka(_),u),y=Rv(y=Ka(y),u),s.isShaderMaterial||(_=jP(_),y=jP(y));var z=N+y,G=SD(f,f.VERTEX_SHADER,V+_),q=SD(f,f.FRAGMENT_SHADER,z);f.attachShader(B,G),f.attachShader(B,q),void 0!==s.index0AttributeName?f.bindAttribLocation(B,0,s.index0AttributeName):!0===u.morphTargets&&f.bindAttribLocation(B,0,"position"),f.linkProgram(B);var nt,et,Y=f.getProgramInfoLog(B),X=f.getShaderInfoLog(G),$=f.getShaderInfoLog(q),tt=!0,ot=!0;return!1===f.getProgramParameter(B,f.LINK_STATUS)?(tt=!1,console.error("THREE.WebGLProgram: shader error: ",f.getError(),"gl.VALIDATE_STATUS",f.getProgramParameter(B,f.VALIDATE_STATUS),"gl.getProgramInfoLog",Y,X,$)):""!==Y?console.warn("THREE.WebGLProgram: gl.getProgramInfoLog()",Y):(""===X||""===$)&&(ot=!1),ot&&(this.diagnostics={runnable:tt,material:s,programLog:Y,vertexShader:{log:X,prefix:V},fragmentShader:{log:$,prefix:N}}),f.deleteShader(G),f.deleteShader(q),this.getUniforms=function(){return void 0===nt&&(nt=new _u(f,B,n)),nt},this.getAttributes=function(){return void 0===et&&(et=function(n,r){for(var i={},s=n.getProgramParameter(r,n.ACTIVE_ATTRIBUTES),c=0;c<s;c++){var f=n.getActiveAttrib(r,c).name;i[f]=n.getAttribLocation(r,f)}return i}(f,B)),et},this.destroy=function(){f.deleteProgram(B),this.program=void 0},Object.defineProperties(this,{uniforms:{get:function(){return console.warn("THREE.WebGLProgram: .uniforms is now .getUniforms()."),this.getUniforms()}},attributes:{get:function(){return console.warn("THREE.WebGLProgram: .attributes is now .getAttributes()."),this.getAttributes()}}}),this.id=vb++,this.code=i,this.usedTimes=1,this.program=B,this.vertexShader=G,this.fragmentShader=q,this}function WP(n,r,i){var s=[],c={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"phong",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow"},u=["precision","supportsVertexTextures","map","mapEncoding","envMap","envMapMode","envMapEncoding","lightMap","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","displacementMap","specularMap","roughnessMap","metalnessMap","gradientMap","alphaMap","combine","vertexColors","fog","useFog","fogExp","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","maxMorphTargets","maxMorphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","alphaTest","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering"];function v(_,y){var C;return _?_.isTexture?C=_.encoding:_.isWebGLRenderTarget&&(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),C=_.texture.encoding):C=3e3,3e3===C&&y&&(C=3007),C}this.getParameters=function(_,y,C,P,w,E,S){var I=c[_.type],L=S.isSkinnedMesh?function(_){var C=_.skeleton.bones;if(i.floatVertexTextures)return 1024;var w=Math.floor((i.maxVertexUniforms-20)/4),E=Math.min(w,C.length);return E<C.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+C.length+" bones. This GPU supports "+E+"."),0):E}(S):0,B=i.precision;null!==_.precision&&(B=i.getMaxPrecision(_.precision))!==_.precision&&console.warn("THREE.WebGLProgram.getParameters:",_.precision,"not supported, using",B,"instead.");var V=n.getRenderTarget();return{shaderID:I,precision:B,supportsVertexTextures:i.vertexTextures,outputEncoding:v(V?V.texture:null,n.gammaOutput),map:!!_.map,mapEncoding:v(_.map,n.gammaInput),envMap:!!_.envMap,envMapMode:_.envMap&&_.envMap.mapping,envMapEncoding:v(_.envMap,n.gammaInput),envMapCubeUV:!!_.envMap&&(306===_.envMap.mapping||307===_.envMap.mapping),lightMap:!!_.lightMap,aoMap:!!_.aoMap,emissiveMap:!!_.emissiveMap,emissiveMapEncoding:v(_.emissiveMap,n.gammaInput),bumpMap:!!_.bumpMap,normalMap:!!_.normalMap,displacementMap:!!_.displacementMap,roughnessMap:!!_.roughnessMap,metalnessMap:!!_.metalnessMap,specularMap:!!_.specularMap,alphaMap:!!_.alphaMap,gradientMap:!!_.gradientMap,combine:_.combine,vertexColors:_.vertexColors,fog:!!P,useFog:_.fog,fogExp:P&&P.isFogExp2,flatShading:_.flatShading,sizeAttenuation:_.sizeAttenuation,logarithmicDepthBuffer:i.logarithmicDepthBuffer,skinning:_.skinning&&L>0,maxBones:L,useVertexTexture:i.floatVertexTextures,morphTargets:_.morphTargets,morphNormals:_.morphNormals,maxMorphTargets:n.maxMorphTargets,maxMorphNormals:n.maxMorphNormals,numDirLights:y.directional.length,numPointLights:y.point.length,numSpotLights:y.spot.length,numRectAreaLights:y.rectArea.length,numHemiLights:y.hemi.length,numClippingPlanes:w,numClipIntersection:E,dithering:_.dithering,shadowMapEnabled:n.shadowMap.enabled&&S.receiveShadow&&C.length>0,shadowMapType:n.shadowMap.type,toneMapping:n.toneMapping,physicallyCorrectLights:n.physicallyCorrectLights,premultipliedAlpha:_.premultipliedAlpha,alphaTest:_.alphaTest,doubleSided:2===_.side,flipSided:1===_.side,depthPacking:void 0!==_.depthPacking&&_.depthPacking}},this.getProgramCode=function(_,y){var C=[];if(y.shaderID?C.push(y.shaderID):(C.push(_.fragmentShader),C.push(_.vertexShader)),void 0!==_.defines)for(var P in _.defines)C.push(P),C.push(_.defines[P]);for(var w=0;w<u.length;w++)C.push(y[u[w]]);return C.push(_.onBeforeCompile.toString()),C.push(n.gammaOutput),C.join()},this.acquireProgram=function(_,y,C,P){for(var w,E=0,S=s.length;E<S;E++){var I=s[E];if(I.code===P){++(w=I).usedTimes;break}}return void 0===w&&(w=new Gs(n,r,P,_,y,C),s.push(w)),w},this.releaseProgram=function(_){if(0==--_.usedTimes){var y=s.indexOf(_);s[y]=s[s.length-1],s.pop(),_.destroy()}},this.programs=s}function KL(n,r,i,s,c,u,f){var v="undefined"!=typeof WebGL2RenderingContext&&n instanceof window.WebGL2RenderingContext;function _(nt,et){if(nt.width>et||nt.height>et){var vt=et/Math.max(nt.width,nt.height),dt=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return dt.width=Math.floor(nt.width*vt),dt.height=Math.floor(nt.height*vt),dt.getContext("2d").drawImage(nt,0,0,nt.width,nt.height,0,0,dt.width,dt.height),console.warn("THREE.WebGLRenderer: image is too big ("+nt.width+"x"+nt.height+"). Resized to "+dt.width+"x"+dt.height,nt),dt}return nt}function y(nt){return Ie.isPowerOfTwo(nt.width)&&Ie.isPowerOfTwo(nt.height)}function w(nt,et){return nt.generateMipmaps&&et&&nt.minFilter!==so&&nt.minFilter!==Sa}function E(nt){return nt===so||1004===nt||1005===nt?n.NEAREST:n.LINEAR}function S(nt){var et=nt.target;et.removeEventListener("dispose",S),function(nt){var et=s.get(nt);if(nt.image&&et.__image__webglTextureCube)n.deleteTexture(et.__image__webglTextureCube);else{if(void 0===et.__webglInit)return;n.deleteTexture(et.__webglTexture)}s.remove(nt)}(et),f.textures--}function I(nt){var et=nt.target;et.removeEventListener("dispose",I),function(nt){var et=s.get(nt),vt=s.get(nt.texture);if(nt){if(void 0!==vt.__webglTexture&&n.deleteTexture(vt.__webglTexture),nt.depthTexture&&nt.depthTexture.dispose(),nt.isWebGLRenderTargetCube)for(var dt=0;dt<6;dt++)n.deleteFramebuffer(et.__webglFramebuffer[dt]),et.__webglDepthbuffer&&n.deleteRenderbuffer(et.__webglDepthbuffer[dt]);else n.deleteFramebuffer(et.__webglFramebuffer),et.__webglDepthbuffer&&n.deleteRenderbuffer(et.__webglDepthbuffer);s.remove(nt.texture),s.remove(nt)}}(et),f.textures--}function V(nt,et){var vt=s.get(nt);if(nt.version>0&&vt.__version!==nt.version){var dt=nt.image;if(void 0===dt)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined",nt);else{if(!1!==dt.complete)return void function(nt,et,vt){void 0===nt.__webglInit&&(nt.__webglInit=!0,et.addEventListener("dispose",S),nt.__webglTexture=n.createTexture(),f.textures++),i.activeTexture(n.TEXTURE0+vt),i.bindTexture(n.TEXTURE_2D,nt.__webglTexture),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,et.flipY),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,et.premultiplyAlpha),n.pixelStorei(n.UNPACK_ALIGNMENT,et.unpackAlignment);var dt=_(et.image,c.maxTextureSize);(function(nt){return nt.wrapS!==gc||nt.wrapT!==gc||nt.minFilter!==so&&nt.minFilter!==Sa})(et)&&!1===y(dt)&&(dt=function(nt){if(nt instanceof HTMLImageElement||nt instanceof HTMLCanvasElement||nt instanceof ImageBitmap){var et=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return et.width=Ie.floorPowerOfTwo(nt.width),et.height=Ie.floorPowerOfTwo(nt.height),et.getContext("2d").drawImage(nt,0,0,et.width,et.height),console.warn("THREE.WebGLRenderer: image is not power of two ("+nt.width+"x"+nt.height+"). Resized to "+et.width+"x"+et.height,nt),et}return nt}(dt));var Dt=y(dt),Et=u.convert(et.format),Mt=u.convert(et.type);z(n.TEXTURE_2D,et,Dt);var st,ht=et.mipmaps;if(et.isDepthTexture){var Ft=n.DEPTH_COMPONENT;if(et.type===mu){if(!v)throw new Error("Float Depth Texture only supported in WebGL2.0");Ft=n.DEPTH_COMPONENT32F}else v&&(Ft=n.DEPTH_COMPONENT16);et.format===Jp&&Ft===n.DEPTH_COMPONENT&&1012!==et.type&&1014!==et.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),et.type=1012,Mt=u.convert(et.type)),et.format===As&&(Ft=n.DEPTH_STENCIL,1020!==et.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),et.type=1020,Mt=u.convert(et.type))),i.texImage2D(n.TEXTURE_2D,0,Ft,dt.width,dt.height,0,Et,Mt,null)}else if(et.isDataTexture)if(ht.length>0&&Dt){for(var Lt=0,$t=ht.length;Lt<$t;Lt++)i.texImage2D(n.TEXTURE_2D,Lt,Et,(st=ht[Lt]).width,st.height,0,Et,Mt,st.data);et.generateMipmaps=!1}else i.texImage2D(n.TEXTURE_2D,0,Et,dt.width,dt.height,0,Et,Mt,dt.data);else if(et.isCompressedTexture)for(Lt=0,$t=ht.length;Lt<$t;Lt++)st=ht[Lt],et.format!==rl&&et.format!==Qp?i.getCompressedTextureFormats().indexOf(Et)>-1?i.compressedTexImage2D(n.TEXTURE_2D,Lt,Et,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):i.texImage2D(n.TEXTURE_2D,Lt,Et,st.width,st.height,0,Et,Mt,st.data);else if(ht.length>0&&Dt){for(Lt=0,$t=ht.length;Lt<$t;Lt++)i.texImage2D(n.TEXTURE_2D,Lt,Et,Et,Mt,st=ht[Lt]);et.generateMipmaps=!1}else i.texImage2D(n.TEXTURE_2D,0,Et,Et,Mt,dt);w(et,Dt)&&n.generateMipmap(n.TEXTURE_2D),nt.__version=et.version,et.onUpdate&&et.onUpdate(et)}(vt,nt,et);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete",nt)}}i.activeTexture(n.TEXTURE0+et),i.bindTexture(n.TEXTURE_2D,vt.__webglTexture)}function z(nt,et,vt){var dt;if(vt?(n.texParameteri(nt,n.TEXTURE_WRAP_S,u.convert(et.wrapS)),n.texParameteri(nt,n.TEXTURE_WRAP_T,u.convert(et.wrapT)),n.texParameteri(nt,n.TEXTURE_MAG_FILTER,u.convert(et.magFilter)),n.texParameteri(nt,n.TEXTURE_MIN_FILTER,u.convert(et.minFilter))):(n.texParameteri(nt,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(nt,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),(et.wrapS!==gc||et.wrapT!==gc)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.",et),n.texParameteri(nt,n.TEXTURE_MAG_FILTER,E(et.magFilter)),n.texParameteri(nt,n.TEXTURE_MIN_FILTER,E(et.minFilter)),et.minFilter!==so&&et.minFilter!==Sa&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.",et)),dt=r.get("EXT_texture_filter_anisotropic")){if(et.type===mu&&null===r.get("OES_texture_float_linear")||1016===et.type&&null===r.get("OES_texture_half_float_linear"))return;(et.anisotropy>1||s.get(et).__currentAnisotropy)&&(n.texParameterf(nt,dt.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(et.anisotropy,c.getMaxAnisotropy())),s.get(et).__currentAnisotropy=et.anisotropy)}}function q(nt,et,vt,dt){var Dt=u.convert(et.texture.format),Et=u.convert(et.texture.type);i.texImage2D(dt,0,Dt,et.width,et.height,0,Dt,Et,null),n.bindFramebuffer(n.FRAMEBUFFER,nt),n.framebufferTexture2D(n.FRAMEBUFFER,vt,dt,s.get(et.texture).__webglTexture,0),n.bindFramebuffer(n.FRAMEBUFFER,null)}function Y(nt,et){n.bindRenderbuffer(n.RENDERBUFFER,nt),et.depthBuffer&&!et.stencilBuffer?(n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_COMPONENT16,et.width,et.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.RENDERBUFFER,nt)):et.depthBuffer&&et.stencilBuffer?(n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,et.width,et.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,nt)):n.renderbufferStorage(n.RENDERBUFFER,n.RGBA4,et.width,et.height),n.bindRenderbuffer(n.RENDERBUFFER,null)}this.setTexture2D=V,this.setTextureCube=function(nt,et){var vt=s.get(nt);if(6===nt.image.length)if(nt.version>0&&vt.__version!==nt.version){vt.__image__webglTextureCube||(nt.addEventListener("dispose",S),vt.__image__webglTextureCube=n.createTexture(),f.textures++),i.activeTexture(n.TEXTURE0+et),i.bindTexture(n.TEXTURE_CUBE_MAP,vt.__image__webglTextureCube),n.pixelStorei(n.UNPACK_FLIP_Y_WEBGL,nt.flipY);for(var dt=nt&&nt.isCompressedTexture,Dt=nt.image[0]&&nt.image[0].isDataTexture,Et=[],Mt=0;Mt<6;Mt++)Et[Mt]=dt||Dt?Dt?nt.image[Mt].image:nt.image[Mt]:_(nt.image[Mt],c.maxCubemapSize);var ht=y(Et[0]),Ft=u.convert(nt.format),Lt=u.convert(nt.type);for(z(n.TEXTURE_CUBE_MAP,nt,ht),Mt=0;Mt<6;Mt++)if(dt)for(var $t,ft=Et[Mt].mipmaps,Zt=0,bt=ft.length;Zt<bt;Zt++)$t=ft[Zt],nt.format!==rl&&nt.format!==Qp?i.getCompressedTextureFormats().indexOf(Ft)>-1?i.compressedTexImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Mt,Zt,Ft,$t.width,$t.height,0,$t.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Mt,Zt,Ft,$t.width,$t.height,0,Ft,Lt,$t.data);else Dt?i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Mt,0,Ft,Et[Mt].width,Et[Mt].height,0,Ft,Lt,Et[Mt].data):i.texImage2D(n.TEXTURE_CUBE_MAP_POSITIVE_X+Mt,0,Ft,Ft,Lt,Et[Mt]);w(nt,ht)&&n.generateMipmap(n.TEXTURE_CUBE_MAP),vt.__version=nt.version,nt.onUpdate&&nt.onUpdate(nt)}else i.activeTexture(n.TEXTURE0+et),i.bindTexture(n.TEXTURE_CUBE_MAP,vt.__image__webglTextureCube)},this.setTextureCubeDynamic=function(nt,et){i.activeTexture(n.TEXTURE0+et),i.bindTexture(n.TEXTURE_CUBE_MAP,s.get(nt).__webglTexture)},this.setupRenderTarget=function(nt){var et=s.get(nt),vt=s.get(nt.texture);nt.addEventListener("dispose",I),vt.__webglTexture=n.createTexture(),f.textures++;var dt=!0===nt.isWebGLRenderTargetCube,Dt=y(nt);if(dt){et.__webglFramebuffer=[];for(var Et=0;Et<6;Et++)et.__webglFramebuffer[Et]=n.createFramebuffer()}else et.__webglFramebuffer=n.createFramebuffer();if(dt){for(i.bindTexture(n.TEXTURE_CUBE_MAP,vt.__webglTexture),z(n.TEXTURE_CUBE_MAP,nt.texture,Dt),Et=0;Et<6;Et++)q(et.__webglFramebuffer[Et],nt,n.COLOR_ATTACHMENT0,n.TEXTURE_CUBE_MAP_POSITIVE_X+Et);w(nt.texture,Dt)&&n.generateMipmap(n.TEXTURE_CUBE_MAP),i.bindTexture(n.TEXTURE_CUBE_MAP,null)}else i.bindTexture(n.TEXTURE_2D,vt.__webglTexture),z(n.TEXTURE_2D,nt.texture,Dt),q(et.__webglFramebuffer,nt,n.COLOR_ATTACHMENT0,n.TEXTURE_2D),w(nt.texture,Dt)&&n.generateMipmap(n.TEXTURE_2D),i.bindTexture(n.TEXTURE_2D,null);nt.depthBuffer&&function(nt){var et=s.get(nt),vt=!0===nt.isWebGLRenderTargetCube;if(nt.depthTexture){if(vt)throw new Error("target.depthTexture not supported in Cube render targets");!function(nt,et){if(et&&et.isWebGLRenderTargetCube)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(n.FRAMEBUFFER,nt),!et.depthTexture||!et.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!s.get(et.depthTexture).__webglTexture||et.depthTexture.image.width!==et.width||et.depthTexture.image.height!==et.height)&&(et.depthTexture.image.width=et.width,et.depthTexture.image.height=et.height,et.depthTexture.needsUpdate=!0),V(et.depthTexture,0);var dt=s.get(et.depthTexture).__webglTexture;if(et.depthTexture.format===Jp)n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,dt,0);else{if(et.depthTexture.format!==As)throw new Error("Unknown depthTexture format");n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.TEXTURE_2D,dt,0)}}(et.__webglFramebuffer,nt)}else if(vt){et.__webglDepthbuffer=[];for(var dt=0;dt<6;dt++)n.bindFramebuffer(n.FRAMEBUFFER,et.__webglFramebuffer[dt]),et.__webglDepthbuffer[dt]=n.createRenderbuffer(),Y(et.__webglDepthbuffer[dt],nt)}else n.bindFramebuffer(n.FRAMEBUFFER,et.__webglFramebuffer),et.__webglDepthbuffer=n.createRenderbuffer(),Y(et.__webglDepthbuffer,nt);n.bindFramebuffer(n.FRAMEBUFFER,null)}(nt)},this.updateRenderTargetMipmap=function(nt){var et=nt.texture;if(w(et,y(nt))){var dt=nt.isWebGLRenderTargetCube?n.TEXTURE_CUBE_MAP:n.TEXTURE_2D,Dt=s.get(et).__webglTexture;i.bindTexture(dt,Dt),n.generateMipmap(dt),i.bindTexture(dt,null)}}}function _s(){var n={};return{get:function(c){var u=c.uuid,f=n[u];return void 0===f&&(n[u]=f={}),f},remove:function(c){delete n[c.uuid]},clear:function(){n={}}}}function ll(n,r,i){var f=new function(){var Xt=!1,Fe=new yo,nn=null,An=new yo(0,0,0,0);return{setMask:function(yn){nn!==yn&&!Xt&&(n.colorMask(yn,yn,yn,yn),nn=yn)},setLocked:function(yn){Xt=yn},setClear:function(yn,lr,En,Gr,Kr){!0===Kr&&(yn*=Gr,lr*=Gr,En*=Gr),Fe.set(yn,lr,En,Gr),!1===An.equals(Fe)&&(n.clearColor(yn,lr,En,Gr),An.copy(Fe))},reset:function(){Xt=!1,nn=null,An.set(-1,0,0,0)}}},v=new function(){var Xt=!1,Fe=null,nn=null,An=null;return{setTest:function(yn){yn?Zt(n.DEPTH_TEST):bt(n.DEPTH_TEST)},setMask:function(yn){Fe!==yn&&!Xt&&(n.depthMask(yn),Fe=yn)},setFunc:function(yn){if(nn!==yn){if(yn)switch(yn){case 0:n.depthFunc(n.NEVER);break;case 1:n.depthFunc(n.ALWAYS);break;case 2:n.depthFunc(n.LESS);break;case 3:n.depthFunc(n.LEQUAL);break;case 4:n.depthFunc(n.EQUAL);break;case 5:n.depthFunc(n.GEQUAL);break;case 6:n.depthFunc(n.GREATER);break;case 7:n.depthFunc(n.NOTEQUAL);break;default:n.depthFunc(n.LEQUAL)}else n.depthFunc(n.LEQUAL);nn=yn}},setLocked:function(yn){Xt=yn},setClear:function(yn){An!==yn&&(n.clearDepth(yn),An=yn)},reset:function(){Xt=!1,Fe=null,nn=null,An=null}}},_=new function(){var Xt=!1,Fe=null,nn=null,An=null,yn=null,lr=null,En=null,Gr=null,Kr=null;return{setTest:function(Kn){Kn?Zt(n.STENCIL_TEST):bt(n.STENCIL_TEST)},setMask:function(Kn){Fe!==Kn&&!Xt&&(n.stencilMask(Kn),Fe=Kn)},setFunc:function(Kn,qi,ho){(nn!==Kn||An!==qi||yn!==ho)&&(n.stencilFunc(Kn,qi,ho),nn=Kn,An=qi,yn=ho)},setOp:function(Kn,qi,ho){(lr!==Kn||En!==qi||Gr!==ho)&&(n.stencilOp(Kn,qi,ho),lr=Kn,En=qi,Gr=ho)},setLocked:function(Kn){Xt=Kn},setClear:function(Kn){Kr!==Kn&&(n.clearStencil(Kn),Kr=Kn)},reset:function(){Xt=!1,Fe=null,nn=null,An=null,yn=null,lr=null,En=null,Gr=null,Kr=null}}},y=n.getParameter(n.MAX_VERTEX_ATTRIBS),C=new Uint8Array(y),P=new Uint8Array(y),w=new Uint8Array(y),E={},S=null,I=null,L=null,B=null,V=null,N=null,F=null,z=null,G=null,q=!1,Y=null,X=null,$=null,tt=null,ot=null,nt=n.getParameter(n.MAX_COMBINED_TEXTURE_IMAGE_UNITS),et=parseFloat(/^WebGL\ ([0-9])/.exec(n.getParameter(n.VERSION))[1]),vt=parseFloat(et)>=1,dt=null,Dt={},Et=new yo,Mt=new yo;function st(Xt,Fe,nn){var An=new Uint8Array(4),yn=n.createTexture();n.bindTexture(Xt,yn),n.texParameteri(Xt,n.TEXTURE_MIN_FILTER,n.NEAREST),n.texParameteri(Xt,n.TEXTURE_MAG_FILTER,n.NEAREST);for(var lr=0;lr<nn;lr++)n.texImage2D(Fe+lr,0,n.RGBA,1,1,0,n.RGBA,n.UNSIGNED_BYTE,An);return yn}var ht={};function Zt(Xt){!0!==E[Xt]&&(n.enable(Xt),E[Xt]=!0)}function bt(Xt){!1!==E[Xt]&&(n.disable(Xt),E[Xt]=!1)}function le(Xt,Fe,nn,An,yn,lr,En,Gr){if(0!==Xt?Zt(n.BLEND):bt(n.BLEND),5!==Xt){if(Xt!==L||Gr!==q)switch(Xt){case 2:Gr?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE,n.ONE,n.ONE)):(n.blendEquation(n.FUNC_ADD),n.blendFunc(n.SRC_ALPHA,n.ONE));break;case 3:Gr?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.ZERO,n.ONE_MINUS_SRC_COLOR,n.ONE_MINUS_SRC_ALPHA)):(n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.ONE_MINUS_SRC_COLOR));break;case 4:Gr?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ZERO,n.SRC_COLOR,n.ZERO,n.SRC_ALPHA)):(n.blendEquation(n.FUNC_ADD),n.blendFunc(n.ZERO,n.SRC_COLOR));break;default:Gr?(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.ONE,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA)):(n.blendEquationSeparate(n.FUNC_ADD,n.FUNC_ADD),n.blendFuncSeparate(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA))}B=null,V=null,N=null,F=null,z=null,G=null}else yn=yn||Fe,lr=lr||nn,En=En||An,(Fe!==B||yn!==F)&&(n.blendEquationSeparate(i.convert(Fe),i.convert(yn)),B=Fe,F=yn),(nn!==V||An!==N||lr!==z||En!==G)&&(n.blendFuncSeparate(i.convert(nn),i.convert(An),i.convert(lr),i.convert(En)),V=nn,N=An,z=lr,G=En);L=Xt,q=Gr}function tn(Xt){Y!==Xt&&(n.frontFace(Xt?n.CW:n.CCW),Y=Xt)}function ge(Xt){0!==Xt?(Zt(n.CULL_FACE),Xt!==X&&n.cullFace(1===Xt?n.BACK:2===Xt?n.FRONT:n.FRONT_AND_BACK)):bt(n.CULL_FACE),X=Xt}function he(Xt,Fe,nn){Xt?(Zt(n.POLYGON_OFFSET_FILL),(tt!==Fe||ot!==nn)&&(n.polygonOffset(Fe,nn),tt=Fe,ot=nn)):bt(n.POLYGON_OFFSET_FILL)}function $e(Xt){void 0===Xt&&(Xt=n.TEXTURE0+nt-1),dt!==Xt&&(n.activeTexture(Xt),dt=Xt)}return ht[n.TEXTURE_2D]=st(n.TEXTURE_2D,n.TEXTURE_2D,1),ht[n.TEXTURE_CUBE_MAP]=st(n.TEXTURE_CUBE_MAP,n.TEXTURE_CUBE_MAP_POSITIVE_X,6),f.setClear(0,0,0,1),v.setClear(1),_.setClear(0),Zt(n.DEPTH_TEST),v.setFunc(3),tn(!1),ge(1),Zt(n.CULL_FACE),Zt(n.BLEND),le(1),{buffers:{color:f,depth:v,stencil:_},initAttributes:function(){for(var Xt=0,Fe=C.length;Xt<Fe;Xt++)C[Xt]=0},enableAttribute:function(Xt){C[Xt]=1,0===P[Xt]&&(n.enableVertexAttribArray(Xt),P[Xt]=1),0!==w[Xt]&&(r.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Xt,0),w[Xt]=0)},enableAttributeAndDivisor:function(Xt,Fe){C[Xt]=1,0===P[Xt]&&(n.enableVertexAttribArray(Xt),P[Xt]=1),w[Xt]!==Fe&&(r.get("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Xt,Fe),w[Xt]=Fe)},disableUnusedAttributes:function(){for(var Xt=0,Fe=P.length;Xt!==Fe;++Xt)P[Xt]!==C[Xt]&&(n.disableVertexAttribArray(Xt),P[Xt]=0)},enable:Zt,disable:bt,getCompressedTextureFormats:function(){if(null===S&&(S=[],r.get("WEBGL_compressed_texture_pvrtc")||r.get("WEBGL_compressed_texture_s3tc")||r.get("WEBGL_compressed_texture_etc1")))for(var Xt=n.getParameter(n.COMPRESSED_TEXTURE_FORMATS),Fe=0;Fe<Xt.length;Fe++)S.push(Xt[Fe]);return S},useProgram:function(Xt){return I!==Xt&&(n.useProgram(Xt),I=Xt,!0)},setBlending:le,setMaterial:function(Xt){2===Xt.side?bt(n.CULL_FACE):Zt(n.CULL_FACE),tn(1===Xt.side),!0===Xt.transparent?le(Xt.blending,Xt.blendEquation,Xt.blendSrc,Xt.blendDst,Xt.blendEquationAlpha,Xt.blendSrcAlpha,Xt.blendDstAlpha,Xt.premultipliedAlpha):le(0),v.setFunc(Xt.depthFunc),v.setTest(Xt.depthTest),v.setMask(Xt.depthWrite),f.setMask(Xt.colorWrite),he(Xt.polygonOffset,Xt.polygonOffsetFactor,Xt.polygonOffsetUnits)},setFlipSided:tn,setCullFace:ge,setLineWidth:function(Xt){Xt!==$&&(vt&&n.lineWidth(Xt),$=Xt)},setPolygonOffset:he,setScissorTest:function(Xt){Xt?Zt(n.SCISSOR_TEST):bt(n.SCISSOR_TEST)},activeTexture:$e,bindTexture:function(Xt,Fe){null===dt&&$e();var nn=Dt[dt];void 0===nn&&(Dt[dt]=nn={type:void 0,texture:void 0}),(nn.type!==Xt||nn.texture!==Fe)&&(n.bindTexture(Xt,Fe||ht[Xt]),nn.type=Xt,nn.texture=Fe)},compressedTexImage2D:function(){try{n.compressedTexImage2D.apply(n,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}},texImage2D:function(){try{n.texImage2D.apply(n,arguments)}catch(Xt){console.error("THREE.WebGLState:",Xt)}},scissor:function(Xt){!1===Et.equals(Xt)&&(n.scissor(Xt.x,Xt.y,Xt.z,Xt.w),Et.copy(Xt))},viewport:function(Xt){!1===Mt.equals(Xt)&&(n.viewport(Xt.x,Xt.y,Xt.z,Xt.w),Mt.copy(Xt))},reset:function(){for(var Xt=0;Xt<P.length;Xt++)1===P[Xt]&&(n.disableVertexAttribArray(Xt),P[Xt]=0);E={},S=null,dt=null,Dt={},I=null,L=null,Y=null,X=null,f.reset(),v.reset(),_.reset()}}}function TD(n,r,i){var s;function u(F){if("highp"===F){if(n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.HIGH_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT).precision>0)return"highp";F="mediump"}return"mediump"===F&&n.getShaderPrecisionFormat(n.VERTEX_SHADER,n.MEDIUM_FLOAT).precision>0&&n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}var f=void 0!==i.precision?i.precision:"highp",v=u(f);v!==f&&(console.warn("THREE.WebGLRenderer:",f,"not supported, using",v,"instead."),f=v);var _=!0===i.logarithmicDepthBuffer,y=n.getParameter(n.MAX_TEXTURE_IMAGE_UNITS),C=n.getParameter(n.MAX_VERTEX_TEXTURE_IMAGE_UNITS),P=n.getParameter(n.MAX_TEXTURE_SIZE),w=n.getParameter(n.MAX_CUBE_MAP_TEXTURE_SIZE),E=n.getParameter(n.MAX_VERTEX_ATTRIBS),S=n.getParameter(n.MAX_VERTEX_UNIFORM_VECTORS),I=n.getParameter(n.MAX_VARYING_VECTORS),L=n.getParameter(n.MAX_FRAGMENT_UNIFORM_VECTORS),B=C>0,V=!!r.get("OES_texture_float");return{getMaxAnisotropy:function(){if(void 0!==s)return s;var F=r.get("EXT_texture_filter_anisotropic");return s=null!==F?n.getParameter(F.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0},getMaxPrecision:u,precision:f,logarithmicDepthBuffer:_,maxTextures:y,maxVertexTextures:C,maxTextureSize:P,maxCubemapSize:w,maxAttributes:E,maxVertexUniforms:S,maxVaryings:I,maxFragmentUniforms:L,vertexTextures:B,floatFragmentTextures:V,floatVertexTextures:B&&V}}function ra(n,r,i,s){zi.call(this),this.type="PerspectiveCamera",this.fov=void 0!==n?n:50,this.zoom=1,this.near=void 0!==i?i:.1,this.far=void 0!==s?s:2e3,this.focus=10,this.aspect=void 0!==r?r:1,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}function yb(n){ra.call(this),this.cameras=n||[]}function DD(n){var r=this,i=null,s=null;"undefined"!=typeof window&&"VRFrameData"in window&&(s=new window.VRFrameData);var c=new ye,u=new ye,f=new ye,v=new ra;v.bounds=new yo(0,0,.5,1),v.layers.enable(1);var _=new ra;_.bounds=new yo(.5,0,.5,1),_.layers.enable(2);var C,P,y=new yb([v,_]);function w(){if(null!==i&&i.isPresenting){var E=i.getEyeParameters("left"),S=E.renderWidth,I=E.renderHeight;P=n.getPixelRatio(),C=n.getSize(),n.setDrawingBufferSize(2*S,I,1)}else r.enabled&&n.setDrawingBufferSize(C.width,C.height,P)}y.layers.enable(1),y.layers.enable(2),"undefined"!=typeof window&&window.addEventListener("vrdisplaypresentchange",w,!1),this.enabled=!1,this.standing=!1,this.getDevice=function(){return i},this.setDevice=function(E){void 0!==E&&(i=E)},this.getCamera=function(E){if(null===i)return E;i.depthNear=E.near,i.depthFar=E.far,i.getFrameData(s);var S=s.pose;null!==S.position?E.position.fromArray(S.position):E.position.set(0,0,0),null!==S.orientation&&E.quaternion.fromArray(S.orientation),E.updateMatrixWorld();var I=i.stageParameters;if(this.standing&&I&&(u.fromArray(I.sittingToStandingTransform),f.getInverse(u),E.matrixWorld.multiply(u),E.matrixWorldInverse.multiply(f)),!1===i.isPresenting)return E;v.near=E.near,_.near=E.near,v.far=E.far,_.far=E.far,y.matrixWorld.copy(E.matrixWorld),y.matrixWorldInverse.copy(E.matrixWorldInverse),v.matrixWorldInverse.fromArray(s.leftViewMatrix),_.matrixWorldInverse.fromArray(s.rightViewMatrix),this.standing&&I&&(v.matrixWorldInverse.multiply(f),_.matrixWorldInverse.multiply(f));var L=E.parent;null!==L&&(c.getInverse(L.matrixWorld),v.matrixWorldInverse.multiply(c),_.matrixWorldInverse.multiply(c)),v.matrixWorld.getInverse(v.matrixWorldInverse),_.matrixWorld.getInverse(_.matrixWorldInverse),v.projectionMatrix.fromArray(s.leftProjectionMatrix),_.projectionMatrix.fromArray(s.rightProjectionMatrix),y.projectionMatrix.copy(v.projectionMatrix);var B=i.getLayers();if(B.length){var V=B[0];null!==V.leftBounds&&4===V.leftBounds.length&&v.bounds.fromArray(V.leftBounds),null!==V.rightBounds&&4===V.rightBounds.length&&_.bounds.fromArray(V.rightBounds)}return y},this.getStandingMatrix=function(){return u},this.submitFrame=function(){i&&i.isPresenting&&i.submitFrame()},this.dispose=function(){"undefined"!=typeof window&&window.removeEventListener("vrdisplaypresentchange",w)}}function kv(n){var r={};return{get:function(i){if(void 0!==r[i])return r[i];var s;switch(i){case"WEBGL_depth_texture":s=n.getExtension("WEBGL_depth_texture")||n.getExtension("MOZ_WEBGL_depth_texture")||n.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":s=n.getExtension("EXT_texture_filter_anisotropic")||n.getExtension("MOZ_EXT_texture_filter_anisotropic")||n.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":s=n.getExtension("WEBGL_compressed_texture_s3tc")||n.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":s=n.getExtension("WEBGL_compressed_texture_pvrtc")||n.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;case"WEBGL_compressed_texture_etc1":s=n.getExtension("WEBGL_compressed_texture_etc1");break;default:s=n.getExtension(i)}return null===s&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r[i]=s,s}}}function np(){var n=this,r=null,i=0,s=!1,c=!1,u=new Xa,f=new xi,v={value:null,needsUpdate:!1};function _(){v.value!==r&&(v.value=r,v.needsUpdate=i>0),n.numPlanes=i,n.numIntersection=0}function y(C,P,w,E){var S=null!==C?C.length:0,I=null;if(0!==S){if(I=v.value,!0!==E||null===I){var L=w+4*S,B=P.matrixWorldInverse;f.getNormalMatrix(B),(null===I||I.length<L)&&(I=new Float32Array(L));for(var V=0,N=w;V!==S;++V,N+=4)u.copy(C[V]).applyMatrix4(B,f),u.normal.toArray(I,N),I[N+3]=u.constant}v.value=I,v.needsUpdate=!0}return n.numPlanes=S,I}this.uniform=v,this.numPlanes=0,this.numIntersection=0,this.init=function(C,P,w){var E=0!==C.length||P||0!==i||s;return s=P,r=y(C,w,0),i=C.length,E},this.beginShadows=function(){c=!0,y(null)},this.endShadows=function(){c=!1,_()},this.setState=function(C,P,w,E,S,I){if(!s||null===C||0===C.length||c&&!w)c?y(null):_();else{var L=c?0:i,B=4*L,V=S.clippingState||null;v.value=V,V=y(C,E,B,I);for(var N=0;N!==B;++N)V[N]=r[N];S.clippingState=V,this.numIntersection=P?this.numPlanes:0,this.numPlanes+=L}}}function _C(n,r){return{convert:function(s){var c;if(s===Sr)return n.REPEAT;if(s===gc)return n.CLAMP_TO_EDGE;if(s===gu)return n.MIRRORED_REPEAT;if(s===so)return n.NEAREST;if(1004===s)return n.NEAREST_MIPMAP_NEAREST;if(1005===s)return n.NEAREST_MIPMAP_LINEAR;if(s===Sa)return n.LINEAR;if(1007===s)return n.LINEAR_MIPMAP_NEAREST;if(1008===s)return n.LINEAR_MIPMAP_LINEAR;if(s===Yi)return n.UNSIGNED_BYTE;if(1017===s)return n.UNSIGNED_SHORT_4_4_4_4;if(1018===s)return n.UNSIGNED_SHORT_5_5_5_1;if(1019===s)return n.UNSIGNED_SHORT_5_6_5;if(1010===s)return n.BYTE;if(1011===s)return n.SHORT;if(1012===s)return n.UNSIGNED_SHORT;if(1013===s)return n.INT;if(1014===s)return n.UNSIGNED_INT;if(s===mu)return n.FLOAT;if(1016===s&&null!==(c=r.get("OES_texture_half_float")))return c.HALF_FLOAT_OES;if(1021===s)return n.ALPHA;if(s===Qp)return n.RGB;if(s===rl)return n.RGBA;if(1024===s)return n.LUMINANCE;if(1025===s)return n.LUMINANCE_ALPHA;if(s===Jp)return n.DEPTH_COMPONENT;if(s===As)return n.DEPTH_STENCIL;if(100===s)return n.FUNC_ADD;if(101===s)return n.FUNC_SUBTRACT;if(102===s)return n.FUNC_REVERSE_SUBTRACT;if(200===s)return n.ZERO;if(201===s)return n.ONE;if(202===s)return n.SRC_COLOR;if(203===s)return n.ONE_MINUS_SRC_COLOR;if(204===s)return n.SRC_ALPHA;if(205===s)return n.ONE_MINUS_SRC_ALPHA;if(206===s)return n.DST_ALPHA;if(207===s)return n.ONE_MINUS_DST_ALPHA;if(208===s)return n.DST_COLOR;if(209===s)return n.ONE_MINUS_DST_COLOR;if(210===s)return n.SRC_ALPHA_SATURATE;if((2001===s||2002===s||2003===s||2004===s)&&null!==(c=r.get("WEBGL_compressed_texture_s3tc"))){if(2001===s)return c.COMPRESSED_RGB_S3TC_DXT1_EXT;if(2002===s)return c.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(2003===s)return c.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(2004===s)return c.COMPRESSED_RGBA_S3TC_DXT5_EXT}if((2100===s||2101===s||2102===s||2103===s)&&null!==(c=r.get("WEBGL_compressed_texture_pvrtc"))){if(2100===s)return c.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(2101===s)return c.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(2102===s)return c.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(2103===s)return c.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(2151===s&&null!==(c=r.get("WEBGL_compressed_texture_etc1")))return c.COMPRESSED_RGB_ETC1_WEBGL;if((103===s||104===s)&&null!==(c=r.get("EXT_blend_minmax"))){if(103===s)return c.MIN_EXT;if(104===s)return c.MAX_EXT}return 1020===s&&null!==(c=r.get("WEBGL_depth_texture"))?c.UNSIGNED_INT_24_8_WEBGL:0}}}function bd(n){console.log("THREE.WebGLRenderer","88");var r=void 0!==(n=n||{}).canvas?n.canvas:document.createElementNS("http://www.w3.org/1999/xhtml","canvas"),i=void 0!==n.context?n.context:null,s=void 0!==n.alpha&&n.alpha,c=void 0===n.depth||n.depth,u=void 0===n.stencil||n.stencil,f=void 0!==n.antialias&&n.antialias,v=void 0===n.premultipliedAlpha||n.premultipliedAlpha,_=void 0!==n.preserveDrawingBuffer&&n.preserveDrawingBuffer,y=[],C=[],P=null,w=[],E=[];this.domElement=r,this.context=null,this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.gammaInput=!1,this.gammaOutput=!1,this.physicallyCorrectLights=!1,this.toneMapping=1,this.toneMappingExposure=1,this.toneMappingWhitePoint=1,this.maxMorphTargets=8,this.maxMorphNormals=4;var ft,bt,Gt,Nt,le,Oe,tn,ge,pe,he,Ze,$e,Pe,Ue,en,Yn,yr,Rn,Xt,S=this,I=!1,L=null,B=null,V=-1,N="",F=null,z=null,G=new yo,q=new yo,Y=null,X=0,$=r.width,tt=r.height,ot=1,nt=new yo(0,0,$,tt),et=new yo(0,0,$,tt),vt=!1,dt=new fb,Dt=new np,Et=!1,Mt=!1,st=new ye,ht=new J,Ft={geometries:0,textures:0},Lt={frame:0,calls:0,vertices:0,faces:0,points:0};function $t(){return null===L?ot:1}this.info={render:Lt,memory:Ft,programs:null};try{var Zt={alpha:s,depth:c,stencil:u,antialias:f,premultipliedAlpha:v,preserveDrawingBuffer:_};if(null===(ft=i||r.getContext("webgl",Zt)||r.getContext("experimental-webgl",Zt)))throw null!==r.getContext("webgl")?"Error creating WebGL context with your selected attributes.":"Error creating WebGL context.";void 0===ft.getShaderPrecisionFormat&&(ft.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}}),r.addEventListener("webglcontextlost",yn,!1),r.addEventListener("webglcontextrestored",lr,!1)}catch(lt){console.error("THREE.WebGLRenderer: "+lt)}function Fe(){(bt=new kv(ft)).get("WEBGL_depth_texture"),bt.get("OES_texture_float"),bt.get("OES_texture_float_linear"),bt.get("OES_texture_half_float"),bt.get("OES_texture_half_float_linear"),bt.get("OES_standard_derivatives"),bt.get("OES_element_index_uint"),bt.get("ANGLE_instanced_arrays"),Xt=new _C(ft,bt),Gt=new TD(ft,bt,n),(Nt=new ll(ft,bt,Xt)).scissor(q.copy(et).multiplyScalar(ot)),Nt.viewport(G.copy(nt).multiplyScalar(ot)),le=new _s,Oe=new KL(ft,bt,Nt,le,Gt,Xt,Ft),tn=new qo(ft),ge=new ED(ft,tn,Ft),pe=new GP(ge,Lt),Ue=new PD(ft),Ze=new WP(S,bt,Gt),he=new Dv,$e=new IR,Pe=new ep(S,Nt,ge,v),en=new OD(ft,bt,Lt),Yn=new wD(ft,bt,Lt),yr=new BE(S,ft,Nt,Oe,Gt),Rn=new Vl(S,ft,Nt,Oe,Gt),S.info.programs=Ze.programs,S.context=ft,S.capabilities=Gt,S.extensions=bt,S.properties=le,S.renderLists=$e,S.state=Nt}Fe();var nn=new DD(S);this.vr=nn;var An=new Mu(S,pe,Gt.maxTextureSize);function yn(lt){lt.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),I=!0}function lr(){console.log("THREE.WebGLRenderer: Context Restored."),I=!1,Fe()}function En(lt){var mt=lt.target;mt.removeEventListener("dispose",En),function(lt){Kr(lt),le.remove(lt)}(mt)}function Kr(lt){var mt=le.get(lt).program;lt.program=void 0,void 0!==mt&&Ze.releaseProgram(mt)}this.shadowMap=An,this.getContext=function(){return ft},this.getContextAttributes=function(){return ft.getContextAttributes()},this.forceContextLoss=function(){var lt=bt.get("WEBGL_lose_context");lt&&lt.loseContext()},this.forceContextRestore=function(){var lt=bt.get("WEBGL_lose_context");lt&&lt.restoreContext()},this.getPixelRatio=function(){return ot},this.setPixelRatio=function(lt){void 0!==lt&&(ot=lt,this.setSize($,tt,!1))},this.getSize=function(){return{width:$,height:tt}},this.setSize=function(lt,mt,Pt){var ve=nn.getDevice();ve&&ve.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):($=lt,tt=mt,r.width=lt*ot,r.height=mt*ot,!1!==Pt&&(r.style.width=lt+"px",r.style.height=mt+"px"),this.setViewport(0,0,lt,mt))},this.getDrawingBufferSize=function(){return{width:$*ot,height:tt*ot}},this.setDrawingBufferSize=function(lt,mt,Pt){$=lt,tt=mt,ot=Pt,r.width=lt*Pt,r.height=mt*Pt,this.setViewport(0,0,lt,mt)},this.setViewport=function(lt,mt,Pt,ve){nt.set(lt,tt-mt-ve,Pt,ve),Nt.viewport(G.copy(nt).multiplyScalar(ot))},this.setScissor=function(lt,mt,Pt,ve){et.set(lt,tt-mt-ve,Pt,ve),Nt.scissor(q.copy(et).multiplyScalar(ot))},this.setScissorTest=function(lt){Nt.setScissorTest(vt=lt)},this.getClearColor=function(){return Pe.getClearColor()},this.setClearColor=function(){Pe.setClearColor.apply(Pe,arguments)},this.getClearAlpha=function(){return Pe.getClearAlpha()},this.setClearAlpha=function(){Pe.setClearAlpha.apply(Pe,arguments)},this.clear=function(lt,mt,Pt){var ve=0;(void 0===lt||lt)&&(ve|=ft.COLOR_BUFFER_BIT),(void 0===mt||mt)&&(ve|=ft.DEPTH_BUFFER_BIT),(void 0===Pt||Pt)&&(ve|=ft.STENCIL_BUFFER_BIT),ft.clear(ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.clearTarget=function(lt,mt,Pt,ve){this.setRenderTarget(lt),this.clear(mt,Pt,ve)},this.dispose=function(){r.removeEventListener("webglcontextlost",yn,!1),r.removeEventListener("webglcontextrestored",lr,!1),$e.dispose(),nn.dispose()},this.renderBufferImmediate=function(lt,mt,Pt){Nt.initAttributes();var ve=le.get(lt);lt.hasPositions&&!ve.position&&(ve.position=ft.createBuffer()),lt.hasNormals&&!ve.normal&&(ve.normal=ft.createBuffer()),lt.hasUvs&&!ve.uv&&(ve.uv=ft.createBuffer()),lt.hasColors&&!ve.color&&(ve.color=ft.createBuffer());var He=mt.getAttributes();if(lt.hasPositions&&(ft.bindBuffer(ft.ARRAY_BUFFER,ve.position),ft.bufferData(ft.ARRAY_BUFFER,lt.positionArray,ft.DYNAMIC_DRAW),Nt.enableAttribute(He.position),ft.vertexAttribPointer(He.position,3,ft.FLOAT,!1,0,0)),lt.hasNormals){if(ft.bindBuffer(ft.ARRAY_BUFFER,ve.normal),!Pt.isMeshPhongMaterial&&!Pt.isMeshStandardMaterial&&!Pt.isMeshNormalMaterial&&!0===Pt.flatShading)for(var rn=0,Vn=3*lt.count;rn<Vn;rn+=9){var gn=lt.normalArray,jn=(gn[rn+0]+gn[rn+3]+gn[rn+6])/3,ur=(gn[rn+1]+gn[rn+4]+gn[rn+7])/3,Qn=(gn[rn+2]+gn[rn+5]+gn[rn+8])/3;gn[rn+0]=jn,gn[rn+1]=ur,gn[rn+2]=Qn,gn[rn+3]=jn,gn[rn+4]=ur,gn[rn+5]=Qn,gn[rn+6]=jn,gn[rn+7]=ur,gn[rn+8]=Qn}ft.bufferData(ft.ARRAY_BUFFER,lt.normalArray,ft.DYNAMIC_DRAW),Nt.enableAttribute(He.normal),ft.vertexAttribPointer(He.normal,3,ft.FLOAT,!1,0,0)}lt.hasUvs&&Pt.map&&(ft.bindBuffer(ft.ARRAY_BUFFER,ve.uv),ft.bufferData(ft.ARRAY_BUFFER,lt.uvArray,ft.DYNAMIC_DRAW),Nt.enableAttribute(He.uv),ft.vertexAttribPointer(He.uv,2,ft.FLOAT,!1,0,0)),lt.hasColors&&0!==Pt.vertexColors&&(ft.bindBuffer(ft.ARRAY_BUFFER,ve.color),ft.bufferData(ft.ARRAY_BUFFER,lt.colorArray,ft.DYNAMIC_DRAW),Nt.enableAttribute(He.color),ft.vertexAttribPointer(He.color,3,ft.FLOAT,!1,0,0)),Nt.disableUnusedAttributes(),ft.drawArrays(ft.TRIANGLES,0,lt.count),lt.count=0},this.renderBufferDirect=function(lt,mt,Pt,ve,He,rn){Nt.setMaterial(ve);var Vn=hr(lt,mt,ve,He),gn=Pt.id+"_"+Vn.id+"_"+(!0===ve.wireframe),jn=!1;gn!==N&&(N=gn,jn=!0),He.morphTargetInfluences&&(Ue.update(He,Pt,ve,Vn),jn=!0);var ur=Pt.index,Qn=Pt.attributes.position,dn=1;!0===ve.wireframe&&(ur=ge.getWireframeAttribute(Pt),dn=2);var or,Ge=en;null!==ur&&(or=tn.get(ur),(Ge=Yn).setIndex(or)),jn&&(function(lt,mt,Pt,ve){if(Pt&&Pt.isInstancedBufferGeometry&&null===bt.get("ANGLE_instanced_arrays"))console.error("THREE.WebGLRenderer.setupVertexAttributes: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");else{void 0===ve&&(ve=0),Nt.initAttributes();var He=Pt.attributes,rn=mt.getAttributes(),Vn=lt.defaultAttributeValues;for(var gn in rn){var jn=rn[gn];if(jn>=0){var ur=He[gn];if(void 0!==ur){var Qn=ur.normalized,dn=ur.itemSize,or=tn.get(ur);if(void 0===or)continue;var Ge=or.buffer,bn=or.type,Dr=or.bytesPerElement;if(ur.isInterleavedBufferAttribute){var tr=ur.data,jr=tr.stride,Ni=ur.offset;tr&&tr.isInstancedInterleavedBuffer?(Nt.enableAttributeAndDivisor(jn,tr.meshPerAttribute),void 0===Pt.maxInstancedCount&&(Pt.maxInstancedCount=tr.meshPerAttribute*tr.count)):Nt.enableAttribute(jn),ft.bindBuffer(ft.ARRAY_BUFFER,Ge),ft.vertexAttribPointer(jn,dn,bn,Qn,jr*Dr,(ve*jr+Ni)*Dr)}else ur.isInstancedBufferAttribute?(Nt.enableAttributeAndDivisor(jn,ur.meshPerAttribute),void 0===Pt.maxInstancedCount&&(Pt.maxInstancedCount=ur.meshPerAttribute*ur.count)):Nt.enableAttribute(jn),ft.bindBuffer(ft.ARRAY_BUFFER,Ge),ft.vertexAttribPointer(jn,dn,bn,Qn,0,ve*dn*Dr)}else if(void 0!==Vn){var wr=Vn[gn];if(void 0!==wr)switch(wr.length){case 2:ft.vertexAttrib2fv(jn,wr);break;case 3:ft.vertexAttrib3fv(jn,wr);break;case 4:ft.vertexAttrib4fv(jn,wr);break;default:ft.vertexAttrib1fv(jn,wr)}}}}Nt.disableUnusedAttributes()}}(ve,Vn,Pt),null!==ur&&ft.bindBuffer(ft.ELEMENT_ARRAY_BUFFER,or.buffer));var bn=0;null!==ur?bn=ur.count:void 0!==Qn&&(bn=Qn.count);var Dr=Pt.drawRange.start*dn,tr=Pt.drawRange.count*dn,jr=null!==rn?rn.start*dn:0,Ni=null!==rn?rn.count*dn:1/0,wr=Math.max(Dr,jr),_o=Math.min(bn,Dr+tr,jr+Ni)-1,Xo=Math.max(0,_o-wr+1);if(0!==Xo){if(He.isMesh)if(!0===ve.wireframe)Nt.setLineWidth(ve.wireframeLinewidth*$t()),Ge.setMode(ft.LINES);else switch(He.drawMode){case 0:Ge.setMode(ft.TRIANGLES);break;case 1:Ge.setMode(ft.TRIANGLE_STRIP);break;case 2:Ge.setMode(ft.TRIANGLE_FAN)}else if(He.isLine){var si=ve.linewidth;void 0===si&&(si=1),Nt.setLineWidth(si*$t()),Ge.setMode(He.isLineSegments?ft.LINES:He.isLineLoop?ft.LINE_LOOP:ft.LINE_STRIP)}else He.isPoints&&Ge.setMode(ft.POINTS);Pt&&Pt.isInstancedBufferGeometry?Pt.maxInstancedCount>0&&Ge.renderInstances(Pt,wr,Xo):Ge.render(wr,Xo)}},this.compile=function(lt,mt){y.length=0,C.length=0,lt.traverse(function(Pt){Pt.isLight&&(y.push(Pt),Pt.castShadow&&C.push(Pt))}),he.setup(y,C,mt),lt.traverse(function(Pt){if(Pt.material)if(Array.isArray(Pt.material))for(var ve=0;ve<Pt.material.length;ve++)kr(Pt.material[ve],lt.fog,Pt);else kr(Pt.material,lt.fog,Pt)})};var lt,ho=!1,ws=null;function Ks(lt){null!==ws&&ws(lt);var mt=nn.getDevice();mt&&mt.isPresenting?mt.requestAnimationFrame(Ks):window.requestAnimationFrame(Ks)}function Co(lt,mt,Pt){if(!1!==lt.visible){if(lt.layers.test(mt.layers))if(lt.isLight)y.push(lt),lt.castShadow&&C.push(lt);else if(lt.isSprite)(!lt.frustumCulled||dt.intersectsSprite(lt))&&w.push(lt);else if(lt.isLensFlare)E.push(lt);else if(lt.isImmediateRenderObject)Pt&&ht.setFromMatrixPosition(lt.matrixWorld).applyMatrix4(st),P.push(lt,null,lt.material,ht.z,null);else if((lt.isMesh||lt.isLine||lt.isPoints)&&(lt.isSkinnedMesh&&lt.skeleton.update(),!lt.frustumCulled||dt.intersectsObject(lt))){Pt&&ht.setFromMatrixPosition(lt.matrixWorld).applyMatrix4(st);var He=pe.update(lt),rn=lt.material;if(Array.isArray(rn))for(var Vn=He.groups,gn=0,jn=Vn.length;gn<jn;gn++){var ur=Vn[gn],Qn=rn[ur.materialIndex];Qn&&Qn.visible&&P.push(lt,He,Qn,ht.z,ur)}else rn.visible&&P.push(lt,He,rn,ht.z,null)}var dn=lt.children;for(gn=0,jn=dn.length;gn<jn;gn++)Co(dn[gn],mt,Pt)}}function Mo(lt,mt,Pt,ve){for(var He=0,rn=lt.length;He<rn;He++){var Vn=lt[He],gn=Vn.object,jn=Vn.geometry,ur=void 0===ve?Vn.material:ve,Qn=Vn.group;if(Pt.isArrayCamera){z=Pt;for(var dn=Pt.cameras,or=0,Ge=dn.length;or<Ge;or++){var bn=dn[or];if(gn.layers.test(bn.layers)){var Dr=bn.bounds;Nt.viewport(G.set(Dr.x*$,Dr.y*tt,Dr.z*$,Dr.w*tt).multiplyScalar(ot)),ui(gn,mt,bn,jn,ur,Qn)}}}else z=null,ui(gn,mt,Pt,jn,ur,Qn)}}function ui(lt,mt,Pt,ve,He,rn){if(lt.onBeforeRender(S,mt,Pt,ve,He,rn),lt.modelViewMatrix.multiplyMatrices(Pt.matrixWorldInverse,lt.matrixWorld),lt.normalMatrix.getNormalMatrix(lt.modelViewMatrix),lt.isImmediateRenderObject){Nt.setMaterial(He);var Vn=hr(Pt,mt.fog,He,lt);N="",function(lt,mt,Pt){lt.render(function(ve){S.renderBufferImmediate(ve,mt,Pt)})}(lt,Vn,He)}else S.renderBufferDirect(Pt,mt.fog,ve,He,lt,rn);lt.onAfterRender(S,mt,Pt,ve,He,rn)}function kr(lt,mt,Pt){var ve=le.get(lt),He=Ze.getParameters(lt,he.state,C,mt,Dt.numPlanes,Dt.numIntersection,Pt),rn=Ze.getProgramCode(lt,He),Vn=ve.program,gn=!0;if(void 0===Vn)lt.addEventListener("dispose",En);else if(Vn.code!==rn)Kr(lt);else{if(void 0!==He.shaderID)return;gn=!1}if(gn){if(He.shaderID){var jn=_d[He.shaderID];ve.shader={name:lt.type,uniforms:vc.clone(jn.uniforms),vertexShader:jn.vertexShader,fragmentShader:jn.fragmentShader}}else ve.shader={name:lt.type,uniforms:lt.uniforms,vertexShader:lt.vertexShader,fragmentShader:lt.fragmentShader};lt.onBeforeCompile(ve.shader),Vn=Ze.acquireProgram(lt,ve.shader,He,rn),ve.program=Vn,lt.program=Vn}var ur=Vn.getAttributes();if(lt.morphTargets){lt.numSupportedMorphTargets=0;for(var Qn=0;Qn<S.maxMorphTargets;Qn++)ur["morphTarget"+Qn]>=0&&lt.numSupportedMorphTargets++}if(lt.morphNormals)for(lt.numSupportedMorphNormals=0,Qn=0;Qn<S.maxMorphNormals;Qn++)ur["morphNormal"+Qn]>=0&&lt.numSupportedMorphNormals++;var dn=ve.shader.uniforms;(!lt.isShaderMaterial&&!lt.isRawShaderMaterial||!0===lt.clipping)&&(ve.numClippingPlanes=Dt.numPlanes,ve.numIntersection=Dt.numIntersection,dn.clippingPlanes=Dt.uniform),ve.fog=mt,ve.lightsHash=he.state.hash,lt.lights&&(dn.ambientLightColor.value=he.state.ambient,dn.directionalLights.value=he.state.directional,dn.spotLights.value=he.state.spot,dn.rectAreaLights.value=he.state.rectArea,dn.pointLights.value=he.state.point,dn.hemisphereLights.value=he.state.hemi,dn.directionalShadowMap.value=he.state.directionalShadowMap,dn.directionalShadowMatrix.value=he.state.directionalShadowMatrix,dn.spotShadowMap.value=he.state.spotShadowMap,dn.spotShadowMatrix.value=he.state.spotShadowMatrix,dn.pointShadowMap.value=he.state.pointShadowMap,dn.pointShadowMatrix.value=he.state.pointShadowMatrix);var or=ve.program.getUniforms(),Ge=_u.seqWithValue(or.seq,dn);ve.uniformsList=Ge}function hr(lt,mt,Pt,ve){X=0;var He=le.get(Pt);Et&&(Mt||lt!==F)&&Dt.setState(Pt.clippingPlanes,Pt.clipIntersection,Pt.clipShadows,lt,He,lt===F&&Pt.id===V),!1===Pt.needsUpdate&&(void 0===He.program||Pt.fog&&He.fog!==mt||Pt.lights&&He.lightsHash!==he.state.hash||void 0!==He.numClippingPlanes&&(He.numClippingPlanes!==Dt.numPlanes||He.numIntersection!==Dt.numIntersection))&&(Pt.needsUpdate=!0),Pt.needsUpdate&&(kr(Pt,mt,ve),Pt.needsUpdate=!1);var Vn=!1,gn=!1,jn=!1,ur=He.program,Qn=ur.getUniforms(),dn=He.shader.uniforms;if(Nt.useProgram(ur.program)&&(Vn=!0,gn=!0,jn=!0),Pt.id!==V&&(V=Pt.id,gn=!0),Vn||lt!==F){if(Qn.setValue(ft,"projectionMatrix",lt.projectionMatrix),Gt.logarithmicDepthBuffer&&Qn.setValue(ft,"logDepthBufFC",2/(Math.log(lt.far+1)/Math.LN2)),F!==(z||lt)&&(F=z||lt,gn=!0,jn=!0),Pt.isShaderMaterial||Pt.isMeshPhongMaterial||Pt.isMeshStandardMaterial||Pt.envMap){var or=Qn.map.cameraPosition;void 0!==or&&or.setValue(ft,ht.setFromMatrixPosition(lt.matrixWorld))}(Pt.isMeshPhongMaterial||Pt.isMeshLambertMaterial||Pt.isMeshBasicMaterial||Pt.isMeshStandardMaterial||Pt.isShaderMaterial||Pt.skinning)&&Qn.setValue(ft,"viewMatrix",lt.matrixWorldInverse)}if(Pt.skinning){Qn.setOptional(ft,ve,"bindMatrix"),Qn.setOptional(ft,ve,"bindMatrixInverse");var Ge=ve.skeleton;if(Ge)if(Gt.floatVertexTextures){if(void 0===Ge.boneTexture){var Dr=Math.sqrt(4*Ge.bones.length);Dr=Ie.ceilPowerOfTwo(Dr),Dr=Math.max(Dr,4);var tr=new Float32Array(Dr*Dr*4);tr.set(Ge.boneMatrices);var jr=new Jh(tr,Dr,Dr,rl,mu);Ge.boneMatrices=tr,Ge.boneTexture=jr,Ge.boneTextureSize=Dr}Qn.setValue(ft,"boneTexture",Ge.boneTexture),Qn.setValue(ft,"boneTextureSize",Ge.boneTextureSize)}else Qn.setOptional(ft,Ge,"boneMatrices")}return gn&&(Qn.setValue(ft,"toneMappingExposure",S.toneMappingExposure),Qn.setValue(ft,"toneMappingWhitePoint",S.toneMappingWhitePoint),Pt.lights&&function(lt,mt){lt.ambientLightColor.needsUpdate=mt,lt.directionalLights.needsUpdate=mt,lt.pointLights.needsUpdate=mt,lt.spotLights.needsUpdate=mt,lt.rectAreaLights.needsUpdate=mt,lt.hemisphereLights.needsUpdate=mt}(dn,jn),mt&&Pt.fog&&function(lt,mt){lt.fogColor.value=mt.color,mt.isFog?(lt.fogNear.value=mt.near,lt.fogFar.value=mt.far):mt.isFogExp2&&(lt.fogDensity.value=mt.density)}(dn,mt),Pt.isMeshBasicMaterial?Ki(dn,Pt):Pt.isMeshLambertMaterial?(Ki(dn,Pt),function(lt,mt){mt.emissiveMap&&(lt.emissiveMap.value=mt.emissiveMap)}(dn,Pt)):Pt.isMeshPhongMaterial?(Ki(dn,Pt),Pt.isMeshToonMaterial?function(lt,mt){pt(lt,mt),mt.gradientMap&&(lt.gradientMap.value=mt.gradientMap)}(dn,Pt):pt(dn,Pt)):Pt.isMeshStandardMaterial?(Ki(dn,Pt),Pt.isMeshPhysicalMaterial?function(lt,mt){lt.clearCoat.value=mt.clearCoat,lt.clearCoatRoughness.value=mt.clearCoatRoughness,wt(lt,mt)}(dn,Pt):wt(dn,Pt)):Pt.isMeshDepthMaterial?(Ki(dn,Pt),function(lt,mt){mt.displacementMap&&(lt.displacementMap.value=mt.displacementMap,lt.displacementScale.value=mt.displacementScale,lt.displacementBias.value=mt.displacementBias)}(dn,Pt)):Pt.isMeshDistanceMaterial?(Ki(dn,Pt),function(lt,mt){mt.displacementMap&&(lt.displacementMap.value=mt.displacementMap,lt.displacementScale.value=mt.displacementScale,lt.displacementBias.value=mt.displacementBias),lt.referencePosition.value.copy(mt.referencePosition),lt.nearDistance.value=mt.nearDistance,lt.farDistance.value=mt.farDistance}(dn,Pt)):Pt.isMeshNormalMaterial?(Ki(dn,Pt),function(lt,mt){mt.bumpMap&&(lt.bumpMap.value=mt.bumpMap,lt.bumpScale.value=mt.bumpScale),mt.normalMap&&(lt.normalMap.value=mt.normalMap,lt.normalScale.value.copy(mt.normalScale)),mt.displacementMap&&(lt.displacementMap.value=mt.displacementMap,lt.displacementScale.value=mt.displacementScale,lt.displacementBias.value=mt.displacementBias)}(dn,Pt)):Pt.isLineBasicMaterial?(function(lt,mt){lt.diffuse.value=mt.color,lt.opacity.value=mt.opacity}(dn,Pt),Pt.isLineDashedMaterial&&function(lt,mt){lt.dashSize.value=mt.dashSize,lt.totalSize.value=mt.dashSize+mt.gapSize,lt.scale.value=mt.scale}(dn,Pt)):Pt.isPointsMaterial?function(lt,mt){if(lt.diffuse.value=mt.color,lt.opacity.value=mt.opacity,lt.size.value=mt.size*ot,lt.scale.value=.5*tt,lt.map.value=mt.map,null!==mt.map){if(!0===mt.map.matrixAutoUpdate){var Pt=mt.map.offset,ve=mt.map.repeat,rn=mt.map.center;mt.map.matrix.setUvTransform(Pt.x,Pt.y,ve.x,ve.y,mt.map.rotation,rn.x,rn.y)}lt.uvTransform.value.copy(mt.map.matrix)}}(dn,Pt):Pt.isShadowMaterial&&(dn.color.value=Pt.color,dn.opacity.value=Pt.opacity),void 0!==dn.ltcMat&&(dn.ltcMat.value=ar.LTC_MAT_TEXTURE),void 0!==dn.ltcMag&&(dn.ltcMag.value=ar.LTC_MAG_TEXTURE),_u.upload(ft,He.uniformsList,dn,S)),Qn.setValue(ft,"modelViewMatrix",ve.modelViewMatrix),Qn.setValue(ft,"normalMatrix",ve.normalMatrix),Qn.setValue(ft,"modelMatrix",ve.matrixWorld),ur}function Ki(lt,mt){var Pt;if(lt.opacity.value=mt.opacity,mt.color&&(lt.diffuse.value=mt.color),mt.emissive&&lt.emissive.value.copy(mt.emissive).multiplyScalar(mt.emissiveIntensity),mt.map&&(lt.map.value=mt.map),mt.alphaMap&&(lt.alphaMap.value=mt.alphaMap),mt.specularMap&&(lt.specularMap.value=mt.specularMap),mt.envMap&&(lt.envMap.value=mt.envMap,lt.flipEnvMap.value=mt.envMap&&mt.envMap.isCubeTexture?-1:1,lt.reflectivity.value=mt.reflectivity,lt.refractionRatio.value=mt.refractionRatio),mt.lightMap&&(lt.lightMap.value=mt.lightMap,lt.lightMapIntensity.value=mt.lightMapIntensity),mt.aoMap&&(lt.aoMap.value=mt.aoMap,lt.aoMapIntensity.value=mt.aoMapIntensity),mt.map?Pt=mt.map:mt.specularMap?Pt=mt.specularMap:mt.displacementMap?Pt=mt.displacementMap:mt.normalMap?Pt=mt.normalMap:mt.bumpMap?Pt=mt.bumpMap:mt.roughnessMap?Pt=mt.roughnessMap:mt.metalnessMap?Pt=mt.metalnessMap:mt.alphaMap?Pt=mt.alphaMap:mt.emissiveMap&&(Pt=mt.emissiveMap),void 0!==Pt){if(Pt.isWebGLRenderTarget&&(Pt=Pt.texture),!0===Pt.matrixAutoUpdate){var ve=Pt.offset,He=Pt.repeat,Vn=Pt.center;Pt.matrix.setUvTransform(ve.x,ve.y,He.x,He.y,Pt.rotation,Vn.x,Vn.y)}lt.uvTransform.value.copy(Pt.matrix)}}function pt(lt,mt){lt.specular.value=mt.specular,lt.shininess.value=Math.max(mt.shininess,1e-4),mt.emissiveMap&&(lt.emissiveMap.value=mt.emissiveMap),mt.bumpMap&&(lt.bumpMap.value=mt.bumpMap,lt.bumpScale.value=mt.bumpScale),mt.normalMap&&(lt.normalMap.value=mt.normalMap,lt.normalScale.value.copy(mt.normalScale)),mt.displacementMap&&(lt.displacementMap.value=mt.displacementMap,lt.displacementScale.value=mt.displacementScale,lt.displacementBias.value=mt.displacementBias)}function wt(lt,mt){lt.roughness.value=mt.roughness,lt.metalness.value=mt.metalness,mt.roughnessMap&&(lt.roughnessMap.value=mt.roughnessMap),mt.metalnessMap&&(lt.metalnessMap.value=mt.metalnessMap),mt.emissiveMap&&(lt.emissiveMap.value=mt.emissiveMap),mt.bumpMap&&(lt.bumpMap.value=mt.bumpMap,lt.bumpScale.value=mt.bumpScale),mt.normalMap&&(lt.normalMap.value=mt.normalMap,lt.normalScale.value.copy(mt.normalScale)),mt.displacementMap&&(lt.displacementMap.value=mt.displacementMap,lt.displacementScale.value=mt.displacementScale,lt.displacementBias.value=mt.displacementBias),mt.envMap&&(lt.envMapIntensity.value=mt.envMapIntensity)}this.animate=function(lt){ws=lt,function(){if(!ho){var lt=nn.getDevice();lt&&lt.isPresenting?lt.requestAnimationFrame(Ks):window.requestAnimationFrame(Ks),ho=!0}}()},this.render=function(lt,mt,Pt,ve){if(mt&&mt.isCamera){if(!I){N="",V=-1,F=null,!0===lt.autoUpdate&&lt.updateMatrixWorld(),null===mt.parent&&mt.updateMatrixWorld(),nn.enabled&&(mt=nn.getCamera(mt)),st.multiplyMatrices(mt.projectionMatrix,mt.matrixWorldInverse),dt.setFromMatrix(st),y.length=0,C.length=0,w.length=0,E.length=0,Et=Dt.init(this.clippingPlanes,Mt=this.localClippingEnabled,mt),(P=$e.get(lt,mt)).init(),Co(lt,mt,S.sortObjects),!0===S.sortObjects&&P.sort(),Et&&Dt.beginShadows(),An.render(C,lt,mt),he.setup(y,C,mt),Et&&Dt.endShadows(),Lt.frame++,Lt.calls=0,Lt.vertices=0,Lt.faces=0,Lt.points=0,void 0===Pt&&(Pt=null),this.setRenderTarget(Pt),Pe.render(P,lt,mt,ve);var He=P.opaque,rn=P.transparent;if(lt.overrideMaterial){var Vn=lt.overrideMaterial;He.length&&Mo(He,lt,mt,Vn),rn.length&&Mo(rn,lt,mt,Vn)}else He.length&&Mo(He,lt,mt),rn.length&&Mo(rn,lt,mt);Rn.render(w,lt,mt),yr.render(E,lt,mt,G),Pt&&Oe.updateRenderTargetMipmap(Pt),Nt.buffers.depth.setTest(!0),Nt.buffers.depth.setMask(!0),Nt.buffers.color.setMask(!0),Nt.setPolygonOffset(!1),nn.enabled&&nn.submitFrame()}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.setFaceCulling=function(lt,mt){Nt.setCullFace(lt),Nt.setFlipSided(0===mt)},this.allocTextureUnit=function(){var lt=X;return lt>=Gt.maxTextures&&console.warn("THREE.WebGLRenderer: Trying to use "+lt+" texture units while this GPU supports only "+Gt.maxTextures),X+=1,lt},this.setTexture2D=(lt=!1,function(Pt,ve){Pt&&Pt.isWebGLRenderTarget&&(lt||(console.warn("THREE.WebGLRenderer.setTexture2D: don't use render targets as textures. Use their .texture property instead."),lt=!0),Pt=Pt.texture),Oe.setTexture2D(Pt,ve)}),this.setTexture=function(){var lt=!1;return function(Pt,ve){lt||(console.warn("THREE.WebGLRenderer: .setTexture is deprecated, use setTexture2D instead."),lt=!0),Oe.setTexture2D(Pt,ve)}}(),this.setTextureCube=function(){var lt=!1;return function(Pt,ve){Pt&&Pt.isWebGLRenderTargetCube&&(lt||(console.warn("THREE.WebGLRenderer.setTextureCube: don't use cube render targets as textures. Use their .texture property instead."),lt=!0),Pt=Pt.texture),Pt&&Pt.isCubeTexture||Array.isArray(Pt.image)&&6===Pt.image.length?Oe.setTextureCube(Pt,ve):Oe.setTextureCubeDynamic(Pt,ve)}}(),this.getRenderTarget=function(){return L},this.setRenderTarget=function(lt){L=lt,lt&&void 0===le.get(lt).__webglFramebuffer&&Oe.setupRenderTarget(lt);var mt=null,Pt=!1;if(lt){var ve=le.get(lt).__webglFramebuffer;lt.isWebGLRenderTargetCube?(mt=ve[lt.activeCubeFace],Pt=!0):mt=ve,G.copy(lt.viewport),q.copy(lt.scissor),Y=lt.scissorTest}else G.copy(nt).multiplyScalar(ot),q.copy(et).multiplyScalar(ot),Y=vt;if(B!==mt&&(ft.bindFramebuffer(ft.FRAMEBUFFER,mt),B=mt),Nt.viewport(G),Nt.scissor(q),Nt.setScissorTest(Y),Pt){var He=le.get(lt.texture);ft.framebufferTexture2D(ft.FRAMEBUFFER,ft.COLOR_ATTACHMENT0,ft.TEXTURE_CUBE_MAP_POSITIVE_X+lt.activeCubeFace,He.__webglTexture,lt.activeMipMapLevel)}},this.readRenderTargetPixels=function(lt,mt,Pt,ve,He,rn){if(lt&&lt.isWebGLRenderTarget){var Vn=le.get(lt).__webglFramebuffer;if(Vn){var gn=!1;Vn!==B&&(ft.bindFramebuffer(ft.FRAMEBUFFER,Vn),gn=!0);try{var jn=lt.texture,ur=jn.format,Qn=jn.type;if(ur!==rl&&Xt.convert(ur)!==ft.getParameter(ft.IMPLEMENTATION_COLOR_READ_FORMAT))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");if(!(Qn===Yi||Xt.convert(Qn)===ft.getParameter(ft.IMPLEMENTATION_COLOR_READ_TYPE)||Qn===mu&&(bt.get("OES_texture_float")||bt.get("WEBGL_color_buffer_float"))||1016===Qn&&bt.get("EXT_color_buffer_half_float")))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");ft.checkFramebufferStatus(ft.FRAMEBUFFER)===ft.FRAMEBUFFER_COMPLETE?mt>=0&&mt<=lt.width-ve&&Pt>=0&&Pt<=lt.height-He&&ft.readPixels(mt,Pt,ve,He,Xt.convert(ur),Xt.convert(Qn),rn):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{gn&&ft.bindFramebuffer(ft.FRAMEBUFFER,B)}}}else console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.")}}function Lv(n,r){this.name="",this.color=new cn(n),this.density=void 0!==r?r:25e-5}function rp(n,r,i){this.name="",this.color=new cn(n),this.near=void 0!==r?r:1,this.far=void 0!==i?i:1e3}function zl(){Ln.call(this),this.type="Scene",this.background=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0}function Ci(n,r,i,s,c){Ln.call(this),this.lensFlares=[],this.positionScreen=new J,this.customUpdateCallback=void 0,void 0!==n&&this.add(n,r,i,s,c)}function wu(n){oi.call(this),this.type="SpriteMaterial",this.color=new cn(16777215),this.map=null,this.rotation=0,this.fog=!1,this.lights=!1,this.setValues(n)}function qP(n){Ln.call(this),this.type="Sprite",this.material=void 0!==n?n:new wu}function ip(){Ln.call(this),this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]}})}function th(n,r){if(this.bones=(n=n||[]).slice(0),this.boneMatrices=new Float32Array(16*this.bones.length),void 0===r)this.calculateInverses();else if(this.bones.length===r.length)this.boneInverses=r.slice(0);else{console.warn("THREE.Skeleton boneInverses is the wrong length."),this.boneInverses=[];for(var s=0,c=this.bones.length;s<c;s++)this.boneInverses.push(new ye)}}function eh(){Ln.call(this),this.type="Bone"}function bC(n,r){cl.call(this,n,r),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new ye,this.bindMatrixInverse=new ye;var s=new th(this.initBones());this.bind(s,this.matrixWorld),this.normalizeSkinWeights()}function bs(n){oi.call(this),this.type="LineBasicMaterial",this.color=new cn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.lights=!1,this.setValues(n)}function Qa(n,r,i){if(1===i)return console.warn("THREE.Line: parameter THREE.LinePieces no longer supported. Created THREE.LineSegments instead."),new So(n,r);Ln.call(this),this.type="Line",this.geometry=void 0!==n?n:new On,this.material=void 0!==r?r:new bs({color:16777215*Math.random()})}function So(n,r){Qa.call(this,n,r),this.type="LineSegments"}function $P(n,r){Qa.call(this,n,r),this.type="LineLoop"}function op(n){oi.call(this),this.type="PointsMaterial",this.color=new cn(16777215),this.map=null,this.size=1,this.sizeAttenuation=!0,this.lights=!1,this.setValues(n)}function xb(n,r){Ln.call(this),this.type="Points",this.geometry=void 0!==n?n:new On,this.material=void 0!==r?r:new op({color:16777215*Math.random()})}function ko(){Ln.call(this),this.type="Group"}function nh(n,r,i,s,c,u,f,v,_){Si.call(this,n,r,i,s,c,u,f,v,_),this.generateMipmaps=!1;var y=this;requestAnimationFrame(function C(){var P=y.image;P.readyState>=P.HAVE_CURRENT_DATA&&(y.needsUpdate=!0),requestAnimationFrame(C)})}function of(n,r,i,s,c,u,f,v,_,y,C,P){Si.call(this,null,u,f,v,_,y,s,c,C,P),this.image={width:r,height:i},this.mipmaps=n,this.flipY=!1,this.generateMipmaps=!1}function sp(n,r,i,s,c,u,f,v,_,y){if((y=void 0!==y?y:Jp)!==Jp&&y!==As)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===i&&y===Jp&&(i=1012),void 0===i&&y===As&&(i=1020),Si.call(this,null,s,c,u,f,v,y,i,_),this.image={width:n,height:r},this.magFilter=void 0!==f?f:so,this.minFilter=void 0!==v?v:so,this.flipY=!1,this.generateMipmaps=!1}function yC(n){On.call(this),this.type="WireframeGeometry";var i,s,c,u,f,y,C,P,w,S,r=[],v=[0,0],_={},E=["a","b","c"];if(n&&n.isGeometry){var I=n.faces;for(i=0,c=I.length;i<c;i++){var L=I[i];for(s=0;s<3;s++)C=L[E[s]],P=L[E[(s+1)%3]],v[0]=Math.min(C,P),v[1]=Math.max(C,P),void 0===_[w=v[0]+","+v[1]]&&(_[w]={index1:v[0],index2:v[1]})}for(w in _)r.push((S=n.vertices[(y=_[w]).index1]).x,S.y,S.z),r.push((S=n.vertices[y.index2]).x,S.y,S.z)}else if(n&&n.isBufferGeometry){var B,V,N,F,z;if(S=new J,null!==n.index){for(B=n.attributes.position,V=n.index,0===(N=n.groups).length&&(N=[{start:0,count:V.count,materialIndex:0}]),u=0,f=N.length;u<f;++u)for(i=z=(F=N[u]).start,c=z+F.count;i<c;i+=3)for(s=0;s<3;s++)C=V.getX(i+s),P=V.getX(i+(s+1)%3),v[0]=Math.min(C,P),v[1]=Math.max(C,P),void 0===_[w=v[0]+","+v[1]]&&(_[w]={index1:v[0],index2:v[1]});for(w in _)S.fromBufferAttribute(B,(y=_[w]).index1),r.push(S.x,S.y,S.z),S.fromBufferAttribute(B,y.index2),r.push(S.x,S.y,S.z)}else for(i=0,c=(B=n.attributes.position).count/3;i<c;i++)for(s=0;s<3;s++)S.fromBufferAttribute(B,3*i+s),r.push(S.x,S.y,S.z),S.fromBufferAttribute(B,3*i+(s+1)%3),r.push(S.x,S.y,S.z)}this.addAttribute("position",new Fn(r,3))}function xC(n,r,i){Nr.call(this),this.type="ParametricGeometry",this.parameters={func:n,slices:r,stacks:i},this.fromBufferGeometry(new CC(n,r,i)),this.mergeVertices()}function CC(n,r,i){On.call(this),this.type="ParametricBufferGeometry",this.parameters={func:n,slices:r,stacks:i};var E,S,s=[],c=[],u=[],f=[],v=1e-5,_=new J,y=new J,C=new J,P=new J,w=new J,I=r+1;for(E=0;E<=i;E++){var L=E/i;for(S=0;S<=r;S++){var B=S/r;y=n(B,L,y),c.push(y.x,y.y,y.z),B-v>=0?(C=n(B-v,L,C),P.subVectors(y,C)):(C=n(B+v,L,C),P.subVectors(C,y)),L-v>=0?(C=n(B,L-v,C),w.subVectors(y,C)):(C=n(B,L+v,C),w.subVectors(C,y)),_.crossVectors(P,w).normalize(),u.push(_.x,_.y,_.z),f.push(B,L)}}for(E=0;E<i;E++)for(S=0;S<r;S++){var N=E*I+S+1,F=(E+1)*I+S+1,z=(E+1)*I+S;s.push(E*I+S,N,z),s.push(N,F,z)}this.setIndex(s),this.addAttribute("position",new Fn(c,3)),this.addAttribute("normal",new Fn(u,3)),this.addAttribute("uv",new Fn(f,2))}function ap(n,r,i,s){Nr.call(this),this.type="PolyhedronGeometry",this.parameters={vertices:n,indices:r,radius:i,detail:s},this.fromBufferGeometry(new Gc(n,r,i,s)),this.mergeVertices()}function Gc(n,r,i,s){On.call(this),this.type="PolyhedronBufferGeometry",this.parameters={vertices:n,indices:r,radius:i,detail:s},i=i||1;var c=[],u=[];function v(B,V,N,F){var q,Y,z=Math.pow(2,F),G=[];for(q=0;q<=z;q++){G[q]=[];var X=B.clone().lerp(N,q/z),$=V.clone().lerp(N,q/z),tt=z-q;for(Y=0;Y<=tt;Y++)G[q][Y]=0===Y&&q===z?X:X.clone().lerp($,Y/tt)}for(q=0;q<z;q++)for(Y=0;Y<2*(z-q)-1;Y++){var ot=Math.floor(Y/2);Y%2==0?(P(G[q][ot+1]),P(G[q+1][ot]),P(G[q][ot])):(P(G[q][ot+1]),P(G[q+1][ot+1]),P(G[q+1][ot]))}}function P(B){c.push(B.x,B.y,B.z)}function w(B,V){var N=3*B;V.x=n[N+0],V.y=n[N+1],V.z=n[N+2]}function S(B,V,N,F){F<0&&1===B.x&&(u[V]=B.x-1),0===N.x&&0===N.z&&(u[V]=F/2/Math.PI+.5)}function I(B){return Math.atan2(B.z,-B.x)}function L(B){return Math.atan2(-B.y,Math.sqrt(B.x*B.x+B.z*B.z))}(function(B){for(var V=new J,N=new J,F=new J,z=0;z<r.length;z+=3)w(r[z+0],V),w(r[z+1],N),w(r[z+2],F),v(V,N,F,B)})(s=s||0),function(B){for(var V=new J,N=0;N<c.length;N+=3)V.x=c[N+0],V.y=c[N+1],V.z=c[N+2],V.normalize().multiplyScalar(B),c[N+0]=V.x,c[N+1]=V.y,c[N+2]=V.z}(i),function(){for(var B=new J,V=0;V<c.length;V+=3){B.x=c[V+0],B.y=c[V+1],B.z=c[V+2];var N=I(B)/2/Math.PI+.5,F=L(B)/Math.PI+.5;u.push(N,1-F)}(function(){for(var B=new J,V=new J,N=new J,F=new J,z=new ce,G=new ce,q=new ce,Y=0,X=0;Y<c.length;Y+=9,X+=6){B.set(c[Y+0],c[Y+1],c[Y+2]),V.set(c[Y+3],c[Y+4],c[Y+5]),N.set(c[Y+6],c[Y+7],c[Y+8]),z.set(u[X+0],u[X+1]),G.set(u[X+2],u[X+3]),q.set(u[X+4],u[X+5]),F.copy(B).add(V).add(N).divideScalar(3);var $=I(F);S(z,X+0,B,$),S(G,X+2,V,$),S(q,X+4,N,$)}})(),function(){for(var B=0;B<u.length;B+=6){var V=u[B+0],N=u[B+2],F=u[B+4],z=Math.max(V,N,F),G=Math.min(V,N,F);z>.9&&G<.1&&(V<.2&&(u[B+0]+=1),N<.2&&(u[B+2]+=1),F<.2&&(u[B+4]+=1))}}()}(),this.addAttribute("position",new Fn(c,3)),this.addAttribute("normal",new Fn(c.slice(),3)),this.addAttribute("uv",new Fn(u,2)),0===s?this.computeVertexNormals():this.normalizeNormals()}function Cb(n,r){Nr.call(this),this.type="TetrahedronGeometry",this.parameters={radius:n,detail:r},this.fromBufferGeometry(new Tg(n,r)),this.mergeVertices()}function Tg(n,r){Gc.call(this,[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],[2,1,0,0,3,2,1,3,0,2,3,1],n,r),this.type="TetrahedronBufferGeometry",this.parameters={radius:n,detail:r}}function Mb(n,r){Nr.call(this),this.type="OctahedronGeometry",this.parameters={radius:n,detail:r},this.fromBufferGeometry(new Hl(n,r)),this.mergeVertices()}function Hl(n,r){Gc.call(this,[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2],n,r),this.type="OctahedronBufferGeometry",this.parameters={radius:n,detail:r}}function Pb(n,r){Nr.call(this),this.type="IcosahedronGeometry",this.parameters={radius:n,detail:r},this.fromBufferGeometry(new rh(n,r)),this.mergeVertices()}function rh(n,r){var i=(1+Math.sqrt(5))/2;Gc.call(this,[-1,i,0,1,i,0,-1,-i,0,1,-i,0,0,-1,i,0,1,i,0,-1,-i,0,1,-i,i,0,-1,i,0,1,-i,0,-1,-i,0,1],[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1],n,r),this.type="IcosahedronBufferGeometry",this.parameters={radius:n,detail:r}}function Fv(n,r){Nr.call(this),this.type="DodecahedronGeometry",this.parameters={radius:n,detail:r},this.fromBufferGeometry(new Gl(n,r)),this.mergeVertices()}function Gl(n,r){var i=(1+Math.sqrt(5))/2,s=1/i;Gc.call(this,[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-s,-i,0,-s,i,0,s,-i,0,s,i,-s,-i,0,-s,i,0,s,-i,0,s,i,0,-i,0,-s,i,0,-s,-i,0,s,i,0,s],[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9],n,r),this.type="DodecahedronBufferGeometry",this.parameters={radius:n,detail:r}}function sf(n,r,i,s,c,u){Nr.call(this),this.type="TubeGeometry",this.parameters={path:n,tubularSegments:r,radius:i,radialSegments:s,closed:c},void 0!==u&&console.warn("THREE.TubeGeometry: taper has been removed.");var f=new ul(n,r,i,s,c);this.tangents=f.tangents,this.normals=f.normals,this.binormals=f.binormals,this.fromBufferGeometry(f),this.mergeVertices()}function ul(n,r,i,s,c){On.call(this),this.type="TubeBufferGeometry",this.parameters={path:n,tubularSegments:r,radius:i,radialSegments:s,closed:c},i=i||1,s=s||8;var u=n.computeFrenetFrames(r=r||64,c=c||!1);this.tangents=u.tangents,this.normals=u.normals,this.binormals=u.binormals;var C,P,f=new J,v=new J,_=new ce,y=new J,w=[],E=[],S=[],I=[];function B(F){y=n.getPointAt(F/r,y);var z=u.normals[F],G=u.binormals[F];for(P=0;P<=s;P++){var q=P/s*Math.PI*2,Y=Math.sin(q),X=-Math.cos(q);v.x=X*z.x+Y*G.x,v.y=X*z.y+Y*G.y,v.z=X*z.z+Y*G.z,v.normalize(),E.push(v.x,v.y,v.z),f.x=y.x+i*v.x,f.y=y.y+i*v.y,f.z=y.z+i*v.z,w.push(f.x,f.y,f.z)}}(function(){for(C=0;C<r;C++)B(C);B(!1===c?r:0),function(){for(C=0;C<=r;C++)for(P=0;P<=s;P++)_.x=C/r,_.y=P/s,S.push(_.x,_.y)}(),function(){for(P=1;P<=r;P++)for(C=1;C<=s;C++){var z=(s+1)*P+(C-1),G=(s+1)*P+C,q=(s+1)*(P-1)+C;I.push((s+1)*(P-1)+(C-1),z,q),I.push(z,G,q)}}()})(),this.setIndex(I),this.addAttribute("position",new Fn(w,3)),this.addAttribute("normal",new Fn(E,3)),this.addAttribute("uv",new Fn(S,2))}function cp(n,r,i,s,c,u,f){Nr.call(this),this.type="TorusKnotGeometry",this.parameters={radius:n,tube:r,tubularSegments:i,radialSegments:s,p:c,q:u},void 0!==f&&console.warn("THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead."),this.fromBufferGeometry(new Nv(n,r,i,s,c,u)),this.mergeVertices()}function Nv(n,r,i,s,c,u){On.call(this),this.type="TorusKnotBufferGeometry",this.parameters={radius:n,tube:r,tubularSegments:i,radialSegments:s,p:c,q:u},n=n||1,r=r||.4,i=Math.floor(i)||64,s=Math.floor(s)||8,c=c||2,u=u||3;var C,P,f=[],v=[],_=[],y=[],w=new J,E=new J,S=new J,I=new J,L=new J,B=new J,V=new J;for(C=0;C<=i;++C){var N=C/i*c*Math.PI*2;for(tt(N,c,u,n,S),tt(N+.01,c,u,n,I),B.subVectors(I,S),V.addVectors(I,S),L.crossVectors(B,V),V.crossVectors(L,B),L.normalize(),V.normalize(),P=0;P<=s;++P){var F=P/s*Math.PI*2,z=-r*Math.cos(F),G=r*Math.sin(F);w.x=S.x+(z*V.x+G*L.x),w.y=S.y+(z*V.y+G*L.y),w.z=S.z+(z*V.z+G*L.z),v.push(w.x,w.y,w.z),E.subVectors(w,S).normalize(),_.push(E.x,E.y,E.z),y.push(C/i),y.push(P/s)}}for(P=1;P<=i;P++)for(C=1;C<=s;C++){var Y=(s+1)*P+(C-1),X=(s+1)*P+C,$=(s+1)*(P-1)+C;f.push((s+1)*(P-1)+(C-1),Y,$),f.push(Y,X,$)}function tt(ot,nt,et,vt,dt){var Dt=Math.cos(ot),Et=Math.sin(ot),Mt=et/nt*ot,st=Math.cos(Mt);dt.x=vt*(2+st)*.5*Dt,dt.y=vt*(2+st)*Et*.5,dt.z=vt*Math.sin(Mt)*.5}this.setIndex(f),this.addAttribute("position",new Fn(v,3)),this.addAttribute("normal",new Fn(_,3)),this.addAttribute("uv",new Fn(y,2))}function ih(n,r,i,s,c){Nr.call(this),this.type="TorusGeometry",this.parameters={radius:n,tube:r,radialSegments:i,tubularSegments:s,arc:c},this.fromBufferGeometry(new Dg(n,r,i,s,c)),this.mergeVertices()}function Dg(n,r,i,s,c){On.call(this),this.type="TorusBufferGeometry",this.parameters={radius:n,tube:r,radialSegments:i,tubularSegments:s,arc:c},n=n||1,r=r||.4,i=Math.floor(i)||8,s=Math.floor(s)||6,c=c||2*Math.PI;var w,E,u=[],f=[],v=[],_=[],y=new J,C=new J,P=new J;for(w=0;w<=i;w++)for(E=0;E<=s;E++){var S=E/s*c,I=w/i*Math.PI*2;C.x=(n+r*Math.cos(I))*Math.cos(S),C.y=(n+r*Math.cos(I))*Math.sin(S),C.z=r*Math.sin(I),f.push(C.x,C.y,C.z),y.x=n*Math.cos(S),y.y=n*Math.sin(S),P.subVectors(C,y).normalize(),v.push(P.x,P.y,P.z),_.push(E/s),_.push(w/i)}for(w=1;w<=i;w++)for(E=1;E<=s;E++){var B=(s+1)*(w-1)+E-1,V=(s+1)*(w-1)+E,N=(s+1)*w+E;u.push((s+1)*w+E-1,B,N),u.push(B,V,N)}this.setIndex(u),this.addAttribute("position",new Fn(f,3)),this.addAttribute("normal",new Fn(v,3)),this.addAttribute("uv",new Fn(_,2))}ra.prototype=Object.assign(Object.create(zi.prototype),{constructor:ra,isPerspectiveCamera:!0,copy:function(n,r){return zi.prototype.copy.call(this,n,r),this.fov=n.fov,this.zoom=n.zoom,this.near=n.near,this.far=n.far,this.focus=n.focus,this.aspect=n.aspect,this.view=null===n.view?null:Object.assign({},n.view),this.filmGauge=n.filmGauge,this.filmOffset=n.filmOffset,this},setFocalLength:function(n){var r=.5*this.getFilmHeight()/n;this.fov=2*Ie.RAD2DEG*Math.atan(r),this.updateProjectionMatrix()},getFocalLength:function(){var n=Math.tan(.5*Ie.DEG2RAD*this.fov);return.5*this.getFilmHeight()/n},getEffectiveFOV:function(){return 2*Ie.RAD2DEG*Math.atan(Math.tan(.5*Ie.DEG2RAD*this.fov)/this.zoom)},getFilmWidth:function(){return this.filmGauge*Math.min(this.aspect,1)},getFilmHeight:function(){return this.filmGauge/Math.max(this.aspect,1)},setViewOffset:function(n,r,i,s,c,u){this.aspect=n/r,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=n,this.view.fullHeight=r,this.view.offsetX=i,this.view.offsetY=s,this.view.width=c,this.view.height=u,this.updateProjectionMatrix()},clearViewOffset:function(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()},updateProjectionMatrix:function(){var n=this.near,r=n*Math.tan(.5*Ie.DEG2RAD*this.fov)/this.zoom,i=2*r,s=this.aspect*i,c=-.5*s,u=this.view;if(null!==this.view&&this.view.enabled){var f=u.fullWidth,v=u.fullHeight;c+=u.offsetX*s/f,r-=u.offsetY*i/v,s*=u.width/f,i*=u.height/v}var _=this.filmOffset;0!==_&&(c+=n*_/this.getFilmWidth()),this.projectionMatrix.makePerspective(c,c+s,r,r-i,n,this.far)},toJSON:function(n){var r=Ln.prototype.toJSON.call(this,n);return r.object.fov=this.fov,r.object.zoom=this.zoom,r.object.near=this.near,r.object.far=this.far,r.object.focus=this.focus,r.object.aspect=this.aspect,null!==this.view&&(r.object.view=Object.assign({},this.view)),r.object.filmGauge=this.filmGauge,r.object.filmOffset=this.filmOffset,r}}),yb.prototype=Object.assign(Object.create(ra.prototype),{constructor:yb,isArrayCamera:!0}),Lv.prototype.isFogExp2=!0,Lv.prototype.clone=function(){return new Lv(this.color.getHex(),this.density)},Lv.prototype.toJSON=function(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}},rp.prototype.isFog=!0,rp.prototype.clone=function(){return new rp(this.color.getHex(),this.near,this.far)},rp.prototype.toJSON=function(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}},zl.prototype=Object.assign(Object.create(Ln.prototype),{constructor:zl,copy:function(n,r){return Ln.prototype.copy.call(this,n,r),null!==n.background&&(this.background=n.background.clone()),null!==n.fog&&(this.fog=n.fog.clone()),null!==n.overrideMaterial&&(this.overrideMaterial=n.overrideMaterial.clone()),this.autoUpdate=n.autoUpdate,this.matrixAutoUpdate=n.matrixAutoUpdate,this},toJSON:function(n){var r=Ln.prototype.toJSON.call(this,n);return null!==this.background&&(r.object.background=this.background.toJSON(n)),null!==this.fog&&(r.object.fog=this.fog.toJSON()),r}}),Ci.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Ci,isLensFlare:!0,copy:function(n){Ln.prototype.copy.call(this,n),this.positionScreen.copy(n.positionScreen),this.customUpdateCallback=n.customUpdateCallback;for(var i=0,s=n.lensFlares.length;i<s;i++)this.lensFlares.push(n.lensFlares[i]);return this},add:function(n,r,i,s,c,u){void 0===r&&(r=-1),void 0===i&&(i=0),void 0===u&&(u=1),void 0===c&&(c=new cn(16777215)),void 0===s&&(s=1),i=Math.min(i,Math.max(0,i)),this.lensFlares.push({texture:n,size:r,distance:i,x:0,y:0,z:0,scale:1,rotation:0,opacity:u,color:c,blending:s})},updateLensFlares:function(){var r,s,n=this,i=this.lensFlares.length,c=2*-this.positionScreen.x,u=2*-this.positionScreen.y;for(r=0;r<i;r++)(s=n.lensFlares[r]).x=n.positionScreen.x+c*s.distance,s.y=n.positionScreen.y+u*s.distance,s.wantedRotation=s.x*Math.PI*.25,s.rotation+=.25*(s.wantedRotation-s.rotation)}}),(wu.prototype=Object.create(oi.prototype)).constructor=wu,wu.prototype.isSpriteMaterial=!0,wu.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.rotation=n.rotation,this},qP.prototype=Object.assign(Object.create(Ln.prototype),{constructor:qP,isSprite:!0,raycast:function(){var n=new J,r=new J,i=new J;return function(c,u){r.setFromMatrixPosition(this.matrixWorld),c.ray.closestPointToPoint(r,n),i.setFromMatrixScale(this.matrixWorld);var f=i.x*i.y/4;if(!(r.distanceToSquared(n)>f)){var v=c.ray.origin.distanceTo(n);v<c.near||v>c.far||u.push({distance:v,point:n.clone(),face:null,object:this})}}}(),clone:function(){return new this.constructor(this.material).copy(this)}}),ip.prototype=Object.assign(Object.create(Ln.prototype),{constructor:ip,copy:function(n){Ln.prototype.copy.call(this,n,!1);for(var i=n.levels,s=0,c=i.length;s<c;s++){var u=i[s];this.addLevel(u.object.clone(),u.distance)}return this},addLevel:function(n,r){void 0===r&&(r=0),r=Math.abs(r);for(var i=this.levels,s=0;s<i.length&&!(r<i[s].distance);s++);i.splice(s,0,{distance:r,object:n}),this.add(n)},getObjectForDistance:function(n){for(var r=this.levels,i=1,s=r.length;i<s&&!(n<r[i].distance);i++);return r[i-1].object},raycast:function(){var n=new J;return function(i,s){n.setFromMatrixPosition(this.matrixWorld);var c=i.ray.origin.distanceTo(n);this.getObjectForDistance(c).raycast(i,s)}}(),update:function(){var n=new J,r=new J;return function(s){var c=this.levels;if(c.length>1){n.setFromMatrixPosition(s.matrixWorld),r.setFromMatrixPosition(this.matrixWorld);var u=n.distanceTo(r);c[0].object.visible=!0;for(var f=1,v=c.length;f<v&&u>=c[f].distance;f++)c[f-1].object.visible=!1,c[f].object.visible=!0;for(;f<v;f++)c[f].object.visible=!1}}}(),toJSON:function(n){var r=Ln.prototype.toJSON.call(this,n);r.object.levels=[];for(var i=this.levels,s=0,c=i.length;s<c;s++){var u=i[s];r.object.levels.push({object:u.object.uuid,distance:u.distance})}return r}}),Object.assign(th.prototype,{calculateInverses:function(){var n=this;this.boneInverses=[];for(var r=0,i=this.bones.length;r<i;r++){var s=new ye;n.bones[r]&&s.getInverse(n.bones[r].matrixWorld),n.boneInverses.push(s)}},pose:function(){var r,i,s,n=this;for(i=0,s=this.bones.length;i<s;i++)(r=n.bones[i])&&r.matrixWorld.getInverse(n.boneInverses[i]);for(i=0,s=this.bones.length;i<s;i++)(r=n.bones[i])&&(r.parent&&r.parent.isBone?(r.matrix.getInverse(r.parent.matrixWorld),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))},update:function(){var n=new ye,r=new ye;return function(){for(var s=this.bones,c=this.boneInverses,u=this.boneMatrices,f=this.boneTexture,v=0,_=s.length;v<_;v++)n.multiplyMatrices(s[v]?s[v].matrixWorld:r,c[v]),n.toArray(u,16*v);void 0!==f&&(f.needsUpdate=!0)}}(),clone:function(){return new th(this.bones,this.boneInverses)}}),eh.prototype=Object.assign(Object.create(Ln.prototype),{constructor:eh,isBone:!0}),bC.prototype=Object.assign(Object.create(cl.prototype),{constructor:bC,isSkinnedMesh:!0,initBones:function(){var i,s,c,u,n=this,r=[];if(this.geometry&&void 0!==this.geometry.bones){for(c=0,u=this.geometry.bones.length;c<u;c++)s=n.geometry.bones[c],i=new eh,r.push(i),i.name=s.name,i.position.fromArray(s.pos),i.quaternion.fromArray(s.rotq),void 0!==s.scl&&i.scale.fromArray(s.scl);for(c=0,u=this.geometry.bones.length;c<u;c++)-1!==(s=n.geometry.bones[c]).parent&&null!==s.parent&&void 0!==r[s.parent]?r[s.parent].add(r[c]):n.add(r[c])}return this.updateMatrixWorld(!0),r},bind:function(n,r){this.skeleton=n,void 0===r&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),r=this.matrixWorld),this.bindMatrix.copy(r),this.bindMatrixInverse.getInverse(r)},pose:function(){this.skeleton.pose()},normalizeSkinWeights:function(){var r,i;if(this.geometry&&this.geometry.isGeometry)for(i=0;i<this.geometry.skinWeights.length;i++){var s=this.geometry.skinWeights[i];(r=1/s.manhattanLength())!=1/0?s.multiplyScalar(r):s.set(1,0,0,0)}else if(this.geometry&&this.geometry.isBufferGeometry){var c=new yo,u=this.geometry.attributes.skinWeight;for(i=0;i<u.count;i++)c.x=u.getX(i),c.y=u.getY(i),c.z=u.getZ(i),c.w=u.getW(i),(r=1/c.manhattanLength())!=1/0?c.multiplyScalar(r):c.set(1,0,0,0),u.setXYZW(i,c.x,c.y,c.z,c.w)}},updateMatrixWorld:function(n){cl.prototype.updateMatrixWorld.call(this,n),"attached"===this.bindMode?this.bindMatrixInverse.getInverse(this.matrixWorld):"detached"===this.bindMode?this.bindMatrixInverse.getInverse(this.bindMatrix):console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)},clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),(bs.prototype=Object.create(oi.prototype)).constructor=bs,bs.prototype.isLineBasicMaterial=!0,bs.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.color.copy(n.color),this.linewidth=n.linewidth,this.linecap=n.linecap,this.linejoin=n.linejoin,this},Qa.prototype=Object.assign(Object.create(Ln.prototype),{constructor:Qa,isLine:!0,raycast:function(){var n=new ye,r=new Tv,i=new zs;return function(c,u){var f=this,v=c.linePrecision,_=v*v,y=this.geometry,C=this.matrixWorld;if(null===y.boundingSphere&&y.computeBoundingSphere(),i.copy(y.boundingSphere),i.applyMatrix4(C),!1!==c.ray.intersectsSphere(i)){n.getInverse(C),r.copy(c.ray).applyMatrix4(n);var P=new J,w=new J,E=new J,S=new J,I=this&&this.isLineSegments?2:1;if(y.isBufferGeometry){var L=y.index,V=y.attributes.position.array;if(null!==L)for(var N=L.array,F=0,z=N.length-1;F<z;F+=I){var q=N[F+1];P.fromArray(V,3*N[F]),w.fromArray(V,3*q),r.distanceSqToSegment(P,w,S,E)>_||(S.applyMatrix4(f.matrixWorld),(X=c.ray.origin.distanceTo(S))<c.near||X>c.far||u.push({distance:X,point:E.clone().applyMatrix4(f.matrixWorld),index:F,face:null,faceIndex:null,object:f}))}else for(F=0,z=V.length/3-1;F<z;F+=I)P.fromArray(V,3*F),w.fromArray(V,3*F+3),r.distanceSqToSegment(P,w,S,E)>_||(S.applyMatrix4(f.matrixWorld),(X=c.ray.origin.distanceTo(S))<c.near||X>c.far||u.push({distance:X,point:E.clone().applyMatrix4(f.matrixWorld),index:F,face:null,faceIndex:null,object:f}))}else if(y.isGeometry){var $=y.vertices,tt=$.length;for(F=0;F<tt-1;F+=I){var X;r.distanceSqToSegment($[F],$[F+1],S,E)>_||(S.applyMatrix4(f.matrixWorld),(X=c.ray.origin.distanceTo(S))<c.near||X>c.far||u.push({distance:X,point:E.clone().applyMatrix4(f.matrixWorld),index:F,face:null,faceIndex:null,object:f}))}}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),So.prototype=Object.assign(Object.create(Qa.prototype),{constructor:So,isLineSegments:!0}),$P.prototype=Object.assign(Object.create(Qa.prototype),{constructor:$P,isLineLoop:!0}),(op.prototype=Object.create(oi.prototype)).constructor=op,op.prototype.isPointsMaterial=!0,op.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.size=n.size,this.sizeAttenuation=n.sizeAttenuation,this},xb.prototype=Object.assign(Object.create(Ln.prototype),{constructor:xb,isPoints:!0,raycast:function(){var n=new ye,r=new Tv,i=new zs;return function(c,u){var f=this,v=this.geometry,_=this.matrixWorld,y=c.params.Points.threshold;if(null===v.boundingSphere&&v.computeBoundingSphere(),i.copy(v.boundingSphere),i.applyMatrix4(_),i.radius+=y,!1!==c.ray.intersectsSphere(i)){n.getInverse(_),r.copy(c.ray).applyMatrix4(n);var C=y/((this.scale.x+this.scale.y+this.scale.z)/3),P=C*C,w=new J;if(v.isBufferGeometry){var S=v.index,L=v.attributes.position.array;if(null!==S)for(var B=S.array,V=0,N=B.length;V<N;V++){var F=B[V];w.fromArray(L,3*F),E(w,F)}else{V=0;for(var z=L.length/3;V<z;V++)w.fromArray(L,3*V),E(w,V)}}else{var G=v.vertices;for(V=0,z=G.length;V<z;V++)E(G[V],V)}}function E(q,Y){var X=r.distanceSqToPoint(q);if(X<P){var $=r.closestPointToPoint(q);$.applyMatrix4(_);var tt=c.ray.origin.distanceTo($);if(tt<c.near||tt>c.far)return;u.push({distance:tt,distanceToRay:Math.sqrt(X),point:$.clone(),index:Y,face:null,object:f})}}}}(),clone:function(){return new this.constructor(this.geometry,this.material).copy(this)}}),ko.prototype=Object.assign(Object.create(Ln.prototype),{constructor:ko}),(nh.prototype=Object.create(Si.prototype)).constructor=nh,(of.prototype=Object.create(Si.prototype)).constructor=of,of.prototype.isCompressedTexture=!0,(sp.prototype=Object.create(Si.prototype)).constructor=sp,sp.prototype.isDepthTexture=!0,(yC.prototype=Object.create(On.prototype)).constructor=yC,(xC.prototype=Object.create(Nr.prototype)).constructor=xC,(CC.prototype=Object.create(On.prototype)).constructor=CC,(ap.prototype=Object.create(Nr.prototype)).constructor=ap,(Gc.prototype=Object.create(On.prototype)).constructor=Gc,(Cb.prototype=Object.create(Nr.prototype)).constructor=Cb,(Tg.prototype=Object.create(Gc.prototype)).constructor=Tg,(Mb.prototype=Object.create(Nr.prototype)).constructor=Mb,(Hl.prototype=Object.create(Gc.prototype)).constructor=Hl,(Pb.prototype=Object.create(Nr.prototype)).constructor=Pb,(rh.prototype=Object.create(Gc.prototype)).constructor=rh,(Fv.prototype=Object.create(Nr.prototype)).constructor=Fv,(Gl.prototype=Object.create(Gc.prototype)).constructor=Gl,(sf.prototype=Object.create(Nr.prototype)).constructor=sf,(ul.prototype=Object.create(On.prototype)).constructor=ul,(cp.prototype=Object.create(Nr.prototype)).constructor=cp,(Nv.prototype=Object.create(On.prototype)).constructor=Nv,(ih.prototype=Object.create(Nr.prototype)).constructor=ih,(Dg.prototype=Object.create(On.prototype)).constructor=Dg;var lp={area:function(n){for(var r=n.length,i=0,s=r-1,c=0;c<r;s=c++)i+=n[s].x*n[c].y-n[c].x*n[s].y;return.5*i},triangulate:function(){function n(r,i,s,c,u,f){var v,_,y,C,P,w,E,S,I,L,B,V,N,F,z;if(((C=r[f[s]].x)-(_=r[f[i]].x))*((E=r[f[c]].y)-(y=r[f[i]].y))-((P=r[f[s]].y)-y)*((w=r[f[c]].x)-_)<=0)return!1;for(L=w-C,B=E-P,V=_-w,N=y-E,F=C-_,z=P-y,v=0;v<u;v++)if(I=r[f[v]].y,!((S=r[f[v]].x)===_&&I===y||S===C&&I===P||S===w&&I===E)&&L*(I-P)-B*(S-C)>=-Number.EPSILON&&V*(I-E)-N*(S-w)>=-Number.EPSILON&&F*(I-y)-z*(S-_)>=-Number.EPSILON)return!1;return!0}return function(i,s){var c=i.length;if(c<3)return null;var _,y,C,u=[],f=[],v=[];if(lp.area(i)>0)for(y=0;y<c;y++)f[y]=y;else for(y=0;y<c;y++)f[y]=c-1-y;var P=c,w=2*P;for(y=P-1;P>2;){if(w--<=0)return console.warn("THREE.ShapeUtils: Unable to triangulate polygon! in triangulate()"),s?v:u;if(P<=(_=y)&&(_=0),P<=(y=_+1)&&(y=0),P<=(C=y+1)&&(C=0),n(i,_,y,C,P,f)){var L,B;for(u.push([i[f[_]],i[f[y]],i[f[C]]]),v.push([f[_],f[y],f[C]]),L=y,B=y+1;B<P;L++,B++)f[L]=f[B];w=2*--P}}return s?v:u}}(),triangulateShape:function(n,r){function i(N){var F=N.length;F>2&&N[F-1].equals(N[0])&&N.pop()}function s(N,F,z){return N.x!==F.x?N.x<F.x?N.x<=z.x&&z.x<=F.x:F.x<=z.x&&z.x<=N.x:N.y<F.y?N.y<=z.y&&z.y<=F.y:F.y<=z.y&&z.y<=N.y}function c(N,F,z,G,q){var Y=F.x-N.x,X=F.y-N.y,$=G.x-z.x,tt=G.y-z.y,ot=N.x-z.x,nt=N.y-z.y,et=X*$-Y*tt,vt=X*ot-Y*nt;if(Math.abs(et)>Number.EPSILON){var dt;if(et>0){if(vt<0||vt>et)return[];if((dt=tt*ot-$*nt)<0||dt>et)return[]}else{if(vt>0||vt<et)return[];if((dt=tt*ot-$*nt)>0||dt<et)return[]}if(0===dt)return!q||0!==vt&&vt!==et?[N]:[];if(dt===et)return!q||0!==vt&&vt!==et?[F]:[];if(0===vt)return[z];if(vt===et)return[G];var Dt=dt/et;return[{x:N.x+Dt*Y,y:N.y+Dt*X}]}if(0!==vt||tt*ot!=$*nt)return[];var st,ht,Ft,Lt,$t,ft,Zt,bt,Et=0===Y&&0===X,Mt=0===$&&0===tt;return Et&&Mt?N.x!==z.x||N.y!==z.y?[]:[N]:Et?s(z,G,N)?[N]:[]:Mt?s(N,F,z)?[z]:[]:(0!==Y?(N.x<F.x?(st=N,Ft=N.x,ht=F,Lt=F.x):(st=F,Ft=F.x,ht=N,Lt=N.x),z.x<G.x?($t=z,Zt=z.x,ft=G,bt=G.x):($t=G,Zt=G.x,ft=z,bt=z.x)):(N.y<F.y?(st=N,Ft=N.y,ht=F,Lt=F.y):(st=F,Ft=F.y,ht=N,Lt=N.y),z.y<G.y?($t=z,Zt=z.y,ft=G,bt=G.y):($t=G,Zt=G.y,ft=z,bt=z.y)),Ft<=Zt?Lt<Zt?[]:Lt===Zt?q?[]:[$t]:Lt<=bt?[$t,ht]:[$t,ft]:Ft>bt?[]:Ft===bt?q?[]:[st]:Lt<=bt?[st,ht]:[st,ft])}function u(N,F,z,G){var q=F.x-N.x,Y=F.y-N.y,X=z.x-N.x,$=z.y-N.y,tt=G.x-N.x,ot=G.y-N.y,nt=q*$-Y*X,et=q*ot-Y*tt;if(Math.abs(nt)>Number.EPSILON){var vt=tt*$-ot*X;return nt>0?et>=0&&vt>=0:et>=0||vt>=0}return et>0}i(n),r.forEach(i);for(var v,_,y,C,P,w,E={},S=n.concat(),I=0,L=r.length;I<L;I++)Array.prototype.push.apply(S,r[I]);for(v=0,_=S.length;v<_;v++)void 0!==E[P=S[v].x+":"+S[v].y]&&console.warn("THREE.ShapeUtils: Duplicate point",P,v),E[P]=v;var B=function(N,F){var G,z=N.concat();function q(bt,Gt){var Nt=z.length-1,le=bt-1;le<0&&(le=Nt);var Oe=bt+1;Oe>Nt&&(Oe=0);var tn=u(z[bt],z[le],z[Oe],G[Gt]);if(!tn)return!1;var ge=G.length-1,pe=Gt-1;pe<0&&(pe=ge);var he=Gt+1;return he>ge&&(he=0),!!(tn=u(G[Gt],G[pe],G[he],z[bt]))}function Y(bt,Gt){var Nt,le;for(Nt=0;Nt<z.length;Nt++)if(le=Nt+1,c(bt,Gt,z[Nt],z[le%=z.length],!0).length>0)return!0;return!1}var X=[];function $(bt,Gt){var Nt,le,Oe,tn;for(Nt=0;Nt<X.length;Nt++)for(le=F[X[Nt]],Oe=0;Oe<le.length;Oe++)if(tn=Oe+1,c(bt,Gt,le[Oe],le[tn%=le.length],!0).length>0)return!0;return!1}for(var tt,ot,nt,et,vt,dt,Et,Mt,st,ht,Dt=[],Ft=0,Lt=F.length;Ft<Lt;Ft++)X.push(Ft);for(var $t=0,ft=2*X.length;X.length>0;){if(--ft<0){console.log('THREE.ShapeUtils: Infinite Loop! Holes left:" + indepHoles.length + ", Probably Hole outside Shape!');break}for(ot=$t;ot<z.length;ot++){for(nt=z[ot],tt=-1,Ft=0;Ft<X.length;Ft++)if(void 0===Dt[dt=nt.x+":"+nt.y+":"+(vt=X[Ft])]){G=F[vt];for(var Zt=0;Zt<G.length;Zt++)if(et=G[Zt],q(ot,Zt)&&!Y(nt,et)&&!$(nt,et)){tt=Zt,X.splice(Ft,1),Et=z.slice(0,ot+1),Mt=z.slice(ot),st=G.slice(tt),ht=G.slice(0,tt+1),z=Et.concat(st).concat(ht).concat(Mt),$t=ot;break}if(tt>=0)break;Dt[dt]=!0}if(tt>=0)break}}return z}(n,r),V=lp.triangulate(B,!1);for(v=0,_=V.length;v<_;v++)for(C=V[v],y=0;y<3;y++)void 0!==(w=E[P=C[y].x+":"+C[y].y])&&(C[y]=w);return V.concat()},isClockWise:function(n){return lp.area(n)<0}};function up(n,r){Nr.call(this),this.type="ExtrudeGeometry",this.parameters={shapes:n,options:r},this.fromBufferGeometry(new yd(n,r)),this.mergeVertices()}function yd(n,r){void 0!==n&&(On.call(this),this.type="ExtrudeBufferGeometry",n=Array.isArray(n)?n:[n],this.addShapeList(n,r),this.computeVertexNormals())}function Ig(n,r){Nr.call(this),this.type="TextGeometry",this.parameters={text:n,parameters:r},this.fromBufferGeometry(new Bv(n,r)),this.mergeVertices()}function Bv(n,r){var i=(r=r||{}).font;if(!i||!i.isFont)return console.error("THREE.TextGeometry: font parameter is not an instance of THREE.Font."),new Nr;var s=i.generateShapes(n,r.size,r.curveSegments);r.amount=void 0!==r.height?r.height:50,void 0===r.bevelThickness&&(r.bevelThickness=10),void 0===r.bevelSize&&(r.bevelSize=8),void 0===r.bevelEnabled&&(r.bevelEnabled=!1),yd.call(this,s,r),this.type="TextBufferGeometry"}function Uv(n,r,i,s,c,u,f){Nr.call(this),this.type="SphereGeometry",this.parameters={radius:n,widthSegments:r,heightSegments:i,phiStart:s,phiLength:c,thetaStart:u,thetaLength:f},this.fromBufferGeometry(new af(n,r,i,s,c,u,f)),this.mergeVertices()}function af(n,r,i,s,c,u,f){On.call(this),this.type="SphereBufferGeometry",this.parameters={radius:n,widthSegments:r,heightSegments:i,phiStart:s,phiLength:c,thetaStart:u,thetaLength:f},n=n||1,r=Math.max(3,Math.floor(r)||8),i=Math.max(2,Math.floor(i)||6),s=void 0!==s?s:0,c=void 0!==c?c:2*Math.PI;var _,y,v=(u=void 0!==u?u:0)+(f=void 0!==f?f:Math.PI),C=0,P=[],w=new J,E=new J,S=[],I=[],L=[],B=[];for(y=0;y<=i;y++){var V=[],N=y/i;for(_=0;_<=r;_++){var F=_/r;w.x=-n*Math.cos(s+F*c)*Math.sin(u+N*f),w.y=n*Math.cos(u+N*f),w.z=n*Math.sin(s+F*c)*Math.sin(u+N*f),I.push(w.x,w.y,w.z),E.set(w.x,w.y,w.z).normalize(),L.push(E.x,E.y,E.z),B.push(F,1-N),V.push(C++)}P.push(V)}for(y=0;y<i;y++)for(_=0;_<r;_++){var G=P[y][_],q=P[y+1][_],Y=P[y+1][_+1];(0!==y||u>0)&&S.push(P[y][_+1],G,Y),(y!==i-1||v<Math.PI)&&S.push(G,q,Y)}this.setIndex(S),this.addAttribute("position",new Fn(I,3)),this.addAttribute("normal",new Fn(L,3)),this.addAttribute("uv",new Fn(B,2))}function MC(n,r,i,s,c,u){Nr.call(this),this.type="RingGeometry",this.parameters={innerRadius:n,outerRadius:r,thetaSegments:i,phiSegments:s,thetaStart:c,thetaLength:u},this.fromBufferGeometry(new Rg(n,r,i,s,c,u)),this.mergeVertices()}function Rg(n,r,i,s,c,u){On.call(this),this.type="RingBufferGeometry",this.parameters={innerRadius:n,outerRadius:r,thetaSegments:i,phiSegments:s,thetaStart:c,thetaLength:u},n=n||.5,r=r||1,c=void 0!==c?c:0,u=void 0!==u?u:2*Math.PI,i=void 0!==i?Math.max(3,i):8;var C,I,L,f=[],v=[],_=[],y=[],P=n,w=(r-n)/(s=void 0!==s?Math.max(1,s):1),E=new J,S=new ce;for(I=0;I<=s;I++){for(L=0;L<=i;L++)C=c+L/i*u,E.x=P*Math.cos(C),E.y=P*Math.sin(C),v.push(E.x,E.y,E.z),_.push(0,0,1),S.x=(E.x/r+1)/2,S.y=(E.y/r+1)/2,y.push(S.x,S.y);P+=w}for(I=0;I<s;I++){var B=I*(i+1);for(L=0;L<i;L++){var N=(C=L+B)+i+1,F=C+i+2,z=C+1;f.push(C,N,z),f.push(N,F,z)}}this.setIndex(f),this.addAttribute("position",new Fn(v,3)),this.addAttribute("normal",new Fn(_,3)),this.addAttribute("uv",new Fn(y,2))}function wb(n,r,i,s){Nr.call(this),this.type="LatheGeometry",this.parameters={points:n,segments:r,phiStart:i,phiLength:s},this.fromBufferGeometry(new oh(n,r,i,s)),this.mergeVertices()}function oh(n,r,i,s){On.call(this),this.type="LatheBufferGeometry",this.parameters={points:n,segments:r,phiStart:i,phiLength:s},r=Math.floor(r)||12,i=i||0,s=s||2*Math.PI,s=Ie.clamp(s,0,2*Math.PI);var v,P,w,c=[],u=[],f=[],_=1/r,y=new J,C=new ce;for(P=0;P<=r;P++){var E=i+P*_*s,S=Math.sin(E),I=Math.cos(E);for(w=0;w<=n.length-1;w++)y.x=n[w].x*S,y.y=n[w].y,y.z=n[w].x*I,u.push(y.x,y.y,y.z),C.x=P/r,C.y=w/(n.length-1),f.push(C.x,C.y)}for(P=0;P<r;P++)for(w=0;w<n.length-1;w++){var B=(v=w+P*n.length)+n.length,V=v+n.length+1,N=v+1;c.push(v,B,N),c.push(B,V,N)}if(this.setIndex(c),this.addAttribute("position",new Fn(u,3)),this.addAttribute("uv",new Fn(f,2)),this.computeVertexNormals(),s===2*Math.PI){var F=this.attributes.normal.array,z=new J,G=new J,q=new J;for(v=r*n.length*3,P=0,w=0;P<n.length;P++,w+=3)z.x=F[w+0],z.y=F[w+1],z.z=F[w+2],G.x=F[v+w+0],G.y=F[v+w+1],G.z=F[v+w+2],q.addVectors(z,G).normalize(),F[w+0]=F[v+w+0]=q.x,F[w+1]=F[v+w+1]=q.y,F[w+2]=F[v+w+2]=q.z}}function Vv(n,r){Nr.call(this),this.type="ShapeGeometry","object"==typeof r&&(console.warn("THREE.ShapeGeometry: Options parameter has been removed."),r=r.curveSegments),this.parameters={shapes:n,curveSegments:r},this.fromBufferGeometry(new dl(n,r)),this.mergeVertices()}function dl(n,r){On.call(this),this.type="ShapeBufferGeometry",this.parameters={shapes:n,curveSegments:r},r=r||12;var s=[],c=[],u=[],f=[],v=0,_=0;if(!1===Array.isArray(n))C(n);else for(var y=0;y<n.length;y++)C(n[y]),this.addGroup(v,_,y),v+=_,_=0;function C(P){var w,E,S,I=c.length/3,L=P.extractPoints(r),B=L.shape,V=L.holes;if(!1===lp.isClockWise(B))for(B=B.reverse(),w=0,E=V.length;w<E;w++)!0===lp.isClockWise(S=V[w])&&(V[w]=S.reverse());var N=lp.triangulateShape(B,V);for(w=0,E=V.length;w<E;w++)B=B.concat(S=V[w]);for(w=0,E=B.length;w<E;w++){var F=B[w];c.push(F.x,F.y,0),u.push(0,0,1),f.push(F.x,F.y)}for(w=0,E=N.length;w<E;w++){var z=N[w];s.push(z[0]+I,z[1]+I,z[2]+I),_+=3}}this.setIndex(s),this.addAttribute("position",new Fn(c,3)),this.addAttribute("normal",new Fn(u,3)),this.addAttribute("uv",new Fn(f,2))}function xd(n,r){On.call(this),this.type="EdgesGeometry",this.parameters={thresholdAngle:r},r=void 0!==r?r:1;var f,v,_,C,i=[],s=Math.cos(Ie.DEG2RAD*r),c=[0,0],u={},y=["a","b","c"];n.isBufferGeometry?(C=new Nr).fromBufferGeometry(n):C=n.clone(),C.mergeVertices(),C.computeFaceNormals();for(var P=C.vertices,w=C.faces,E=0,S=w.length;E<S;E++)for(var I=w[E],L=0;L<3;L++)f=I[y[L]],v=I[y[(L+1)%3]],c[0]=Math.min(f,v),c[1]=Math.max(f,v),void 0===u[_=c[0]+","+c[1]]?u[_]={index1:c[0],index2:c[1],face1:E,face2:void 0}:u[_].face2=E;for(_ in u){var B=u[_];if(void 0===B.face2||w[B.face1].normal.dot(w[B.face2].normal)<=s){var V=P[B.index1];i.push(V.x,V.y,V.z),i.push((V=P[B.index2]).x,V.y,V.z)}}this.addAttribute("position",new Fn(i,3))}function Cd(n,r,i,s,c,u,f,v){Nr.call(this),this.type="CylinderGeometry",this.parameters={radiusTop:n,radiusBottom:r,height:i,radialSegments:s,heightSegments:c,openEnded:u,thetaStart:f,thetaLength:v},this.fromBufferGeometry(new Ou(n,r,i,s,c,u,f,v)),this.mergeVertices()}function Ou(n,r,i,s,c,u,f,v){On.call(this),this.type="CylinderBufferGeometry",this.parameters={radiusTop:n,radiusBottom:r,height:i,radialSegments:s,heightSegments:c,openEnded:u,thetaStart:f,thetaLength:v};var _=this;n=void 0!==n?n:1,r=void 0!==r?r:1,i=i||1,s=Math.floor(s)||8,c=Math.floor(c)||1,u=void 0!==u&&u,f=void 0!==f?f:0,v=void 0!==v?v:2*Math.PI;var y=[],C=[],P=[],w=[],E=0,S=[],I=i/2,L=0;function V(N){var F,z,G,q=new ce,Y=new J,X=0,$=!0===N?n:r,tt=!0===N?1:-1;for(z=E,F=1;F<=s;F++)C.push(0,I*tt,0),P.push(0,tt,0),w.push(.5,.5),E++;for(G=E,F=0;F<=s;F++){var nt=F/s*v+f,et=Math.cos(nt),vt=Math.sin(nt);Y.x=$*vt,Y.y=I*tt,Y.z=$*et,C.push(Y.x,Y.y,Y.z),P.push(0,tt,0),q.x=.5*et+.5,q.y=.5*vt*tt+.5,w.push(q.x,q.y),E++}for(F=0;F<s;F++){var dt=z+F,Dt=G+F;!0===N?y.push(Dt,Dt+1,dt):y.push(Dt+1,Dt,dt),X+=3}_.addGroup(L,X,!0===N?1:2),L+=X}(function(){var N,F,z=new J,G=new J,q=0,Y=(r-n)/i;for(F=0;F<=c;F++){var X=[],$=F/c,tt=$*(r-n)+n;for(N=0;N<=s;N++){var ot=N/s,nt=ot*v+f,et=Math.sin(nt),vt=Math.cos(nt);G.x=tt*et,G.y=-$*i+I,G.z=tt*vt,C.push(G.x,G.y,G.z),z.set(et,Y,vt).normalize(),P.push(z.x,z.y,z.z),w.push(ot,1-$),X.push(E++)}S.push(X)}for(N=0;N<s;N++)for(F=0;F<c;F++){var Dt=S[F+1][N],Et=S[F+1][N+1],Mt=S[F][N+1];y.push(S[F][N],Dt,Mt),y.push(Dt,Et,Mt),q+=6}_.addGroup(L,q,0),L+=q})(),!1===u&&(n>0&&V(!0),r>0&&V(!1)),this.setIndex(y),this.addAttribute("position",new Fn(C,3)),this.addAttribute("normal",new Fn(P,3)),this.addAttribute("uv",new Fn(w,2))}function zv(n,r,i,s,c,u,f){Cd.call(this,0,n,r,i,s,c,u,f),this.type="ConeGeometry",this.parameters={radius:n,height:r,radialSegments:i,heightSegments:s,openEnded:c,thetaStart:u,thetaLength:f}}function Ob(n,r,i,s,c,u,f){Ou.call(this,0,n,r,i,s,c,u,f),this.type="ConeBufferGeometry",this.parameters={radius:n,height:r,radialSegments:i,heightSegments:s,openEnded:c,thetaStart:u,thetaLength:f}}function YP(n,r,i,s){Nr.call(this),this.type="CircleGeometry",this.parameters={radius:n,segments:r,thetaStart:i,thetaLength:s},this.fromBufferGeometry(new Hv(n,r,i,s)),this.mergeVertices()}function Hv(n,r,i,s){On.call(this),this.type="CircleBufferGeometry",this.parameters={radius:n,segments:r,thetaStart:i,thetaLength:s},n=n||1,r=void 0!==r?Math.max(3,r):8,i=void 0!==i?i:0,s=void 0!==s?s:2*Math.PI;var _,y,c=[],u=[],f=[],v=[],C=new J,P=new ce;for(u.push(0,0,0),f.push(0,0,1),v.push(.5,.5),y=0,_=3;y<=r;y++,_+=3){var w=i+y/r*s;C.x=n*Math.cos(w),C.y=n*Math.sin(w),u.push(C.x,C.y,C.z),f.push(0,0,1),P.x=(u[_]/n+1)/2,P.y=(u[_+1]/n+1)/2,v.push(P.x,P.y)}for(_=1;_<=r;_++)c.push(_,_+1,0);this.setIndex(c),this.addAttribute("position",new Fn(u,3)),this.addAttribute("normal",new Fn(f,3)),this.addAttribute("uv",new Fn(v,2))}(up.prototype=Object.create(Nr.prototype)).constructor=up,(yd.prototype=Object.create(On.prototype)).constructor=yd,yd.prototype.getArrays=function(){var n=this.getAttribute("position"),r=n?Array.prototype.slice.call(n.array):[],i=this.getAttribute("uv"),s=i?Array.prototype.slice.call(i.array):[],c=this.index;return{position:r,uv:s,index:c?Array.prototype.slice.call(c.array):[]}},yd.prototype.addShapeList=function(n,r){var s=n.length;r.arrays=this.getArrays();for(var c=0;c<s;c++)this.addShape(n[c],r);this.setIndex(r.arrays.index),this.addAttribute("position",new Fn(r.arrays.position,3)),this.addAttribute("uv",new Fn(r.arrays.uv,2))},yd.prototype.addShape=function(n,r){var I,V,N,F,z,i=r.arrays?r.arrays:this.getArrays(),s=i.position,c=i.index,u=i.uv,f=[],v=void 0!==r.amount?r.amount:100,_=void 0!==r.bevelThickness?r.bevelThickness:6,y=void 0!==r.bevelSize?r.bevelSize:_-2,C=void 0!==r.bevelSegments?r.bevelSegments:3,P=void 0===r.bevelEnabled||r.bevelEnabled,w=void 0!==r.curveSegments?r.curveSegments:12,E=void 0!==r.steps?r.steps:1,S=r.extrudePath,L=!1,B=void 0!==r.UVGenerator?r.UVGenerator:up.WorldUVGenerator;S&&(I=S.getSpacedPoints(E),L=!0,P=!1,V=void 0!==r.frames?r.frames:S.computeFrenetFrames(E,!1),N=new J,F=new J,z=new J),P||(C=0,_=0,y=0);var G,q,Y,X=this,$=n.extractPoints(w),tt=$.shape,ot=$.holes;if(!lp.isClockWise(tt))for(tt=tt.reverse(),q=0,Y=ot.length;q<Y;q++)lp.isClockWise(G=ot[q])&&(ot[q]=G.reverse());var et=lp.triangulateShape(tt,ot),vt=tt;for(q=0,Y=ot.length;q<Y;q++)tt=tt.concat(G=ot[q]);function dt(Rn,Xt,Fe){return Xt||console.error("THREE.ExtrudeGeometry: vec does not exist"),Xt.clone().multiplyScalar(Fe).add(Rn)}var Dt,Et,Mt,st,ht,Lt,Ft=tt.length,$t=et.length;function ft(Rn,Xt,Fe){var nn,An,yn,lr=Rn.x-Xt.x,En=Rn.y-Xt.y,Gr=Fe.x-Rn.x,Kr=Fe.y-Rn.y,Kn=lr*lr+En*En;if(Math.abs(lr*Kr-En*Gr)>Number.EPSILON){var ho=Math.sqrt(Kn),ws=Math.sqrt(Gr*Gr+Kr*Kr),xo=Xt.x-En/ho,Ks=Xt.y+lr/ho,ui=((Fe.x-Kr/ws-xo)*Kr-(Fe.y+Gr/ws-Ks)*Gr)/(lr*Kr-En*Gr),kr=(nn=xo+lr*ui-Rn.x)*nn+(An=Ks+En*ui-Rn.y)*An;if(kr<=2)return new ce(nn,An);yn=Math.sqrt(kr/2)}else{var hr=!1;lr>Number.EPSILON?Gr>Number.EPSILON&&(hr=!0):lr<-Number.EPSILON?Gr<-Number.EPSILON&&(hr=!0):Math.sign(En)===Math.sign(Kr)&&(hr=!0),hr?(nn=-En,An=lr,yn=Math.sqrt(Kn)):(nn=lr,An=En,yn=Math.sqrt(Kn/2))}return new ce(nn/yn,An/yn)}for(var Zt=[],bt=0,Gt=vt.length,Nt=Gt-1,le=bt+1;bt<Gt;bt++,Nt++,le++)Nt===Gt&&(Nt=0),le===Gt&&(le=0),Zt[bt]=ft(vt[bt],vt[Nt],vt[le]);var tn,pe,Oe=[],ge=Zt.concat();for(q=0,Y=ot.length;q<Y;q++){for(tn=[],Nt=(Gt=(G=ot[q]).length)-1,le=1+(bt=0);bt<Gt;bt++,Nt++,le++)Nt===Gt&&(Nt=0),le===Gt&&(le=0),tn[bt]=ft(G[bt],G[Nt],G[le]);Oe.push(tn),ge=ge.concat(tn)}for(Dt=0;Dt<C;Dt++){for(Mt=Dt/C,st=_*Math.cos(Mt*Math.PI/2),Et=y*Math.sin(Mt*Math.PI/2),bt=0,Gt=vt.length;bt<Gt;bt++)Pe((ht=dt(vt[bt],Zt[bt],Et)).x,ht.y,-st);for(q=0,Y=ot.length;q<Y;q++)for(tn=Oe[q],bt=0,Gt=(G=ot[q]).length;bt<Gt;bt++)Pe((ht=dt(G[bt],tn[bt],Et)).x,ht.y,-st)}for(Et=y,bt=0;bt<Ft;bt++)ht=P?dt(tt[bt],ge[bt],Et):tt[bt],L?(F.copy(V.normals[0]).multiplyScalar(ht.x),N.copy(V.binormals[0]).multiplyScalar(ht.y),z.copy(I[0]).add(F).add(N),Pe(z.x,z.y,z.z)):Pe(ht.x,ht.y,0);for(pe=1;pe<=E;pe++)for(bt=0;bt<Ft;bt++)ht=P?dt(tt[bt],ge[bt],Et):tt[bt],L?(F.copy(V.normals[pe]).multiplyScalar(ht.x),N.copy(V.binormals[pe]).multiplyScalar(ht.y),z.copy(I[pe]).add(F).add(N),Pe(z.x,z.y,z.z)):Pe(ht.x,ht.y,v/E*pe);for(Dt=C-1;Dt>=0;Dt--){for(Mt=Dt/C,st=_*Math.cos(Mt*Math.PI/2),Et=y*Math.sin(Mt*Math.PI/2),bt=0,Gt=vt.length;bt<Gt;bt++)Pe((ht=dt(vt[bt],Zt[bt],Et)).x,ht.y,v+st);for(q=0,Y=ot.length;q<Y;q++)for(tn=Oe[q],bt=0,Gt=(G=ot[q]).length;bt<Gt;bt++)ht=dt(G[bt],tn[bt],Et),L?Pe(ht.x,ht.y+I[E-1].y,I[E-1].x+st):Pe(ht.x,ht.y,v+st)}function $e(Rn,Xt){var Fe,nn;for(bt=Rn.length;--bt>=0;){Fe=bt,(nn=bt-1)<0&&(nn=Rn.length-1);var An=0,yn=E+2*C;for(An=0;An<yn;An++){var lr=Ft*An,En=Ft*(An+1);en(Xt+Fe+lr,Xt+nn+lr,Xt+nn+En,Xt+Fe+En)}}}function Pe(Rn,Xt,Fe){f.push(Rn),f.push(Xt),f.push(Fe)}function Ue(Rn,Xt,Fe){Yn(Rn),Yn(Xt),Yn(Fe);var nn=s.length/3,An=B.generateTopUV(X,s,nn-3,nn-2,nn-1);yr(An[0]),yr(An[1]),yr(An[2])}function en(Rn,Xt,Fe,nn){Yn(Rn),Yn(Xt),Yn(nn),Yn(Xt),Yn(Fe),Yn(nn);var An=s.length/3,yn=B.generateSideWallUV(X,s,An-6,An-3,An-2,An-1);yr(yn[0]),yr(yn[1]),yr(yn[3]),yr(yn[1]),yr(yn[2]),yr(yn[3])}function Yn(Rn){c.push(s.length/3),s.push(f[3*Rn+0]),s.push(f[3*Rn+1]),s.push(f[3*Rn+2])}function yr(Rn){u.push(Rn.x),u.push(Rn.y)}(function(){var Rn=s.length/3;if(P){var Xt=0,Fe=Ft*Xt;for(bt=0;bt<$t;bt++)Ue((Lt=et[bt])[2]+Fe,Lt[1]+Fe,Lt[0]+Fe);for(Fe=Ft*(Xt=E+2*C),bt=0;bt<$t;bt++)Ue((Lt=et[bt])[0]+Fe,Lt[1]+Fe,Lt[2]+Fe)}else{for(bt=0;bt<$t;bt++)Ue((Lt=et[bt])[2],Lt[1],Lt[0]);for(bt=0;bt<$t;bt++)Ue((Lt=et[bt])[0]+Ft*E,Lt[1]+Ft*E,Lt[2]+Ft*E)}X.addGroup(Rn,s.length/3-Rn,void 0!==r.material?r.material:0)})(),function(){var Rn=s.length/3,Xt=0;for($e(vt,Xt),Xt+=vt.length,q=0,Y=ot.length;q<Y;q++)$e(G=ot[q],Xt),Xt+=G.length;X.addGroup(Rn,s.length/3-Rn,void 0!==r.extrudeMaterial?r.extrudeMaterial:1)}(),r.arrays||(this.setIndex(c),this.addAttribute("position",new Fn(s,3)),this.addAttribute("uv",new Fn(r.arrays.uv,2)))},up.WorldUVGenerator={generateTopUV:function(n,r,i,s,c){var v=r[3*s],_=r[3*s+1],y=r[3*c],C=r[3*c+1];return[new ce(r[3*i],r[3*i+1]),new ce(v,_),new ce(y,C)]},generateSideWallUV:function(n,r,i,s,c,u){var f=r[3*i],v=r[3*i+1],_=r[3*i+2],y=r[3*s],C=r[3*s+1],P=r[3*s+2],w=r[3*c],E=r[3*c+1],S=r[3*c+2],I=r[3*u],L=r[3*u+1],B=r[3*u+2];return Math.abs(v-C)<.01?[new ce(f,1-_),new ce(y,1-P),new ce(w,1-S),new ce(I,1-B)]:[new ce(v,1-_),new ce(C,1-P),new ce(E,1-S),new ce(L,1-B)]}},(Ig.prototype=Object.create(Nr.prototype)).constructor=Ig,(Bv.prototype=Object.create(yd.prototype)).constructor=Bv,(Uv.prototype=Object.create(Nr.prototype)).constructor=Uv,(af.prototype=Object.create(On.prototype)).constructor=af,(MC.prototype=Object.create(Nr.prototype)).constructor=MC,(Rg.prototype=Object.create(On.prototype)).constructor=Rg,(wb.prototype=Object.create(Nr.prototype)).constructor=wb,(oh.prototype=Object.create(On.prototype)).constructor=oh,(Vv.prototype=Object.create(Nr.prototype)).constructor=Vv,(dl.prototype=Object.create(On.prototype)).constructor=dl,(xd.prototype=Object.create(On.prototype)).constructor=xd,(Cd.prototype=Object.create(Nr.prototype)).constructor=Cd,(Ou.prototype=Object.create(On.prototype)).constructor=Ou,(zv.prototype=Object.create(Cd.prototype)).constructor=zv,(Ob.prototype=Object.create(Ou.prototype)).constructor=Ob,(YP.prototype=Object.create(Nr.prototype)).constructor=YP,(Hv.prototype=Object.create(On.prototype)).constructor=Hv;var pl=Object.freeze({WireframeGeometry:yC,ParametricGeometry:xC,ParametricBufferGeometry:CC,TetrahedronGeometry:Cb,TetrahedronBufferGeometry:Tg,OctahedronGeometry:Mb,OctahedronBufferGeometry:Hl,IcosahedronGeometry:Pb,IcosahedronBufferGeometry:rh,DodecahedronGeometry:Fv,DodecahedronBufferGeometry:Gl,PolyhedronGeometry:ap,PolyhedronBufferGeometry:Gc,TubeGeometry:sf,TubeBufferGeometry:ul,TorusKnotGeometry:cp,TorusKnotBufferGeometry:Nv,TorusGeometry:ih,TorusBufferGeometry:Dg,TextGeometry:Ig,TextBufferGeometry:Bv,SphereGeometry:Uv,SphereBufferGeometry:af,RingGeometry:MC,RingBufferGeometry:Rg,PlaneGeometry:na,PlaneBufferGeometry:Pu,LatheGeometry:wb,LatheBufferGeometry:oh,ShapeGeometry:Vv,ShapeBufferGeometry:dl,ExtrudeGeometry:up,ExtrudeBufferGeometry:yd,EdgesGeometry:xd,ConeGeometry:zv,ConeBufferGeometry:Ob,CylinderGeometry:Cd,CylinderBufferGeometry:Ou,CircleGeometry:YP,CircleBufferGeometry:Hv,BoxGeometry:Ts,BoxBufferGeometry:yc});function kg(n){oi.call(this),this.type="ShadowMaterial",this.color=new cn(0),this.opacity=1,this.lights=!0,this.transparent=!0,this.setValues(n)}function Lg(n){Za.call(this,n),this.type="RawShaderMaterial"}function sh(n){oi.call(this),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new cn(16777215),this.roughness=.5,this.metalness=.5,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function cf(n){sh.call(this),this.defines={PHYSICAL:""},this.type="MeshPhysicalMaterial",this.reflectivity=.5,this.clearCoat=0,this.clearCoatRoughness=0,this.setValues(n)}function Md(n){oi.call(this),this.type="MeshPhongMaterial",this.color=new cn(16777215),this.specular=new cn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function lf(n){Md.call(this),this.defines={TOON:""},this.type="MeshToonMaterial",this.gradientMap=null,this.setValues(n)}function Gv(n){oi.call(this),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalScale=new ce(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function Fg(n){oi.call(this),this.type="MeshLambertMaterial",this.color=new cn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new cn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.skinning=!1,this.morphTargets=!1,this.morphNormals=!1,this.setValues(n)}function Ng(n){bs.call(this),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(n)}(kg.prototype=Object.create(oi.prototype)).constructor=kg,kg.prototype.isShadowMaterial=!0,(Lg.prototype=Object.create(Za.prototype)).constructor=Lg,Lg.prototype.isRawShaderMaterial=!0,(sh.prototype=Object.create(oi.prototype)).constructor=sh,sh.prototype.isMeshStandardMaterial=!0,sh.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.defines={STANDARD:""},this.color.copy(n.color),this.roughness=n.roughness,this.metalness=n.metalness,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.roughnessMap=n.roughnessMap,this.metalnessMap=n.metalnessMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.envMapIntensity=n.envMapIntensity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},(cf.prototype=Object.create(sh.prototype)).constructor=cf,cf.prototype.isMeshPhysicalMaterial=!0,cf.prototype.copy=function(n){return sh.prototype.copy.call(this,n),this.defines={PHYSICAL:""},this.reflectivity=n.reflectivity,this.clearCoat=n.clearCoat,this.clearCoatRoughness=n.clearCoatRoughness,this},(Md.prototype=Object.create(oi.prototype)).constructor=Md,Md.prototype.isMeshPhongMaterial=!0,Md.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.color.copy(n.color),this.specular.copy(n.specular),this.shininess=n.shininess,this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},(lf.prototype=Object.create(Md.prototype)).constructor=lf,lf.prototype.isMeshToonMaterial=!0,lf.prototype.copy=function(n){return Md.prototype.copy.call(this,n),this.gradientMap=n.gradientMap,this},(Gv.prototype=Object.create(oi.prototype)).constructor=Gv,Gv.prototype.isMeshNormalMaterial=!0,Gv.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.bumpMap=n.bumpMap,this.bumpScale=n.bumpScale,this.normalMap=n.normalMap,this.normalScale.copy(n.normalScale),this.displacementMap=n.displacementMap,this.displacementScale=n.displacementScale,this.displacementBias=n.displacementBias,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},(Fg.prototype=Object.create(oi.prototype)).constructor=Fg,Fg.prototype.isMeshLambertMaterial=!0,Fg.prototype.copy=function(n){return oi.prototype.copy.call(this,n),this.color.copy(n.color),this.map=n.map,this.lightMap=n.lightMap,this.lightMapIntensity=n.lightMapIntensity,this.aoMap=n.aoMap,this.aoMapIntensity=n.aoMapIntensity,this.emissive.copy(n.emissive),this.emissiveMap=n.emissiveMap,this.emissiveIntensity=n.emissiveIntensity,this.specularMap=n.specularMap,this.alphaMap=n.alphaMap,this.envMap=n.envMap,this.combine=n.combine,this.reflectivity=n.reflectivity,this.refractionRatio=n.refractionRatio,this.wireframe=n.wireframe,this.wireframeLinewidth=n.wireframeLinewidth,this.wireframeLinecap=n.wireframeLinecap,this.wireframeLinejoin=n.wireframeLinejoin,this.skinning=n.skinning,this.morphTargets=n.morphTargets,this.morphNormals=n.morphNormals,this},(Ng.prototype=Object.create(bs.prototype)).constructor=Ng,Ng.prototype.isLineDashedMaterial=!0,Ng.prototype.copy=function(n){return bs.prototype.copy.call(this,n),this.scale=n.scale,this.dashSize=n.dashSize,this.gapSize=n.gapSize,this};var qE=Object.freeze({ShadowMaterial:kg,SpriteMaterial:wu,RawShaderMaterial:Lg,ShaderMaterial:Za,PointsMaterial:op,MeshPhysicalMaterial:cf,MeshStandardMaterial:sh,MeshPhongMaterial:Md,MeshToonMaterial:lf,MeshNormalMaterial:Gv,MeshLambertMaterial:Fg,MeshDepthMaterial:xu,MeshDistanceMaterial:Cu,MeshBasicMaterial:pa,LineDashedMaterial:Ng,LineBasicMaterial:bs,Material:oi}),Bg={enabled:!1,files:{},add:function(n,r){!1!==this.enabled&&(this.files[n]=r)},get:function(n){if(!1!==this.enabled)return this.files[n]},remove:function(n){delete this.files[n]},clear:function(){this.files={}}};function PC(n,r,i){var s=this,c=!1,u=0,f=0,v=void 0;this.onStart=void 0,this.onLoad=n,this.onProgress=r,this.onError=i,this.itemStart=function(_){f++,!1===c&&void 0!==s.onStart&&s.onStart(_,u,f),c=!0},this.itemEnd=function(_){u++,void 0!==s.onProgress&&s.onProgress(_,u,f),u===f&&(c=!1,void 0!==s.onLoad&&s.onLoad())},this.itemError=function(_){void 0!==s.onError&&s.onError(_)},this.resolveURL=function(_){return v?v(_):_},this.setURLModifier=function(_){v=_}}var hl=new PC,Pd={};function ki(n){this.manager=void 0!==n?n:hl}function jv(n){this.manager=void 0!==n?n:hl}function YE(n){this.manager=void 0!==n?n:hl}function js(n,r){Ln.call(this),this.type="Light",this.color=new cn(n),this.intensity=void 0!==r?r:1,this.receiveShadow=void 0}function Vg(n,r,i){js.call(this,n,i),this.type="HemisphereLight",this.castShadow=void 0,this.position.copy(Ln.DefaultUp),this.updateMatrix(),this.groundColor=new cn(r)}function dp(n){this.camera=n,this.bias=0,this.radius=1,this.mapSize=new ce(512,512),this.map=null,this.matrix=new ye}function wC(){dp.call(this,new ra(50,1,.5,500))}function OC(n,r,i,s,c,u){js.call(this,n,r),this.type="SpotLight",this.position.copy(Ln.DefaultUp),this.updateMatrix(),this.target=new Ln,Object.defineProperty(this,"power",{get:function(){return this.intensity*Math.PI},set:function(f){this.intensity=f/Math.PI}}),this.distance=void 0!==i?i:0,this.angle=void 0!==s?s:Math.PI/3,this.penumbra=void 0!==c?c:0,this.decay=void 0!==u?u:1,this.shadow=new wC}function XE(n,r,i,s){js.call(this,n,r),this.type="PointLight",Object.defineProperty(this,"power",{get:function(){return 4*this.intensity*Math.PI},set:function(c){this.intensity=c/(4*Math.PI)}}),this.distance=void 0!==i?i:0,this.decay=void 0!==s?s:1,this.shadow=new dp(new ra(90,1,.5,500))}function zg(){dp.call(this,new al(-5,5,5,-5,.5,500))}function ha(n,r){js.call(this,n,r),this.type="DirectionalLight",this.position.copy(Ln.DefaultUp),this.updateMatrix(),this.target=new Ln,this.shadow=new zg}function Ja(n,r){js.call(this,n,r),this.type="AmbientLight",this.castShadow=void 0}function Eb(n,r,i,s){js.call(this,n,r),this.type="RectAreaLight",this.position.set(0,1,0),this.updateMatrix(),this.width=void 0!==i?i:10,this.height=void 0!==s?s:10}Object.assign(ki.prototype,{load:function(n,r,i,s){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);var u=this,f=Bg.get(n);if(void 0!==f)return u.manager.itemStart(n),setTimeout(function(){r&&r(f),u.manager.itemEnd(n)},0),f;if(void 0===Pd[n]){var _=n.match(/^data:(.*?)(;base64)?,(.*)$/);if(_){var y=_[1],C=!!_[2],P=_[3];P=window.decodeURIComponent(P),C&&(P=window.atob(P));try{var w,E=(this.responseType||"").toLowerCase();switch(E){case"arraybuffer":case"blob":for(var S=new Uint8Array(P.length),I=0;I<P.length;I++)S[I]=P.charCodeAt(I);w="blob"===E?new Blob([S.buffer],{type:y}):S.buffer;break;case"document":var L=new DOMParser;w=L.parseFromString(P,y);break;case"json":w=JSON.parse(P);break;default:w=P}window.setTimeout(function(){r&&r(w),u.manager.itemEnd(n)},0)}catch(N){window.setTimeout(function(){s&&s(N),u.manager.itemEnd(n),u.manager.itemError(n)},0)}}else{Pd[n]=[],Pd[n].push({onLoad:r,onProgress:i,onError:s});var B=new XMLHttpRequest;for(var V in B.open("GET",n,!0),B.addEventListener("load",function(N){var F=N.target.response;Bg.add(n,F);var z=Pd[n];if(delete Pd[n],200===this.status){for(var G=0,q=z.length;G<q;G++)(Y=z[G]).onLoad&&Y.onLoad(F);u.manager.itemEnd(n)}else if(0===this.status){for(console.warn("THREE.FileLoader: HTTP Status 0 received."),G=0,q=z.length;G<q;G++)(Y=z[G]).onLoad&&Y.onLoad(F);u.manager.itemEnd(n)}else{for(G=0,q=z.length;G<q;G++){var Y;(Y=z[G]).onError&&Y.onError(N)}u.manager.itemEnd(n),u.manager.itemError(n)}},!1),B.addEventListener("progress",function(N){for(var F=Pd[n],z=0,G=F.length;z<G;z++){var q=F[z];q.onProgress&&q.onProgress(N)}},!1),B.addEventListener("error",function(N){var F=Pd[n];delete Pd[n];for(var z=0,G=F.length;z<G;z++){var q=F[z];q.onError&&q.onError(N)}u.manager.itemEnd(n),u.manager.itemError(n)},!1),void 0!==this.responseType&&(B.responseType=this.responseType),void 0!==this.withCredentials&&(B.withCredentials=this.withCredentials),B.overrideMimeType&&B.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain"),this.requestHeader)B.setRequestHeader(V,this.requestHeader[V]);B.send(null)}return u.manager.itemStart(n),B}Pd[n].push({onLoad:r,onProgress:i,onError:s})},setPath:function(n){return this.path=n,this},setResponseType:function(n){return this.responseType=n,this},setWithCredentials:function(n){return this.withCredentials=n,this},setMimeType:function(n){return this.mimeType=n,this},setRequestHeader:function(n){return this.requestHeader=n,this}}),Object.assign(function(n){this.manager=void 0!==n?n:hl,this._parser=null}.prototype,{load:function(n,r,i,s){var c=this,u=[],f=new of;f.image=u;var v=new ki(this.manager);function _(w){v.load(n[w],function(E){var S=c._parser(E,!0);u[w]={width:S.width,height:S.height,format:S.format,mipmaps:S.mipmaps},6===(y+=1)&&(1===S.mipmapCount&&(f.minFilter=Sa),f.format=S.format,f.needsUpdate=!0,r&&r(f))},i,s)}if(v.setPath(this.path),v.setResponseType("arraybuffer"),Array.isArray(n))for(var y=0,C=0,P=n.length;C<P;++C)_(C);else v.load(n,function(w){var E=c._parser(w,!0);if(E.isCubemap)for(var S=E.mipmaps.length/E.mipmapCount,I=0;I<S;I++){u[I]={mipmaps:[]};for(var L=0;L<E.mipmapCount;L++)u[I].mipmaps.push(E.mipmaps[I*E.mipmapCount+L]),u[I].format=E.format,u[I].width=E.width,u[I].height=E.height}else f.image.width=E.width,f.image.height=E.height,f.mipmaps=E.mipmaps;1===E.mipmapCount&&(f.minFilter=Sa),f.format=E.format,f.needsUpdate=!0,r&&r(f)},i,s);return f},setPath:function(n){return this.path=n,this}}),Object.assign(function(n){this.manager=void 0!==n?n:hl,this._parser=null}.prototype,{load:function(n,r,i,s){var c=this,u=new Jh,f=new ki(this.manager);return f.setResponseType("arraybuffer"),f.load(n,function(v){var _=c._parser(v);!_||(void 0!==_.image?u.image=_.image:void 0!==_.data&&(u.image.width=_.width,u.image.height=_.height,u.image.data=_.data),u.wrapS=void 0!==_.wrapS?_.wrapS:gc,u.wrapT=void 0!==_.wrapT?_.wrapT:gc,u.magFilter=void 0!==_.magFilter?_.magFilter:Sa,u.minFilter=void 0!==_.minFilter?_.minFilter:1008,u.anisotropy=void 0!==_.anisotropy?_.anisotropy:1,void 0!==_.format&&(u.format=_.format),void 0!==_.type&&(u.type=_.type),void 0!==_.mipmaps&&(u.mipmaps=_.mipmaps),1===_.mipmapCount&&(u.minFilter=Sa),u.needsUpdate=!0,r&&r(u,_))},i,s),u}}),Object.assign(jv.prototype,{crossOrigin:"Anonymous",load:function(n,r,i,s){void 0===n&&(n=""),void 0!==this.path&&(n=this.path+n),n=this.manager.resolveURL(n);var c=this,u=Bg.get(n);if(void 0!==u)return c.manager.itemStart(n),setTimeout(function(){r&&r(u),c.manager.itemEnd(n)},0),u;var f=document.createElementNS("http://www.w3.org/1999/xhtml","img");return f.addEventListener("load",function(){Bg.add(n,this),r&&r(this),c.manager.itemEnd(n)},!1),f.addEventListener("error",function(v){s&&s(v),c.manager.itemEnd(n),c.manager.itemError(n)},!1),"data:"!==n.substr(0,5)&&void 0!==this.crossOrigin&&(f.crossOrigin=this.crossOrigin),c.manager.itemStart(n),f.src=n,f},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}}),Object.assign(function(n){this.manager=void 0!==n?n:hl}.prototype,{crossOrigin:"Anonymous",load:function(n,r,i,s){var c=new yg,u=new jv(this.manager);u.setCrossOrigin(this.crossOrigin),u.setPath(this.path);var f=0;function v(y){u.load(n[y],function(C){c.images[y]=C,6==++f&&(c.needsUpdate=!0,r&&r(c))},void 0,s)}for(var _=0;_<n.length;++_)v(_);return c},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}}),Object.assign(YE.prototype,{crossOrigin:"Anonymous",load:function(n,r,i,s){var c=new jv(this.manager);c.setCrossOrigin(this.crossOrigin),c.setPath(this.path);var u=new Si;return u.image=c.load(n,function(){var f=n.search(/\.(jpg|jpeg)$/)>0||0===n.search(/^data\:image\/jpeg/);u.format=f?Qp:rl,u.needsUpdate=!0,void 0!==r&&r(u)},i,s),u},setCrossOrigin:function(n){return this.crossOrigin=n,this},setPath:function(n){return this.path=n,this}}),js.prototype=Object.assign(Object.create(Ln.prototype),{constructor:js,isLight:!0,copy:function(n){return Ln.prototype.copy.call(this,n),this.color.copy(n.color),this.intensity=n.intensity,this},toJSON:function(n){var r=Ln.prototype.toJSON.call(this,n);return r.object.color=this.color.getHex(),r.object.intensity=this.intensity,void 0!==this.groundColor&&(r.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(r.object.distance=this.distance),void 0!==this.angle&&(r.object.angle=this.angle),void 0!==this.decay&&(r.object.decay=this.decay),void 0!==this.penumbra&&(r.object.penumbra=this.penumbra),void 0!==this.shadow&&(r.object.shadow=this.shadow.toJSON()),r}}),Vg.prototype=Object.assign(Object.create(js.prototype),{constructor:Vg,isHemisphereLight:!0,copy:function(n){return js.prototype.copy.call(this,n),this.groundColor.copy(n.groundColor),this}}),Object.assign(dp.prototype,{copy:function(n){return this.camera=n.camera.clone(),this.bias=n.bias,this.radius=n.radius,this.mapSize.copy(n.mapSize),this},clone:function(){return(new this.constructor).copy(this)},toJSON:function(){var n={};return 0!==this.bias&&(n.bias=this.bias),1!==this.radius&&(n.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(n.mapSize=this.mapSize.toArray()),n.camera=this.camera.toJSON(!1).object,delete n.camera.matrix,n}}),wC.prototype=Object.assign(Object.create(dp.prototype),{constructor:wC,isSpotLightShadow:!0,update:function(n){var r=this.camera,i=2*Ie.RAD2DEG*n.angle,s=this.mapSize.width/this.mapSize.height,c=n.distance||r.far;(i!==r.fov||s!==r.aspect||c!==r.far)&&(r.fov=i,r.aspect=s,r.far=c,r.updateProjectionMatrix())}}),OC.prototype=Object.assign(Object.create(js.prototype),{constructor:OC,isSpotLight:!0,copy:function(n){return js.prototype.copy.call(this,n),this.distance=n.distance,this.angle=n.angle,this.penumbra=n.penumbra,this.decay=n.decay,this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),XE.prototype=Object.assign(Object.create(js.prototype),{constructor:XE,isPointLight:!0,copy:function(n){return js.prototype.copy.call(this,n),this.distance=n.distance,this.decay=n.decay,this.shadow=n.shadow.clone(),this}}),zg.prototype=Object.assign(Object.create(dp.prototype),{constructor:zg}),ha.prototype=Object.assign(Object.create(js.prototype),{constructor:ha,isDirectionalLight:!0,copy:function(n){return js.prototype.copy.call(this,n),this.target=n.target.clone(),this.shadow=n.shadow.clone(),this}}),Ja.prototype=Object.assign(Object.create(js.prototype),{constructor:Ja,isAmbientLight:!0}),Eb.prototype=Object.assign(Object.create(js.prototype),{constructor:Eb,isRectAreaLight:!0,copy:function(n){return js.prototype.copy.call(this,n),this.width=n.width,this.height=n.height,this},toJSON:function(n){var r=js.prototype.toJSON.call(this,n);return r.object.width=this.width,r.object.height=this.height,r}});var ah,tc={arraySlice:function(n,r,i){return tc.isTypedArray(n)?new n.constructor(n.subarray(r,void 0!==i?i:n.length)):n.slice(r,i)},convertArray:function(n,r,i){return!n||!i&&n.constructor===r?n:"number"==typeof r.BYTES_PER_ELEMENT?new r(n):Array.prototype.slice.call(n)},isTypedArray:function(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)},getKeyframeOrder:function(n){for(var i=n.length,s=new Array(i),c=0;c!==i;++c)s[c]=c;return s.sort(function(u,f){return n[u]-n[f]}),s},sortedArray:function(n,r,i){for(var s=n.length,c=new n.constructor(s),u=0,f=0;f!==s;++u)for(var v=i[u]*r,_=0;_!==r;++_)c[f++]=n[v+_];return c},flattenJSON:function(n,r,i,s){for(var c=1,u=n[0];void 0!==u&&void 0===u[s];)u=n[c++];if(void 0!==u){var f=u[s];if(void 0!==f)if(Array.isArray(f))do{void 0!==(f=u[s])&&(r.push(u.time),i.push.apply(i,f)),u=n[c++]}while(void 0!==u);else if(void 0!==f.toArray)do{void 0!==(f=u[s])&&(r.push(u.time),f.toArray(i,i.length)),u=n[c++]}while(void 0!==u);else do{void 0!==(f=u[s])&&(r.push(u.time),i.push(f)),u=n[c++]}while(void 0!==u)}}};function Ao(n,r,i,s){this.parameterPositions=n,this._cachedIndex=0,this.resultBuffer=void 0!==s?s:new r.constructor(i),this.sampleValues=r,this.valueSize=i}function pp(n,r,i,s){Ao.call(this,n,r,i,s),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0}function Wv(n,r,i,s){Ao.call(this,n,r,i,s)}function XP(n,r,i,s){Ao.call(this,n,r,i,s)}function uf(n,r,i,s){if(void 0===n)throw new Error("track name is undefined");if(void 0===r||0===r.length)throw new Error("no keyframes in track named "+n);this.name=n,this.times=tc.convertArray(r,this.TimeBufferType),this.values=tc.convertArray(i,this.ValueBufferType),this.setInterpolation(s||this.DefaultInterpolation),this.validate(),this.optimize()}function df(n,r,i,s){uf.call(this,n,r,i,s)}function Sb(n,r,i,s){Ao.call(this,n,r,i,s)}function Ab(n,r,i,s){uf.call(this,n,r,i,s)}function hp(n,r,i,s){uf.call(this,n,r,i,s)}function EC(n,r,i,s){uf.call(this,n,r,i,s)}function qv(n,r,i){uf.call(this,n,r,i)}function SC(n,r,i,s){uf.call(this,n,r,i,s)}function Hg(n,r,i,s){uf.apply(this,n,r,i,s)}function jl(n,r,i){this.name=n,this.tracks=i,this.duration=void 0!==r?r:-1,this.uuid=Ie.generateUUID(),this.duration<0&&this.resetDuration(),this.optimize()}function AC(n){this.manager=void 0!==n?n:hl,this.textures={}}function ZE(n){this.manager=void 0!==n?n:hl}Object.assign(Ao.prototype,{evaluate:function(n){var r=this,i=this.parameterPositions,s=this._cachedIndex,c=i[s],u=i[s-1];t:{e:{var f;n:{r:if(!(n<c)){for(var v=s+2;;){if(void 0===c){if(n<u)break r;return r._cachedIndex=s=i.length,r.afterEnd_(s-1,n,u)}if(s===v)break;if(u=c,n<(c=i[++s]))break e}f=i.length;break n}if(n>=u)break t;var _=i[1];for(n<_&&(s=2,u=_),v=s-2;;){if(void 0===u)return r._cachedIndex=0,r.beforeStart_(0,n,c);if(s===v)break;if(c=u,n>=(u=i[--s-1]))break e}f=s,s=0}for(;s<f;){var y=s+f>>>1;n<i[y]?f=y:s=y+1}if(c=i[s],void 0===(u=i[s-1]))return this._cachedIndex=0,this.beforeStart_(0,n,c);if(void 0===c)return this._cachedIndex=s=i.length,this.afterEnd_(s-1,u,n)}this._cachedIndex=s,this.intervalChanged_(s,u,c)}return this.interpolate_(s,u,n,c)},settings:null,DefaultSettings_:{},getSettings_:function(){return this.settings||this.DefaultSettings_},copySampleValue_:function(n){for(var r=this.resultBuffer,i=this.sampleValues,s=this.valueSize,c=n*s,u=0;u!==s;++u)r[u]=i[c+u];return r},interpolate_:function(){throw new Error("call to abstract method")},intervalChanged_:function(){}}),Object.assign(Ao.prototype,{beforeStart_:Ao.prototype.copySampleValue_,afterEnd_:Ao.prototype.copySampleValue_}),pp.prototype=Object.assign(Object.create(Ao.prototype),{constructor:pp,DefaultSettings_:{endingStart:Ar,endingEnd:Ar},intervalChanged_:function(n,r,i){var s=this.parameterPositions,c=n-2,u=n+1,f=s[c],v=s[u];if(void 0===f)switch(this.getSettings_().endingStart){case ol:c=n,f=2*r-i;break;case 2402:f=r+s[c=s.length-2]-s[c+1];break;default:c=n,f=i}if(void 0===v)switch(this.getSettings_().endingEnd){case ol:u=n,v=2*i-r;break;case 2402:u=1,v=i+s[1]-s[0];break;default:u=n-1,v=r}var _=.5*(i-r),y=this.valueSize;this._weightPrev=_/(r-f),this._weightNext=_/(v-i),this._offsetPrev=c*y,this._offsetNext=u*y},interpolate_:function(n,r,i,s){for(var c=this.resultBuffer,u=this.sampleValues,f=this.valueSize,v=n*f,_=v-f,y=this._offsetPrev,C=this._offsetNext,P=this._weightPrev,w=this._weightNext,E=(i-r)/(s-r),S=E*E,I=S*E,L=-P*I+2*P*S-P*E,B=(1+P)*I+(-1.5-2*P)*S+(-.5+P)*E+1,V=(-1-w)*I+(1.5+w)*S+.5*E,N=w*I-w*S,F=0;F!==f;++F)c[F]=L*u[y+F]+B*u[_+F]+V*u[v+F]+N*u[C+F];return c}}),Wv.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Wv,interpolate_:function(n,r,i,s){for(var c=this.resultBuffer,u=this.sampleValues,f=this.valueSize,v=n*f,_=v-f,y=(i-r)/(s-r),C=1-y,P=0;P!==f;++P)c[P]=u[_+P]*C+u[v+P]*y;return c}}),XP.prototype=Object.assign(Object.create(Ao.prototype),{constructor:XP,interpolate_:function(n){return this.copySampleValue_(n-1)}}),ah={TimeBufferType:Float32Array,ValueBufferType:Float32Array,DefaultInterpolation:2301,InterpolantFactoryMethodDiscrete:function(n){return new XP(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodLinear:function(n){return new Wv(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:function(n){return new pp(this.times,this.values,this.getValueSize(),n)},setInterpolation:function(n){var r;switch(n){case 2300:r=this.InterpolantFactoryMethodDiscrete;break;case 2301:r=this.InterpolantFactoryMethodLinear;break;case 2302:r=this.InterpolantFactoryMethodSmooth}if(void 0!==r)this.createInterpolant=r;else{var i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(n===this.DefaultInterpolation)throw new Error(i);this.setInterpolation(this.DefaultInterpolation)}console.warn("THREE.KeyframeTrackPrototype:",i)}},getInterpolation:function(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}},getValueSize:function(){return this.values.length/this.times.length},shift:function(n){if(0!==n)for(var r=this.times,i=0,s=r.length;i!==s;++i)r[i]+=n;return this},scale:function(n){if(1!==n)for(var r=this.times,i=0,s=r.length;i!==s;++i)r[i]*=n;return this},trim:function(n,r){for(var i=this.times,s=i.length,c=0,u=s-1;c!==s&&i[c]<n;)++c;for(;-1!==u&&i[u]>r;)--u;if(++u,0!==c||u!==s){c>=u&&(c=(u=Math.max(u,1))-1);var f=this.getValueSize();this.times=tc.arraySlice(i,c,u),this.values=tc.arraySlice(this.values,c*f,u*f)}return this},validate:function(){var n=this,r=!0,i=this.getValueSize();i-Math.floor(i)!=0&&(console.error("THREE.KeyframeTrackPrototype: Invalid value size in track.",this),r=!1);var s=this.times,c=this.values,u=s.length;0===u&&(console.error("THREE.KeyframeTrackPrototype: Track is empty.",this),r=!1);for(var f=null,v=0;v!==u;v++){var _=s[v];if("number"==typeof _&&isNaN(_)){console.error("THREE.KeyframeTrackPrototype: Time is not a valid number.",n,v,_),r=!1;break}if(null!==f&&f>_){console.error("THREE.KeyframeTrackPrototype: Out of order keys.",n,v,_,f),r=!1;break}f=_}if(void 0!==c&&tc.isTypedArray(c)){v=0;for(var y=c.length;v!==y;++v){var C=c[v];if(isNaN(C)){console.error("THREE.KeyframeTrackPrototype: Value is not a valid number.",n,v,C),r=!1;break}}}return r},optimize:function(){for(var n=this.times,r=this.values,i=this.getValueSize(),s=2302===this.getInterpolation(),c=1,u=n.length-1,f=1;f<u;++f){var v=!1,_=n[f];if(_!==n[f+1]&&(1!==f||_!==_[0]))if(s)v=!0;else for(var C=f*i,P=C-i,w=C+i,E=0;E!==i;++E){var S=r[C+E];if(S!==r[P+E]||S!==r[w+E]){v=!0;break}}if(v){if(f!==c){n[c]=n[f];var I=f*i,L=c*i;for(E=0;E!==i;++E)r[L+E]=r[I+E]}++c}}if(u>0){for(n[c]=n[u],I=u*i,L=c*i,E=0;E!==i;++E)r[L+E]=r[I+E];++c}return c!==n.length&&(this.times=tc.arraySlice(n,0,c),this.values=tc.arraySlice(r,0,c*i)),this}},df.prototype=Object.assign(Object.create(ah),{constructor:df,ValueTypeName:"vector"}),Sb.prototype=Object.assign(Object.create(Ao.prototype),{constructor:Sb,interpolate_:function(n,r,i,s){for(var c=this.resultBuffer,u=this.sampleValues,f=this.valueSize,v=n*f,_=(i-r)/(s-r),y=v+f;v!==y;v+=4)Wr.slerpFlat(c,0,u,v-f,u,v,_);return c}}),Ab.prototype=Object.assign(Object.create(ah),{constructor:Ab,ValueTypeName:"quaternion",DefaultInterpolation:2301,InterpolantFactoryMethodLinear:function(n){return new Sb(this.times,this.values,this.getValueSize(),n)},InterpolantFactoryMethodSmooth:void 0}),hp.prototype=Object.assign(Object.create(ah),{constructor:hp,ValueTypeName:"number"}),EC.prototype=Object.assign(Object.create(ah),{constructor:EC,ValueTypeName:"string",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),qv.prototype=Object.assign(Object.create(ah),{constructor:qv,ValueTypeName:"bool",ValueBufferType:Array,DefaultInterpolation:2300,InterpolantFactoryMethodLinear:void 0,InterpolantFactoryMethodSmooth:void 0}),SC.prototype=Object.assign(Object.create(ah),{constructor:SC,ValueTypeName:"color"}),Hg.prototype=ah,ah.constructor=Hg,Object.assign(Hg,{parse:function(n){if(void 0===n.type)throw new Error("track type undefined, can not parse");var r=Hg._getTrackTypeForValueTypeName(n.type);if(void 0===n.times){var i=[],s=[];tc.flattenJSON(n.keys,i,s,"value"),n.times=i,n.values=s}return void 0!==r.parse?r.parse(n):new r(n.name,n.times,n.values,n.interpolation)},toJSON:function(n){var i,r=n.constructor;if(void 0!==r.toJSON)i=r.toJSON(n);else{i={name:n.name,times:tc.convertArray(n.times,Array),values:tc.convertArray(n.values,Array)};var s=n.getInterpolation();s!==n.DefaultInterpolation&&(i.interpolation=s)}return i.type=n.ValueTypeName,i},_getTrackTypeForValueTypeName:function(n){switch(n.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return hp;case"vector":case"vector2":case"vector3":case"vector4":return df;case"color":return SC;case"quaternion":return Ab;case"bool":case"boolean":return qv;case"string":return EC}throw new Error("Unsupported typeName: "+n)}}),Object.assign(jl,{parse:function(n){for(var r=[],i=n.tracks,s=1/(n.fps||1),c=0,u=i.length;c!==u;++c)r.push(Hg.parse(i[c]).scale(s));return new jl(n.name,n.duration,r)},toJSON:function(n){for(var r=[],i=n.tracks,s={name:n.name,duration:n.duration,tracks:r},c=0,u=i.length;c!==u;++c)r.push(Hg.toJSON(i[c]));return s},CreateFromMorphTargetSequence:function(n,r,i,s){for(var c=r.length,u=[],f=0;f<c;f++){var v=[],_=[];v.push((f+c-1)%c,f,(f+1)%c),_.push(0,1,0);var y=tc.getKeyframeOrder(v);v=tc.sortedArray(v,1,y),_=tc.sortedArray(_,1,y),!s&&0===v[0]&&(v.push(c),_.push(_[0])),u.push(new hp(".morphTargetInfluences["+r[f].name+"]",v,_).scale(1/i))}return new jl(n,-1,u)},findByName:function(n,r){var i=n;Array.isArray(n)||(i=n.geometry&&n.geometry.animations||n.animations);for(var c=0;c<i.length;c++)if(i[c].name===r)return i[c];return null},CreateClipsFromMorphTargetSequences:function(n,r,i){for(var s={},c=/^([\w-]*?)([\d]+)$/,u=0,f=n.length;u<f;u++){var v=n[u],_=v.name.match(c);if(_&&_.length>1){var C=s[y=_[1]];C||(s[y]=C=[]),C.push(v)}}var P=[];for(var y in s)P.push(jl.CreateFromMorphTargetSequence(y,s[y],r,i));return P},parseAnimation:function(n,r){if(!n)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;for(var i=function(N,F,z,G,q){if(0!==z.length){var Y=[],X=[];tc.flattenJSON(z,Y,X,G),0!==Y.length&&q.push(new N(F,Y,X))}},s=[],c=n.name||"default",u=n.length||-1,f=n.fps||30,v=n.hierarchy||[],_=0;_<v.length;_++){var y=v[_].keys;if(y&&0!==y.length)if(y[0].morphTargets){for(var C={},P=0;P<y.length;P++)if(y[P].morphTargets)for(var w=0;w<y[P].morphTargets.length;w++)C[y[P].morphTargets[w]]=-1;for(var E in C){var S=[],I=[];for(w=0;w!==y[P].morphTargets.length;++w){var L=y[P];S.push(L.time),I.push(L.morphTarget===E?1:0)}s.push(new hp(".morphTargetInfluence["+E+"]",S,I))}u=C.length*(f||1)}else{var B=".bones["+r[_].name+"]";i(df,B+".position",y,"pos",s),i(Ab,B+".quaternion",y,"rot",s),i(df,B+".scale",y,"scl",s)}}return 0===s.length?null:new jl(c,u,s)}}),Object.assign(jl.prototype,{resetDuration:function(){for(var i=0,s=0,c=this.tracks.length;s!==c;++s){var u=this.tracks[s];i=Math.max(i,u.times[u.times.length-1])}this.duration=i},trim:function(){for(var r=0;r<this.tracks.length;r++)this.tracks[r].trim(0,this.duration);return this},optimize:function(){for(var r=0;r<this.tracks.length;r++)this.tracks[r].optimize();return this}}),Object.assign(AC.prototype,{load:function(n,r,i,s){var c=this;new ki(c.manager).load(n,function(f){r(c.parse(JSON.parse(f)))},i,s)},setTextures:function(n){this.textures=n},parse:function(n){var r=this.textures;function i(u){return void 0===r[u]&&console.warn("THREE.MaterialLoader: Undefined texture",u),r[u]}var s=new qE[n.type];if(void 0!==n.uuid&&(s.uuid=n.uuid),void 0!==n.name&&(s.name=n.name),void 0!==n.color&&s.color.setHex(n.color),void 0!==n.roughness&&(s.roughness=n.roughness),void 0!==n.metalness&&(s.metalness=n.metalness),void 0!==n.emissive&&s.emissive.setHex(n.emissive),void 0!==n.specular&&s.specular.setHex(n.specular),void 0!==n.shininess&&(s.shininess=n.shininess),void 0!==n.clearCoat&&(s.clearCoat=n.clearCoat),void 0!==n.clearCoatRoughness&&(s.clearCoatRoughness=n.clearCoatRoughness),void 0!==n.uniforms&&(s.uniforms=n.uniforms),void 0!==n.vertexShader&&(s.vertexShader=n.vertexShader),void 0!==n.fragmentShader&&(s.fragmentShader=n.fragmentShader),void 0!==n.vertexColors&&(s.vertexColors=n.vertexColors),void 0!==n.fog&&(s.fog=n.fog),void 0!==n.flatShading&&(s.flatShading=n.flatShading),void 0!==n.blending&&(s.blending=n.blending),void 0!==n.side&&(s.side=n.side),void 0!==n.opacity&&(s.opacity=n.opacity),void 0!==n.transparent&&(s.transparent=n.transparent),void 0!==n.alphaTest&&(s.alphaTest=n.alphaTest),void 0!==n.depthTest&&(s.depthTest=n.depthTest),void 0!==n.depthWrite&&(s.depthWrite=n.depthWrite),void 0!==n.colorWrite&&(s.colorWrite=n.colorWrite),void 0!==n.wireframe&&(s.wireframe=n.wireframe),void 0!==n.wireframeLinewidth&&(s.wireframeLinewidth=n.wireframeLinewidth),void 0!==n.wireframeLinecap&&(s.wireframeLinecap=n.wireframeLinecap),void 0!==n.wireframeLinejoin&&(s.wireframeLinejoin=n.wireframeLinejoin),void 0!==n.rotation&&(s.rotation=n.rotation),1!==n.linewidth&&(s.linewidth=n.linewidth),void 0!==n.dashSize&&(s.dashSize=n.dashSize),void 0!==n.gapSize&&(s.gapSize=n.gapSize),void 0!==n.scale&&(s.scale=n.scale),void 0!==n.skinning&&(s.skinning=n.skinning),void 0!==n.morphTargets&&(s.morphTargets=n.morphTargets),void 0!==n.dithering&&(s.dithering=n.dithering),void 0!==n.visible&&(s.visible=n.visible),void 0!==n.userData&&(s.userData=n.userData),void 0!==n.shading&&(s.flatShading=1===n.shading),void 0!==n.size&&(s.size=n.size),void 0!==n.sizeAttenuation&&(s.sizeAttenuation=n.sizeAttenuation),void 0!==n.map&&(s.map=i(n.map)),void 0!==n.alphaMap&&(s.alphaMap=i(n.alphaMap),s.transparent=!0),void 0!==n.bumpMap&&(s.bumpMap=i(n.bumpMap)),void 0!==n.bumpScale&&(s.bumpScale=n.bumpScale),void 0!==n.normalMap&&(s.normalMap=i(n.normalMap)),void 0!==n.normalScale){var c=n.normalScale;!1===Array.isArray(c)&&(c=[c,c]),s.normalScale=(new ce).fromArray(c)}return void 0!==n.displacementMap&&(s.displacementMap=i(n.displacementMap)),void 0!==n.displacementScale&&(s.displacementScale=n.displacementScale),void 0!==n.displacementBias&&(s.displacementBias=n.displacementBias),void 0!==n.roughnessMap&&(s.roughnessMap=i(n.roughnessMap)),void 0!==n.metalnessMap&&(s.metalnessMap=i(n.metalnessMap)),void 0!==n.emissiveMap&&(s.emissiveMap=i(n.emissiveMap)),void 0!==n.emissiveIntensity&&(s.emissiveIntensity=n.emissiveIntensity),void 0!==n.specularMap&&(s.specularMap=i(n.specularMap)),void 0!==n.envMap&&(s.envMap=i(n.envMap)),void 0!==n.reflectivity&&(s.reflectivity=n.reflectivity),void 0!==n.lightMap&&(s.lightMap=i(n.lightMap)),void 0!==n.lightMapIntensity&&(s.lightMapIntensity=n.lightMapIntensity),void 0!==n.aoMap&&(s.aoMap=i(n.aoMap)),void 0!==n.aoMapIntensity&&(s.aoMapIntensity=n.aoMapIntensity),void 0!==n.gradientMap&&(s.gradientMap=i(n.gradientMap)),s}}),Object.assign(ZE.prototype,{load:function(n,r,i,s){var c=this;new ki(c.manager).load(n,function(f){r(c.parse(JSON.parse(f)))},i,s)},parse:function(n){var r=new On,i=n.data.index;if(void 0!==i){var s=new RD[i.type](i.array);r.setIndex(new xr(s,1))}var c=n.data.attributes;for(var u in c){var f=c[u];s=new RD[f.type](f.array),r.addAttribute(u,new xr(s,f.itemSize,f.normalized))}var v=n.data.groups||n.data.drawcalls||n.data.offsets;if(void 0!==v)for(var _=0,y=v.length;_!==y;++_){var C=v[_];r.addGroup(C.start,C.count,C.materialIndex)}var P=n.data.boundingSphere;if(void 0!==P){var w=new J;void 0!==P.center&&w.fromArray(P.center),r.boundingSphere=new zs(w,P.radius)}return r}});var RD={Int8Array,Uint8Array,Uint8ClampedArray:"undefined"!=typeof Uint8ClampedArray?Uint8ClampedArray:Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function pf(){this.onLoadStart=function(){},this.onLoadProgress=function(){},this.onLoadComplete=function(){}}function Tb(n){"boolean"==typeof n&&(console.warn("THREE.JSONLoader: showStatus parameter has been removed from constructor."),n=void 0),this.manager=void 0!==n?n:hl,this.withCredentials=!1}pf.Handlers={handlers:[],add:function(n,r){this.handlers.push(n,r)},get:function(n){for(var r=this.handlers,i=0,s=r.length;i<s;i+=2){var u=r[i+1];if(r[i].test(n))return u}return null}},Object.assign(pf.prototype,{crossOrigin:void 0,extractUrlBase:function(n){var r=n.split("/");return 1===r.length?"./":(r.pop(),r.join("/")+"/")},initMaterials:function(n,r,i){for(var c=[],u=0;u<n.length;++u)c[u]=this.createMaterial(n[u],r,i);return c},createMaterial:function(){var n={NoBlending:0,NormalBlending:1,AdditiveBlending:2,SubtractiveBlending:3,MultiplyBlending:4,CustomBlending:5},r=new cn,i=new YE,s=new AC;return function(u,f,v){var _={};function y(E,S,I,L,B){var F,V=f+E,N=pf.Handlers.get(V);null!==N?F=N.load(V):(i.setCrossOrigin(v),F=i.load(V)),void 0!==S&&(F.repeat.fromArray(S),1!==S[0]&&(F.wrapS=Sr),1!==S[1]&&(F.wrapT=Sr)),void 0!==I&&F.offset.fromArray(I),void 0!==L&&("repeat"===L[0]&&(F.wrapS=Sr),"mirror"===L[0]&&(F.wrapS=gu),"repeat"===L[1]&&(F.wrapT=Sr),"mirror"===L[1]&&(F.wrapT=gu)),void 0!==B&&(F.anisotropy=B);var z=Ie.generateUUID();return _[z]=F,z}var C={uuid:Ie.generateUUID(),type:"MeshLambertMaterial"};for(var P in u){var w=u[P];switch(P){case"DbgColor":case"DbgIndex":case"opticalDensity":case"illumination":break;case"DbgName":C.name=w;break;case"blending":C.blending=n[w];break;case"colorAmbient":case"mapAmbient":console.warn("THREE.Loader.createMaterial:",P,"is no longer supported.");break;case"colorDiffuse":C.color=r.fromArray(w).getHex();break;case"colorSpecular":C.specular=r.fromArray(w).getHex();break;case"colorEmissive":C.emissive=r.fromArray(w).getHex();break;case"specularCoef":C.shininess=w;break;case"shading":"basic"===w.toLowerCase()&&(C.type="MeshBasicMaterial"),"phong"===w.toLowerCase()&&(C.type="MeshPhongMaterial"),"standard"===w.toLowerCase()&&(C.type="MeshStandardMaterial");break;case"mapDiffuse":C.map=y(w,u.mapDiffuseRepeat,u.mapDiffuseOffset,u.mapDiffuseWrap,u.mapDiffuseAnisotropy);break;case"mapDiffuseRepeat":case"mapDiffuseOffset":case"mapDiffuseWrap":case"mapDiffuseAnisotropy":break;case"mapEmissive":C.emissiveMap=y(w,u.mapEmissiveRepeat,u.mapEmissiveOffset,u.mapEmissiveWrap,u.mapEmissiveAnisotropy);break;case"mapEmissiveRepeat":case"mapEmissiveOffset":case"mapEmissiveWrap":case"mapEmissiveAnisotropy":break;case"mapLight":C.lightMap=y(w,u.mapLightRepeat,u.mapLightOffset,u.mapLightWrap,u.mapLightAnisotropy);break;case"mapLightRepeat":case"mapLightOffset":case"mapLightWrap":case"mapLightAnisotropy":break;case"mapAO":C.aoMap=y(w,u.mapAORepeat,u.mapAOOffset,u.mapAOWrap,u.mapAOAnisotropy);break;case"mapAORepeat":case"mapAOOffset":case"mapAOWrap":case"mapAOAnisotropy":break;case"mapBump":C.bumpMap=y(w,u.mapBumpRepeat,u.mapBumpOffset,u.mapBumpWrap,u.mapBumpAnisotropy);break;case"mapBumpScale":C.bumpScale=w;break;case"mapBumpRepeat":case"mapBumpOffset":case"mapBumpWrap":case"mapBumpAnisotropy":break;case"mapNormal":C.normalMap=y(w,u.mapNormalRepeat,u.mapNormalOffset,u.mapNormalWrap,u.mapNormalAnisotropy);break;case"mapNormalFactor":C.normalScale=[w,w];break;case"mapNormalRepeat":case"mapNormalOffset":case"mapNormalWrap":case"mapNormalAnisotropy":break;case"mapSpecular":C.specularMap=y(w,u.mapSpecularRepeat,u.mapSpecularOffset,u.mapSpecularWrap,u.mapSpecularAnisotropy);break;case"mapSpecularRepeat":case"mapSpecularOffset":case"mapSpecularWrap":case"mapSpecularAnisotropy":break;case"mapMetalness":C.metalnessMap=y(w,u.mapMetalnessRepeat,u.mapMetalnessOffset,u.mapMetalnessWrap,u.mapMetalnessAnisotropy);break;case"mapMetalnessRepeat":case"mapMetalnessOffset":case"mapMetalnessWrap":case"mapMetalnessAnisotropy":break;case"mapRoughness":C.roughnessMap=y(w,u.mapRoughnessRepeat,u.mapRoughnessOffset,u.mapRoughnessWrap,u.mapRoughnessAnisotropy);break;case"mapRoughnessRepeat":case"mapRoughnessOffset":case"mapRoughnessWrap":case"mapRoughnessAnisotropy":break;case"mapAlpha":C.alphaMap=y(w,u.mapAlphaRepeat,u.mapAlphaOffset,u.mapAlphaWrap,u.mapAlphaAnisotropy);break;case"mapAlphaRepeat":case"mapAlphaOffset":case"mapAlphaWrap":case"mapAlphaAnisotropy":break;case"flipSided":C.side=1;break;case"doubleSided":C.side=2;break;case"transparency":console.warn("THREE.Loader.createMaterial: transparency has been renamed to opacity"),C.opacity=w;break;case"depthTest":case"depthWrite":case"colorWrite":case"opacity":case"reflectivity":case"transparent":case"visible":case"wireframe":C[P]=w;break;case"vertexColors":!0===w&&(C.vertexColors=2),"face"===w&&(C.vertexColors=1);break;default:console.error("THREE.Loader.createMaterial: Unsupported",P,w)}}return"MeshBasicMaterial"===C.type&&delete C.emissive,"MeshPhongMaterial"!==C.type&&delete C.specular,C.opacity<1&&(C.transparent=!0),s.setTextures(_),s.parse(C)}}()}),Object.assign(Tb.prototype,{load:function(n,r,i,s){var c=this,u=this.texturePath&&"string"==typeof this.texturePath?this.texturePath:pf.prototype.extractUrlBase(n),f=new ki(this.manager);f.setWithCredentials(this.withCredentials),f.load(n,function(v){var _=JSON.parse(v),y=_.metadata;if(void 0!==y){var C=y.type;if(void 0!==C){if("object"===C.toLowerCase())return void console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.ObjectLoader instead.");if("scene"===C.toLowerCase())return void console.error("THREE.JSONLoader: "+n+" should be loaded with THREE.SceneLoader instead.")}}var P=c.parse(_,u);r(P.geometry,P.materials)},i,s)},setTexturePath:function(n){this.texturePath=n},parse:function(c,u){void 0!==c.data&&(c=c.data),c.scale=void 0!==c.scale?1/c.scale:1;var f=new Nr;return function(c,u){function f($t,ft){return $t&1<<ft}var v,_,y,C,P,w,E,S,I,L,B,V,N,F,z,G,q,Y,X,$,tt,ot,nt,et,vt,Et=c.faces,Mt=c.vertices,st=c.normals,ht=c.colors,Ft=c.scale,Lt=0;if(void 0!==c.uvs){for(v=0;v<c.uvs.length;v++)c.uvs[v].length&&Lt++;for(v=0;v<Lt;v++)u.faceVertexUvs[v]=[]}for(C=0,P=Mt.length;C<P;)(Y=new J).x=Mt[C++]*Ft,Y.y=Mt[C++]*Ft,Y.z=Mt[C++]*Ft,u.vertices.push(Y);for(C=0,P=Et.length;C<P;)if(B=f(L=Et[C++],0),V=f(L,1),N=f(L,3),F=f(L,4),z=f(L,5),G=f(L,6),q=f(L,7),B){if(($=new bc).a=Et[C],$.b=Et[C+1],$.c=Et[C+3],(tt=new bc).a=Et[C+1],tt.b=Et[C+2],tt.c=Et[C+3],C+=4,V&&(I=Et[C++],$.materialIndex=I,tt.materialIndex=I),y=u.faces.length,N)for(v=0;v<Lt;v++)for(et=c.uvs[v],u.faceVertexUvs[v][y]=[],u.faceVertexUvs[v][y+1]=[],_=0;_<4;_++)vt=new ce(et[2*(S=Et[C++])],et[2*S+1]),2!==_&&u.faceVertexUvs[v][y].push(vt),0!==_&&u.faceVertexUvs[v][y+1].push(vt);if(F&&(E=3*Et[C++],$.normal.set(st[E++],st[E++],st[E]),tt.normal.copy($.normal)),z)for(v=0;v<4;v++)E=3*Et[C++],nt=new J(st[E++],st[E++],st[E]),2!==v&&$.vertexNormals.push(nt),0!==v&&tt.vertexNormals.push(nt);if(G&&(w=Et[C++],$.color.setHex(ot=ht[w]),tt.color.setHex(ot)),q)for(v=0;v<4;v++)ot=ht[w=Et[C++]],2!==v&&$.vertexColors.push(new cn(ot)),0!==v&&tt.vertexColors.push(new cn(ot));u.faces.push($),u.faces.push(tt)}else{if((X=new bc).a=Et[C++],X.b=Et[C++],X.c=Et[C++],V&&(I=Et[C++],X.materialIndex=I),y=u.faces.length,N)for(v=0;v<Lt;v++)for(et=c.uvs[v],u.faceVertexUvs[v][y]=[],_=0;_<3;_++)vt=new ce(et[2*(S=Et[C++])],et[2*S+1]),u.faceVertexUvs[v][y].push(vt);if(F&&(E=3*Et[C++],X.normal.set(st[E++],st[E++],st[E])),z)for(v=0;v<3;v++)E=3*Et[C++],nt=new J(st[E++],st[E++],st[E]),X.vertexNormals.push(nt);if(G&&(w=Et[C++],X.color.setHex(ht[w])),q)for(v=0;v<3;v++)w=Et[C++],X.vertexColors.push(new cn(ht[w]));u.faces.push(X)}}(c,f),function(c,u){var f=void 0!==c.influencesPerVertex?c.influencesPerVertex:2;if(c.skinWeights)for(var v=0,_=c.skinWeights.length;v<_;v+=f)u.skinWeights.push(new yo(c.skinWeights[v],f>1?c.skinWeights[v+1]:0,f>2?c.skinWeights[v+2]:0,f>3?c.skinWeights[v+3]:0));if(c.skinIndices)for(v=0,_=c.skinIndices.length;v<_;v+=f)u.skinIndices.push(new yo(c.skinIndices[v],f>1?c.skinIndices[v+1]:0,f>2?c.skinIndices[v+2]:0,f>3?c.skinIndices[v+3]:0));u.bones=c.bones,u.bones&&u.bones.length>0&&(u.skinWeights.length!==u.skinIndices.length||u.skinIndices.length!==u.vertices.length)&&console.warn("When skinning, number of vertices ("+u.vertices.length+"), skinIndices ("+u.skinIndices.length+"), and skinWeights ("+u.skinWeights.length+") should match.")}(c,f),function(c,u){var f=c.scale;if(void 0!==c.morphTargets)for(var v=0,_=c.morphTargets.length;v<_;v++){u.morphTargets[v]={},u.morphTargets[v].name=c.morphTargets[v].name,u.morphTargets[v].vertices=[];for(var y=u.morphTargets[v].vertices,C=c.morphTargets[v].vertices,P=0,w=C.length;P<w;P+=3){var E=new J;E.x=C[P]*f,E.y=C[P+1]*f,E.z=C[P+2]*f,y.push(E)}}if(void 0!==c.morphColors&&c.morphColors.length>0){console.warn('THREE.JSONLoader: "morphColors" no longer supported. Using them as face colors.');var S=u.faces,I=c.morphColors[0].colors;for(v=0,_=S.length;v<_;v++)S[v].color.fromArray(I,3*v)}}(c,f),function(c,u){var f=[],v=[];void 0!==c.animation&&v.push(c.animation),void 0!==c.animations&&(c.animations.length?v=v.concat(c.animations):v.push(c.animations));for(var _=0;_<v.length;_++){var y=jl.parseAnimation(v[_],u.bones);y&&f.push(y)}if(u.morphTargets){var C=jl.CreateClipsFromMorphTargetSequences(u.morphTargets,10);f=f.concat(C)}f.length>0&&(u.animations=f)}(c,f),f.computeFaceNormals(),f.computeBoundingSphere(),void 0===c.materials||0===c.materials.length?{geometry:f}:{geometry:f,materials:pf.prototype.initMaterials(c.materials,u,this.crossOrigin)}}}),Object.assign(function(n){this.manager=void 0!==n?n:hl,this.texturePath=""}.prototype,{load:function(n,r,i,s){""===this.texturePath&&(this.texturePath=n.substring(0,n.lastIndexOf("/")+1));var c=this;new ki(c.manager).load(n,function(f){var v=null;try{v=JSON.parse(f)}catch(y){return void 0!==s&&s(y),void console.error("THREE:ObjectLoader: Can't parse "+n+".",y.message)}var _=v.metadata;void 0!==_&&void 0!==_.type&&"geometry"!==_.type.toLowerCase()?c.parse(v,r):console.error("THREE.ObjectLoader: Can't load "+n+". Use THREE.JSONLoader instead.")},i,s)},setTexturePath:function(n){this.texturePath=n},setCrossOrigin:function(n){this.crossOrigin=n},parse:function(n,r){var i=this.parseGeometries(n.geometries),s=this.parseImages(n.images,function(){void 0!==r&&r(f)}),c=this.parseTextures(n.textures,s),u=this.parseMaterials(n.materials,c),f=this.parseObject(n.object,i,u);return n.animations&&(f.animations=this.parseAnimations(n.animations)),(void 0===n.images||0===n.images.length)&&void 0!==r&&r(f),f},parseGeometries:function(n){var i={};if(void 0!==n)for(var s=new Tb,c=new ZE,u=0,f=n.length;u<f;u++){var v,_=n[u];switch(_.type){case"PlaneGeometry":case"PlaneBufferGeometry":v=new pl[_.type](_.width,_.height,_.widthSegments,_.heightSegments);break;case"BoxGeometry":case"BoxBufferGeometry":case"CubeGeometry":v=new pl[_.type](_.width,_.height,_.depth,_.widthSegments,_.heightSegments,_.depthSegments);break;case"CircleGeometry":case"CircleBufferGeometry":v=new pl[_.type](_.radius,_.segments,_.thetaStart,_.thetaLength);break;case"CylinderGeometry":case"CylinderBufferGeometry":v=new pl[_.type](_.radiusTop,_.radiusBottom,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength);break;case"ConeGeometry":case"ConeBufferGeometry":v=new pl[_.type](_.radius,_.height,_.radialSegments,_.heightSegments,_.openEnded,_.thetaStart,_.thetaLength);break;case"SphereGeometry":case"SphereBufferGeometry":v=new pl[_.type](_.radius,_.widthSegments,_.heightSegments,_.phiStart,_.phiLength,_.thetaStart,_.thetaLength);break;case"DodecahedronGeometry":case"DodecahedronBufferGeometry":case"IcosahedronGeometry":case"IcosahedronBufferGeometry":case"OctahedronGeometry":case"OctahedronBufferGeometry":case"TetrahedronGeometry":case"TetrahedronBufferGeometry":v=new pl[_.type](_.radius,_.detail);break;case"RingGeometry":case"RingBufferGeometry":v=new pl[_.type](_.innerRadius,_.outerRadius,_.thetaSegments,_.phiSegments,_.thetaStart,_.thetaLength);break;case"TorusGeometry":case"TorusBufferGeometry":v=new pl[_.type](_.radius,_.tube,_.radialSegments,_.tubularSegments,_.arc);break;case"TorusKnotGeometry":case"TorusKnotBufferGeometry":v=new pl[_.type](_.radius,_.tube,_.tubularSegments,_.radialSegments,_.p,_.q);break;case"LatheGeometry":case"LatheBufferGeometry":v=new pl[_.type](_.points,_.segments,_.phiStart,_.phiLength);break;case"PolyhedronGeometry":case"PolyhedronBufferGeometry":v=new pl[_.type](_.vertices,_.indices,_.radius,_.details);break;case"BufferGeometry":v=c.parse(_);break;case"Geometry":v=s.parse(_,this.texturePath).geometry;break;default:console.warn('THREE.ObjectLoader: Unsupported geometry type "'+_.type+'"');continue}v.uuid=_.uuid,void 0!==_.name&&(v.name=_.name),i[_.uuid]=v}return i},parseMaterials:function(n,r){var i={};if(void 0!==n){var s=new AC;s.setTextures(r);for(var c=0,u=n.length;c<u;c++){var f=n[c];if("MultiMaterial"===f.type){for(var v=[],_=0;_<f.materials.length;_++)v.push(s.parse(f.materials[_]));i[f.uuid]=v}else i[f.uuid]=s.parse(f)}}return i},parseAnimations:function(n){for(var r=[],i=0;i<n.length;i++){var s=jl.parse(n[i]);r.push(s)}return r},parseImages:function(n,r){var i=this,s={};function c(P){return i.manager.itemStart(P),f.load(P,function(){i.manager.itemEnd(P)},void 0,function(){i.manager.itemEnd(P),i.manager.itemError(P)})}if(void 0!==n&&n.length>0){var f=new jv(new PC(r));f.setCrossOrigin(this.crossOrigin);for(var v=0,_=n.length;v<_;v++){var y=n[v],C=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(y.url)?y.url:i.texturePath+y.url;s[y.uuid]=c(C)}}return s},parseTextures:function(n,r){function i(_,y){return"number"==typeof _?_:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",_),y[_])}var s={};if(void 0!==n)for(var c=0,u=n.length;c<u;c++){var f=n[c];void 0===f.image&&console.warn('THREE.ObjectLoader: No "image" specified for',f.uuid),void 0===r[f.image]&&console.warn("THREE.ObjectLoader: Undefined image",f.image);var v=new Si(r[f.image]);v.needsUpdate=!0,v.uuid=f.uuid,void 0!==f.name&&(v.name=f.name),void 0!==f.mapping&&(v.mapping=i(f.mapping,TC)),void 0!==f.offset&&v.offset.fromArray(f.offset),void 0!==f.repeat&&v.repeat.fromArray(f.repeat),void 0!==f.center&&v.center.fromArray(f.center),void 0!==f.rotation&&(v.rotation=f.rotation),void 0!==f.wrap&&(v.wrapS=i(f.wrap[0],Gg),v.wrapT=i(f.wrap[1],Gg)),void 0!==f.minFilter&&(v.minFilter=i(f.minFilter,QE)),void 0!==f.magFilter&&(v.magFilter=i(f.magFilter,QE)),void 0!==f.anisotropy&&(v.anisotropy=f.anisotropy),void 0!==f.flipY&&(v.flipY=f.flipY),s[f.uuid]=v}return s},parseObject:function(){var n=new ye;return function(i,s,c){var f;function v(B){return void 0===s[B]&&console.warn("THREE.ObjectLoader: Undefined geometry",B),s[B]}function _(B){if(void 0!==B){if(Array.isArray(B)){for(var V=[],N=0,F=B.length;N<F;N++){var z=B[N];void 0===c[z]&&console.warn("THREE.ObjectLoader: Undefined material",z),V.push(c[z])}return V}return void 0===c[B]&&console.warn("THREE.ObjectLoader: Undefined material",B),c[B]}}switch(i.type){case"Scene":f=new zl,void 0!==i.background&&Number.isInteger(i.background)&&(f.background=new cn(i.background)),void 0!==i.fog&&("Fog"===i.fog.type?f.fog=new rp(i.fog.color,i.fog.near,i.fog.far):"FogExp2"===i.fog.type&&(f.fog=new Lv(i.fog.color,i.fog.density)));break;case"PerspectiveCamera":f=new ra(i.fov,i.aspect,i.near,i.far),void 0!==i.focus&&(f.focus=i.focus),void 0!==i.zoom&&(f.zoom=i.zoom),void 0!==i.filmGauge&&(f.filmGauge=i.filmGauge),void 0!==i.filmOffset&&(f.filmOffset=i.filmOffset),void 0!==i.view&&(f.view=Object.assign({},i.view));break;case"OrthographicCamera":f=new al(i.left,i.right,i.top,i.bottom,i.near,i.far);break;case"AmbientLight":f=new Ja(i.color,i.intensity);break;case"DirectionalLight":f=new ha(i.color,i.intensity);break;case"PointLight":f=new XE(i.color,i.intensity,i.distance,i.decay);break;case"RectAreaLight":f=new Eb(i.color,i.intensity,i.width,i.height);break;case"SpotLight":f=new OC(i.color,i.intensity,i.distance,i.angle,i.penumbra,i.decay);break;case"HemisphereLight":f=new Vg(i.color,i.groundColor,i.intensity);break;case"SkinnedMesh":console.warn("THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.");case"Mesh":var y=v(i.geometry),C=_(i.material);f=y.bones&&y.bones.length>0?new bC(y,C):new cl(y,C);break;case"LOD":f=new ip;break;case"Line":f=new Qa(v(i.geometry),_(i.material),i.mode);break;case"LineLoop":f=new $P(v(i.geometry),_(i.material));break;case"LineSegments":f=new So(v(i.geometry),_(i.material));break;case"PointCloud":case"Points":f=new xb(v(i.geometry),_(i.material));break;case"Sprite":f=new qP(_(i.material));break;case"Group":f=new ko;break;default:f=new Ln}if(f.uuid=i.uuid,void 0!==i.name&&(f.name=i.name),void 0!==i.matrix?(n.fromArray(i.matrix),n.decompose(f.position,f.quaternion,f.scale)):(void 0!==i.position&&f.position.fromArray(i.position),void 0!==i.rotation&&f.rotation.fromArray(i.rotation),void 0!==i.quaternion&&f.quaternion.fromArray(i.quaternion),void 0!==i.scale&&f.scale.fromArray(i.scale)),void 0!==i.castShadow&&(f.castShadow=i.castShadow),void 0!==i.receiveShadow&&(f.receiveShadow=i.receiveShadow),i.shadow&&(void 0!==i.shadow.bias&&(f.shadow.bias=i.shadow.bias),void 0!==i.shadow.radius&&(f.shadow.radius=i.shadow.radius),void 0!==i.shadow.mapSize&&f.shadow.mapSize.fromArray(i.shadow.mapSize),void 0!==i.shadow.camera&&(f.shadow.camera=this.parseObject(i.shadow.camera))),void 0!==i.visible&&(f.visible=i.visible),void 0!==i.userData&&(f.userData=i.userData),void 0!==i.children)for(var P=i.children,w=0;w<P.length;w++)f.add(this.parseObject(P[w],s,c));if("LOD"===i.type)for(var E=i.levels,S=0;S<E.length;S++){var I=E[S],L=f.getObjectByProperty("uuid",I.object);void 0!==L&&f.addLevel(L,I.distance)}return f}}()});var TC={UVMapping:300,CubeReflectionMapping:301,CubeRefractionMapping:302,EquirectangularReflectionMapping:303,EquirectangularRefractionMapping:304,SphericalReflectionMapping:305,CubeUVReflectionMapping:306,CubeUVRefractionMapping:307},Gg={RepeatWrapping:Sr,ClampToEdgeWrapping:gc,MirroredRepeatWrapping:gu},QE={NearestFilter:so,NearestMipMapNearestFilter:1004,NearestMipMapLinearFilter:1005,LinearFilter:Sa,LinearMipMapNearestFilter:1007,LinearMipMapLinearFilter:1008};function Db(n,r,i,s,c){var u=.5*(s-r),f=.5*(c-i),v=n*n;return(2*i-2*s+u+f)*(n*v)+(-3*i+3*s-2*u-f)*v+u*n+i}function hf(n,r,i,s){return function(n,r){var i=1-n;return i*i*r}(n,r)+function(n,r){return 2*(1-n)*n*r}(n,i)+function(n,r){return n*n*r}(n,s)}function $v(n,r,i,s,c){return function(n,r){var i=1-n;return i*i*i*r}(n,r)+function(n,r){var i=1-n;return 3*i*i*n*r}(n,i)+function(n,r){return 3*(1-n)*n*n*r}(n,s)+function(n,r){return n*n*n*r}(n,c)}function co(){this.type="Curve",this.arcLengthDivisions=200}function wd(n,r){co.call(this),this.type="LineCurve",this.v1=n||new ce,this.v2=r||new ce}function Yv(){co.call(this),this.type="CurvePath",this.curves=[],this.autoClose=!1}function ch(n,r,i,s,c,u,f,v){co.call(this),this.type="EllipseCurve",this.aX=n||0,this.aY=r||0,this.xRadius=i||1,this.yRadius=s||1,this.aStartAngle=c||0,this.aEndAngle=u||2*Math.PI,this.aClockwise=f||!1,this.aRotation=v||0}function jg(n){co.call(this),this.type="SplineCurve",this.points=n||[]}function Wl(n,r,i,s){co.call(this),this.type="CubicBezierCurve",this.v0=n||new ce,this.v1=r||new ce,this.v2=i||new ce,this.v3=s||new ce}function Cc(n,r,i){co.call(this),this.type="QuadraticBezierCurve",this.v0=n||new ce,this.v1=r||new ce,this.v2=i||new ce}Object.assign(co.prototype,{getPoint:function(){return console.warn("THREE.Curve: .getPoint() not implemented."),null},getPointAt:function(n,r){var i=this.getUtoTmapping(n);return this.getPoint(i,r)},getPoints:function(n){void 0===n&&(n=5);for(var i=[],s=0;s<=n;s++)i.push(this.getPoint(s/n));return i},getSpacedPoints:function(n){void 0===n&&(n=5);for(var i=[],s=0;s<=n;s++)i.push(this.getPointAt(s/n));return i},getLength:function(){var n=this.getLengths();return n[n.length-1]},getLengths:function(n){if(void 0===n&&(n=this.arcLengthDivisions),this.cacheArcLengths&&this.cacheArcLengths.length===n+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;var s,u,i=[],c=this.getPoint(0),f=0;for(i.push(0),u=1;u<=n;u++)f+=(s=this.getPoint(u/n)).distanceTo(c),i.push(f),c=s;return this.cacheArcLengths=i,i},updateArcLengths:function(){this.needsUpdate=!0,this.getLengths()},getUtoTmapping:function(n,r){var u,i=this.getLengths(),s=0,c=i.length;u=r||n*i[c-1];for(var _,f=0,v=c-1;f<=v;)if((_=i[s=Math.floor(f+(v-f)/2)]-u)<0)f=s+1;else{if(!(_>0)){v=s;break}v=s-1}if(i[s=v]===u)return s/(c-1);var y=i[s];return(s+(u-y)/(i[s+1]-y))/(c-1)},getTangent:function(n){var r=1e-4,i=n-r,s=n+r;i<0&&(i=0),s>1&&(s=1);var c=this.getPoint(i);return this.getPoint(s).clone().sub(c).normalize()},getTangentAt:function(n){var r=this.getUtoTmapping(n);return this.getTangent(r)},computeFrenetFrames:function(n,r){var y,P,s=new J,c=[],u=[],f=[],v=new J,_=new ye;for(y=0;y<=n;y++)c[y]=this.getTangentAt(y/n),c[y].normalize();u[0]=new J,f[0]=new J;var w=Number.MAX_VALUE,E=Math.abs(c[0].x),S=Math.abs(c[0].y),I=Math.abs(c[0].z);for(E<=w&&(w=E,s.set(1,0,0)),S<=w&&(w=S,s.set(0,1,0)),I<=w&&s.set(0,0,1),v.crossVectors(c[0],s).normalize(),u[0].crossVectors(c[0],v),f[0].crossVectors(c[0],u[0]),y=1;y<=n;y++)u[y]=u[y-1].clone(),f[y]=f[y-1].clone(),v.crossVectors(c[y-1],c[y]),v.length()>Number.EPSILON&&(v.normalize(),P=Math.acos(Ie.clamp(c[y-1].dot(c[y]),-1,1)),u[y].applyMatrix4(_.makeRotationAxis(v,P))),f[y].crossVectors(c[y],u[y]);if(!0===r)for(P=Math.acos(Ie.clamp(u[0].dot(u[n]),-1,1)),P/=n,c[0].dot(v.crossVectors(u[0],u[n]))>0&&(P=-P),y=1;y<=n;y++)u[y].applyMatrix4(_.makeRotationAxis(c[y],P*y)),f[y].crossVectors(c[y],u[y]);return{tangents:c,normals:u,binormals:f}},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.arcLengthDivisions=n.arcLengthDivisions,this}}),(wd.prototype=Object.create(co.prototype)).constructor=wd,wd.prototype.isLineCurve=!0,wd.prototype.getPoint=function(n,r){var i=r||new ce;return 1===n?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(n).add(this.v1)),i},wd.prototype.getPointAt=function(n,r){return this.getPoint(n,r)},wd.prototype.getTangent=function(){return this.v2.clone().sub(this.v1).normalize()},wd.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},Yv.prototype=Object.assign(Object.create(co.prototype),{constructor:Yv,add:function(n){this.curves.push(n)},closePath:function(){var n=this.curves[0].getPoint(0),r=this.curves[this.curves.length-1].getPoint(1);n.equals(r)||this.curves.push(new wd(r,n))},getPoint:function(n){for(var i=n*this.getLength(),s=this.getCurveLengths(),c=0;c<s.length;){if(s[c]>=i){var u=s[c]-i,f=this.curves[c],v=f.getLength();return f.getPointAt(0===v?0:1-u/v)}c++}return null},getLength:function(){var n=this.getCurveLengths();return n[n.length-1]},updateArcLengths:function(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()},getCurveLengths:function(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;for(var r=[],i=0,s=0,c=this.curves.length;s<c;s++)i+=this.curves[s].getLength(),r.push(i);return this.cacheLengths=r,r},getSpacedPoints:function(n){void 0===n&&(n=40);for(var i=[],s=0;s<=n;s++)i.push(this.getPoint(s/n));return this.autoClose&&i.push(i[0]),i},getPoints:function(n){n=n||12;for(var i,r=[],s=0,c=this.curves;s<c.length;s++)for(var u=c[s],v=u.getPoints(u&&u.isEllipseCurve?2*n:u&&u.isLineCurve?1:u&&u.isSplineCurve?n*u.points.length:n),_=0;_<v.length;_++){var y=v[_];i&&i.equals(y)||(r.push(y),i=y)}return this.autoClose&&r.length>1&&!r[r.length-1].equals(r[0])&&r.push(r[0]),r},copy:function(n){co.prototype.copy.call(this,n),this.curves=[];for(var i=0,s=n.curves.length;i<s;i++)this.curves.push(n.curves[i].clone());return this.autoClose=n.autoClose,this}}),(ch.prototype=Object.create(co.prototype)).constructor=ch,ch.prototype.isEllipseCurve=!0,ch.prototype.getPoint=function(n,r){for(var i=r||new ce,s=2*Math.PI,c=this.aEndAngle-this.aStartAngle,u=Math.abs(c)<Number.EPSILON;c<0;)c+=s;for(;c>s;)c-=s;c<Number.EPSILON&&(c=u?0:s),!0===this.aClockwise&&!u&&(c===s?c=-s:c-=s);var f=this.aStartAngle+n*c,v=this.aX+this.xRadius*Math.cos(f),_=this.aY+this.yRadius*Math.sin(f);if(0!==this.aRotation){var y=Math.cos(this.aRotation),C=Math.sin(this.aRotation),P=v-this.aX,w=_-this.aY;v=P*y-w*C+this.aX,_=P*C+w*y+this.aY}return i.set(v,_)},ch.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.aX=n.aX,this.aY=n.aY,this.xRadius=n.xRadius,this.yRadius=n.yRadius,this.aStartAngle=n.aStartAngle,this.aEndAngle=n.aEndAngle,this.aClockwise=n.aClockwise,this.aRotation=n.aRotation,this},(jg.prototype=Object.create(co.prototype)).constructor=jg,jg.prototype.isSplineCurve=!0,jg.prototype.getPoint=function(n,r){var i=r||new ce,s=this.points,c=(s.length-1)*n,u=Math.floor(c),f=c-u,v=s[0===u?u:u-1],_=s[u],y=s[u>s.length-2?s.length-1:u+1],C=s[u>s.length-3?s.length-1:u+2];return i.set(Db(f,v.x,_.x,y.x,C.x),Db(f,v.y,_.y,y.y,C.y)),i},jg.prototype.copy=function(n){co.prototype.copy.call(this,n),this.points=[];for(var i=0,s=n.points.length;i<s;i++)this.points.push(n.points[i].clone());return this},(Wl.prototype=Object.create(co.prototype)).constructor=Wl,Wl.prototype.isCubicBezierCurve=!0,Wl.prototype.getPoint=function(n,r){var i=r||new ce,s=this.v0,c=this.v1,u=this.v2,f=this.v3;return i.set($v(n,s.x,c.x,u.x,f.x),$v(n,s.y,c.y,u.y,f.y)),i},Wl.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},(Cc.prototype=Object.create(co.prototype)).constructor=Cc,Cc.prototype.isQuadraticBezierCurve=!0,Cc.prototype.getPoint=function(n,r){var i=r||new ce,s=this.v0,c=this.v1,u=this.v2;return i.set(hf(n,s.x,c.x,u.x),hf(n,s.y,c.y,u.y)),i},Cc.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this};var tS=Object.assign(Object.create(Yv.prototype),{setFromPoints:function(n){this.moveTo(n[0].x,n[0].y);for(var i=1,s=n.length;i<s;i++)this.lineTo(n[i].x,n[i].y)},moveTo:function(n,r){this.currentPoint.set(n,r)},lineTo:function(n,r){var i=new wd(this.currentPoint.clone(),new ce(n,r));this.curves.push(i),this.currentPoint.set(n,r)},quadraticCurveTo:function(n,r,i,s){var c=new Cc(this.currentPoint.clone(),new ce(n,r),new ce(i,s));this.curves.push(c),this.currentPoint.set(i,s)},bezierCurveTo:function(n,r,i,s,c,u){var f=new Wl(this.currentPoint.clone(),new ce(n,r),new ce(i,s),new ce(c,u));this.curves.push(f),this.currentPoint.set(c,u)},splineThru:function(n){var i=new jg([this.currentPoint.clone()].concat(n));this.curves.push(i),this.currentPoint.copy(n[n.length-1])},arc:function(n,r,i,s,c,u){this.absarc(n+this.currentPoint.x,r+this.currentPoint.y,i,s,c,u)},absarc:function(n,r,i,s,c,u){this.absellipse(n,r,i,i,s,c,u)},ellipse:function(n,r,i,s,c,u,f,v){this.absellipse(n+this.currentPoint.x,r+this.currentPoint.y,i,s,c,u,f,v)},absellipse:function(n,r,i,s,c,u,f,v){var _=new ch(n,r,i,s,c,u,f,v);if(this.curves.length>0){var y=_.getPoint(0);y.equals(this.currentPoint)||this.lineTo(y.x,y.y)}this.curves.push(_);var C=_.getPoint(1);this.currentPoint.copy(C)},copy:function(n){return Yv.prototype.copy.call(this,n),this.currentPoint.copy(n.currentPoint),this}});function Rb(n){Yv.call(this),this.type="Path",this.currentPoint=new ce,n&&this.setFromPoints(n)}function Wg(n){Rb.call(this,n),this.type="Shape",this.holes=[]}function BD(){this.type="ShapePath",this.subPaths=[],this.currentPath=null}function Eu(n){this.type="Font",this.data=n}Rb.prototype=tS,tS.constructor=Rb,Wg.prototype=Object.assign(Object.create(tS),{constructor:Wg,getPointsHoles:function(n){for(var i=[],s=0,c=this.holes.length;s<c;s++)i[s]=this.holes[s].getPoints(n);return i},extractPoints:function(n){return{shape:this.getPoints(n),holes:this.getPointsHoles(n)}},copy:function(n){Rb.prototype.copy.call(this,n),this.holes=[];for(var i=0,s=n.holes.length;i<s;i++)this.holes.push(n.holes[i].clone());return this}}),Object.assign(BD.prototype,{moveTo:function(n,r){this.currentPath=new Rb,this.subPaths.push(this.currentPath),this.currentPath.moveTo(n,r)},lineTo:function(n,r){this.currentPath.lineTo(n,r)},quadraticCurveTo:function(n,r,i,s){this.currentPath.quadraticCurveTo(n,r,i,s)},bezierCurveTo:function(n,r,i,s,c,u){this.currentPath.bezierCurveTo(n,r,i,s,c,u)},splineThru:function(n){this.currentPath.splineThru(n)},toShapes:function(n,r){function i(vt){for(var dt=[],Dt=0,Et=vt.length;Dt<Et;Dt++){var Mt=vt[Dt],st=new Wg;st.curves=Mt.curves,dt.push(st)}return dt}function s(vt,dt){for(var Dt=dt.length,Et=!1,Mt=Dt-1,st=0;st<Dt;Mt=st++){var ht=dt[Mt],Ft=dt[st],Lt=Ft.x-ht.x,$t=Ft.y-ht.y;if(Math.abs($t)>Number.EPSILON){if($t<0&&(ht=dt[st],Lt=-Lt,Ft=dt[Mt],$t=-$t),vt.y<ht.y||vt.y>Ft.y)continue;if(vt.y===ht.y){if(vt.x===ht.x)return!0}else{var ft=$t*(vt.x-ht.x)-Lt*(vt.y-ht.y);if(0===ft)return!0;if(ft<0)continue;Et=!Et}}else{if(vt.y!==ht.y)continue;if(Ft.x<=vt.x&&vt.x<=ht.x||ht.x<=vt.x&&vt.x<=Ft.x)return!0}}return Et}var c=lp.isClockWise,u=this.subPaths;if(0===u.length)return[];if(!0===r)return i(u);var f,v,_,y=[];if(1===u.length)return v=u[0],(_=new Wg).curves=v.curves,y.push(_),y;var C=!c(u[0].getPoints());C=n?!C:C;var I,P=[],w=[],E=[],S=0;w[S]=void 0,E[S]=[];for(var L=0,B=u.length;L<B;L++)f=c(I=(v=u[L]).getPoints()),(f=n?!f:f)?(!C&&w[S]&&S++,w[S]={s:new Wg,p:I},w[S].s.curves=v.curves,C&&S++,E[S]=[]):E[S].push({h:v,p:I[0]});if(!w[0])return i(u);if(w.length>1){for(var V=!1,N=[],F=0,z=w.length;F<z;F++)P[F]=[];for(F=0,z=w.length;F<z;F++)for(var G=E[F],q=0;q<G.length;q++){for(var Y=G[q],X=!0,$=0;$<w.length;$++)s(Y.p,w[$].p)&&(F!==$&&N.push({froms:F,tos:$,hole:q}),X?(X=!1,P[$].push(Y)):V=!0);X&&P[F].push(Y)}N.length>0&&(V||(E=P))}L=0;for(var tt,ot=w.length;L<ot;L++){y.push(_=w[L].s);for(var nt=0,et=(tt=E[L]).length;nt<et;nt++)_.holes.push(tt[nt].h)}return y}}),Object.assign(Eu.prototype,{isFont:!0,generateShapes:function(n,r,i){function c(C,P,w,E){var S=u.glyphs[C]||u.glyphs["?"];if(S){var B,V,N,F,q,Y,X,$,I=new BD,L=[];if(S.o)for(var ot=S._cachedOutline||(S._cachedOutline=S.o.split(" ")),nt=0,et=ot.length;nt<et;)switch(ot[nt++]){case"m":B=ot[nt++]*P+w,V=ot[nt++]*P+E,I.moveTo(B,V);break;case"l":B=ot[nt++]*P+w,V=ot[nt++]*P+E,I.lineTo(B,V);break;case"q":N=ot[nt++]*P+w,F=ot[nt++]*P+E,q=ot[nt++]*P+w,Y=ot[nt++]*P+E,I.quadraticCurveTo(q,Y,N,F),L[L.length-1];break;case"b":N=ot[nt++]*P+w,F=ot[nt++]*P+E,q=ot[nt++]*P+w,Y=ot[nt++]*P+E,X=ot[nt++]*P+w,$=ot[nt++]*P+E,I.bezierCurveTo(q,Y,X,$,N,F),L[L.length-1]}return{offsetX:S.ha*P,path:I}}}void 0===r&&(r=100),void 0===i&&(i=4);for(var u=this.data,f=function(C){for(var P=String(C).split(""),w=r/u.resolution,E=(u.boundingBox.yMax-u.boundingBox.yMin+u.underlineThickness)*w,S=0,I=0,L=[],B=0;B<P.length;B++){var V=P[B];if("\n"===V)S=0,I-=E;else{var N=c(V,w,S,I);S+=N.offsetX,L.push(N.path)}}return L}(n),v=[],_=0,y=f.length;_<y;_++)Array.prototype.push.apply(v,f[_].toShapes());return v}}),Object.assign(function(n){this.manager=void 0!==n?n:hl}.prototype,{load:function(n,r,i,s){var c=this,u=new ki(this.manager);u.setPath(this.path),u.load(n,function(f){var v;try{v=JSON.parse(f)}catch(y){console.warn("THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead."),v=JSON.parse(f.substring(65,f.length-2))}var _=c.parse(v);r&&r(_)},i,s)},parse:function(n){return new Eu(n)},setPath:function(n){return this.path=n,this}});var qg,c,u,t_,VC,ZP_getContext=function(){return void 0===qg&&(qg=new(window.AudioContext||window.webkitAudioContext)),qg};function DC(n){this.manager=void 0!==n?n:hl}function kb(n,r,i){Ln.call(this),this.type="CubeCamera";var s=90,u=new ra(s,1,n,r);u.up.set(0,-1,0),u.lookAt(new J(1,0,0)),this.add(u);var f=new ra(s,1,n,r);f.up.set(0,-1,0),f.lookAt(new J(-1,0,0)),this.add(f);var v=new ra(s,1,n,r);v.up.set(0,0,1),v.lookAt(new J(0,1,0)),this.add(v);var _=new ra(s,1,n,r);_.up.set(0,0,-1),_.lookAt(new J(0,-1,0)),this.add(_);var y=new ra(s,1,n,r);y.up.set(0,-1,0),y.lookAt(new J(0,0,1)),this.add(y);var C=new ra(s,1,n,r);C.up.set(0,-1,0),C.lookAt(new J(0,0,-1)),this.add(C),this.renderTarget=new Ta(i,i,{format:Qp,magFilter:Sa,minFilter:Sa}),this.renderTarget.texture.name="CubeCamera",this.update=function(w,E){null===this.parent&&this.updateMatrixWorld();var S=this.renderTarget,I=S.texture.generateMipmaps;S.texture.generateMipmaps=!1,S.activeCubeFace=0,w.render(E,u,S),S.activeCubeFace=1,w.render(E,f,S),S.activeCubeFace=2,w.render(E,v,S),S.activeCubeFace=3,w.render(E,_,S),S.activeCubeFace=4,w.render(E,y,S),S.texture.generateMipmaps=I,S.activeCubeFace=5,w.render(E,C,S),w.setRenderTarget(null)},this.clear=function(w,E,S,I){for(var L=this.renderTarget,B=0;B<6;B++)L.activeCubeFace=B,w.setRenderTarget(L),w.clear(E,S,I);w.setRenderTarget(null)}}function KP(){Ln.call(this),this.type="AudioListener",this.context=ZP_getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null}function $g(n){Ln.call(this),this.type="Audio",this.context=n.context,this.gain=this.context.createGain(),this.gain.connect(n.getInput()),this.autoplay=!1,this.buffer=null,this.loop=!1,this.startTime=0,this.offset=0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.sourceType="empty",this.filters=[]}function IC(n){$g.call(this,n),this.panner=this.context.createPanner(),this.panner.connect(this.gain)}function QP(n,r){this.analyser=n.context.createAnalyser(),this.analyser.fftSize=void 0!==r?r:2048,this.data=new Uint8Array(this.analyser.frequencyBinCount),n.getOutput().connect(this.analyser)}function JP(n,r,i){this.binding=n,this.valueSize=i;var c,s=Float64Array;switch(r){case"quaternion":c=this._slerp;break;case"string":case"bool":s=Array,c=this._select;break;default:c=this._lerp}this.buffer=new s(4*i),this._mixBufferRegion=c,this.cumulativeWeight=0,this.useCount=0,this.referenceCount=0}function Yg(n,r,i){var s=i||ec.parseTrackName(r);this._targetGroup=n,this._bindings=n.subscribe_(r,s)}function ec(n,r,i){this.path=r,this.parsedPath=i||ec.parseTrackName(r),this.node=ec.findNode(n,this.parsedPath.nodeName)||n,this.rootNode=n}function RC(n,r,i){this._mixer=n,this._clip=r,this._localRoot=i||null;for(var s=r.tracks,c=s.length,u=new Array(c),f={endingStart:Ar,endingEnd:Ar},v=0;v!==c;++v){var _=s[v].createInterpolant(null);u[v]=_,_.settings=f}this._interpolantSettings=f,this._interpolants=u,this._propertyBindings=new Array(c),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}function Lb(n){"string"==typeof n&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),n=arguments[1]),this.value=n}function Xg(){On.call(this),this.type="InstancedBufferGeometry",this.maxInstancedCount=void 0}function rS(n,r,i,s){this.uuid=Ie.generateUUID(),this.data=n,this.itemSize=r,this.offset=i,this.normalized=!0===s}function Fb(n,r){this.uuid=Ie.generateUUID(),this.array=n,this.stride=r,this.count=void 0!==n?n.length/r:0,this.dynamic=!1,this.updateRange={offset:0,count:-1},this.onUploadCallback=function(){},this.version=0}function iS(n,r,i){Fb.call(this,n,r),this.meshPerAttribute=i||1}function oS(n,r,i){xr.call(this,n,r),this.meshPerAttribute=i||1}function LC(n,r){return n.distance-r.distance}function FC(n,r,i,s){if(!1!==n.visible&&(n.raycast(r,i),!0===s))for(var c=n.children,u=0,f=c.length;u<f;u++)FC(c[u],r,i,!0)}function Zg(n){Ln.call(this),this.material=n,this.render=function(){}}function ff(n,r,i,s){this.object=n,this.size=void 0!==r?r:1;var c=void 0!==i?i:16711680,u=void 0!==s?s:1,f=0,v=this.object.geometry;v&&v.isGeometry?f=3*v.faces.length:v&&v.isBufferGeometry&&(f=v.attributes.normal.count);var _=new On,y=new Fn(2*f*3,3);_.addAttribute("position",y),So.call(this,_,new bs({color:c,linewidth:u})),this.matrixAutoUpdate=!1,this.update()}function Pc(n,r){Ln.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;for(var i=new On,s=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1],c=0,u=1;c<32;c++,u++){var v=c/32*Math.PI*2,_=u/32*Math.PI*2;s.push(Math.cos(v),Math.sin(v),1,Math.cos(_),Math.sin(_),1)}i.addAttribute("position",new Fn(s,3));var y=new bs({fog:!1});this.cone=new So(i,y),this.add(this.cone),this.update()}function BC(n){var r=[];n&&n.isBone&&r.push(n);for(var i=0;i<n.children.length;i++)r.push.apply(r,BC(n.children[i]));return r}function Zv(n){for(var r=BC(n),i=new On,s=[],c=[],u=new cn(0,0,1),f=new cn(0,1,0),v=0;v<r.length;v++){var _=r[v];_.parent&&_.parent.isBone&&(s.push(0,0,0),s.push(0,0,0),c.push(u.r,u.g,u.b),c.push(f.r,f.g,f.b))}i.addAttribute("position",new Fn(s,3)),i.addAttribute("color",new Fn(c,3));var y=new bs({vertexColors:2,depthTest:!1,depthWrite:!1,transparent:!0});So.call(this,i,y),this.root=n,this.bones=r,this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1}function Kv(n,r,i){this.light=n,this.light.updateMatrixWorld(),this.color=i;var s=new af(r,4,2),c=new pa({wireframe:!0,fog:!1});cl.call(this,s,c),this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}function gf(n,r){Ln.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=r;var i=new bs({fog:!1}),s=new On;s.addAttribute("position",new xr(new Float32Array(15),3)),this.line=new Qa(s,i),this.add(this.line),this.update()}function Qv(n,r,i){Ln.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=i;var s=new Hl(r);s.rotateY(.5*Math.PI),this.material=new pa({wireframe:!0,fog:!1}),void 0===this.color&&(this.material.vertexColors=2);var c=s.getAttribute("position"),u=new Float32Array(3*c.count);s.addAttribute("color",new xr(u,3)),this.add(new cl(s,this.material)),this.update()}function Nb(n,r,i,s){n=n||10,r=r||10,i=new cn(void 0!==i?i:4473924),s=new cn(void 0!==s?s:8947848);for(var c=r/2,u=n/r,f=n/2,v=[],_=[],y=0,C=0,P=-f;y<=r;y++,P+=u){v.push(-f,0,P,f,0,P),v.push(P,0,-f,P,0,f);var w=y===c?i:s;w.toArray(_,C),w.toArray(_,C+=3),w.toArray(_,C+=3),w.toArray(_,C+=3),C+=3}var E=new On;E.addAttribute("position",new Fn(v,3)),E.addAttribute("color",new Fn(_,3));var S=new bs({vertexColors:2});So.call(this,E,S)}function Bb(n,r,i,s,c,u){n=n||10,r=r||16,i=i||8,s=s||64,c=new cn(void 0!==c?c:4473924),u=new cn(void 0!==u?u:8947848);var _,y,C,P,w,E,S,f=[],v=[];for(P=0;P<=r;P++)C=P/r*(2*Math.PI),_=Math.sin(C)*n,y=Math.cos(C)*n,f.push(0,0,0),f.push(_,0,y),v.push((S=1&P?c:u).r,S.g,S.b),v.push(S.r,S.g,S.b);for(P=0;P<=i;P++)for(S=1&P?c:u,E=n-n/i*P,w=0;w<s;w++)C=w/s*(2*Math.PI),_=Math.sin(C)*E,y=Math.cos(C)*E,f.push(_,0,y),v.push(S.r,S.g,S.b),C=(w+1)/s*(2*Math.PI),_=Math.sin(C)*E,y=Math.cos(C)*E,f.push(_,0,y),v.push(S.r,S.g,S.b);var I=new On;I.addAttribute("position",new Fn(f,3)),I.addAttribute("color",new Fn(v,3));var L=new bs({vertexColors:2});So.call(this,I,L)}function Jv(n,r,i,s){this.object=n,this.size=void 0!==r?r:1;var c=void 0!==i?i:16776960,u=void 0!==s?s:1,f=0,v=this.object.geometry;v&&v.isGeometry?f=v.faces.length:console.warn("THREE.FaceNormalsHelper: only THREE.Geometry is supported. Use THREE.VertexNormalsHelper, instead.");var _=new On,y=new Fn(2*f*3,3);_.addAttribute("position",y),So.call(this,_,new bs({color:c,linewidth:u})),this.matrixAutoUpdate=!1,this.update()}function lh(n,r,i){Ln.call(this),this.light=n,this.light.updateMatrixWorld(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.color=i,void 0===r&&(r=1);var s=new On;s.addAttribute("position",new Fn([-r,r,0,r,r,0,r,-r,0,-r,-r,0,-r,r,0],3));var c=new bs({fog:!1});this.lightPlane=new Qa(s,c),this.add(this.lightPlane),(s=new On).addAttribute("position",new Fn([0,0,0,0,0,1],3)),this.targetLine=new Qa(s,c),this.add(this.targetLine),this.update()}function UC(n){var r=new On,i=new bs({color:16777215,vertexColors:1}),s=[],c=[],u={},f=new cn(16755200),v=new cn(16711680),_=new cn(43775),y=new cn(16777215),C=new cn(3355443);function P(E,S,I){w(E,I),w(S,I)}function w(E,S){s.push(0,0,0),c.push(S.r,S.g,S.b),void 0===u[E]&&(u[E]=[]),u[E].push(s.length/3-1)}P("n1","n2",f),P("n2","n4",f),P("n4","n3",f),P("n3","n1",f),P("f1","f2",f),P("f2","f4",f),P("f4","f3",f),P("f3","f1",f),P("n1","f1",f),P("n2","f2",f),P("n3","f3",f),P("n4","f4",f),P("p","n1",v),P("p","n2",v),P("p","n3",v),P("p","n4",v),P("u1","u2",_),P("u2","u3",_),P("u3","u1",_),P("c","t",y),P("p","c",C),P("cn1","cn2",C),P("cn3","cn4",C),P("cf1","cf2",C),P("cf3","cf4",C),r.addAttribute("position",new Fn(s,3)),r.addAttribute("color",new Fn(c,3)),So.call(this,r,i),this.camera=n,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=n.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=u,this.update()}function fl(n,r){this.object=n,void 0===r&&(r=16776960);var i=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),s=new Float32Array(24),c=new On;c.setIndex(new xr(i,1)),c.addAttribute("position",new xr(s,3)),So.call(this,c,new bs({color:r})),this.matrixAutoUpdate=!1,this.update()}function mf(n,r){this.type="Box3Helper",this.box=n;var i=void 0!==r?r:16776960,s=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),u=new On;u.setIndex(new xr(s,1)),u.addAttribute("position",new Fn([1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],3)),So.call(this,u,new bs({color:i})),this.geometry.computeBoundingSphere()}function Ub(n,r,i){this.type="PlaneHelper",this.plane=n,this.size=void 0===r?1:r;var s=void 0!==i?i:16776960,u=new On;u.addAttribute("position",new Fn([1,-1,1,-1,1,1,-1,-1,1,1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,1,0,0,1,0,0,0],3)),u.computeBoundingSphere(),Qa.call(this,u,new bs({color:s}));var v=new On;v.addAttribute("position",new Fn([1,1,1,-1,1,1,-1,-1,1,1,1,1,-1,-1,1,1,-1,1],3)),v.computeBoundingSphere(),this.add(new cl(v,new pa({color:s,opacity:.2,transparent:!0,depthWrite:!1})))}function uh(n,r,i,s,c,u){Ln.call(this),void 0===s&&(s=16776960),void 0===i&&(i=1),void 0===c&&(c=.2*i),void 0===u&&(u=.2*c),void 0===t_&&((t_=new On).addAttribute("position",new Fn([0,0,0,0,1,0],3)),(VC=new Ou(0,.5,1,5,1)).translate(0,-.5,0)),this.position.copy(r),this.line=new Qa(t_,new bs({color:s})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new cl(VC,new pa({color:s})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(n),this.setLength(i,c,u)}function Kg(n){var r=[0,0,0,n=n||1,0,0,0,0,0,0,n,0,0,0,0,0,0,n],s=new On;s.addAttribute("position",new Fn(r,3)),s.addAttribute("color",new Fn([1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],3));var c=new bs({vertexColors:2});So.call(this,s,c)}function ew(){var n=0,r=0,i=0,s=0;function c(u,f,v,_){n=u,r=v,i=-3*u+3*f-2*v-_,s=2*u-2*f+v+_}return{initCatmullRom:function(u,f,v,_,y){c(f,v,y*(v-u),y*(_-f))},initNonuniformCatmullRom:function(u,f,v,_,y,C,P){var w=(f-u)/y-(v-u)/(y+C)+(v-f)/C,E=(v-f)/C-(_-f)/(C+P)+(_-v)/P;c(f,v,w*=C,E*=C)},calc:function(u){var f=u*u;return n+r*u+i*f+s*(f*u)}}}Object.assign(DC.prototype,{load:function(n,r,i,s){var c=new ki(this.manager);c.setResponseType("arraybuffer"),c.load(n,function(u){ZP_getContext().decodeAudioData(u,function(v){r(v)})},i,s)}}),Object.assign(function(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new ra,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new ra,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1}.prototype,{update:function(){var n,r,i,s,c,u,f,v,_=new ye,y=new ye;return function(P){if(n!==this||r!==P.focus||i!==P.fov||s!==P.aspect*this.aspect||c!==P.near||u!==P.far||f!==P.zoom||v!==this.eyeSep){n=this,r=P.focus,i=P.fov,s=P.aspect*this.aspect,c=P.near,u=P.far,f=P.zoom;var L,B,E=P.projectionMatrix.clone(),S=(v=this.eyeSep/2)*c/r,I=c*Math.tan(Ie.DEG2RAD*i*.5)/f;y.elements[12]=-v,_.elements[12]=v,E.elements[0]=2*c/((B=I*s+S)-(L=-I*s+S)),E.elements[8]=(B+L)/(B-L),this.cameraL.projectionMatrix.copy(E),E.elements[0]=2*c/((B=I*s-S)-(L=-I*s-S)),E.elements[8]=(B+L)/(B-L),this.cameraR.projectionMatrix.copy(E)}this.cameraL.matrixWorld.copy(P.matrixWorld).multiply(y),this.cameraR.matrixWorld.copy(P.matrixWorld).multiply(_)}}()}),(kb.prototype=Object.create(Ln.prototype)).constructor=kb,KP.prototype=Object.assign(Object.create(Ln.prototype),{constructor:KP,getInput:function(){return this.gain},removeFilter:function(){null!==this.filter&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null)},getFilter:function(){return this.filter},setFilter:function(n){null!==this.filter?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=n,this.gain.connect(this.filter),this.filter.connect(this.context.destination)},getMasterVolume:function(){return this.gain.gain.value},setMasterVolume:function(n){this.gain.gain.value=n},updateMatrixWorld:function(){var n=new J,r=new Wr,i=new J,s=new J;return function(u){Ln.prototype.updateMatrixWorld.call(this,u);var f=this.context.listener,v=this.up;this.matrixWorld.decompose(n,r,i),s.set(0,0,-1).applyQuaternion(r),f.positionX?(f.positionX.setValueAtTime(n.x,this.context.currentTime),f.positionY.setValueAtTime(n.y,this.context.currentTime),f.positionZ.setValueAtTime(n.z,this.context.currentTime),f.forwardX.setValueAtTime(s.x,this.context.currentTime),f.forwardY.setValueAtTime(s.y,this.context.currentTime),f.forwardZ.setValueAtTime(s.z,this.context.currentTime),f.upX.setValueAtTime(v.x,this.context.currentTime),f.upY.setValueAtTime(v.y,this.context.currentTime),f.upZ.setValueAtTime(v.z,this.context.currentTime)):(f.setPosition(n.x,n.y,n.z),f.setOrientation(s.x,s.y,s.z,v.x,v.y,v.z))}}()}),$g.prototype=Object.assign(Object.create(Ln.prototype),{constructor:$g,getOutput:function(){return this.gain},setNodeSource:function(n){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=n,this.connect(),this},setBuffer:function(n){return this.buffer=n,this.sourceType="buffer",this.autoplay&&this.play(),this},play:function(){if(!0!==this.isPlaying){if(!1!==this.hasPlaybackControl){var n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.onended=this.onEnded.bind(this),n.playbackRate.setValueAtTime(this.playbackRate,this.startTime),this.startTime=this.context.currentTime,n.start(this.startTime,this.offset),this.isPlaying=!0,this.source=n,this.connect()}console.warn("THREE.Audio: this Audio has no playback control.")}else console.warn("THREE.Audio: Audio is already playing.")},pause:function(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this.source.stop(),this.offset+=(this.context.currentTime-this.startTime)*this.playbackRate,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")},stop:function(){if(!1!==this.hasPlaybackControl)return this.source.stop(),this.offset=0,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")},connect:function(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(var r=1,i=this.filters.length;r<i;r++)this.filters[r-1].connect(this.filters[r]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this},disconnect:function(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(var r=1,i=this.filters.length;r<i;r++)this.filters[r-1].disconnect(this.filters[r]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this},getFilters:function(){return this.filters},setFilters:function(n){return n||(n=[]),!0===this.isPlaying?(this.disconnect(),this.filters=n,this.connect()):this.filters=n,this},getFilter:function(){return this.getFilters()[0]},setFilter:function(n){return this.setFilters(n?[n]:[])},setPlaybackRate:function(n){if(!1!==this.hasPlaybackControl)return this.playbackRate=n,!0===this.isPlaying&&this.source.playbackRate.setValueAtTime(this.playbackRate,this.context.currentTime),this;console.warn("THREE.Audio: this Audio has no playback control.")},getPlaybackRate:function(){return this.playbackRate},onEnded:function(){this.isPlaying=!1},getLoop:function(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop},setLoop:function(n){if(!1!==this.hasPlaybackControl)return this.loop=n,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")},getVolume:function(){return this.gain.gain.value},setVolume:function(n){return this.gain.gain.value=n,this}}),IC.prototype=Object.assign(Object.create($g.prototype),{constructor:IC,getOutput:function(){return this.panner},getRefDistance:function(){return this.panner.refDistance},setRefDistance:function(n){this.panner.refDistance=n},getRolloffFactor:function(){return this.panner.rolloffFactor},setRolloffFactor:function(n){this.panner.rolloffFactor=n},getDistanceModel:function(){return this.panner.distanceModel},setDistanceModel:function(n){this.panner.distanceModel=n},getMaxDistance:function(){return this.panner.maxDistance},setMaxDistance:function(n){this.panner.maxDistance=n},updateMatrixWorld:function(){var n=new J;return function(i){Ln.prototype.updateMatrixWorld.call(this,i),n.setFromMatrixPosition(this.matrixWorld),this.panner.setPosition(n.x,n.y,n.z)}}()}),Object.assign(QP.prototype,{getFrequencyData:function(){return this.analyser.getByteFrequencyData(this.data),this.data},getAverageFrequency:function(){for(var n=0,r=this.getFrequencyData(),i=0;i<r.length;i++)n+=r[i];return n/r.length}}),Object.assign(JP.prototype,{accumulate:function(n,r){var i=this.buffer,s=this.valueSize,c=n*s+s,u=this.cumulativeWeight;if(0===u){for(var f=0;f!==s;++f)i[c+f]=i[f];u=r}else this._mixBufferRegion(i,c,0,r/(u+=r),s);this.cumulativeWeight=u},apply:function(n){var r=this.valueSize,i=this.buffer,s=n*r+r,c=this.cumulativeWeight,u=this.binding;this.cumulativeWeight=0,c<1&&this._mixBufferRegion(i,s,3*r,1-c,r);for(var v=r,_=r+r;v!==_;++v)if(i[v]!==i[v+r]){u.setValue(i,s);break}},saveOriginalState:function(){var r=this.buffer,i=this.valueSize,s=3*i;this.binding.getValue(r,s);for(var c=i,u=s;c!==u;++c)r[c]=r[s+c%i];this.cumulativeWeight=0},restoreOriginalState:function(){this.binding.setValue(this.buffer,3*this.valueSize)},_select:function(n,r,i,s,c){if(s>=.5)for(var u=0;u!==c;++u)n[r+u]=n[i+u]},_slerp:function(n,r,i,s){Wr.slerpFlat(n,r,n,r,n,i,s)},_lerp:function(n,r,i,s,c){for(var u=1-s,f=0;f!==c;++f){var v=r+f;n[v]=n[v]*u+n[i+f]*s}}}),Object.assign(Yg.prototype,{getValue:function(n,r){this.bind();var s=this._bindings[this._targetGroup.nCachedObjects_];void 0!==s&&s.getValue(n,r)},setValue:function(n,r){for(var i=this._bindings,s=this._targetGroup.nCachedObjects_,c=i.length;s!==c;++s)i[s].setValue(n,r)},bind:function(){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].bind()},unbind:function(){for(var n=this._bindings,r=this._targetGroup.nCachedObjects_,i=n.length;r!==i;++r)n[r].unbind()}}),Object.assign(ec,{Composite:Yg,create:function(n,r,i){return n&&n.isAnimationObjectGroup?new ec.Composite(n,r,i):new ec(n,r,i)},sanitizeNodeName:function(n){return n.replace(/\s/g,"_").replace(/[^\w-]/g,"")},parseTrackName:(c=new RegExp("^"+/((?:[\w-]+[\/:])*)/.source+/([\w-\.]+)?/.source+/(?:\.([\w-]+)(?:\[(.+)\])?)?/.source+/\.([\w-]+)(?:\[(.+)\])?/.source+"$"),u=["material","materials","bones"],function(f){var v=c.exec(f);if(!v)throw new Error("PropertyBinding: Cannot parse trackName: "+f);var _={nodeName:v[2],objectName:v[3],objectIndex:v[4],propertyName:v[5],propertyIndex:v[6]},y=_.nodeName&&_.nodeName.lastIndexOf(".");if(void 0!==y&&-1!==y){var C=_.nodeName.substring(y+1);-1!==u.indexOf(C)&&(_.nodeName=_.nodeName.substring(0,y),_.objectName=C)}if(null===_.propertyName||0===_.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+f);return _}),findNode:function(n,r){if(!r||""===r||"root"===r||"."===r||-1===r||r===n.name||r===n.uuid)return n;if(n.skeleton){var s=function(f){for(var v=0;v<f.bones.length;v++){var _=f.bones[v];if(_.name===r)return _}return null}(n.skeleton);if(s)return s}if(n.children){var c=function(f){for(var v=0;v<f.length;v++){var _=f[v];if(_.name===r||_.uuid===r)return _;var y=c(_.children);if(y)return y}return null},u=c(n.children);if(u)return u}return null}}),Object.assign(ec.prototype,{_getValue_unavailable:function(){},_setValue_unavailable:function(){},BindingType:{Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Versioning:{None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},GetterByBindingType:[function(r,i){r[i]=this.node[this.propertyName]},function(r,i){for(var s=this.resolvedProperty,c=0,u=s.length;c!==u;++c)r[i++]=s[c]},function(r,i){r[i]=this.resolvedProperty[this.propertyIndex]},function(r,i){this.resolvedProperty.toArray(r,i)}],SetterByBindingTypeAndVersioning:[[function(r,i){this.targetObject[this.propertyName]=r[i]},function(r,i){this.targetObject[this.propertyName]=r[i],this.targetObject.needsUpdate=!0},function(r,i){this.targetObject[this.propertyName]=r[i],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(r,i){for(var s=this.resolvedProperty,c=0,u=s.length;c!==u;++c)s[c]=r[i++]},function(r,i){for(var s=this.resolvedProperty,c=0,u=s.length;c!==u;++c)s[c]=r[i++];this.targetObject.needsUpdate=!0},function(r,i){for(var s=this.resolvedProperty,c=0,u=s.length;c!==u;++c)s[c]=r[i++];this.targetObject.matrixWorldNeedsUpdate=!0}],[function(r,i){this.resolvedProperty[this.propertyIndex]=r[i]},function(r,i){this.resolvedProperty[this.propertyIndex]=r[i],this.targetObject.needsUpdate=!0},function(r,i){this.resolvedProperty[this.propertyIndex]=r[i],this.targetObject.matrixWorldNeedsUpdate=!0}],[function(r,i){this.resolvedProperty.fromArray(r,i)},function(r,i){this.resolvedProperty.fromArray(r,i),this.targetObject.needsUpdate=!0},function(r,i){this.resolvedProperty.fromArray(r,i),this.targetObject.matrixWorldNeedsUpdate=!0}]],getValue:function(r,i){this.bind(),this.getValue(r,i)},setValue:function(r,i){this.bind(),this.setValue(r,i)},bind:function(){var n=this.node,r=this.parsedPath,i=r.objectName,s=r.propertyName,c=r.propertyIndex;if(n||(n=ec.findNode(this.rootNode,r.nodeName)||this.rootNode,this.node=n),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,n){if(i){var u=r.objectIndex;switch(i){case"materials":if(!n.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!n.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);n=n.material.materials;break;case"bones":if(!n.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);n=n.skeleton.bones;for(var f=0;f<n.length;f++)if(n[f].name===u){u=f;break}break;default:if(void 0===n[i])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);n=n[i]}if(void 0!==u){if(void 0===n[u])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,n);n=n[u]}}var v=n[s];if(void 0!==v){var y=this.Versioning.None;void 0!==n.needsUpdate?(y=this.Versioning.NeedsUpdate,this.targetObject=n):void 0!==n.matrixWorldNeedsUpdate&&(y=this.Versioning.MatrixWorldNeedsUpdate,this.targetObject=n);var C=this.BindingType.Direct;if(void 0!==c){if("morphTargetInfluences"===s){if(!n.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(n.geometry.isBufferGeometry){if(!n.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);for(f=0;f<this.node.geometry.morphAttributes.position.length;f++)if(n.geometry.morphAttributes.position[f].name===c){c=f;break}}else{if(!n.geometry.morphTargets)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.",this);for(f=0;f<this.node.geometry.morphTargets.length;f++)if(n.geometry.morphTargets[f].name===c){c=f;break}}}C=this.BindingType.ArrayElement,this.resolvedProperty=v,this.propertyIndex=c}else void 0!==v.fromArray&&void 0!==v.toArray?(C=this.BindingType.HasFromToArray,this.resolvedProperty=v):Array.isArray(v)?(C=this.BindingType.EntireArray,this.resolvedProperty=v):this.propertyName=s;this.getValue=this.GetterByBindingType[C],this.setValue=this.SetterByBindingTypeAndVersioning[C][y]}else console.error("THREE.PropertyBinding: Trying to update property for track: "+r.nodeName+"."+s+" but it wasn't found.",n)}else console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.")},unbind:function(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}),Object.assign(ec.prototype,{_getValue_unbound:ec.prototype.getValue,_setValue_unbound:ec.prototype.setValue}),Object.assign(function(){var n=arguments;this.uuid=Ie.generateUUID(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;var r={};this._indicesByUUID=r;for(var i=0,s=arguments.length;i!==s;++i)r[n[i].uuid]=i;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};var c=this;this.stats={objects:{get total(){return c._objects.length},get inUse(){return this.total-c.nCachedObjects_}},get bindingsPerObject(){return c._bindings.length}}}.prototype,{isAnimationObjectGroup:!0,add:function(){for(var n=arguments,r=this._objects,i=r.length,s=this.nCachedObjects_,c=this._indicesByUUID,u=this._paths,f=this._parsedPaths,v=this._bindings,_=v.length,y=0,C=arguments.length;y!==C;++y){var P=n[y],w=P.uuid,E=c[w],S=void 0;if(void 0===E){E=i++,c[w]=E,r.push(P);for(var I=0,L=_;I!==L;++I)v[I].push(new ec(P,u[I],f[I]))}else if(E<s){S=r[E];var B=--s,V=r[B];for(c[V.uuid]=E,r[E]=V,c[w]=B,r[B]=P,I=0,L=_;I!==L;++I){var N=v[I],F=N[B],z=N[E];N[E]=F,void 0===z&&(z=new ec(P,u[I],f[I])),N[B]=z}}else r[E]!==S&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=s},remove:function(){for(var n=arguments,r=this._objects,i=this.nCachedObjects_,s=this._indicesByUUID,c=this._bindings,u=c.length,f=0,v=arguments.length;f!==v;++f){var _=n[f],y=_.uuid,C=s[y];if(void 0!==C&&C>=i){var P=i++,w=r[P];s[w.uuid]=C,r[C]=w,s[y]=P,r[P]=_;for(var E=0,S=u;E!==S;++E){var I=c[E],L=I[P],B=I[C];I[C]=L,I[P]=B}}}this.nCachedObjects_=i},uncache:function(){for(var n=arguments,r=this._objects,i=r.length,s=this.nCachedObjects_,c=this._indicesByUUID,u=this._bindings,f=u.length,v=0,_=arguments.length;v!==_;++v){var y=n[v],C=y.uuid,P=c[C];if(void 0!==P)if(delete c[C],P<s){var w=--s,E=r[w],I=r[S=--i];c[E.uuid]=P,r[P]=E,c[I.uuid]=w,r[w]=I,r.pop();for(var L=0,B=f;L!==B;++L){var N=(V=u[L])[w],F=V[S];V[P]=N,V[w]=F,V.pop()}}else{var S;for(c[(I=r[S=--i]).uuid]=P,r[P]=I,r.pop(),L=0,B=f;L!==B;++L){var V;(V=u[L])[P]=V[S],V.pop()}}}this.nCachedObjects_=s},subscribe_:function(n,r){var i=this._bindingsIndicesByPath,s=i[n],c=this._bindings;if(void 0!==s)return c[s];var u=this._paths,f=this._parsedPaths,v=this._objects,y=this.nCachedObjects_,C=new Array(v.length);i[n]=s=c.length,u.push(n),f.push(r),c.push(C);for(var P=y,w=v.length;P!==w;++P)C[P]=new ec(v[P],n,r);return C},unsubscribe_:function(n){var r=this._bindingsIndicesByPath,i=r[n];if(void 0!==i){var s=this._paths,c=this._parsedPaths,u=this._bindings,f=u.length-1,v=u[f];r[n[f]]=i,u[i]=v,u.pop(),c[i]=c[f],c.pop(),s[i]=s[f],s.pop()}}}),Object.assign(RC.prototype,{play:function(){return this._mixer._activateAction(this),this},stop:function(){return this._mixer._deactivateAction(this),this.reset()},reset:function(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()},isRunning:function(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)},isScheduled:function(){return this._mixer._isActiveAction(this)},startAt:function(n){return this._startTime=n,this},setLoop:function(n,r){return this.loop=n,this.repetitions=r,this},setEffectiveWeight:function(n){return this.weight=n,this._effectiveWeight=this.enabled?n:0,this.stopFading()},getEffectiveWeight:function(){return this._effectiveWeight},fadeIn:function(n){return this._scheduleFading(n,0,1)},fadeOut:function(n){return this._scheduleFading(n,1,0)},crossFadeFrom:function(n,r,i){if(n.fadeOut(r),this.fadeIn(r),i){var s=this._clip.duration,c=n._clip.duration,f=s/c;n.warp(1,c/s,r),this.warp(f,1,r)}return this},crossFadeTo:function(n,r,i){return n.crossFadeFrom(this,r,i)},stopFading:function(){var n=this._weightInterpolant;return null!==n&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},setEffectiveTimeScale:function(n){return this.timeScale=n,this._effectiveTimeScale=this.paused?0:n,this.stopWarping()},getEffectiveTimeScale:function(){return this._effectiveTimeScale},setDuration:function(n){return this.timeScale=this._clip.duration/n,this.stopWarping()},syncWith:function(n){return this.time=n.time,this.timeScale=n.timeScale,this.stopWarping()},halt:function(n){return this.warp(this._effectiveTimeScale,0,n)},warp:function(n,r,i){var s=this._mixer,c=s.time,u=this._timeScaleInterpolant,f=this.timeScale;null===u&&(u=s._lendControlInterpolant(),this._timeScaleInterpolant=u);var v=u.parameterPositions,_=u.sampleValues;return v[0]=c,v[1]=c+i,_[0]=n/f,_[1]=r/f,this},stopWarping:function(){var n=this._timeScaleInterpolant;return null!==n&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(n)),this},getMixer:function(){return this._mixer},getClip:function(){return this._clip},getRoot:function(){return this._localRoot||this._mixer._root},_update:function(n,r,i,s){if(this.enabled){var c=this._startTime;if(null!==c){var u=(n-c)*i;if(u<0||0===i)return;this._startTime=null,r=i*u}r*=this._updateTimeScale(n);var f=this._updateTime(r),v=this._updateWeight(n);if(v>0)for(var _=this._interpolants,y=this._propertyBindings,C=0,P=_.length;C!==P;++C)_[C].evaluate(f),y[C].accumulate(s,v)}else this._updateWeight(n)},_updateWeight:function(n){var r=0;if(this.enabled){r=this.weight;var i=this._weightInterpolant;if(null!==i){var s=i.evaluate(n)[0];r*=s,n>i.parameterPositions[1]&&(this.stopFading(),0===s&&(this.enabled=!1))}}return this._effectiveWeight=r,r},_updateTimeScale:function(n){var r=0;if(!this.paused){r=this.timeScale;var i=this._timeScaleInterpolant;null!==i&&(r*=i.evaluate(n)[0],n>i.parameterPositions[1]&&(this.stopWarping(),0===r?this.paused=!0:this.timeScale=r))}return this._effectiveTimeScale=r,r},_updateTime:function(n){var r=this.time+n;if(0===n)return r;var i=this._clip.duration,s=this.loop,c=this._loopCount;if(2200===s){-1===c&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(r>=i)r=i;else{if(!(r<0))break t;r=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this._mixer.dispatchEvent({type:"finished",action:this,direction:n<0?-1:1})}}else{var u=2202===s;if(-1===c&&(n>=0?(c=0,this._setEndings(!0,0===this.repetitions,u)):this._setEndings(0===this.repetitions,!0,u)),r>=i||r<0){var f=Math.floor(r/i);r-=i*f,c+=Math.abs(f);var v=this.repetitions-c;if(v<0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,r=n>0?i:0,this._mixer.dispatchEvent({type:"finished",action:this,direction:n>0?1:-1});else{if(0===v){var _=n<0;this._setEndings(_,!_,u)}else this._setEndings(!1,!1,u);this._loopCount=c,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:f})}}if(u&&1==(1&c))return this.time=r,i-r}return this.time=r,r},_setEndings:function(n,r,i){var s=this._interpolantSettings;i?(s.endingStart=ol,s.endingEnd=ol):(s.endingStart=n?this.zeroSlopeAtStart?ol:Ar:2402,s.endingEnd=r?this.zeroSlopeAtEnd?ol:Ar:2402)},_scheduleFading:function(n,r,i){var s=this._mixer,c=s.time,u=this._weightInterpolant;null===u&&(u=s._lendControlInterpolant(),this._weightInterpolant=u);var f=u.parameterPositions,v=u.sampleValues;return f[0]=c,v[0]=r,f[1]=c+n,v[1]=i,this}}),Object.assign(function(n){this._root=n,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}.prototype,we.prototype,{_bindAction:function(n,r){var s=n._localRoot||this._root,c=n._clip.tracks,u=c.length,f=n._propertyBindings,v=n._interpolants,_=s.uuid,y=this._bindingsByRootAndName,C=y[_];void 0===C&&(y[_]=C={});for(var P=0;P!==u;++P){var w=c[P],E=w.name,S=C[E];if(void 0!==S)f[P]=S;else{if(void 0!==(S=f[P])){null===S._cacheIndex&&(++S.referenceCount,this._addInactiveBinding(S,_,E));continue}++(S=new JP(ec.create(s,E,r&&r._propertyBindings[P].binding.parsedPath),w.ValueTypeName,w.getValueSize())).referenceCount,this._addInactiveBinding(S,_,E),f[P]=S}v[P].resultBuffer=S.buffer}},_activateAction:function(n){if(!this._isActiveAction(n)){if(null===n._cacheIndex){var i=(n._localRoot||this._root).uuid,s=n._clip.uuid,c=this._actionsByClip[s];this._bindAction(n,c&&c.knownActions[0]),this._addInactiveAction(n,s,i)}for(var u=n._propertyBindings,f=0,v=u.length;f!==v;++f){var _=u[f];0==_.useCount++&&(this._lendBinding(_),_.saveOriginalState())}this._lendAction(n)}},_deactivateAction:function(n){if(this._isActiveAction(n)){for(var i=n._propertyBindings,s=0,c=i.length;s!==c;++s){var u=i[s];0==--u.useCount&&(u.restoreOriginalState(),this._takeBackBinding(u))}this._takeBackAction(n)}},_initMemoryManager:function(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;var n=this;this.stats={actions:{get total(){return n._actions.length},get inUse(){return n._nActiveActions}},bindings:{get total(){return n._bindings.length},get inUse(){return n._nActiveBindings}},controlInterpolants:{get total(){return n._controlInterpolants.length},get inUse(){return n._nActiveControlInterpolants}}}},_isActiveAction:function(n){var r=n._cacheIndex;return null!==r&&r<this._nActiveActions},_addInactiveAction:function(n,r,i){var s=this._actions,c=this._actionsByClip,u=c[r];if(void 0===u)u={knownActions:[n],actionByRoot:{}},n._byClipCacheIndex=0,c[r]=u;else{var f=u.knownActions;n._byClipCacheIndex=f.length,f.push(n)}n._cacheIndex=s.length,s.push(n),u.actionByRoot[i]=n},_removeInactiveAction:function(n){var r=this._actions,i=r[r.length-1],s=n._cacheIndex;i._cacheIndex=s,r[s]=i,r.pop(),n._cacheIndex=null;var c=n._clip.uuid,u=this._actionsByClip,f=u[c],v=f.knownActions,_=v[v.length-1],y=n._byClipCacheIndex;_._byClipCacheIndex=y,v[y]=_,v.pop(),n._byClipCacheIndex=null,delete f.actionByRoot[(n._localRoot||this._root).uuid],0===v.length&&delete u[c],this._removeInactiveBindingsForAction(n)},_removeInactiveBindingsForAction:function(n){for(var i=n._propertyBindings,s=0,c=i.length;s!==c;++s){var u=i[s];0==--u.referenceCount&&this._removeInactiveBinding(u)}},_lendAction:function(n){var r=this._actions,i=n._cacheIndex,s=this._nActiveActions++,c=r[s];n._cacheIndex=s,r[s]=n,c._cacheIndex=i,r[i]=c},_takeBackAction:function(n){var r=this._actions,i=n._cacheIndex,s=--this._nActiveActions,c=r[s];n._cacheIndex=s,r[s]=n,c._cacheIndex=i,r[i]=c},_addInactiveBinding:function(n,r,i){var s=this._bindingsByRootAndName,c=s[r],u=this._bindings;void 0===c&&(s[r]=c={}),c[i]=n,n._cacheIndex=u.length,u.push(n)},_removeInactiveBinding:function(n){var r=this._bindings,i=n.binding,s=i.rootNode.uuid,c=i.path,u=this._bindingsByRootAndName,f=u[s],v=r[r.length-1],_=n._cacheIndex;v._cacheIndex=_,r[_]=v,r.pop(),delete f[c];t:{for(var y in f)break t;delete u[s]}},_lendBinding:function(n){var r=this._bindings,i=n._cacheIndex,s=this._nActiveBindings++,c=r[s];n._cacheIndex=s,r[s]=n,c._cacheIndex=i,r[i]=c},_takeBackBinding:function(n){var r=this._bindings,i=n._cacheIndex,s=--this._nActiveBindings,c=r[s];n._cacheIndex=s,r[s]=n,c._cacheIndex=i,r[i]=c},_lendControlInterpolant:function(){var n=this._controlInterpolants,r=this._nActiveControlInterpolants++,i=n[r];return void 0===i&&((i=new Wv(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer)).__cacheIndex=r,n[r]=i),i},_takeBackControlInterpolant:function(n){var r=this._controlInterpolants,i=n.__cacheIndex,s=--this._nActiveControlInterpolants,c=r[s];n.__cacheIndex=s,r[s]=n,c.__cacheIndex=i,r[i]=c},_controlInterpolantsResultBuffer:new Float32Array(1),clipAction:function(n,r){var i=r||this._root,s=i.uuid,c="string"==typeof n?jl.findByName(i,n):n,u=null!==c?c.uuid:n,f=this._actionsByClip[u],v=null;if(void 0!==f){var _=f.actionByRoot[s];if(void 0!==_)return _;v=f.knownActions[0],null===c&&(c=v._clip)}if(null===c)return null;var y=new RC(this,c,r);return this._bindAction(y,v),this._addInactiveAction(y,u,s),y},existingAction:function(n,r){var i=r||this._root,s=i.uuid,c="string"==typeof n?jl.findByName(i,n):n,f=this._actionsByClip[c?c.uuid:n];return void 0!==f&&f.actionByRoot[s]||null},stopAllAction:function(){var n=this._actions,r=this._nActiveActions,i=this._bindings,s=this._nActiveBindings;this._nActiveActions=0,this._nActiveBindings=0;for(var c=0;c!==r;++c)n[c].reset();for(c=0;c!==s;++c)i[c].useCount=0;return this},update:function(n){for(var r=this._actions,i=this._nActiveActions,s=this.time+=n*=this.timeScale,c=Math.sign(n),u=this._accuIndex^=1,f=0;f!==i;++f)r[f]._update(s,n,c,u);var _=this._bindings,y=this._nActiveBindings;for(f=0;f!==y;++f)_[f].apply(u);return this},getRoot:function(){return this._root},uncacheClip:function(n){var i=this._actions,s=n.uuid,c=this._actionsByClip,u=c[s];if(void 0!==u){for(var f=u.knownActions,v=0,_=f.length;v!==_;++v){var y=f[v];this._deactivateAction(y);var C=y._cacheIndex,P=i[i.length-1];y._cacheIndex=null,y._byClipCacheIndex=null,P._cacheIndex=C,i[C]=P,i.pop(),this._removeInactiveBindingsForAction(y)}delete c[s]}},uncacheRoot:function(n){var r=this,i=n.uuid,s=this._actionsByClip;for(var c in s){var f=s[c].actionByRoot[i];void 0!==f&&(r._deactivateAction(f),r._removeInactiveAction(f))}var _=this._bindingsByRootAndName[i];if(void 0!==_)for(var y in _){var C=_[y];C.restoreOriginalState(),r._removeInactiveBinding(C)}},uncacheAction:function(n,r){var i=this.existingAction(n,r);null!==i&&(this._deactivateAction(i),this._removeInactiveAction(i))}}),Lb.prototype.clone=function(){return new Lb(void 0===this.value.clone?this.value:this.value.clone())},Xg.prototype=Object.assign(Object.create(On.prototype),{constructor:Xg,isInstancedBufferGeometry:!0,copy:function(n){return On.prototype.copy.call(this,n),this.maxInstancedCount=n.maxInstancedCount,this},clone:function(){return(new this.constructor).copy(this)}}),Object.defineProperties(rS.prototype,{count:{get:function(){return this.data.count}},array:{get:function(){return this.data.array}}}),Object.assign(rS.prototype,{isInterleavedBufferAttribute:!0,setX:function(n,r){return this.data.array[n*this.data.stride+this.offset]=r,this},setY:function(n,r){return this.data.array[n*this.data.stride+this.offset+1]=r,this},setZ:function(n,r){return this.data.array[n*this.data.stride+this.offset+2]=r,this},setW:function(n,r){return this.data.array[n*this.data.stride+this.offset+3]=r,this},getX:function(n){return this.data.array[n*this.data.stride+this.offset]},getY:function(n){return this.data.array[n*this.data.stride+this.offset+1]},getZ:function(n){return this.data.array[n*this.data.stride+this.offset+2]},getW:function(n){return this.data.array[n*this.data.stride+this.offset+3]},setXY:function(n,r,i){return this.data.array[(n=n*this.data.stride+this.offset)+0]=r,this.data.array[n+1]=i,this},setXYZ:function(n,r,i,s){return this.data.array[(n=n*this.data.stride+this.offset)+0]=r,this.data.array[n+1]=i,this.data.array[n+2]=s,this},setXYZW:function(n,r,i,s,c){return this.data.array[(n=n*this.data.stride+this.offset)+0]=r,this.data.array[n+1]=i,this.data.array[n+2]=s,this.data.array[n+3]=c,this}}),Object.defineProperty(Fb.prototype,"needsUpdate",{set:function(n){!0===n&&this.version++}}),Object.assign(Fb.prototype,{isInterleavedBuffer:!0,setArray:function(n){if(Array.isArray(n))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.count=void 0!==n?n.length/this.stride:0,this.array=n},setDynamic:function(n){return this.dynamic=n,this},copy:function(n){return this.array=new n.array.constructor(n.array),this.count=n.count,this.stride=n.stride,this.dynamic=n.dynamic,this},copyAt:function(n,r,i){n*=this.stride,i*=r.stride;for(var c=0,u=this.stride;c<u;c++)this.array[n+c]=r.array[i+c];return this},set:function(n,r){return void 0===r&&(r=0),this.array.set(n,r),this},clone:function(){return(new this.constructor).copy(this)},onUpload:function(n){return this.onUploadCallback=n,this}}),iS.prototype=Object.assign(Object.create(Fb.prototype),{constructor:iS,isInstancedInterleavedBuffer:!0,copy:function(n){return Fb.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this}}),oS.prototype=Object.assign(Object.create(xr.prototype),{constructor:oS,isInstancedBufferAttribute:!0,copy:function(n){return xr.prototype.copy.call(this,n),this.meshPerAttribute=n.meshPerAttribute,this}}),Object.assign(function(n,r,i,s){this.ray=new Tv(n,r),this.near=i||0,this.far=s||1/0,this.params={Mesh:{},Line:{},LOD:{},Points:{threshold:1},Sprite:{}},Object.defineProperties(this.params,{PointCloud:{get:function(){return console.warn("THREE.Raycaster: params.PointCloud has been renamed to params.Points."),this.Points}}})}.prototype,{linePrecision:1,set:function(n,r){this.ray.set(n,r)},setFromCamera:function(n,r){r&&r.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(r.matrixWorld),this.ray.direction.set(n.x,n.y,.5).unproject(r).sub(this.ray.origin).normalize()):r&&r.isOrthographicCamera?(this.ray.origin.set(n.x,n.y,(r.near+r.far)/(r.near-r.far)).unproject(r),this.ray.direction.set(0,0,-1).transformDirection(r.matrixWorld)):console.error("THREE.Raycaster: Unsupported camera type.")},intersectObject:function(n,r){var i=[];return FC(n,this,i,r),i.sort(LC),i},intersectObjects:function(n,r){var s=[];if(!1===Array.isArray(n))return console.warn("THREE.Raycaster.intersectObjects: objects is not an Array."),s;for(var c=0,u=n.length;c<u;c++)FC(n[c],this,s,r);return s.sort(LC),s}}),Object.assign(function(n){this.autoStart=void 0===n||n,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}.prototype,{start:function(){this.startTime=("undefined"==typeof performance?Date:performance).now(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0},stop:function(){this.getElapsedTime(),this.running=!1,this.autoStart=!1},getElapsedTime:function(){return this.getDelta(),this.elapsedTime},getDelta:function(){var n=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){var r=("undefined"==typeof performance?Date:performance).now();n=(r-this.oldTime)/1e3,this.oldTime=r,this.elapsedTime+=n}return n}}),Object.assign(function(n,r,i){return this.radius=void 0!==n?n:1,this.phi=void 0!==r?r:0,this.theta=void 0!==i?i:0,this}.prototype,{set:function(n,r,i){return this.radius=n,this.phi=r,this.theta=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.radius=n.radius,this.phi=n.phi,this.theta=n.theta,this},makeSafe:function(){var n=1e-6;return this.phi=Math.max(n,Math.min(Math.PI-n,this.phi)),this},setFromVector3:function(n){return this.radius=n.length(),0===this.radius?(this.theta=0,this.phi=0):(this.theta=Math.atan2(n.x,n.z),this.phi=Math.acos(Ie.clamp(n.y/this.radius,-1,1))),this}}),Object.assign(function(n,r,i){return this.radius=void 0!==n?n:1,this.theta=void 0!==r?r:0,this.y=void 0!==i?i:0,this}.prototype,{set:function(n,r,i){return this.radius=n,this.theta=r,this.y=i,this},clone:function(){return(new this.constructor).copy(this)},copy:function(n){return this.radius=n.radius,this.theta=n.theta,this.y=n.y,this},setFromVector3:function(n){return this.radius=Math.sqrt(n.x*n.x+n.z*n.z),this.theta=Math.atan2(n.x,n.z),this.y=n.y,this}}),(Zg.prototype=Object.create(Ln.prototype)).constructor=Zg,Zg.prototype.isImmediateRenderObject=!0,(ff.prototype=Object.create(So.prototype)).constructor=ff,ff.prototype.update=function(){var n=new J,r=new J,i=new xi;return function(){var u=["a","b","c"];this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);var f=this.object.matrixWorld,v=this.geometry.attributes.position,_=this.object.geometry;if(_&&_.isGeometry)for(var y=_.vertices,C=_.faces,P=0,w=0,E=C.length;w<E;w++)for(var S=C[w],I=0,L=S.vertexNormals.length;I<L;I++){var V=S.vertexNormals[I];n.copy(y[S[u[I]]]).applyMatrix4(f),r.copy(V).applyMatrix3(i).normalize().multiplyScalar(this.size).add(n),v.setXYZ(P,n.x,n.y,n.z),v.setXYZ(P+=1,r.x,r.y,r.z),P+=1}else if(_&&_.isBufferGeometry){var N=_.attributes.position,F=_.attributes.normal;for(P=0,I=0,L=N.count;I<L;I++)n.set(N.getX(I),N.getY(I),N.getZ(I)).applyMatrix4(f),r.set(F.getX(I),F.getY(I),F.getZ(I)),r.applyMatrix3(i).normalize().multiplyScalar(this.size).add(n),v.setXYZ(P,n.x,n.y,n.z),v.setXYZ(P+=1,r.x,r.y,r.z),P+=1}v.needsUpdate=!0}}(),(Pc.prototype=Object.create(Ln.prototype)).constructor=Pc,Pc.prototype.dispose=function(){this.cone.geometry.dispose(),this.cone.material.dispose()},Pc.prototype.update=function(){var n=new J,r=new J;return function(){this.light.updateMatrixWorld();var s=this.light.distance?this.light.distance:1e3,c=s*Math.tan(this.light.angle);this.cone.scale.set(c,c,s),n.setFromMatrixPosition(this.light.matrixWorld),r.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(r.sub(n)),void 0!==this.color?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}(),(Zv.prototype=Object.create(So.prototype)).constructor=Zv,Zv.prototype.updateMatrixWorld=function(){var n=new J,r=new ye,i=new ye;return function(c){var u=this.bones,f=this.geometry,v=f.getAttribute("position");i.getInverse(this.root.matrixWorld);for(var _=0,y=0;_<u.length;_++){var C=u[_];C.parent&&C.parent.isBone&&(r.multiplyMatrices(i,C.matrixWorld),n.setFromMatrixPosition(r),v.setXYZ(y,n.x,n.y,n.z),r.multiplyMatrices(i,C.parent.matrixWorld),n.setFromMatrixPosition(r),v.setXYZ(y+1,n.x,n.y,n.z),y+=2)}f.getAttribute("position").needsUpdate=!0,Ln.prototype.updateMatrixWorld.call(this,c)}}(),(Kv.prototype=Object.create(cl.prototype)).constructor=Kv,Kv.prototype.dispose=function(){this.geometry.dispose(),this.material.dispose()},Kv.prototype.update=function(){void 0!==this.color?this.material.color.set(this.color):this.material.color.copy(this.light.color)},(gf.prototype=Object.create(Ln.prototype)).constructor=gf,gf.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},gf.prototype.update=function(){var n=.5*this.light.width,r=.5*this.light.height,i=this.line.geometry.attributes.position,s=i.array;s[0]=n,s[1]=-r,s[2]=0,s[3]=n,s[4]=r,s[5]=0,s[6]=-n,s[7]=r,s[8]=0,s[9]=-n,s[10]=-r,s[11]=0,s[12]=n,s[13]=-r,s[14]=0,i.needsUpdate=!0,void 0!==this.color?this.line.material.color.set(this.color):this.line.material.color.copy(this.light.color)},(Qv.prototype=Object.create(Ln.prototype)).constructor=Qv,Qv.prototype.dispose=function(){this.children[0].geometry.dispose(),this.children[0].material.dispose()},Qv.prototype.update=function(){var n=new J,r=new cn,i=new cn;return function(){var c=this.children[0];if(void 0!==this.color)this.material.color.set(this.color);else{var u=c.geometry.getAttribute("color");r.copy(this.light.color),i.copy(this.light.groundColor);for(var f=0,v=u.count;f<v;f++){var _=f<v/2?r:i;u.setXYZ(f,_.r,_.g,_.b)}u.needsUpdate=!0}c.lookAt(n.setFromMatrixPosition(this.light.matrixWorld).negate())}}(),(Nb.prototype=Object.create(So.prototype)).constructor=Nb,(Bb.prototype=Object.create(So.prototype)).constructor=Bb,(Jv.prototype=Object.create(So.prototype)).constructor=Jv,Jv.prototype.update=function(){var n=new J,r=new J,i=new xi;return function(){this.object.updateMatrixWorld(!0),i.getNormalMatrix(this.object.matrixWorld);for(var u=this.object.matrixWorld,f=this.geometry.attributes.position,v=this.object.geometry,_=v.vertices,y=v.faces,C=0,P=0,w=y.length;P<w;P++){var E=y[P],S=E.normal;n.copy(_[E.a]).add(_[E.b]).add(_[E.c]).divideScalar(3).applyMatrix4(u),r.copy(S).applyMatrix3(i).normalize().multiplyScalar(this.size).add(n),f.setXYZ(C,n.x,n.y,n.z),f.setXYZ(C+=1,r.x,r.y,r.z),C+=1}f.needsUpdate=!0}}(),(lh.prototype=Object.create(Ln.prototype)).constructor=lh,lh.prototype.dispose=function(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()},lh.prototype.update=function(){var n=new J,r=new J,i=new J;return function(){n.setFromMatrixPosition(this.light.matrixWorld),r.setFromMatrixPosition(this.light.target.matrixWorld),i.subVectors(r,n),this.lightPlane.lookAt(i),void 0!==this.color?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(i),this.targetLine.scale.z=i.length()}}(),(UC.prototype=Object.create(So.prototype)).constructor=UC,UC.prototype.update=function(){var n,r,i=new J,s=new zi;function c(u,f,v,_){i.set(f,v,_).unproject(s);var y=r[u];if(void 0!==y)for(var C=n.getAttribute("position"),P=0,w=y.length;P<w;P++)C.setXYZ(y[P],i.x,i.y,i.z)}return function(){n=this.geometry,r=this.pointMap,s.projectionMatrix.copy(this.camera.projectionMatrix),c("c",0,0,-1),c("t",0,0,1),c("n1",-1,-1,-1),c("n2",1,-1,-1),c("n3",-1,1,-1),c("n4",1,1,-1),c("f1",-1,-1,1),c("f2",1,-1,1),c("f3",-1,1,1),c("f4",1,1,1),c("u1",.7,1.1,-1),c("u2",-.7,1.1,-1),c("u3",0,2,-1),c("cf1",-1,0,1),c("cf2",1,0,1),c("cf3",0,-1,1),c("cf4",0,1,1),c("cn1",-1,0,-1),c("cn2",1,0,-1),c("cn3",0,-1,-1),c("cn4",0,1,-1),n.getAttribute("position").needsUpdate=!0}}(),(fl.prototype=Object.create(So.prototype)).constructor=fl,fl.prototype.update=function(){var n=new to;return function(i){if(void 0!==i&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),void 0!==this.object&&n.setFromObject(this.object),!n.isEmpty()){var s=n.min,c=n.max,u=this.geometry.attributes.position,f=u.array;f[0]=c.x,f[1]=c.y,f[2]=c.z,f[3]=s.x,f[4]=c.y,f[5]=c.z,f[6]=s.x,f[7]=s.y,f[8]=c.z,f[9]=c.x,f[10]=s.y,f[11]=c.z,f[12]=c.x,f[13]=c.y,f[14]=s.z,f[15]=s.x,f[16]=c.y,f[17]=s.z,f[18]=s.x,f[19]=s.y,f[20]=s.z,f[21]=c.x,f[22]=s.y,f[23]=s.z,u.needsUpdate=!0,this.geometry.computeBoundingSphere()}}}(),fl.prototype.setFromObject=function(n){return this.object=n,this.update(),this},(mf.prototype=Object.create(So.prototype)).constructor=mf,mf.prototype.updateMatrixWorld=function(n){var r=this.box;r.isEmpty()||(r.getCenter(this.position),r.getSize(this.scale),this.scale.multiplyScalar(.5),Ln.prototype.updateMatrixWorld.call(this,n))},(Ub.prototype=Object.create(Qa.prototype)).constructor=Ub,Ub.prototype.updateMatrixWorld=function(n){var r=-this.plane.constant;Math.abs(r)<1e-8&&(r=1e-8),this.scale.set(.5*this.size,.5*this.size,r),this.lookAt(this.plane.normal),Ln.prototype.updateMatrixWorld.call(this,n)},(uh.prototype=Object.create(Ln.prototype)).constructor=uh,uh.prototype.setDirection=function(){var r,n=new J;return function(s){s.y>.99999?this.quaternion.set(0,0,0,1):s.y<-.99999?this.quaternion.set(1,0,0,0):(n.set(s.z,0,-s.x).normalize(),r=Math.acos(s.y),this.quaternion.setFromAxisAngle(n,r))}}(),uh.prototype.setLength=function(n,r,i){void 0===r&&(r=.2*n),void 0===i&&(i=.2*r),this.line.scale.set(1,Math.max(0,n-r),1),this.line.updateMatrix(),this.cone.scale.set(i,r,i),this.cone.position.y=n,this.cone.updateMatrix()},uh.prototype.setColor=function(n){this.line.material.color.copy(n),this.cone.material.color.copy(n)},(Kg.prototype=Object.create(So.prototype)).constructor=Kg;var Vb=new J,zC=new ew,nw=new ew,HC=new ew;function fp(n,r,i,s){co.call(this),this.type="CatmullRomCurve3",this.points=n||[],this.closed=r||!1,this.curveType=i||"centripetal",this.tension=s||.5}function dh(n,r,i,s){co.call(this),this.type="CubicBezierCurve3",this.v0=n||new J,this.v1=r||new J,this.v2=i||new J,this.v3=s||new J}function zb(n,r,i){co.call(this),this.type="QuadraticBezierCurve3",this.v0=n||new J,this.v1=r||new J,this.v2=i||new J}function vf(n,r){co.call(this),this.type="LineCurve3",this.v1=n||new J,this.v2=r||new J}function Hb(n,r,i,s,c,u){ch.call(this,n,r,i,i,s,c,u),this.type="ArcCurve"}function rw(n){console.warn("THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead."),fp.call(this,n),this.type="catmullrom"}function VD(n){if("undefined"!=typeof window){var i=new RegExp(n+"=([^&#=]*)").exec(window.location.search);if(i)return decodeURIComponent(i[1])}}function it(n,r){return void 0!==n?n:r}function ql(n,r){var i=Object.assign({},n);for(var s in r)void 0===n[s]&&(i[s]=r[s]);return i}function Qg(n,r){for(var i in r){var s=r[i];void 0!==s&&(n[i]=s)}return n}function sS(n,r){r=it(r,[]);for(var i=0;i<n.length;i++)Array.isArray(n[i])?sS(n[i],r):r.push(n[i]);return r}function iw(){var n=window.location.protocol;return null===n.match(/http(s)?:/gi)?"http:":n}function ow(){if("undefined"==typeof window)return!1;var n=window.navigator.userAgent;return/Opera|OPR/.test(n)?"Opera":/Chrome/i.test(n)?"Chrome":/Firefox/i.test(n)?"Firefox":/Mobile(\/.*)? Safari/i.test(n)?"Mobile Safari":/MSIE/i.test(n)?"Internet Explorer":!!/Safari/i.test(n)&&"Safari"}function GC(n){window.open(n,"_blank")||(window.location.href=n)}function sw(n,r){if(void 0===r&&(r="download"),n){var i="Safari"===ow(),s=/CriOS\/[\d]+/.test(window.navigator.userAgent),c=document.createElement("a");if("undefined"!=typeof navigator&&navigator.msSaveOrOpenBlob)navigator.msSaveOrOpenBlob(n,r);else if((i||s)&&FileReader)if(n instanceof Blob){var f=new FileReader;f.onloadend=function(){u(f.result)},f.readAsDataURL(n)}else u(n);else{var v=!1;n instanceof Blob&&(n=URL.createObjectURL(n),v=!0),"download"in c?(c.style.display="hidden",document.body.appendChild(c),c.href=n,c.download=r,c.target="_blank",c.click(),document.body.removeChild(c)):GC(n),v&&window.URL.revokeObjectURL(n)}}function u(_){GC(s?_:_.replace(/^data:[^;]*;/,"data:attachment/file;"))}}function cS(n,r,i){var s,c,u,f=null,v=0;function _(){v=!1===i.leading?0:Date.now(),f=null,u=n.apply(s,c),f||(s=c=null)}return i||(i={}),function(){var C=Date.now();!v&&!1===i.leading&&(v=C);var P=r-(C-v);return s=this,c=arguments,P<=0||P>r?(f&&(clearTimeout(f),f=null),v=C,u=n.apply(s,c),f||(s=c=null)):!f&&!1!==i.trailing&&(f=setTimeout(_,P)),u}}function lS(n,r){return n<r?-1:n>r?1:0}function Cr(n,r,i){void 0===i&&(i=lS);for(var s=0,c=n.length-1;s<=c;){var u=s+c>>1,f=i(r,n[u]);if(f>0)s=u+1;else{if(!(f<0))return u;c=u-1}}return-s-1}function e_(n,r,i){var s=function(n,r){var i=n.length-1;if(n[i]<r)return-1;for(var s=0;s<=i;){var c=s+i>>1;n[c]>=r?i=c-1:s=c+1}return i+1}(n,r),c=function(n,r){if(n[0]>r)return-1;for(var i=0,s=n.length-1;i<=s;){var c=i+s>>1;n[c]>r?s=c-1:i=c+1}return i-1}(n,i);return-1===s||-1===c||s>c?0:c-s+1}function gl(n){return n.sort().filter(function(r,i,s){return 0===i||r!==s[i-1]})}function n_(n){var r=28672;if(n.length>r){for(var i=[],s=0;s<n.length;s+=r)i.push(String.fromCharCode.apply(null,n.subarray(s,s+r)));return i.join("")}return String.fromCharCode.apply(null,n)}function Gb(n,r){switch(n){case"int8":return new Int8Array(r);case"int16":return new Int16Array(r);case"int32":return new Int32Array(r);case"uint8":return new Uint8Array(r);case"uint16":return new Uint16Array(r);case"uint32":return new Uint32Array(r);case"float32":return new Float32Array(r);default:throw new Error("arrayType unknown: "+n)}}function fa(n,r){return new(r>65535?Uint32Array:Uint16Array)(n)}function _f(n){return n.buffer&&n.buffer instanceof ArrayBuffer?n.buffer:n}function WC(n,r){return void 0===n?n=new r:Array.isArray(n)&&(n=(new r).fromArray(n)),n}function bf(n){return WC(n,J)}function ml(n){return WC(n,ye)}function r_(n){return WC(n,Wr)}function i_(n){return function(n,r){return n instanceof r?n:new r(n)}(n,Float32Array)}function uw(n){return it(n,"").toString().toLowerCase()}(fp.prototype=Object.create(co.prototype)).constructor=fp,fp.prototype.isCatmullRomCurve3=!0,fp.prototype.getPoint=function(n,r){var _,y,C,P,i=r||new J,s=this.points,c=s.length,u=(c-(this.closed?0:1))*n,f=Math.floor(u),v=u-f;if(this.closed?f+=f>0?0:(Math.floor(Math.abs(f)/s.length)+1)*s.length:0===v&&f===c-1&&(f=c-2,v=1),this.closed||f>0?_=s[(f-1)%c]:(Vb.subVectors(s[0],s[1]).add(s[0]),_=Vb),y=s[f%c],C=s[(f+1)%c],this.closed||f+2<c?P=s[(f+2)%c]:(Vb.subVectors(s[c-1],s[c-2]).add(s[c-1]),P=Vb),"centripetal"===this.curveType||"chordal"===this.curveType){var w="chordal"===this.curveType?.5:.25,E=Math.pow(_.distanceToSquared(y),w),S=Math.pow(y.distanceToSquared(C),w),I=Math.pow(C.distanceToSquared(P),w);S<1e-4&&(S=1),E<1e-4&&(E=S),I<1e-4&&(I=S),zC.initNonuniformCatmullRom(_.x,y.x,C.x,P.x,E,S,I),nw.initNonuniformCatmullRom(_.y,y.y,C.y,P.y,E,S,I),HC.initNonuniformCatmullRom(_.z,y.z,C.z,P.z,E,S,I)}else"catmullrom"===this.curveType&&(zC.initCatmullRom(_.x,y.x,C.x,P.x,this.tension),nw.initCatmullRom(_.y,y.y,C.y,P.y,this.tension),HC.initCatmullRom(_.z,y.z,C.z,P.z,this.tension));return i.set(zC.calc(v),nw.calc(v),HC.calc(v)),i},fp.prototype.copy=function(n){co.prototype.copy.call(this,n),this.points=[];for(var i=0,s=n.points.length;i<s;i++)this.points.push(n.points[i].clone());return this.closed=n.closed,this.curveType=n.curveType,this.tension=n.tension,this},(dh.prototype=Object.create(co.prototype)).constructor=dh,dh.prototype.isCubicBezierCurve3=!0,dh.prototype.getPoint=function(n,r){var i=r||new J,s=this.v0,c=this.v1,u=this.v2,f=this.v3;return i.set($v(n,s.x,c.x,u.x,f.x),$v(n,s.y,c.y,u.y,f.y),$v(n,s.z,c.z,u.z,f.z)),i},dh.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this.v3.copy(n.v3),this},(zb.prototype=Object.create(co.prototype)).constructor=zb,zb.prototype.isQuadraticBezierCurve3=!0,zb.prototype.getPoint=function(n,r){var i=r||new J,s=this.v0,c=this.v1,u=this.v2;return i.set(hf(n,s.x,c.x,u.x),hf(n,s.y,c.y,u.y),hf(n,s.z,c.z,u.z)),i},zb.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.v0.copy(n.v0),this.v1.copy(n.v1),this.v2.copy(n.v2),this},(vf.prototype=Object.create(co.prototype)).constructor=vf,vf.prototype.isLineCurve3=!0,vf.prototype.getPoint=function(n,r){var i=r||new J;return 1===n?i.copy(this.v2):(i.copy(this.v2).sub(this.v1),i.multiplyScalar(n).add(this.v1)),i},vf.prototype.getPointAt=function(n,r){return this.getPoint(n,r)},vf.prototype.copy=function(n){return co.prototype.copy.call(this,n),this.v1.copy(n.v1),this.v2.copy(n.v2),this},(Hb.prototype=Object.create(ch.prototype)).constructor=Hb,Hb.prototype.isArcCurve=!0,co.create=function(n,r){return console.log("THREE.Curve.create() has been deprecated"),n.prototype=Object.create(co.prototype),n.prototype.constructor=n,n.prototype.getPoint=r,n},Object.assign(Yv.prototype,{createPointsGeometry:function(n){console.warn("THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var r=this.getPoints(n);return this.createGeometry(r)},createSpacedPointsGeometry:function(n){console.warn("THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");var r=this.getSpacedPoints(n);return this.createGeometry(r)},createGeometry:function(n){console.warn("THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.");for(var r=new Nr,i=0,s=n.length;i<s;i++){var c=n[i];r.vertices.push(new J(c.x,c.y,c.z||0))}return r}}),Object.assign(Rb.prototype,{fromPoints:function(n){console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(n)}}),rw.prototype=Object.create(fp.prototype),Object.assign(rw.prototype,{initFromArray:function(){console.error("THREE.Spline: .initFromArray() has been removed.")},getControlPointsArray:function(){console.error("THREE.Spline: .getControlPointsArray() has been removed.")},reparametrizeByArcLength:function(){console.error("THREE.Spline: .reparametrizeByArcLength() has been removed.")}}),Nb.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},Zv.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},Object.assign(hC.prototype,{center:function(n){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},size:function(n){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(n)}}),Object.assign(to.prototype,{center:function(n){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(n)},empty:function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},isIntersectionBox:function(n){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionSphere:function(n){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)},size:function(n){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(n)}}),mb.prototype.center=function(n){return console.warn("THREE.Line3: .center() has been renamed to .getCenter()."),this.getCenter(n)},Object.assign(Ie,{random16:function(){return console.warn("THREE.Math: .random16() has been deprecated. Use Math.random() instead."),Math.random()},nearestPowerOfTwo:function(n){return console.warn("THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo()."),Ie.floorPowerOfTwo(n)},nextPowerOfTwo:function(n){return console.warn("THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo()."),Ie.ceilPowerOfTwo(n)}}),Object.assign(xi.prototype,{flattenToArrayOffset:function(n,r){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,r)},multiplyVector3:function(n){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),n.applyMatrix3(this)},multiplyVector3Array:function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},applyToBuffer:function(n){return console.warn("THREE.Matrix3: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(n)},applyToVector3Array:function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")}}),Object.assign(ye.prototype,{extractPosition:function(n){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(n)},flattenToArrayOffset:function(n,r){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(n,r)},getPosition:function(){var n;return function(){return void 0===n&&(n=new J),console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),n.setFromMatrixColumn(this,3)}}(),setRotationFromQuaternion:function(n){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(n)},multiplyToArray:function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},multiplyVector3:function(n){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector4:function(n){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},multiplyVector3Array:function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},rotateAxis:function(n){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),n.transformDirection(this)},crossVector:function(n){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),n.applyMatrix4(this)},translate:function(){console.error("THREE.Matrix4: .translate() has been removed.")},rotateX:function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},rotateY:function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},rotateZ:function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},rotateByAxis:function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},applyToBuffer:function(n){return console.warn("THREE.Matrix4: .applyToBuffer() has been removed. Use matrix.applyToBufferAttribute( attribute ) instead."),this.applyToBufferAttribute(n)},applyToVector3Array:function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},makeFrustum:function(n,r,i,s,c,u){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(n,r,s,i,c,u)}}),Xa.prototype.isIntersectionLine=function(n){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(n)},Wr.prototype.multiplyVector3=function(n){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),n.applyQuaternion(this)},Object.assign(Tv.prototype,{isIntersectionBox:function(n){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(n)},isIntersectionPlane:function(n){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(n)},isIntersectionSphere:function(n){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(n)}}),Object.assign(Wg.prototype,{extractAllPoints:function(n){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(n)},extrude:function(n){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new up(this,n)},makeGeometry:function(n){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new Vv(this,n)}}),Object.assign(ce.prototype,{fromAttribute:function(n,r,i){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,r,i)},distanceToManhattan:function(n){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(J.prototype,{setEulerFromRotationMatrix:function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},setEulerFromQuaternion:function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},getPositionFromMatrix:function(n){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(n)},getScaleFromMatrix:function(n){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(n)},getColumnFromMatrix:function(n,r){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(r,n)},applyProjection:function(n){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(n)},fromAttribute:function(n,r,i){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,r,i)},distanceToManhattan:function(n){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(n)},lengthManhattan:function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Object.assign(yo.prototype,{fromAttribute:function(n,r,i){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(n,r,i)},lengthManhattan:function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()}}),Nr.prototype.computeTangents=function(){console.warn("THREE.Geometry: .computeTangents() has been removed.")},Object.assign(Ln.prototype,{getChildByName:function(n){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(n)},renderDepth:function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},translate:function(n,r){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(r,n)}}),Object.defineProperties(Ln.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(n){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=n}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),Object.defineProperties(ip.prototype,{objects:{get:function(){return console.warn("THREE.LOD: .objects has been renamed to .levels."),this.levels}}}),Object.defineProperty(th.prototype,"useVertexTexture",{get:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")},set:function(){console.warn("THREE.Skeleton: useVertexTexture has been removed.")}}),Object.defineProperty(co.prototype,"__arcLengthDivisions",{get:function(){return console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions},set:function(n){console.warn("THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions."),this.arcLengthDivisions=n}}),ra.prototype.setLens=function(n,r){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==r&&(this.filmGauge=r),this.setFocalLength(n)},Object.defineProperties(js.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(n){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=n}},shadowCameraLeft:{set:function(n){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=n}},shadowCameraRight:{set:function(n){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=n}},shadowCameraTop:{set:function(n){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=n}},shadowCameraBottom:{set:function(n){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=n}},shadowCameraNear:{set:function(n){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=n}},shadowCameraFar:{set:function(n){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=n}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(n){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=n}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(n){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=n}},shadowMapHeight:{set:function(n){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=n}}}),Object.defineProperties(xr.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}}}),Object.assign(On.prototype,{addIndex:function(n){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(n)},addDrawCall:function(n,r,i){void 0!==i&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(n,r)},clearDrawCalls:function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},computeTangents:function(){console.warn("THREE.BufferGeometry: .computeTangents() has been removed.")},computeOffsets:function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")}}),Object.defineProperties(On.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),Object.defineProperties(Lb.prototype,{dynamic:{set:function(){console.warn("THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.")}},onUpdate:{value:function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this}}}),Object.defineProperties(oi.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new cn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(n){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===n}}}),Object.defineProperties(Md.prototype,{metal:{get:function(){return console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead."),!1},set:function(){console.warn("THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead")}}}),Object.defineProperties(Za.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(n){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=n}}}),Object.assign(bd.prototype,{getCurrentRenderTarget:function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},getMaxAnisotropy:function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},getPrecision:function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},resetGLState:function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},supportsFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},supportsHalfFloatTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},supportsStandardDerivatives:function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},supportsCompressedTextureS3TC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},supportsCompressedTexturePVRTC:function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},supportsBlendMinMax:function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},supportsVertexTextures:function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},supportsInstancedArrays:function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},enableScissorTest:function(n){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(n)},initMaterial:function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},addPrePlugin:function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},addPostPlugin:function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},updateShadowMap:function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")}}),Object.defineProperties(bd.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=n}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=n}},shadowMapCullFace:{get:function(){return this.shadowMap.cullFace},set:function(n){console.warn("THREE.WebGLRenderer: .shadowMapCullFace is now .shadowMap.cullFace."),this.shadowMap.cullFace=n}}}),Object.defineProperties(Mu.prototype,{cullFace:{get:function(){return this.renderReverseSided?2:1},set:function(n){var r=1!==n;console.warn("WebGLRenderer: .shadowMap.cullFace is deprecated. Set .shadowMap.renderReverseSided to "+r+"."),this.renderReverseSided=r}}}),Object.defineProperties(ea.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=n}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(n){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=n}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=n}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(n){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=n}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(n){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=n}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(n){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=n}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(n){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=n}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(n){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=n}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(n){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=n}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(n){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=n}}}),$g.prototype.load=function(n){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");var r=this;return(new DC).load(n,function(s){r.setBuffer(s)}),this},QP.prototype.getData=function(){return console.warn("THREE.AudioAnalyser: .getData() is now .getFrequencyData()."),this.getFrequencyData()},kb.prototype.updateCubeMap=function(n,r){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(n,r)};var $l=function(r){this.name=r,this._dict={}},GD={names:{configurable:!0}};function Lo(n){return.01745*n}$l.prototype.add=function(r,i){this._dict[uw(r)]=i},$l.prototype.get=function(r){return this._dict[uw(r)]},GD.names.get=function(){return Object.keys(this._dict)},Object.defineProperties($l.prototype,GD);var uS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),Wb=new Array(36);function dw(){for(var r,n=0,i=0;i<36;i++)8===i||13===i||18===i||23===i?Wb[i]="-":14===i?Wb[i]="4":(n<=2&&(n=33554432+16777216*Math.random()|0),r=15&n,n>>=4,Wb[i]=uS[19===i?3&r|8:r]);return Wb.join("")}function pS(n,r,i){return Math.max(r,Math.min(i,n))}function hS(n){return pS(n,0,100)}function Ws(n,r,i){return n+(r-n)*i}function yf(n,r,i,s,c,u){var f=(i-n)*u,v=(s-r)*u,_=c*c;return(2*r-2*i+f+v)*(c*_)+(-3*r+3*i-2*f-v)*_+f*c+r}function qC(n,r,i){return(i=function(n){return pS(n,0,1)}(function(n,r,i){return(n-r)/(i-r)}(i,n,r)))*i*(3-2*i)}var WD=oe(function(n,r){(function(){var i,s,c,u,f,v,_,y,C,P,w,E,S,I,L,B,V,N,F,z,G,Y,X,$,tt,ot,nt,et,vt,dt,Dt,Et,Mt,st,ht,ft,Zt,bt,Gt,Nt,le,Oe,tn,ge,he,Ze,Pe,Ue,en,Yn,yr,Rn,Xt,Fe,nn,An,yn,lr,En,Gr,Kr,Kn,qi,ho,xo,Ks,Co,Mo,ui,kr,hr,Ki,ca,la,ps=[].slice;kr=function(){var K,at,pt,_t,wt;for(K={},_t=0,at=(wt="Boolean Number String Function Array Date RegExp Undefined Null".split(" ")).length;_t<at;_t++)K["[object "+(pt=wt[_t])+"]"]=pt.toLowerCase();return function(Ut){var Kt;return Kt=Object.prototype.toString.call(Ut),K[Kt]||"object"}}(),Oe=function(K,at,pt){return null==at&&(at=0),null==pt&&(pt=1),K<at&&(K=at),K>pt&&(K=pt),K},hr=function(K){return K.length>=3?[].slice.call(K):K[0]},z=function(K){var at,pt;for(K._clipped=!1,K._unclipped=K.slice(0),at=pt=0;pt<3;at=++pt)at<3?((K[at]<0||K[at]>255)&&(K._clipped=!0),K[at]<0&&(K[at]=0),K[at]>255&&(K[at]=255)):3===at&&(K[at]<0&&(K[at]=0),K[at]>1&&(K[at]=1));return K._clipped||delete K._unclipped,K},u=Math.PI,xo=Math.round,Y=Math.cos,nt=Math.floor,en=Math.pow,tn=Math.log,Co=Math.sin,Mo=Math.sqrt,S=Math.atan2,he=Math.max,E=Math.abs,_=2*u,f=u/3,s=u/180,v=180/u,F=function(){return arguments[0]instanceof i?arguments[0]:function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,arguments,function(){})},w=[],null!==n&&null!=n.exports&&(n.exports=F),(null!==r?r:this).chroma=F,F.version="1.3.4",P={},y=[],C=!1,i=function(){function K(){var pt,_t,wt,Ut,Kt,ne,Re,Ye,wn,at=arguments;for(ne=this,_t=[],Ye=0,Ut=arguments.length;Ye<Ut;Ye++)null!=(pt=at[Ye])&&_t.push(pt);if(null!=P[Re=_t[_t.length-1]])ne._rgb=z(P[Re](hr(_t.slice(0,-1))));else{for(C||(y=y.sort(function(lt,mt){return mt.p-lt.p}),C=!0),wn=0,Kt=y.length;wn<Kt&&!(Re=(wt=y[wn]).test.apply(wt,_t));wn++);Re&&(ne._rgb=z(P[Re].apply(P,_t)))}null==ne._rgb&&console.warn("unknown format: "+_t),null==ne._rgb&&(ne._rgb=[0,0,0]),3===ne._rgb.length&&ne._rgb.push(1)}return K.prototype.toString=function(){return this.hex()},K.prototype.clone=function(){return F(me._rgb)},K}(),F._input=P,F.brewer=V={OrRd:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"],PuBu:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"],BuPu:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"],Oranges:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"],BuGn:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"],YlOrBr:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"],YlGn:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"],Reds:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],RdPu:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"],Greens:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"],YlGnBu:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"],Purples:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"],GnBu:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"],Greys:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],YlOrRd:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"],PuRd:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"],Blues:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],PuBuGn:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"],Viridis:["#440154","#482777","#3f4a8a","#31678e","#26838f","#1f9d8a","#6cce5a","#b6de2b","#fee825"],Spectral:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],RdYlGn:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],RdBu:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],PiYG:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],PRGn:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],RdYlBu:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],BrBG:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],RdGy:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],PuOr:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],Set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],Accent:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"],Set1:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"],Set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"],Dark2:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"],Paired:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"],Pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],Pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},function(){var K,at;for(K in at=[],V)at.push(V[K.toLowerCase()]=V[K])}(),F.colors=Ki={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflower:"#6495ed",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",laserlemon:"#ffff54",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrod:"#fafad2",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",maroon2:"#7f0000",maroon3:"#b03060",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",purple2:"#7f007f",purple3:"#a020f0",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},Zt=function(){var K,at,pt,Kt,ne,Re;return K=(at=hr(arguments))[1],pt=at[2],ne=(at[0]+16)/116,Kt=isNaN(K)?ne:ne+K/500,Re=isNaN(pt)?ne:ne-pt/200,ne=c.Yn*bt(ne),Kt=c.Xn*bt(Kt),Re=c.Zn*bt(Re),[la(3.2404542*Kt-1.5371385*ne-.4985314*Re),la(-.969266*Kt+1.8760108*ne+.041556*Re),pt=la(.0556434*Kt-.2040259*ne+1.0572252*Re),at.length>3?at[3]:1]},la=function(K){return 255*(K<=.00304?12.92*K:1.055*en(K,1/2.4)-.055)},bt=function(K){return K>c.t1?K*K*K:c.t2*(K-c.t0)},c={Kn:18,Xn:.95047,Yn:1,Zn:1.08883,t0:.137931034,t1:.206896552,t2:.12841855,t3:.008856452},yn=function(){var _t,wt,Kt;return _t=hr(arguments),[116*(Kt=(wt=Kn(_t[0],_t[1],_t[2]))[1])-16,500*(wt[0]-Kt),200*(Kt-wt[2])]},qi=function(K){return(K/=255)<=.04045?K/12.92:en((K+.055)/1.055,2.4)},ca=function(K){return K>c.t3?en(K,1/3):K/c.t2+c.t0},Kn=function(){var K,at,pt,_t;return at=(_t=hr(arguments))[1],K=_t[2],pt=qi(pt=_t[0]),at=qi(at),K=qi(K),[ca((.4124564*pt+.3575761*at+.1804375*K)/c.Xn),ca((.2126729*pt+.7151522*at+.072175*K)/c.Yn),ca((.0193339*pt+.119192*at+.9503041*K)/c.Zn)]},F.lab=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["lab"]),function(){})},P.lab=Zt,i.prototype.lab=function(){return yn(this._rgb)},I=function(K){var at,pt,_t,Ut,Kt,ne,Re,Ye,wn,lt;return 2===(K=function(){var mt,Pt,ve;for(ve=[],Pt=0,mt=K.length;Pt<mt;Pt++)ve.push(F(K[Pt]));return ve}()).length?(Ye=function(){var mt,Pt,ve;for(ve=[],Pt=0,mt=K.length;Pt<mt;Pt++)ve.push(K[Pt].lab());return ve}(),Ut=Ye[0],Kt=Ye[1],at=function(mt){var Pt,ve;return ve=function(){var He,rn;for(rn=[],Pt=He=0;He<=2;Pt=++He)rn.push(Ut[Pt]+mt*(Kt[Pt]-Ut[Pt]));return rn}(),F.lab.apply(F,ve)}):3===K.length?(wn=function(){var mt,Pt,ve;for(ve=[],Pt=0,mt=K.length;Pt<mt;Pt++)ve.push(K[Pt].lab());return ve}(),Ut=wn[0],Kt=wn[1],ne=wn[2],at=function(mt){var Pt,ve;return ve=function(){var He,rn;for(rn=[],Pt=He=0;He<=2;Pt=++He)rn.push((1-mt)*(1-mt)*Ut[Pt]+2*(1-mt)*mt*Kt[Pt]+mt*mt*ne[Pt]);return rn}(),F.lab.apply(F,ve)}):4===K.length?(lt=function(){var mt,Pt,ve;for(ve=[],Pt=0,mt=K.length;Pt<mt;Pt++)ve.push(K[Pt].lab());return ve}(),Ut=lt[0],Kt=lt[1],ne=lt[2],Re=lt[3],at=function(mt){var Pt,ve;return ve=function(){var He,rn;for(rn=[],Pt=He=0;He<=2;Pt=++He)rn.push((1-mt)*(1-mt)*(1-mt)*Ut[Pt]+3*(1-mt)*(1-mt)*mt*Kt[Pt]+3*(1-mt)*mt*mt*ne[Pt]+mt*mt*mt*Re[Pt]);return rn}(),F.lab.apply(F,ve)}):5===K.length&&(pt=I(K.slice(0,3)),_t=I(K.slice(2,5)),at=function(mt){return mt<.5?pt(2*mt):_t(2*(mt-.5))}),at},F.bezier=function(K){var at;return(at=I(K)).scale=function(){return F.scale(at)},at},F.cubehelix=function(K,at,pt,_t,wt){var Ut,Kt,ne;return null==K&&(K=300),null==at&&(at=-1.5),null==pt&&(pt=1),null==_t&&(_t=1),null==wt&&(wt=[0,1]),Ut=0,"array"===kr(wt)?Kt=wt[1]-wt[0]:(Kt=0,wt=[wt,wt]),(ne=function(Re){var Ye,wn,mt,He,Vn;return Ye=_*((K+120)/360+at*Re),He=en(wt[0]+Kt*Re,_t),wn=(0!==Ut?pt[0]+Re*Ut:pt)*He*(1-He)/2,mt=Y(Ye),Vn=Co(Ye),F(z([255*(He+wn*(-.14861*mt+1.78277*Vn)),255*(He+wn*(-.29227*mt-.90649*Vn)),255*(He+wn*(1.97294*mt))]))}).start=function(Re){return null==Re?K:(K=Re,ne)},ne.rotations=function(Re){return null==Re?at:(at=Re,ne)},ne.gamma=function(Re){return null==Re?_t:(_t=Re,ne)},ne.hue=function(Re){return null==Re?pt:("array"===kr(pt=Re)?0==(Ut=pt[1]-pt[0])&&(pt=pt[1]):Ut=0,ne)},ne.lightness=function(Re){return null==Re?wt:("array"===kr(Re)?(wt=Re,Kt=Re[1]-Re[0]):(wt=[Re,Re],Kt=0),ne)},ne.scale=function(){return F.scale(ne)},ne.hue(pt),ne},F.random=function(){var K,_t;for(K="#",_t=0;_t<6;++_t)K+="0123456789abcdef".charAt(nt(16*Math.random()));return new i(K)},F.average=function(K,at){var pt,_t,wt,Ut,Kt,ne,Re,Ye,wn,lt,mt,Pt,ve;for(Ye in null==at&&(at="rgb"),wn=K.length,Ut=[],Kt=0,ne=0,Pt=(Re=(K=K.map(function(He){return F(He)})).splice(0,1)[0]).get(at))Pt[Ye]=Pt[Ye]||0,Ut.push(isNaN(Pt[Ye])?0:1),"h"===at.charAt(Ye)&&!isNaN(Pt[Ye])&&(Kt+=Y(pt=Pt[Ye]/180*u),ne+=Co(pt));for(_t=Re.alpha(),mt=0,lt=K.length;mt<lt;mt++)for(Ye in ve=(wt=K[mt]).get(at),_t+=wt.alpha(),Pt)isNaN(ve[Ye])||(Pt[Ye]+=ve[Ye],Ut[Ye]+=1,"h"===at.charAt(Ye)&&(Kt+=Y(pt=Pt[Ye]/180*u),ne+=Co(pt)));for(Ye in Pt)if(Pt[Ye]=Pt[Ye]/Ut[Ye],"h"===at.charAt(Ye)){for(pt=S(ne/Ut[Ye],Kt/Ut[Ye])/u*180;pt<0;)pt+=360;for(;pt>=360;)pt-=360;Pt[Ye]=pt}return F(Pt,at).alpha(_t/wn)},P.rgb=function(){var K,at,pt;for(K in pt=[],at=hr(arguments))pt.push(at[K]);return pt},F.rgb=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["rgb"]),function(){})},i.prototype.rgb=function(K){return null==K&&(K=!0),K?this._rgb.map(Math.round).slice(0,3):this._rgb.slice(0,3)},i.prototype.rgba=function(K){return null==K&&(K=!0),K?[Math.round(this._rgb[0]),Math.round(this._rgb[1]),Math.round(this._rgb[2]),this._rgb[3]]:this._rgb.slice(0)},y.push({p:3,test:function(K){var at;if(at=hr(arguments),"array"===kr(at)&&3===at.length||4===at.length&&"number"===kr(at[3])&&at[3]>=0&&at[3]<=1)return"rgb"}}),vt=function(K){var Ut,Kt;if(K.match(/^#?([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/))return(4===K.length||7===K.length)&&(K=K.substr(1)),3===K.length&&(K=(K=K.split(""))[0]+K[0]+K[1]+K[1]+K[2]+K[2]),[(Kt=parseInt(K,16))>>16,Kt>>8&255,255&Kt,1];if(K.match(/^#?([A-Fa-f0-9]{8})$/))return 9===K.length&&(K=K.substr(1)),[(Kt=parseInt(K,16))>>24&255,Kt>>16&255,Kt>>8&255,xo((255&Kt)/255*100)/100];if(null!=P.css&&(Ut=P.css(K)))return Ut;throw"unknown color: "+K},Xt=function(K,at){var pt,_t,wt,Ut,Kt,ne;return null==at&&(at="rgb"),Kt=K[0],wt=K[1],_t=K[2],pt=K[3],Kt=Math.round(Kt),wt=Math.round(wt),_t=Math.round(_t),ne=(ne="000000"+(Kt<<16|wt<<8|_t).toString(16)).substr(ne.length-6),Ut=(Ut="0"+xo(255*pt).toString(16)).substr(Ut.length-2),"#"+function(){switch(at.toLowerCase()){case"rgba":return ne+Ut;case"argb":return Ut+ne;default:return ne}}()},P.hex=function(K){return vt(K)},F.hex=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["hex"]),function(){})},i.prototype.hex=function(K){return null==K&&(K="rgb"),Xt(this._rgb,K)},y.push({p:4,test:function(K){if(1===arguments.length&&"string"===kr(K))return"hex"}}),Et=function(){var K,at,pt,_t,wt,Ut,Kt,ne,Re,Ye,wn,lt,mt,Pt;if(wt=(K=hr(arguments))[0],Kt=K[2],0===(wn=K[1]))Re=_t=at=255*Kt;else{for(pt=[0,0,0],lt=2*Kt-(mt=Kt<.5?Kt*(1+wn):Kt+wn-Kt*wn),(Pt=[0,0,0])[0]=(wt/=360)+1/3,Pt[1]=wt,Pt[2]=wt-1/3,Ut=ne=0;ne<=2;Ut=++ne)Pt[Ut]<0&&(Pt[Ut]+=1),Pt[Ut]>1&&(Pt[Ut]-=1),pt[Ut]=6*Pt[Ut]<1?lt+6*(mt-lt)*Pt[Ut]:2*Pt[Ut]<1?mt:3*Pt[Ut]<2?lt+(mt-lt)*(2/3-Pt[Ut])*6:lt;Re=(Ye=[xo(255*pt[0]),xo(255*pt[1]),xo(255*pt[2])])[0],_t=Ye[1],at=Ye[2]}return K.length>3?[Re,_t,at,K[3]]:[Re,_t,at]},nn=function(K,at,pt){var _t,wt,Ut,Kt,ne;return void 0!==K&&K.length>=3&&(K=(Kt=K)[0],at=Kt[1],pt=Kt[2]),K/=255,at/=255,pt/=255,Ut=Math.min(K,at,pt),wt=((he=Math.max(K,at,pt))+Ut)/2,he===Ut?(ne=0,_t=Number.NaN):ne=wt<.5?(he-Ut)/(he+Ut):(he-Ut)/(2-he-Ut),K===he?_t=(at-pt)/(he-Ut):at===he?_t=2+(pt-K)/(he-Ut):pt===he&&(_t=4+(K-at)/(he-Ut)),(_t*=60)<0&&(_t+=360),[_t,ne,wt]},F.hsl=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["hsl"]),function(){})},P.hsl=Et,i.prototype.hsl=function(){return nn(this._rgb)},Mt=function(){var K,at,pt,_t,wt,Ut,Kt,ne,Re,Ye,wn,lt,mt,Pt,ve,He,rn,Vn;if(wt=(K=hr(arguments))[0],Vn=K[2],Vn*=255,0===(He=K[1]))Re=_t=at=Vn;else switch(360===wt&&(wt=0),wt>360&&(wt-=360),wt<0&&(wt+=360),wt/=60,Ut=nt(wt),pt=wt-Ut,Kt=Vn*(1-He),ne=Vn*(1-He*pt),rn=Vn*(1-He*(1-pt)),Ut){case 0:Re=(Ye=[Vn,rn,Kt])[0],_t=Ye[1],at=Ye[2];break;case 1:Re=(wn=[ne,Vn,Kt])[0],_t=wn[1],at=wn[2];break;case 2:Re=(lt=[Kt,Vn,rn])[0],_t=lt[1],at=lt[2];break;case 3:Re=(mt=[Kt,ne,Vn])[0],_t=mt[1],at=mt[2];break;case 4:Re=(Pt=[rn,Kt,Vn])[0],_t=Pt[1],at=Pt[2];break;case 5:Re=(ve=[Vn,Kt,ne])[0],_t=ve[1],at=ve[2]}return[Re,_t,at,K.length>3?K[3]:1]},An=function(){var K,at,pt,_t,wt,Ut,Kt,ne,Re;return Ut=(Kt=hr(arguments))[0],pt=Kt[1],K=Kt[2],wt=Math.min(Ut,pt,K),at=(he=Math.max(Ut,pt,K))-wt,Re=he/255,0===he?(_t=Number.NaN,ne=0):(ne=at/he,Ut===he&&(_t=(pt-K)/at),pt===he&&(_t=2+(K-Ut)/at),K===he&&(_t=4+(Ut-pt)/at),(_t*=60)<0&&(_t+=360)),[_t,ne,Re]},F.hsv=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["hsv"]),function(){})},P.hsv=Mt,i.prototype.hsv=function(){return An(this._rgb)},Pe=function(K){return"number"===kr(K)&&K>=0&&K<=16777215?[K>>16,K>>8&255,255&K,1]:(console.warn("unknown num color: "+K),[0,0,0,1])},Gr=function(){var _t;return((_t=hr(arguments))[0]<<16)+(_t[1]<<8)+_t[2]},F.num=function(K){return new i(K,"num")},i.prototype.num=function(K){return null==K&&(K="rgb"),Gr(this._rgb,K)},P.num=Pe,y.push({p:1,test:function(K){if(1===arguments.length&&"number"===kr(K)&&K>=0&&K<=16777215)return"num"}}),et=function(){var K,at,pt,_t,wt,Ut,Kt,ne,Re,Ye,wn,lt,mt,Pt,ve,He,rn,Vn,gn,jn;if(ne=(pt=hr(arguments))[0],wt=pt[1],at=pt[2],Kt=Kt/100*255,K=255*(wt/=100),0===wt)lt=Kt=_t=at;else switch(360===ne&&(ne=0),ne>360&&(ne-=360),ne<0&&(ne+=360),ne/=60,Re=nt(ne),Ut=ne-Re,Ye=at*(1-wt),wn=Ye+K*(1-Ut),gn=Ye+K*Ut,jn=Ye+K,Re){case 0:lt=(mt=[jn,gn,Ye])[0],Kt=mt[1],_t=mt[2];break;case 1:lt=(Pt=[wn,jn,Ye])[0],Kt=Pt[1],_t=Pt[2];break;case 2:lt=(ve=[Ye,jn,gn])[0],Kt=ve[1],_t=ve[2];break;case 3:lt=(He=[Ye,wn,jn])[0],Kt=He[1],_t=He[2];break;case 4:lt=(rn=[gn,Ye,jn])[0],Kt=rn[1],_t=rn[2];break;case 5:lt=(Vn=[jn,Ye,wn])[0],Kt=Vn[1],_t=Vn[2]}return[lt,Kt,_t,pt.length>3?pt[3]:1]},Rn=function(){var K,at,pt,_t,wt,Ut,Kt,ne,Re;return ne=(Re=hr(arguments))[0],wt=Re[1],at=Re[2],Kt=Math.min(ne,wt,at),pt=100*(_t=(he=Math.max(ne,wt,at))-Kt)/255,K=Kt/(255-_t)*100,0===_t?Ut=Number.NaN:(ne===he&&(Ut=(wt-at)/_t),wt===he&&(Ut=2+(at-ne)/_t),at===he&&(Ut=4+(ne-wt)/_t),(Ut*=60)<0&&(Ut+=360)),[Ut,pt,K]},F.hcg=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["hcg"]),function(){})},P.hcg=et,i.prototype.hcg=function(){return Rn(this._rgb)},X=function(K){var at,pt,_t,wt,Ut,Kt,ne,Re;if(K=K.toLowerCase(),null!=F.colors&&F.colors[K])return vt(F.colors[K]);if(Ut=K.match(/rgb\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*\)/)){for(ne=Ut.slice(1,4),wt=Kt=0;Kt<=2;wt=++Kt)ne[wt]=+ne[wt];ne[3]=1}else if(Ut=K.match(/rgba\(\s*(\-?\d+),\s*(\-?\d+)\s*,\s*(\-?\d+)\s*,\s*([01]|[01]?\.\d+)\)/))for(ne=Ut.slice(1,5),wt=Re=0;Re<=3;wt=++Re)ne[wt]=+ne[wt];else if(Ut=K.match(/rgb\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/)){for(ne=Ut.slice(1,4),wt=at=0;at<=2;wt=++at)ne[wt]=xo(2.55*ne[wt]);ne[3]=1}else if(Ut=K.match(/rgba\(\s*(\-?\d+(?:\.\d+)?)%,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/)){for(ne=Ut.slice(1,5),wt=pt=0;pt<=2;wt=++pt)ne[wt]=xo(2.55*ne[wt]);ne[3]=+ne[3]}else(Ut=K.match(/hsl\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*\)/))?((_t=Ut.slice(1,4))[1]*=.01,_t[2]*=.01,(ne=Et(_t))[3]=1):(Ut=K.match(/hsla\(\s*(\-?\d+(?:\.\d+)?),\s*(\-?\d+(?:\.\d+)?)%\s*,\s*(\-?\d+(?:\.\d+)?)%\s*,\s*([01]|[01]?\.\d+)\)/))&&((_t=Ut.slice(1,4))[1]*=.01,_t[2]*=.01,(ne=Et(_t))[3]=+Ut[4]);return ne},yr=function(K){var at;return"rgb"==(at=K[3]<1?"rgba":"rgb")?at+"("+K.slice(0,3).map(xo).join(",")+")":"rgba"===at?at+"("+K.slice(0,3).map(xo).join(",")+","+K[3]+")":void 0},ho=function(K){return xo(100*K)/100},Dt=function(K,at){var pt;return pt=at<1?"hsla":"hsl",K[0]=ho(K[0]||0),K[1]=ho(100*K[1])+"%",K[2]=ho(100*K[2])+"%","hsla"===pt&&(K[3]=at),pt+"("+K.join(",")+")"},P.css=function(K){return X(K)},F.css=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["css"]),function(){})},i.prototype.css=function(K){return null==K&&(K="rgb"),"rgb"===K.slice(0,3)?yr(this._rgb):"hsl"===K.slice(0,3)?Dt(this.hsl(),this.alpha()):void 0},P.named=function(K){return vt(Ki[K])},y.push({p:5,test:function(K){if(1===arguments.length&&null!=Ki[K])return"named"}}),i.prototype.name=function(K){var at,pt;for(pt in arguments.length&&(Ki[K]&&(this._rgb=vt(Ki[K])),this._rgb[3]=1),at=this.hex(),Ki)if(at===Ki[pt])return pt;return at},Gt=function(){var K,at,_t;return K=(_t=hr(arguments))[1],at=_t[2],[_t[0],Y(at*=s)*K,Co(at)*K]},Nt=function(){var pt,Ye,wn;return pt=hr(arguments),Ye=Gt(pt[0],pt[1],pt[2]),[(wn=Zt(Ye[0],Ye[1],Ye[2]))[0],wn[1],wn[2],pt.length>3?pt[3]:1]},ft=function(){var K,at,pt,_t,wt,Ut;return wt=(Ut=hr(arguments))[0],pt=Mo((K=Ut[1])*K+(at=Ut[2])*at),_t=(S(at,K)*v+360)%360,0===xo(1e4*pt)&&(_t=Number.NaN),[wt,pt,_t]},lr=function(){var Ut,Kt;return Ut=hr(arguments),Kt=yn(Ut[0],Ut[1],Ut[2]),ft(Kt[0],Kt[1],Kt[2])},F.lch=function(){var K;return K=hr(arguments),new i(K,"lch")},F.hcl=function(){var K;return K=hr(arguments),new i(K,"hcl")},P.lch=Nt,P.hcl=function(){var _t;return _t=hr(arguments),Nt([_t[2],_t[1],_t[0]])},i.prototype.lch=function(){return lr(this._rgb)},i.prototype.hcl=function(){return lr(this._rgb).reverse()},Yn=function(K){var at,_t,wt,Ut,ne,Re;return null==K&&(K="rgb"),ne=(Re=hr(arguments))[0],wt=Re[1],at=Re[2],wt/=255,at/=255,[(1-(ne/=255)-(Ut=1-Math.max(ne,Math.max(wt,at))))*(_t=Ut<1?1/(1-Ut):0),(1-wt-Ut)*_t,(1-at-Ut)*_t,Ut]},G=function(){var K,at,_t,Ut,Kt,Re;return _t=(at=hr(arguments))[0],Kt=at[1],Re=at[2],K=at.length>4?at[4]:1,1===(Ut=at[3])?[0,0,0,K]:[_t>=1?0:255*(1-_t)*(1-Ut),Kt>=1?0:255*(1-Kt)*(1-Ut),Re>=1?0:255*(1-Re)*(1-Ut),K]},P.cmyk=function(){return G(hr(arguments))},F.cmyk=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["cmyk"]),function(){})},i.prototype.cmyk=function(){return Yn(this._rgb)},P.gl=function(){var K,at,pt,_t;for(_t=function(){var Ut,Kt;for(at in Kt=[],Ut=hr(arguments))Kt.push(Ut[at]);return Kt}.apply(this,arguments),K=pt=0;pt<=2;K=++pt)_t[K]*=255;return _t},F.gl=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["gl"]),function(){})},i.prototype.gl=function(){var K;return[(K=this._rgb)[0]/255,K[1]/255,K[2]/255,K[3]]},En=function(K,at,pt){var _t;return at=(_t=hr(arguments))[1],pt=_t[2],.2126*(K=ge(K=_t[0]))+.7152*(at=ge(at))+.0722*ge(pt)},ge=function(K){return(K/=255)<=.03928?K/12.92:en((K+.055)/1.055,2.4)},w=[],st=function(K,at,pt,_t){var wt,Ut,Kt,ne;for(null==pt&&(pt=.5),null==_t&&(_t="rgb"),"object"!==kr(K)&&(K=F(K)),"object"!==kr(at)&&(at=F(at)),Kt=0,Ut=w.length;Kt<Ut;Kt++)if(_t===(wt=w[Kt])[0]){ne=wt[1](K,at,pt,_t);break}if(null==ne)throw"color mode "+_t+" is not supported";return ne.alpha(K.alpha()+pt*(at.alpha()-K.alpha()))},F.interpolate=st,i.prototype.interpolate=function(K,at,pt){return st(this,K,at,pt)},F.mix=st,i.prototype.mix=i.prototype.interpolate,w.push(["rgb",function(K,at,pt,_t){var wt,Ut;return new i((wt=K._rgb)[0]+pt*((Ut=at._rgb)[0]-wt[0]),wt[1]+pt*(Ut[1]-wt[1]),wt[2]+pt*(Ut[2]-wt[2]),_t)}]),i.prototype.luminance=function(K,at){var pt,_t,wt,Ut;return null==at&&(at="rgb"),arguments.length?(0===K?this._rgb=[0,0,0,this._rgb[3]]:1===K?this._rgb=[255,255,255,this._rgb[3]]:(_t=1e-7,wt=20,Ut=function(Kt,ne){var Re,Ye;return Re=(Ye=Kt.interpolate(ne,.5,at)).luminance(),Math.abs(K-Re)<_t||!wt--?Ye:Re>K?Ut(Kt,Ye):Ut(Ye,ne)},pt=En(this._rgb),this._rgb=(pt>K?Ut(F("black"),this):Ut(this,F("white"))).rgba()),this):En(this._rgb)},ui=function(K){var at,pt,_t,wt;return(wt=K/100)<66?(_t=255,pt=-155.25485562709179-.44596950469579133*(pt=wt-2)+104.49216199393888*tn(pt),at=wt<20?0:.8274096064007395*(at=wt-10)-254.76935184120902+115.67994401066147*tn(at)):(_t=351.97690566805693+.114206453784165*(_t=wt-55)-40.25366309332127*tn(_t),pt=325.4494125711974+.07943456536662342*(pt=wt-50)-28.0852963507957*tn(pt),at=255),[_t,pt,at]},Kr=function(){var K,at,_t,wt,Ut,Kt,ne,Re;for(Ut=(Kt=hr(arguments))[0],K=Kt[2],wt=1e3,_t=4e4,at=.4;_t-wt>at;)(ne=ui(Re=.5*(_t+wt)))[2]/ne[0]>=K/Ut?_t=Re:wt=Re;return xo(Re)},F.temperature=F.kelvin=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["temperature"]),function(){})},P.temperature=P.kelvin=P.K=ui,i.prototype.temperature=function(){return Kr(this._rgb)},i.prototype.kelvin=i.prototype.temperature,F.contrast=function(K,at){var pt,_t,wt,Ut;return("string"===(wt=kr(K))||"number"===wt)&&(K=new i(K)),("string"===(Ut=kr(at))||"number"===Ut)&&(at=new i(at)),(pt=K.luminance())>(_t=at.luminance())?(pt+.05)/(_t+.05):(_t+.05)/(pt+.05)},F.distance=function(K,at,pt){var _t,wt,Ut,Kt,ne,Re,Ye;for(wt in null==pt&&(pt="lab"),("string"===(ne=kr(K))||"number"===ne)&&(K=new i(K)),("string"===(Re=kr(at))||"number"===Re)&&(at=new i(at)),Ut=K.get(pt),Kt=at.get(pt),Ye=0,Ut)Ye+=(_t=(Ut[wt]||0)-(Kt[wt]||0))*_t;return Math.sqrt(Ye)},F.deltaE=function(K,at,pt,_t){var wt,Ut,Kt,ne,Re,Ye,wn,lt,mt,ve,He,rn,gn,jn,ur,Qn,dn,or,Ge,Dr,tr,jr,Ni,wr;for(null==pt&&(pt=1),null==_t&&(_t=1),("string"===(ur=kr(K))||"number"===ur)&&(K=new i(K)),("string"===(Qn=kr(at))||"number"===Qn)&&(at=new i(at)),wt=(dn=K.lab())[0],Kt=dn[1],Re=dn[2],Ut=(or=at.lab())[0],ne=or[1],Ye=or[2],wn=Mo(Kt*Kt+Re*Re),lt=Mo(ne*ne+Ye*Ye),Dr=wt<16?.511:.040975*wt/(1+.01765*wt),Ge=.0638*wn/(1+.0131*wn)+.638,jn=wn<1e-6?0:180*S(Re,Kt)/u;jn<0;)jn+=360;for(;jn>=360;)jn-=360;return tr=jn>=164&&jn<=345?.56+E(.2*Y(u*(jn+168)/180)):.36+E(.4*Y(u*(jn+35)/180)),gn=Mo((mt=wn*wn*wn*wn)/(mt+1900)),Mo((jr=(wt-Ut)/(pt*Dr))*jr+(Ni=(rn=wn-lt)/(_t*Ge))*Ni+((ve=Kt-ne)*ve+(He=Re-Ye)*He-rn*rn)/((wr=Ge*(gn*tr+1-gn))*wr))},i.prototype.get=function(K){var at,pt,wt,Ut,Kt;return at=(Ut=K.split("."))[1],Kt=this[wt=Ut[0]](),at?(pt=wt.indexOf(at))>-1?Kt[pt]:console.warn("unknown channel "+at+" in mode "+wt):Kt},i.prototype.set=function(K,at){var pt,_t,Ut,Kt,ne;if(Ut=(Kt=K.split("."))[0],pt=Kt[1])if(ne=this[Ut](),(_t=Ut.indexOf(pt))>-1)if("string"===kr(at))switch(at.charAt(0)){case"+":case"-":ne[_t]+=+at;break;case"*":ne[_t]*=+at.substr(1);break;case"/":ne[_t]/=+at.substr(1);break;default:ne[_t]=+at}else ne[_t]=at;else console.warn("unknown channel "+pt+" in mode "+Ut);else ne=at;return F(ne,Ut).alpha(this.alpha())},i.prototype.clipped=function(){return this._rgb._clipped||!1},i.prototype.alpha=function(K){return arguments.length?F.rgb([this._rgb[0],this._rgb[1],this._rgb[2],K]):this._rgb[3]},i.prototype.darken=function(K){var at;return null==K&&(K=1),(at=this.lab())[0]-=c.Kn*K,F.lab(at).alpha(this.alpha())},i.prototype.brighten=function(K){return null==K&&(K=1),this.darken(-K)},i.prototype.darker=i.prototype.darken,i.prototype.brighter=i.prototype.brighten,i.prototype.saturate=function(K){var at;return null==K&&(K=1),(at=this.lch())[1]+=K*c.Kn,at[1]<0&&(at[1]=0),F.lch(at).alpha(this.alpha())},i.prototype.desaturate=function(K){return null==K&&(K=1),this.saturate(-K)},i.prototype.premultiply=function(){var K,at;return at=this.rgb(),K=this.alpha(),F(at[0]*K,at[1]*K,at[2]*K,K)},Ze=function(K,at){return K*at/255},$=function(K,at){return K>at?at:K},le=function(K,at){return K>at?K:at},Ks=function(K,at){return 255*(1-(1-K/255)*(1-at/255))},Ue=function(K,at){return at<128?2*K*at/255:255*(1-2*(1-K/255)*(1-at/255))},N=function(K,at){return 255*(1-(1-at/255)/(K/255))},tt=function(K,at){return 255===K||(K=at/255*255/(1-K/255))>255?255:K},(L=function(K,at,pt){if(!L[pt])throw"unknown blend mode "+pt;return L[pt](K,at)}).normal=(B=function(K){return function(at,pt){var _t,wt;return _t=F(pt).rgb(),wt=F(at).rgb(),F(K(_t,wt),"rgb")}})((ot=function(K){return function(at,pt){var _t,wt,Ut;for(Ut=[],_t=wt=0;wt<=3;_t=++wt)Ut[_t]=K(at[_t],pt[_t]);return Ut}})(function(K,at){return K})),L.multiply=B(ot(Ze)),L.screen=B(ot(Ks)),L.overlay=B(ot(Ue)),L.darken=B(ot($)),L.lighten=B(ot(le)),L.dodge=B(ot(tt)),L.burn=B(ot(N)),F.blend=L,F.analyze=function(K){var at,pt,_t,wt;for(_t={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},pt=0,at=K.length;pt<at;pt++)null!=(wt=K[pt])&&!isNaN(wt)&&(_t.values.push(wt),_t.sum+=wt,wt<_t.min&&(_t.min=wt),wt>_t.max&&(_t.max=wt),_t.count+=1);return _t.domain=[_t.min,_t.max],_t.limits=function(Ut,Kt){return F.limits(_t,Ut,Kt)},_t},F.scale=function(K,at){var pt,_t,wt,Ut,Kt,Re,Ye,wn,lt,mt,Pt,ve,He,rn,gn,jn,ur,Qn,dn,or;return wn="rgb",lt=F("#ccc"),He=0,Kt=[0,1],ve=[],Pt=[0,0],pt=!1,wt=[],mt=!1,Ye=0,Re=1,Ut=!1,_t={},rn=!0,dn=function(Ge){var bn,Dr,tr,jr,Ni,wr;if(null==Ge&&(Ge=["#fff","#000"]),null!=Ge&&"string"===kr(Ge)&&null!=F.brewer&&(Ge=F.brewer[Ge]||F.brewer[Ge.toLowerCase()]||Ge),"array"===kr(Ge)){for(bn=tr=0,jr=(Ge=Ge.slice(0)).length-1;0<=jr?tr<=jr:tr>=jr;bn=0<=jr?++tr:--tr)"string"===kr(Dr=Ge[bn])&&(Ge[bn]=F(Dr));for(ve.length=0,bn=wr=0,Ni=Ge.length-1;0<=Ni?wr<=Ni:wr>=Ni;bn=0<=Ni?++wr:--wr)ve.push(bn/(Ge.length-1))}return Qn(),wt=Ge},jn=function(Ge){var bn,Dr;if(null!=pt){for(Dr=pt.length-1,bn=0;bn<Dr&&Ge>=pt[bn];)bn++;return bn-1}return 0},or=function(Ge){return Ge},ur=function(Ge,bn){var Dr,tr,jr,Ni,wr,_o,Xo,si;if(null==bn&&(bn=!1),isNaN(Ge))return lt;if(bn?si=Ge:pt&&pt.length>2?(Dr=jn(Ge),si=Pt[0]+(si=Dr/(pt.length-2))*(1-Pt[0]-Pt[1])):Re!==Ye?(si=Pt[0]+(si=(Ge-Ye)/(Re-Ye))*(1-Pt[0]-Pt[1]),si=Math.min(1,Math.max(0,si))):si=1,bn||(si=or(si)),Ni=Math.floor(1e4*si),rn&&_t[Ni])tr=_t[Ni];else{if("array"===kr(wt))for(jr=wr=0,Xo=ve.length-1;0<=Xo?wr<=Xo:wr>=Xo;jr=0<=Xo?++wr:--wr){if(si<=(_o=ve[jr])){tr=wt[jr];break}if(si>=_o&&jr===ve.length-1){tr=wt[jr];break}if(si>_o&&si<ve[jr+1]){tr=F.interpolate(wt[jr],wt[jr+1],si=(si-_o)/(ve[jr+1]-_o),wn);break}}else"function"===kr(wt)&&(tr=wt(si));rn&&(_t[Ni]=tr)}return tr},Qn=function(){return _t={}},dn(K),(gn=function(Ge){var bn;return bn=F(ur(Ge)),mt&&bn[mt]?bn[mt]():bn}).classes=function(Ge){var bn;return null!=Ge?("array"===kr(Ge)?(pt=Ge,Kt=[Ge[0],Ge[Ge.length-1]]):(bn=F.analyze(Kt),pt=0===Ge?[bn.min,bn.max]:F.limits(bn,"e",Ge)),gn):pt},gn.domain=function(Ge){var bn,tr,jr,Ni,wr,_o;if(!arguments.length)return Kt;if(Ye=Ge[0],Re=Ge[Ge.length-1],ve=[],Ge.length===(tr=wt.length)&&Ye!==Re)for(Ni=0,jr=Ge.length;Ni<jr;Ni++)ve.push((Ge[Ni]-Ye)/(Re-Ye));else for(bn=_o=0,wr=tr-1;0<=wr?_o<=wr:_o>=wr;bn=0<=wr?++_o:--_o)ve.push(bn/(tr-1));return Kt=[Ye,Re],gn},gn.mode=function(Ge){return arguments.length?(wn=Ge,Qn(),gn):wn},gn.range=function(Ge,bn){return dn(Ge),gn},gn.out=function(Ge){return mt=Ge,gn},gn.spread=function(Ge){return arguments.length?(He=Ge,gn):He},gn.correctLightness=function(Ge){return null==Ge&&(Ge=!0),Ut=Ge,Qn(),or=Ut?function(bn){var Dr,tr,Ni,wr,_o,Xo,si,ja;for(Xo=(Dr=ur(0,!0).lab()[0])>(tr=ur(1,!0).lab()[0]),Ni=ur(bn,!0).lab()[0]-(wr=Dr+(tr-Dr)*bn),si=0,ja=1,_o=20;Math.abs(Ni)>.01&&_o-- >0;)Xo&&(Ni*=-1),Ni<0?(si=bn,bn+=.5*(ja-bn)):(ja=bn,bn+=.5*(si-bn)),Ni=ur(bn,!0).lab()[0]-wr;return bn}:function(bn){return bn},gn},gn.padding=function(Ge){return null!=Ge?("number"===kr(Ge)&&(Ge=[Ge,Ge]),Pt=Ge,gn):Pt},gn.colors=function(Ge,bn){var Dr,tr,jr,wr,_o,Xo,si,ja;if(arguments.length<2&&(bn="hex"),_o=[],0===arguments.length)_o=wt.slice(0);else if(1===Ge)_o=[gn(.5)];else if(Ge>1)Dr=Kt[1]-(tr=Kt[0]),_o=function(){Xo=[];for(var Ns=0;0<=Ge?Ns<Ge:Ns>Ge;0<=Ge?Ns++:Ns--)Xo.push(Ns);return Xo}.apply(this).map(function(Ns){return gn(tr+Ns/(Ge-1)*Dr)});else{if(K=[],si=[],pt&&pt.length>2)for(jr=ja=1,wr=pt.length;1<=wr?ja<wr:ja>wr;jr=1<=wr?++ja:--ja)si.push(.5*(pt[jr-1]+pt[jr]));else si=Kt;_o=si.map(function(Ns){return gn(Ns)})}return F[bn]&&(_o=_o.map(function(Ns){return Ns[bn]()})),_o},gn.cache=function(Ge){return null!=Ge?rn=Ge:rn},gn},null==F.scales&&(F.scales={}),F.scales.cool=function(){return F.scale([F.hsl(180,1,.9),F.hsl(250,.7,.4)])},F.scales.hot=function(){return F.scale(["#000","#f00","#ff0","#fff"],[0,.25,.75,1]).mode("rgb")},F.analyze=function(K,at,pt){var _t,wt,Ut,Kt,ne,Ye;if(ne={min:Number.MAX_VALUE,max:-1*Number.MAX_VALUE,sum:0,values:[],count:0},null==pt&&(pt=function(){return!0}),_t=function(wn){null!=wn&&!isNaN(wn)&&(ne.values.push(wn),ne.sum+=wn,wn<ne.min&&(ne.min=wn),wn>ne.max&&(ne.max=wn),ne.count+=1)},Ye=function(wn,lt){if(pt(wn,lt))return null!=at&&"function"===kr(at)?_t(at(wn)):null!=at&&"string"===kr(at)||"number"===kr(at)?_t(wn[at]):_t(wn)},"array"===kr(K))for(Kt=0,Ut=K.length;Kt<Ut;Kt++)Ye(K[Kt]);else for(wt in K)Ye(K[wt],wt);return ne.domain=[ne.min,ne.max],ne.limits=function(wn,lt){return F.limits(ne,wn,lt)},ne},F.limits=function(K,at,pt){var _t,wt,Ut,Kt,ne,Re,Ye,wn,lt,mt,Pt,ve,He,rn,Vn,gn,jn,ur,Qn,dn,or,Ge,bn,Dr,tr,jr,Ni,wr,_o,Xo,si,ja,Ns,od,$h,sd,ig,og,j0,lv,z2,Bx,Ux,su,W0,sg,q0,H2,Q1,G2,$0,ag,lk,cg,j2;if(null==at&&(at="equal"),null==pt&&(pt=7),"array"===kr(K)&&(K=F.analyze(K)),tr=K.min,he=K.max,cg=K.values.sort(function(uv,EI){return uv-EI}),1===pt)return[tr,he];if(bn=[],"c"===at.substr(0,1)&&(bn.push(tr),bn.push(he)),"e"===at.substr(0,1)){for(bn.push(tr),dn=si=1,$h=pt-1;1<=$h?si<=$h:si>=$h;dn=1<=$h?++si:--si)bn.push(tr+dn/pt*(he-tr));bn.push(he)}else if("l"===at.substr(0,1)){if(tr<=0)throw"Logarithmic scales are only possible for values > 0";for(jr=Math.LOG10E*tn(tr),Dr=Math.LOG10E*tn(he),bn.push(tr),dn=j2=1,sd=pt-1;1<=sd?j2<=sd:j2>=sd;dn=1<=sd?++j2:--j2)bn.push(en(10,jr+dn/pt*(Dr-jr)));bn.push(he)}else if("q"===at.substr(0,1)){for(bn.push(tr),dn=_t=1,Bx=pt-1;1<=Bx?_t<=Bx:_t>=Bx;dn=1<=Bx?++_t:--_t)(Ns=nt(ja=(cg.length-1)*dn/pt))===ja?bn.push(cg[Ns]):bn.push(cg[Ns]*(1-(od=ja-Ns))+cg[Ns+1]*od);bn.push(he)}else if("k"===at.substr(0,1)){for(wr=cg.length,rn=new Array(wr),ur=new Array(pt),G2=!0,_o=0,gn=null,(gn=[]).push(tr),dn=wt=1,Ux=pt-1;1<=Ux?wt<=Ux:wt>=Ux;dn=1<=Ux?++wt:--wt)gn.push(tr+dn/pt*(he-tr));for(gn.push(he);G2;){for(or=Ut=0,su=pt-1;0<=su?Ut<=su:Ut>=su;or=0<=su?++Ut:--Ut)ur[or]=0;for(dn=Kt=0,W0=wr-1;0<=W0?Kt<=W0:Kt>=W0;dn=0<=W0?++Kt:--Kt){for(lk=cg[dn],Ni=Number.MAX_VALUE,or=ne=0,sg=pt-1;0<=sg?ne<=sg:ne>=sg;or=0<=sg?++ne:--ne)(Qn=E(gn[or]-lk))<Ni&&(Ni=Qn,Vn=or);ur[Vn]++,rn[dn]=Vn}for(Xo=new Array(pt),or=Re=0,q0=pt-1;0<=q0?Re<=q0:Re>=q0;or=0<=q0?++Re:--Re)Xo[or]=null;for(dn=Ye=0,H2=wr-1;0<=H2?Ye<=H2:Ye>=H2;dn=0<=H2?++Ye:--Ye)null===Xo[jn=rn[dn]]?Xo[jn]=cg[dn]:Xo[jn]+=cg[dn];for(or=wn=0,Q1=pt-1;0<=Q1?wn<=Q1:wn>=Q1;or=0<=Q1?++wn:--wn)Xo[or]*=1/ur[or];for(G2=!1,or=lt=0,ig=pt-1;0<=ig?lt<=ig:lt>=ig;or=0<=ig?++lt:--lt)if(Xo[or]!==gn[dn]){G2=!0;break}gn=Xo,++_o>200&&(G2=!1)}for(Ge={},or=mt=0,og=pt-1;0<=og?mt<=og:mt>=og;or=0<=og?++mt:--mt)Ge[or]=[];for(dn=Pt=0,j0=wr-1;0<=j0?Pt<=j0:Pt>=j0;dn=0<=j0?++Pt:--Pt)Ge[jn=rn[dn]].push(cg[dn]);for($0=[],or=ve=0,lv=pt-1;0<=lv?ve<=lv:ve>=lv;or=0<=lv?++ve:--ve)$0.push(Ge[or][0]),$0.push(Ge[or][Ge[or].length-1]);for($0=$0.sort(function(uv,EI){return uv-EI}),bn.push($0[0]),dn=He=1,z2=$0.length-1;He<=z2;dn=He+=2)ag=$0[dn],!isNaN(ag)&&-1===bn.indexOf(ag)&&bn.push(ag)}return bn},dt=function(K,at,pt){var _t,wt,Ut,Kt;return K=(_t=hr(arguments))[0],at=_t[1],pt=_t[2],isNaN(K)&&(K=0),(K/=360)<1/3?Ut=1-((wt=(1-at)/3)+(Kt=(1+at*Y(_*K)/Y(f-_*K))/3)):K<2/3?wt=1-((Kt=(1-at)/3)+(Ut=(1+at*Y(_*(K-=1/3))/Y(f-_*K))/3)):Kt=1-((Ut=(1-at)/3)+(wt=(1+at*Y(_*(K-=2/3))/Y(f-_*K))/3)),[255*(Kt=Oe(pt*Kt*3)),255*(Ut=Oe(pt*Ut*3)),255*(wt=Oe(pt*wt*3)),_t.length>3?_t[3]:1]},Fe=function(){var K,at,pt,_t,Ut,Kt,ne;return Ut=(Kt=hr(arguments))[0],at=Kt[1],K=Kt[2],_=2*Math.PI,Ut/=255,at/=255,K/=255,0==(ne=1-Math.min(Ut,at,K)/(_t=(Ut+at+K)/3))?pt=0:(pt=(Ut-at+(Ut-K))/2,pt/=Math.sqrt((Ut-at)*(Ut-at)+(Ut-K)*(at-K)),pt=Math.acos(pt),K>at&&(pt=_-pt),pt/=_),[360*pt,ne,_t]},F.hsi=function(){return function(K,at,pt){pt.prototype=K.prototype;var _t=new pt,wt=K.apply(_t,at);return Object(wt)===wt?wt:_t}(i,ps.call(arguments).concat(["hsi"]),function(){})},P.hsi=dt,i.prototype.hsi=function(){return Fe(this._rgb)},ht=function(K,at,pt,_t){var Ut,Kt,ne,Ye,wn,mt,Pt,ve,He,rn;return"hsl"===_t?(He=K.hsl(),rn=at.hsl()):"hsv"===_t?(He=K.hsv(),rn=at.hsv()):"hcg"===_t?(He=K.hcg(),rn=at.hcg()):"hsi"===_t?(He=K.hsi(),rn=at.hsi()):("lch"===_t||"hcl"===_t)&&(_t="hcl",He=K.hcl(),rn=at.hcl()),"h"===_t.substr(0,1)&&(Kt=He[0],Pt=He[1],Ye=He[2],ne=rn[0],ve=rn[1],wn=rn[2]),isNaN(Kt)||isNaN(ne)?isNaN(Kt)?isNaN(ne)?Ut=Number.NaN:(Ut=ne,(1===Ye||0===Ye)&&"hsv"!==_t&&(mt=ve)):(Ut=Kt,(1===wn||0===wn)&&"hsv"!==_t&&(mt=Pt)):Ut=Kt+pt*(ne>Kt&&ne-Kt>180?ne-(Kt+360):ne<Kt&&Kt-ne>180?ne+360-Kt:ne-Kt),null==mt&&(mt=Pt+pt*(ve-Pt)),F[_t](Ut,mt,Ye+pt*(wn-Ye))},(w=w.concat(function(){var K,at,pt,_t;for(_t=[],at=0,K=(pt=["hsv","hsl","hsi","hcl","lch","hcg"]).length;at<K;at++)_t.push([pt[at],ht]);return _t}())).push(["num",function(K,at,pt,_t){var wt,Ut;return wt=K.num(),Ut=at.num(),F.num(wt+(Ut-wt)*pt,"num")}]),w.push(["lab",function(K,at,pt,_t){var Ut,Kt;return Ut=K.lab(),Kt=at.lab(),new i(Ut[0]+pt*(Kt[0]-Ut[0]),Ut[1]+pt*(Kt[1]-Ut[1]),Ut[2]+pt*(Kt[2]-Ut[2]),_t)}])}).call(A)}).scale,qD={scale:"uniform",mode:"hcl",domain:[0,1],value:16777215,reverse:!1},jc=new cn,Ai=function(r){void 0===r&&(r={}),this.parameters=ql(r,qD),"string"==typeof this.parameters.value&&(this.parameters.value=jc.set(this.parameters.value).getHex()),this.parameters.structure&&(this.atomProxy=this.parameters.structure.getAtomProxy())};Ai.prototype.getScale=function(r){void 0===r&&(r={});var i=ql(r,this.parameters);return"rainbow"===i.scale?i.scale=["red","orange","yellow","green","blue"]:"rwb"===i.scale&&(i.scale=["red","white","blue"]),i.reverse&&(i.domain=[i.domain[1],i.domain[0]]),WD(i.scale).mode(i.mode).domain(i.domain).out("num")},Ai.prototype.colorToArray=function(r,i,s){return void 0===i&&(i=[]),void 0===s&&(s=0),i[s]=(r>>16&255)/255,i[s+1]=(r>>8&255)/255,i[s+2]=(255&r)/255,i},Ai.prototype.atomColorToArray=function(r,i,s){return this.colorToArray(this.atomColor?this.atomColor(r):0,i,s)},Ai.prototype.bondColor=function(r,i){return this.atomProxy&&this.atomColor?(this.atomProxy.index=i?r.atomIndex1:r.atomIndex2,this.atomColor(this.atomProxy)):0},Ai.prototype.bondColorToArray=function(r,i,s,c){return this.colorToArray(this.bondColor(r,i),s,c)},Ai.prototype.volumeColorToArray=function(r,i,s){return this.colorToArray(this.volumeColor?this.volumeColor(r):0,i,s)},Ai.prototype.positionColorToArray=function(r,i,s){return this.colorToArray(this.positionColor?this.positionColor(r):0,i,s)};var Br=oe(function(n){!function(r){function i(f,v,_,y,C){this._listener=v,this._isOnce=_,this.context=y,this._signal=f,this._priority=C||0}function s(f,v){if("function"!=typeof f)throw new Error("listener is a required param of {fn}() and should be a Function.".replace("{fn}",v))}function c(){this._bindings=[],this._prevParams=null;var f=this;this.dispatch=function(){c.prototype.dispatch.apply(f,arguments)}}i.prototype={active:!0,params:null,execute:function(f){var v,_;return this.active&&!!this._listener&&(_=this.params?this.params.concat(f):f,v=this._listener.apply(this.context,_),this._isOnce&&this.detach()),v},detach:function(){return this.isBound()?this._signal.remove(this._listener,this.context):null},isBound:function(){return!!this._signal&&!!this._listener},isOnce:function(){return this._isOnce},getListener:function(){return this._listener},getSignal:function(){return this._signal},_destroy:function(){delete this._signal,delete this._listener,delete this.context},toString:function(){return"[SignalBinding isOnce:"+this._isOnce+", isBound:"+this.isBound()+", active:"+this.active+"]"}},c.prototype={VERSION:"1.0.0",memorize:!1,_shouldPropagate:!0,active:!0,_registerListener:function(f,v,_,y){var P,C=this._indexOfListener(f,_);if(-1!==C){if((P=this._bindings[C]).isOnce()!==v)throw new Error("You cannot add"+(v?"":"Once")+"() then add"+(v?"Once":"")+"() the same listener without removing the relationship first.")}else P=new i(this,f,v,_,y),this._addBinding(P);return this.memorize&&this._prevParams&&P.execute(this._prevParams),P},_addBinding:function(f){var v=this._bindings.length;do{--v}while(this._bindings[v]&&f._priority<=this._bindings[v]._priority);this._bindings.splice(v+1,0,f)},_indexOfListener:function(f,v){for(var C,y=this._bindings.length;y--;)if((C=this._bindings[y])._listener===f&&C.context===v)return y;return-1},has:function(f,v){return-1!==this._indexOfListener(f,v)},add:function(f,v,_){return s(f,"add"),this._registerListener(f,!1,v,_)},addOnce:function(f,v,_){return s(f,"addOnce"),this._registerListener(f,!0,v,_)},remove:function(f,v){s(f,"remove");var _=this._indexOfListener(f,v);return-1!==_&&(this._bindings[_]._destroy(),this._bindings.splice(_,1)),f},removeAll:function(){for(var v=this._bindings.length;v--;)this._bindings[v]._destroy();this._bindings.length=0},getNumListeners:function(){return this._bindings.length},halt:function(){this._shouldPropagate=!1},dispatch:function(f){if(this.active){var y,v=Array.prototype.slice.call(arguments),_=this._bindings.length;if(this.memorize&&(this._prevParams=v),_){y=this._bindings.slice(),this._shouldPropagate=!0;do{_--}while(y[_]&&this._shouldPropagate&&!1!==y[_].execute(v))}}},forget:function(){this._prevParams=null},dispose:function(){this.removeAll(),delete this._bindings,delete this._prevParams},toString:function(){return"[Signal active:"+this.active+" numListeners:"+this.getNumListeners()+"]"}};var u=c;u.Signal=c,n.exports?n.exports=u:r.signals=u}(A)}).Signal,Mr={PROTEIN:1,NUCLEIC:2,RNA:3,DNA:4,POLYMER:5,WATER:6,HELIX:7,SHEET:8,TURN:9,BACKBONE:10,SIDECHAIN:11,ALL:12,HETERO:13,ION:14,SACCHARIDE:15,SUGAR:15,BONDED:16,RING:17,AROMATICRING:18},pw=["*","","ALL"],s_=[Mr.BACKBONE,Mr.SIDECHAIN,Mr.BONDED,Mr.RING,Mr.AROMATICRING],fS=[Mr.POLYMER,Mr.WATER],Su=["ALA","GLY","SER"],qs=["CYS","SER","THR"],hw=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],gS=["PHE","TRP","TYR","HIS"],a_=["ASN","GLN"],mS=["ASP","GLU"],$C=["ARG","HIS","LYS"],fw=["ARG","ASP","GLU","HIS","LYS"],vS=["ASN","ARG","ASP","CYS","GLY","GLN","GLU","HIS","LYS","SER","THR","TYR"],c_=["ALA","ILE","LEU","MET","PHE","PRO","TRP","VAL"],l_=["HIS","PHE","PRO","TRP","TYR"],_S=["ALA","GLY","ILE","LEU","VAL"];function YC(n,r){if(void 0===r.atomname&&void 0===r.element&&void 0===r.altloc&&void 0===r.atomindex&&void 0===r.keyword&&void 0===r.inscode&&void 0===r.resname&&void 0===r.sstruc&&void 0===r.resno&&void 0===r.chainname&&void 0===r.model)return-1;if(void 0!==r.keyword&&(r.keyword===Mr.BACKBONE&&!n.isBackbone()||r.keyword===Mr.SIDECHAIN&&!n.isSidechain()||r.keyword===Mr.BONDED&&!n.isBonded()||r.keyword===Mr.RING&&!n.isRing()||r.keyword===Mr.AROMATICRING&&!n.isAromatic()||r.keyword===Mr.HETERO&&!n.isHetero()||r.keyword===Mr.PROTEIN&&!n.isProtein()||r.keyword===Mr.NUCLEIC&&!n.isNucleic()||r.keyword===Mr.RNA&&!n.isRna()||r.keyword===Mr.DNA&&!n.isDna()||r.keyword===Mr.POLYMER&&!n.isPolymer()||r.keyword===Mr.WATER&&!n.isWater()||r.keyword===Mr.HELIX&&!n.isHelix()||r.keyword===Mr.SHEET&&!n.isSheet()||r.keyword===Mr.TURN&&!n.isTurn()||r.keyword===Mr.ION&&!n.isIon()||r.keyword===Mr.SACCHARIDE&&!n.isSaccharide())||void 0!==r.atomname&&r.atomname!==n.atomname||void 0!==r.element&&r.element!==n.element||void 0!==r.altloc&&r.altloc!==n.altloc||void 0!==r.atomindex&&Cr(r.atomindex,n.index)<0)return!1;if(void 0!==r.resname)if(Array.isArray(r.resname)){if(!r.resname.includes(n.resname))return!1}else if(r.resname!==n.resname)return!1;if(void 0!==r.sstruc&&r.sstruc!==n.sstruc)return!1;if(void 0!==r.resno)if(Array.isArray(r.resno)&&2===r.resno.length){if(r.resno[0]>n.resno||r.resno[1]<n.resno)return!1}else if(r.resno!==n.resno)return!1;return!(void 0!==r.inscode&&r.inscode!==n.inscode||void 0!==r.chainname&&r.chainname!==n.chainname||void 0!==r.model&&r.model!==n.modelIndex)}function Yb(n,r){if(void 0===r.resname&&void 0===r.resno&&void 0===r.inscode&&void 0===r.sstruc&&void 0===r.model&&void 0===r.chainname&&void 0===r.atomindex&&(void 0===r.keyword||s_.includes(r.keyword)))return-1;if(void 0!==r.keyword&&(r.keyword===Mr.HETERO&&!n.isHetero()||r.keyword===Mr.PROTEIN&&!n.isProtein()||r.keyword===Mr.NUCLEIC&&!n.isNucleic()||r.keyword===Mr.RNA&&!n.isRna()||r.keyword===Mr.DNA&&!n.isDna()||r.keyword===Mr.POLYMER&&!n.isPolymer()||r.keyword===Mr.WATER&&!n.isWater()||r.keyword===Mr.HELIX&&!n.isHelix()||r.keyword===Mr.SHEET&&!n.isSheet()||r.keyword===Mr.TURN&&!n.isTurn()||r.keyword===Mr.ION&&!n.isIon()||r.keyword===Mr.SACCHARIDE&&!n.isSaccharide())||void 0!==r.atomindex&&0===e_(r.atomindex,n.atomOffset,n.atomEnd))return!1;if(void 0!==r.resname)if(Array.isArray(r.resname)){if(!r.resname.includes(n.resname))return!1}else if(r.resname!==n.resname)return!1;if(void 0!==r.sstruc&&r.sstruc!==n.sstruc)return!1;if(void 0!==r.resno)if(Array.isArray(r.resno)&&2===r.resno.length){if(r.resno[0]>n.resno||r.resno[1]<n.resno)return!1}else if(r.resno!==n.resno)return!1;return!(void 0!==r.inscode&&r.inscode!==n.inscode||void 0!==r.chainname&&r.chainname!==n.chainname||void 0!==r.model&&r.model!==n.modelIndex)}function FR(n,r){return void 0!==r.chainname||void 0!==r.model||void 0!==r.atomindex||void 0!==r.keyword&&fS.includes(r.keyword)&&n.entity?!(void 0!==r.keyword&&(r.keyword===Mr.POLYMER&&!n.entity.isPolymer()||r.keyword===Mr.WATER&&!n.entity.isWater())||void 0!==r.atomindex&&0===e_(r.atomindex,n.atomOffset,n.atomEnd)||void 0!==r.chainname&&r.chainname!==n.chainname||void 0!==r.model&&r.model!==n.modelIndex):-1}function YD(n,r){return void 0===r.model&&void 0===r.atomindex?-1:!(void 0!==r.atomindex&&0===e_(r.atomindex,n.atomOffset,n.atomEnd)||void 0!==r.model&&r.model!==n.index)}function Xb(n,r){if(null===n||n.error||!n.rules||0===n.rules.length)return!1;for(var i=n.rules.length,s=!n.negate,c=!!n.negate,u=[],f=0;f<i;++f){var v=n.rules[f];v.hasOwnProperty("operator")&&(u[f]=Xb(v,r))}return function(y){for(var C="AND"===n.operator,P=!1,w=0;w<i;++w){var E=n.rules[w],S=void 0;if(E.hasOwnProperty("operator")){var I=u[w];if(-1===(S=!1!==I?I(y):-1)){P=!0;continue}if(!0===S){if(C)continue;return s}if(C)return c}else{if(E.keyword===Mr.ALL){if(C)continue;return s}if(-1!==(S=r(y,E))){if(!0===S){if(C)continue;return s}if(C)return c}else P=!0}}return P?-1:C?s:c}}function Jg(n,r){if(n.error||!n.rules||0===n.rules.length)return n;var i=n.rules.length,s={operator:n.operator,rules:[]};n.hasOwnProperty("negate")&&(s.negate=n.negate);for(var c=0;c<i;++c){var u=n.rules[c];if(u.hasOwnProperty("operator")){var f=Jg(u,r);null!==f&&s.rules.push(f)}else r(u)||s.rules.push(u)}return s.rules.length>0?n:null}function XC(n,r){void 0===r&&(r=!1);var i=n;return r&&(i=Jg(n,function(s){return void 0!==s.keyword&&!s_.includes(s.keyword)||void 0!==s.model||void 0!==s.chainname||void 0!==s.resname||void 0!==s.resno||void 0!==s.sstruc})),Xb(i,YC)}function ZC(n,r){void 0===r&&(r=!1);var i=n;return r&&(i=Jg(n,function(s){return!!(void 0!==s.keyword&&s_.includes(s.keyword)||void 0!==s.model||void 0!==s.chainname||void 0!==s.atomname||void 0!==s.element||void 0!==s.altloc)})),Xb(i,Yb)}function tm(n,r){void 0===r&&(r=!1);var i=n;return r&&(i=Jg(n,function(s){return void 0!==s.keyword&&!fS.includes(s.keyword)||void 0!==s.resname||void 0!==s.resno||void 0!==s.atomname||void 0!==s.element||void 0!==s.altloc||void 0!==s.sstruc||void 0!==s.inscode})),Xb(i,FR)}function KC(n,r){void 0===r&&(r=!1);var i=n;return r&&(i=Jg(n,function(s){return void 0!==s.keyword||void 0!==s.chainname||void 0!==s.resname||void 0!==s.resno||void 0!==s.atomname||void 0!==s.element||void 0!==s.altloc||void 0!==s.sstruc||void 0!==s.inscode})),Xb(i,YD)}var Fo=function(r){this.signals={stringChanged:new Br},this.setString(r)},XD={type:{configurable:!0}};XD.type.get=function(){return"selection"},Fo.prototype.setString=function(r,i){if(void 0===r&&(r=this.string||""),r!==this.string){try{this.selection=function(n){var r={operator:void 0,rules:[]};if(!n)return r;var s,c,i=r,u=[];"("===(n=n.replace(/\(/g," ( ").replace(/\)/g," ) ").trim()).charAt(0)&&")"===n.substr(-1)&&(n=n.slice(1,-1).trim());for(var f=n.split(/\s+/),v=function(et){s={operator:et,rules:[]},void 0===i?(i=s,r=s):(i.rules.push(s),u.push(i),i=s)},_=function(et){c=i,void 0===(i=u.pop())&&(v(et),y(c))},y=function(et){i.rules.push(et)},C=!1,P=0;P<f.length;++P){var w=f[P],E=w.toUpperCase();if("("!==w)if(")"!==w){if(C>0)if("NOT"===E)C=1;else if(1===C)C=2;else{if(2!==C)throw new Error("something went wrong with 'not'");C=!1,_()}if("AND"!==E)if("OR"!==E)if("NOT"!==w.toUpperCase()){var I=Mr[E];if(void 0===I)if("HYDROGEN"!==E)if("SMALL"!==E)if("NUCLEOPHILIC"!==E)if("HYDROPHOBIC"!==E)if("AROMATIC"!==E)if("AMIDE"!==E)if("ACIDIC"!==E)if("BASIC"!==E)if("CHARGED"!==E)if("POLAR"!==E)if("NONPOLAR"!==E)if("CYCLIC"!==E)if("ALIPHATIC"!==E)if("SIDECHAINATTACHED"!==E)if("LIGAND"!==E)if(-1===pw.indexOf(E))if("@"!==w.charAt(0))if("#"!==w.charAt(0))if("_"!==w.charAt(0))if("["!==w[0]||"]"!==w[w.length-1])if(w.length>=1&&w.length<=4&&"^"!==w[0]&&":"!==w[0]&&"."!==w[0]&&"%"!==w[0]&&"/"!==w[0]&&isNaN(parseInt(w)))y({resname:E});else{var N={operator:"AND",rules:[]},F=w.split("/");if(F.length>1&&F[1]){if(isNaN(parseInt(F[1])))throw new Error("model must be an integer");N.rules.push({model:parseInt(F[1])})}var z=F[0].split("%");z.length>1&&N.rules.push({altloc:z[1]});var G=z[0].split(".");if(G.length>1&&G[1]){if(G[1].length>4)throw new Error("atomname must be one to four characters");N.rules.push({atomname:G[1].substring(0,4).toUpperCase()})}var q=G[0].split(":");q.length>1&&q[1]&&N.rules.push({chainname:q[1]});var Y=q[0].split("^");if(Y.length>1&&N.rules.push({inscode:Y[1]}),Y[0]){var X=void 0,$=void 0;"-"===Y[0][0]&&(Y[0]=Y[0].substr(1),X=!0),Y[0].includes("--")&&(Y[0]=Y[0].replace("--","-"),$=!0);var tt=Y[0].split("-");if(1===tt.length){var ot=parseInt(tt[0]);if(isNaN(ot))throw new Error("resi must be an integer");X&&(ot*=-1),N.rules.push({resno:ot})}else{if(2!==tt.length)throw new Error("resi range must contain one '-'");var nt=tt.map(function(et){return parseInt(et)});X&&(nt[0]*=-1),$&&(nt[1]*=-1),N.rules.push({resno:[nt[0],nt[1]]})}}if(1===N.rules.length)y(N.rules[0]);else{if(!(N.rules.length>1))throw new Error("empty selection chunk");y(N)}}else{var B=E.substr(1,w.length-2).split(",");y({resname:B.length>1?B:B[0]})}else y({element:E.substr(1)});else console.error("# for element selection deprecated, use _"),y({element:E.substr(1)});else{var L=w.substr(1).split(",").map(function(et){return parseInt(et)});L.sort(function(et,vt){return et-vt}),y({atomindex:L})}else y({keyword:Mr.ALL});else y({operator:"AND",rules:[{operator:"OR",rules:[{operator:"AND",rules:[{keyword:Mr.HETERO},{negate:!0,operator:void 0,rules:[{keyword:Mr.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{keyword:Mr.POLYMER}]}]},{negate:!0,operator:void 0,rules:[{operator:"OR",rules:[{keyword:Mr.WATER},{keyword:Mr.ION}]}]}]});else y({operator:"OR",rules:[{keyword:Mr.SIDECHAIN},{operator:"AND",negate:!1,rules:[{keyword:Mr.PROTEIN},{operator:"OR",negate:!1,rules:[{atomname:"CA"},{atomname:"BB"}]}]},{operator:"AND",negate:!1,rules:[{resname:"PRO"},{atomname:"N"}]},{operator:"AND",negate:!1,rules:[{keyword:Mr.NUCLEIC},{operator:"OR",negate:!0,rules:[{atomname:"P"},{atomname:"OP1"},{atomname:"OP2"},{atomname:"O3'"},{atomname:"O3*"},{atomname:"O5'"},{atomname:"O5*"},{atomname:"C5'"},{atomname:"C5*"}]}]}]});else y({resname:_S});else y({resname:l_});else y({resname:c_});else y({resname:vS});else y({resname:fw});else y({resname:$C});else y({resname:mS});else y({resname:a_});else y({resname:gS});else y({resname:hw});else y({resname:qs});else y({resname:Su});else y({element:"H"});else y({keyword:I})}else C=1,v(),i.negate=!0;else"AND"===i.operator?_("OR"):i.operator="OR";else if("OR"===i.operator){var S=i.rules.pop();v("AND"),y(S)}else i.operator="AND"}else _(),i.negate&&_();else C=!1,v()}return void 0===r.operator&&1===r.rules.length&&r.rules[0].hasOwnProperty("operator")&&(r=r.rules[0]),r}(r)}catch(c){this.selection={error:c.message}}var s=this.selection;this.string=r,this.test=XC(s),this.residueTest=ZC(s),this.chainTest=tm(s),this.modelTest=KC(s),this.atomOnlyTest=XC(s,!0),this.residueOnlyTest=ZC(s,!0),this.chainOnlyTest=tm(s,!0),this.modelOnlyTest=KC(s,!0),i||this.signals.stringChanged.dispatch(this.string)}},Object.defineProperties(Fo.prototype,XD);var QC=function(n){function r(i){var s=this;n.call(this,i),this.colormakerList=[],this.selectionList=[],(i.dataList||[]).forEach(function(u){var f=u[0],v=u[1],_=u[2];void 0===_&&(_={}),Xr.hasScheme(f)?Object.assign(_,{scheme:f,structure:s.parameters.structure}):Object.assign(_,{scheme:"uniform",value:new cn(f).getHex()}),s.colormakerList.push(Xr.getScheme(_)),s.selectionList.push(new Fo(v))})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){for(var u=0,f=this.selectionList.length;u<f;++u){var v=this.selectionList[u].test;if(v&&v(s))return this.colormakerList[u].atomColor(s)}return 16777215},r}(Ai),bS={"":"",OrRd:"[S] Orange-Red",PuBu:"[S] Purple-Blue",BuPu:"[S] Blue-Purple",Oranges:"[S] Oranges",BuGn:"[S] Blue-Green",YlOrBr:"[S] Yellow-Orange-Brown",YlGn:"[S] Yellow-Green",Reds:"[S] Reds",RdPu:"[S] Red-Purple",Greens:"[S] Greens",YlGnBu:"[S] Yellow-Green-Blue",Purples:"[S] Purples",GnBu:"[S] Green-Blue",Greys:"[S] Greys",YlOrRd:"[S] Yellow-Orange-Red",PuRd:"[S] Purple-Red",Blues:"[S] Blues",PuBuGn:"[S] Purple-Blue-Green",Viridis:"[D] Viridis",Spectral:"[D] Spectral",RdYlGn:"[D] Red-Yellow-Green",RdBu:"[D] Red-Blue",PiYG:"[D] Pink-Yellowgreen",PRGn:"[D] Purplered-Green",RdYlBu:"[D] Red-Yellow-Blue",BrBG:"[D] Brown-Bluegreen",RdGy:"[D] Red-Grey",PuOr:"[D] Purple-Orange",Set1:"[Q] Set1",Set2:"[Q] Set2",Set3:"[Q] Set3",Dark2:"[Q] Dark2",Paired:"[Q] Paired",Pastel1:"[Q] Pastel1",Pastel2:"[Q] Pastel2",Accent:"[Q] Accent",rainbow:"[?] Rainbow",rwb:"[?] Red-White-Blue"},NR={"":"",rgb:"Red Green Blue",hsv:"Hue Saturation Value",hsl:"Hue Saturation Lightness",hsi:"Hue Saturation Intensity",lab:"CIE L*a*b*",hcl:"Hue Chroma Lightness"},Au=function(){this.schemes={},this.userSchemes={}};Au.prototype.getScheme=function(r){var s=((r||{}).scheme||"").toLowerCase();return new(s in this.schemes?this.schemes[s]:s in this.userSchemes?this.userSchemes[s]:Ai)(r)},Au.prototype.getSchemes=function(){var r={};return Object.keys(this.schemes).forEach(function(i){r[i]=i}),Object.keys(this.userSchemes).forEach(function(i){r[i]=i.split("|")[1]}),r},Au.prototype.getScales=function(){return bS},Au.prototype.getModes=function(){return NR},Au.prototype.add=function(r,i){r=r.toLowerCase(),this.schemes[r]=i},Au.prototype.addScheme=function(r,i){return r instanceof Ai||(r=this._createScheme(r)),this._addUserScheme(r,i)},Au.prototype._addUserScheme=function(r,i){i=i||"";var s=(dw()+"|"+i).toLowerCase();return this.userSchemes[s]=r,s},Au.prototype.removeScheme=function(r){r=r.toLowerCase(),delete this.userSchemes[r]},Au.prototype._createScheme=function(r){var i=function(s){Ai.call(this,s),r.call(this,s)};return(i.prototype=Ai.prototype).constructor=Ai,i},Au.prototype.addSelectionScheme=function(r,i){var s=function(c){function u(f){c.call(this,Object.assign({dataList:r},f))}return c&&(u.__proto__=c),(u.prototype=Object.create(c&&c.prototype)).constructor=u,u}(QC);return this._addUserScheme(s,i)},Au.prototype.hasScheme=function(r){return(r=r.toLowerCase())in this.schemes||r in this.userSchemes};var ZD=function(n){function r(){n.call(this,"parser")}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.__hasObjName=function(s,c){var u=this.get(s);return u&&u.prototype.__objName===c},r.prototype.isTrajectory=function(s){return this.__hasObjName(s,"frames")},r.prototype.isStructure=function(s){return this.__hasObjName(s,"structure")},r.prototype.isVolume=function(s){return this.__hasObjName(s,"volume")},r.prototype.isSurface=function(s){return this.__hasObjName(s,"surface")},r.prototype.isBinary=function(s){var c=this.get(s);return c&&c.prototype.isBinary},r.prototype.isXml=function(s){var c=this.get(s);return c&&c.prototype.isXml},r.prototype.isJson=function(s){var c=this.get(s);return c&&c.prototype.isJson},r.prototype.getTrajectoryExtensions=function(){var s=this;return this.names.filter(function(c){return s.isTrajectory(c)})},r.prototype.getStructureExtensions=function(){var s=this;return this.names.filter(function(c){return s.isStructure(c)})},r.prototype.getVolumeExtensions=function(){var s=this;return this.names.filter(function(c){return s.isVolume(c)})},r.prototype.getSurfaceExtensions=function(){var s=this;return this.names.filter(function(c){return s.isSurface(c)})},r}($l);function yS(n){var r=n;return n.forEach(function(i){i.__deps&&Array.prototype.push.apply(r,yS(i.__deps))}),r}function Tu(n){return gl(yS(n)).map(function(i){return i.toString()}).join("\n\n\n")}function BR(n){var r=n.data.__name,i=n.data.__postId;void 0===r?console.error("message __name undefined"):void 0===self.func?console.error("worker func undefined",r):self.func(n,function(c,u){c=c||{},void 0!==i&&(c.__postId=i);try{self.postMessage(c,u)}catch(f){console.error("self.postMessage:",f),self.postMessage(c)}})}function em(n,r){var i="'use strict';\n\n"+Tu(r);return i+="\n\n\nself.func = "+n.toString()+";",i+="\n\n\nself.onmessage = "+BR.toString()+";",new Blob([i],{type:"application/javascript"})}var gw=function(){this.activeWorkerCount=0,this._funcDict={},this._depsDict={},this._blobDict={}};gw.prototype.add=function(r,i,s){this._funcDict[r]=i,this._depsDict[r]=s},gw.prototype.get=function(r){return this._blobDict[r]||(this._blobDict[r]=em(this._funcDict[r],this._depsDict[r])),this._blobDict[r]};var mw=ow(),vw=!1;try{var UR=Object.defineProperty({},"passive",{get:function(){vw=!0}});window.addEventListener("test",function(n){},UR)}catch(n){}var xS="undefined"!=typeof window&&void 0!==window.orientation,Yl=!1,wc=!1,xe={log:Function.prototype.bind.call(console.log,console),info:Function.prototype.bind.call(console.info,console),warn:Function.prototype.bind.call(console.warn,console),error:Function.prototype.bind.call(console.error,console),time:Function.prototype.bind.call(console.time,console),timeEnd:Function.prototype.bind.call(console.timeEnd,console)},Le=function(n){return!!n&&("string"!=typeof n||/^1|true|t|yes|y$/i.test(n))}(VD("debug"));function KD(n){Le=n}var bw,u_,MS=["ngl","js"],xf=new gw,Xr=new Au,hh=new $l("datasource"),mi=new $l("representatation"),Gn=new ZD,Hi=new $l("shader"),nm=new $l("decompressor"),rm=new $l("component"),Od=new $l("buffer"),Du=new $l("picker");function PS(n){bw=n}function JC(n){u_=n}var Oc=function(r,i){void 0===i&&(i={}),this.chunkSize=10485760,this.newline="\n",this.__pointer=0,this.__partialLine="",this.compressed=it(i.compressed,!1),this.binary=it(i.binary,!1),this.json=it(i.json,!1),this.xml=it(i.xml,!1),this.src=r};Oc.prototype.isBinary=function(){return this.binary||this.compressed},Oc.prototype.read=function(){var r=this;return this._read().then(function(i){var s=r.compressed?nm.get(r.compressed):void 0;return r.compressed&&s?r.data=s(i):((r.binary||r.compressed)&&i instanceof ArrayBuffer&&(i=new Uint8Array(i)),r.data=i),r.data})},Oc.prototype._chunk=function(r,i){return i=Math.min(this.data.length,i),0===r&&this.data.length===i?this.data:this.isBinary()?this.data.subarray(r,i):this.data.substring(r,i)},Oc.prototype.chunk=function(r){return this._chunk(r,r+this.chunkSize)},Oc.prototype.peekLines=function(r){var u,i=this.data,s=i.length,c=this.isBinary()?this.newline.charCodeAt(0):this.newline,f=0;for(u=0;u<s&&(i[u]===c&&++f,f!==r);++u);var v=this._chunk(0,u+1);return this.chunkToLines(v,"",u>s).lines},Oc.prototype.chunkCount=function(){return Math.floor(this.data.length/this.chunkSize)+1},Oc.prototype.asText=function(){return this.isBinary()?n_(this.data):this.data},Oc.prototype.chunkToLines=function(r,i,s){var c=this.newline;if(!this.isBinary()&&r.length===this.data.length)return{lines:r.split(c),partialLine:""};var u=[],f=this.isBinary()?n_(r):r,v=f.lastIndexOf(c);if(-1===v)i+=f;else{var _=i+f.substr(0,v);u=u.concat(_.split(c)),i=v===f.length-c.length?"":f.substr(v+c.length)}return s&&""!==i&&u.push(i),{lines:u,partialLine:i}},Oc.prototype.nextChunk=function(){var r=this.__pointer;if(!(r>this.data.length))return this.__pointer+=this.chunkSize,this.chunk(r)},Oc.prototype.nextChunkOfLines=function(){var r=this.nextChunk();if(void 0!==r){var s=this.chunkToLines(r,this.__partialLine,this.__pointer>this.data.length);return this.__partialLine=s.partialLine,s.lines}},Oc.prototype.eachChunk=function(r){for(var s=this.chunkSize,c=this.data.length,u=this.chunkCount(),f=0;f<c;f+=s)r(this.chunk(f),Math.round(f/s),u)},Oc.prototype.eachChunkOfLines=function(r){var i=this;this.eachChunk(function(s,c,u){var v=i.chunkToLines(s,i.__partialLine,c===u+1);i.__partialLine=v.partialLine,r(v.lines,c,u)})},Oc.prototype.dispose=function(){delete this.src};var Cf=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._read=function(){var s=this;return new Promise(function(c,u){var f=s.src,v=new FileReader;v.onload=function(_){return c(_.target.result)},v.onerror=function(_){return u(_)},s.binary||s.compressed?v.readAsArrayBuffer(f):v.readAsText(f)})},r}(Oc),Zb=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._read=function(){var s=this;return new Promise(function(c,u){var f=s.src,v=new XMLHttpRequest;v.open("GET",f,!0),v.addEventListener("load",function(){if(200===v.status||304===v.status||0===v.status)try{c(v.response)}catch(_){u(_)}else u(v.statusText)},!1),v.addEventListener("error",function(_){return u("network error")},!1),v.responseType=s.isBinary()?"arraybuffer":s.json?"json":s.xml?"document":"text",v.send(null)})},r}(Oc),Kb=function(r,i){void 0===i&&(i={}),this.parameters=ql(i,{ext:"",compressed:!1,binary:Gn.isBinary(i.ext||""),name:"",dir:"",path:"",protocol:""});var s={compressed:this.parameters.compressed,binary:this.parameters.binary,json:Gn.isJson(this.parameters.ext),xml:Gn.isXml(this.parameters.ext)};this.streamer="undefined"!=typeof File&&r instanceof File||"undefined"!=typeof Blob&&r instanceof Blob?new Cf(r,s):new Zb(r,s)},wS=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,i,s),this.parserParams={voxelSize:s.voxelSize,firstModelOnly:s.firstModelOnly,asTrajectory:s.asTrajectory,cAlphaOnly:s.cAlphaOnly,name:this.parameters.name,path:this.parameters.path}}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.load=function(){return new(Gn.get(this.parameters.ext))(this.streamer,this.parserParams).parse()},r}(Kb),Qb=function(r,i,s){this.name=i,this.path=s,this.signals={elementAdded:new Br,elementRemoved:new Br,nameChanged:new Br},this.type="Script",this.dir=s.substring(0,s.lastIndexOf("/")+1);try{this.fn=new Function("stage","__name","__path","__dir",r)}catch(c){xe.error("Script compilation failed",c),this.fn=function(){}}};Qb.prototype.run=function(r){var i=this;return new Promise(function(s,c){try{i.fn.apply(null,[r,i.name,i.path,i.dir]),s()}catch(u){xe.error("Script.fn",u),c(u)}})};var yw=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.load=function(){var s=this;return this.streamer.read().then(function(){return new Qb(s.streamer.asText(),s.parameters.name,s.parameters.path)})},r}(Kb);function ia(n){var i,s,r=nm.names,c="",u=(i=n instanceof File?n.name:n instanceof Blob?"":n).lastIndexOf("?"),f=-1!==u?i.substring(u):"",v=(i=i.substring(0,-1===u?i.length:u)).replace(/^.*[\\/]/,""),_=v.substring(0,v.lastIndexOf(".")),y=v.split("."),C=y.length>1?(y.pop()||"").toLowerCase():"",P=i.match(/^(.+):\/\/(.+)$/);P&&(c=P[1].toLowerCase(),i=P[2]||"");var w=i.substring(0,i.lastIndexOf("/")+1);return r.includes(C)?(s=C,C=(i.substr(0,i.length-C.length-1).split(".").pop()||"").toLowerCase(),_=_.substr(0,_.length-C.length-1)):s=!1,{path:i,name:v,ext:C,base:_,dir:w,compressed:s,protocol:c,query:f,src:n}}function xw(n){var r=ia(n),i=hh.get(r.protocol);return i&&!(r=ia(i.getUrl(r.src))).ext&&i.getExt&&(r.ext=i.getExt(n)),r}function d_(n,r){void 0===r&&(r={});var s,i=Object.assign(xw(n),r);return Gn.names.includes(i.ext)?s=new wS(i.src,i):MS.includes(i.ext)&&(s=new yw(i.src,i)),s?s.load():Promise.reject(new Error("autoLoad: ext '"+i.ext+"' unknown"))}var vl=oe(function(n,r){!function(){var i={not_string:/[^s]/,not_bool:/[^t]/,not_type:/[^T]/,not_primitive:/[^v]/,number:/[diefg]/,numeric_arg:/[bcdiefguxX]/,json:/[j]/,not_json:/[^j]/,text:/^[^\x25]+/,modulo:/^\x25{2}/,placeholder:/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-gijostTuvxX])/,key:/^([a-z_][a-z_\d]*)/i,key_access:/^\.([a-z_][a-z_\d]*)/i,index_access:/^\[(\d+)\]/,sign:/^[\+\-]/};function s(_){return u(v(_),arguments)}function c(_,y){return s.apply(null,[_].concat(y||[]))}function u(_,y){var w,S,I,L,B,V,N,F,z,C=1,P=_.length,E="";for(S=0;S<P;S++)if("string"==typeof _[S])E+=_[S];else if(Array.isArray(_[S])){if((L=_[S])[2])for(w=y[C],I=0;I<L[2].length;I++){if(!w.hasOwnProperty(L[2][I]))throw new Error(s('[sprintf] property "%s" does not exist',L[2][I]));w=w[L[2][I]]}else w=L[1]?y[L[1]]:y[C++];if(i.not_type.test(L[8])&&i.not_primitive.test(L[8])&&w instanceof Function&&(w=w()),i.numeric_arg.test(L[8])&&"number"!=typeof w&&isNaN(w))throw new TypeError(s("[sprintf] expecting number but found %T",w));switch(i.number.test(L[8])&&(F=w>=0),L[8]){case"b":w=parseInt(w,10).toString(2);break;case"c":w=String.fromCharCode(parseInt(w,10));break;case"d":case"i":w=parseInt(w,10);break;case"j":w=JSON.stringify(w,null,L[6]?parseInt(L[6]):0);break;case"e":w=L[7]?parseFloat(w).toExponential(L[7]):parseFloat(w).toExponential();break;case"f":w=L[7]?parseFloat(w).toFixed(L[7]):parseFloat(w);break;case"g":w=L[7]?String(Number(w.toPrecision(L[7]))):parseFloat(w);break;case"o":w=(parseInt(w,10)>>>0).toString(8);break;case"s":w=String(w),w=L[7]?w.substring(0,L[7]):w;break;case"t":w=String(!!w),w=L[7]?w.substring(0,L[7]):w;break;case"T":w=Object.prototype.toString.call(w).slice(8,-1).toLowerCase(),w=L[7]?w.substring(0,L[7]):w;break;case"u":w=parseInt(w,10)>>>0;break;case"v":w=w.valueOf(),w=L[7]?w.substring(0,L[7]):w;break;case"x":w=(parseInt(w,10)>>>0).toString(16);break;case"X":w=(parseInt(w,10)>>>0).toString(16).toUpperCase()}i.json.test(L[8])?E+=w:(!i.number.test(L[8])||F&&!L[3]?z="":(z=F?"+":"-",w=w.toString().replace(i.sign,"")),V=L[4]?"0"===L[4]?"0":L[4].charAt(1):" ",N=L[6]-(z+w).length,B=L[6]&&N>0?V.repeat(N):"",E+=L[5]?z+w+B:"0"===V?z+B+w:B+z+w)}return E}var f=Object.create(null);function v(_){if(f[_])return f[_];for(var C,y=_,P=[],w=0;y;){if(null!==(C=i.text.exec(y)))P.push(C[0]);else if(null!==(C=i.modulo.exec(y)))P.push("%");else{if(null===(C=i.placeholder.exec(y)))throw new SyntaxError("[sprintf] unexpected placeholder");if(C[2]){w|=1;var E=[],S=C[2],I=[];if(null===(I=i.key.exec(S)))throw new SyntaxError("[sprintf] failed to parse named argument key");for(E.push(I[1]);""!==(S=S.substring(I[0].length));)if(null!==(I=i.key_access.exec(S)))E.push(I[1]);else{if(null===(I=i.index_access.exec(S)))throw new SyntaxError("[sprintf] failed to parse named argument key");E.push(I[1])}C[2]=E}else w|=2;if(3===w)throw new Error("[sprintf] mixing positional and named placeholders is not (yet) supported");P.push(C)}y=y.substring(C[0].length)}return f[_]=P}r.sprintf=s,r.vsprintf=c,"undefined"!=typeof window&&(window.sprintf=s,window.vsprintf=c)}()}).sprintf,p_=function(){};p_.prototype.getBlob=function(){return new Blob([this.getData()],{type:this.mimeType})},p_.prototype.download=function(r,i){r=it(r,this.defaultName),i=it(i,this.defaultExt),sw(this.getBlob(),r+"."+i)};var eM=function(n){function r(i,s){n.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="pdb";var c=Object.assign({},s);this.renumberSerial=it(c.renumberSerial,!0),this.remarks=function(n){return Array.isArray(n)?n:[n]}(it(c.remarks,[])),this.structure=i,this._records=[]}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._writeRecords=function(){this._records.length=0,this._writeTitle(),this._writeRemarks(),this._writeAtoms()},r.prototype._writeTitle=function(){this._records.push(vl("TITLE %-74s",this.structure.name))},r.prototype._writeRemarks=function(){var s=this;this.remarks.forEach(function(c){s._records.push(vl("REMARK %-73s",c))}),this.structure.trajectory&&(this._records.push(vl("REMARK %-73s","Trajectory '"+this.structure.trajectory.name+"'")),this._records.push(vl("REMARK %-73s","Frame "+this.structure.trajectory.frame)))},r.prototype._writeAtoms=function(){var s=this,c=1,u=1;this.structure.eachModel(function(f){s._records.push(vl("MODEL %-74d",u++)),f.eachAtom(function(v){var C=v.atomname;1===C.length&&(C=" "+C),s._records.push(vl(v.hetero?"HETATM%5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s":"ATOM  %5d %-4s %3s %1s%4d    %8.3f%8.3f%8.3f%6.2f%6.2f      %4s%2s",s.renumberSerial?c:v.serial,C,v.resname,it(v.chainname," "),v.resno,v.x,v.y,v.z,it(v.occupancy,1),it(v.bfactor,0),"",it(v.element,""))),c+=1}),s._records.push(vl("%-80s","ENDMDL")),u+=1}),this._records.push(vl("%-80s","END"))},r.prototype.getString=function(){return console.warn("PdbWriter.getString() is deprecated, use .getData instead"),this.getData()},r.prototype.getData=function(){return this._writeRecords(),this._records.join("\n")},r}(p_),ty=function(n){function r(s){n.call(this),this.mimeType="text/plain",this.defaultName="structure",this.defaultExt="sdf",this.structure=s,this._records=[]}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={idString:{configurable:!0},titleString:{configurable:!0},countsString:{configurable:!0},chargeLines:{configurable:!0}};return i.idString.get=function(){return this.structure.id},i.titleString.get=function(){return"  "+this.structure.title},i.countsString.get=function(){return vl("%3i%3i  0  0  0  0  0  0  0  0999 V2000",this.structure.atomCount,this.structure.bondCount)},i.chargeLines.get=function(){var s=[];this.structure.eachAtom(function(y){null!=y.formalCharge&&0!==y.formalCharge&&s.push([y.index,y.formalCharge])});for(var c=[],u=0;u<s.length;u+=8){for(var f=Math.min(8,s.length-u),v=vl("M  CHG%3i",f),_=u;_<u+f;_++)v+=vl(" %3i %3i",s[_][0]+1,s[_][1]);c.push(v)}return c},r.prototype.formatAtom=function(c){var u=0;null!=c.formalCharge&&0!==c.formalCharge&&(u=4-c.formalCharge);var f=vl("%10.4f%10.4f%10.4f %-3s 0%3i  0  0  0",c.x,c.y,c.z,c.element,u);if(48!==f.length)throw new Error("Incompatible atom for sdf format");return f},r.prototype.formatBond=function(c){return vl("%3i%3i%3i  0  0  0",c.atomIndex1+1,c.atomIndex2+1,c.bondOrder)},r.prototype._writeRecords=function(){this._records.length=0,this._writeHeader(),this._writeCTab(),this._writeFooter()},r.prototype._writeHeader=function(){this._records.push(this.idString,this.titleString,"")},r.prototype._writeCTab=function(){var c=this;this._records.push(this.countsString),this.structure.eachAtom(function(u){c._records.push(c.formatAtom(u))}),this.structure.eachBond(function(u){c._records.push(c.formatBond(u))}),this.chargeLines.forEach(function(u){c._records.push(u)}),this._records.push("M  END")},r.prototype._writeFooter=function(){this._records.push("$$$$")},r.prototype.getData=function(){return this._writeRecords(),this._records.join("\n")},Object.defineProperties(r.prototype,i),r}(p_),vp=[],ai=function(r,i){void 0===i&&(i={}),this._mark=0,this._marks=[],this.offset=0,this.littleEndian=!0;var s=!1;void 0===r&&(r=8192),"number"==typeof r?r=new ArrayBuffer(r):s=!0;var c=i.offset?i.offset>>>0:0,u=r.byteLength-c,f=c;r instanceof ArrayBuffer||(r.byteLength!==r.buffer.byteLength&&(f=r.byteOffset+c),r=r.buffer),this._lastWrittenByte=s?u:0,this.buffer=r,this.length=u,this.byteLength=u,this.byteOffset=f,this._data=new DataView(this.buffer,f,u)};ai.prototype.available=function(r){return void 0===r&&(r=1),this.offset+r<=this.length},ai.prototype.isLittleEndian=function(){return this.littleEndian},ai.prototype.setLittleEndian=function(){return this.littleEndian=!0,this},ai.prototype.isBigEndian=function(){return!this.littleEndian},ai.prototype.setBigEndian=function(){return this.littleEndian=!1,this},ai.prototype.skip=function(r){return void 0===r&&(r=1),this.offset+=r,this},ai.prototype.seek=function(r){return this.offset=r,this},ai.prototype.mark=function(){return this._mark=this.offset,this},ai.prototype.reset=function(){return this.offset=this._mark,this},ai.prototype.pushMark=function(){return this._marks.push(this.offset),this},ai.prototype.popMark=function(){var r=this._marks.pop();if(void 0===r)throw new Error("Mark stack empty");return this.seek(r),this},ai.prototype.rewind=function(){return this.offset=0,this},ai.prototype.ensureAvailable=function(r){if(void 0===r&&(r=1),!this.available(r)){var s=2*(this.offset+r),c=new Uint8Array(s);c.set(new Uint8Array(this.buffer)),this.buffer=c.buffer,this.length=this.byteLength=s,this._data=new DataView(this.buffer)}return this},ai.prototype.readBoolean=function(){return 0!==this.readUint8()},ai.prototype.readInt8=function(){return this._data.getInt8(this.offset++)},ai.prototype.readUint8=function(){return this._data.getUint8(this.offset++)},ai.prototype.readByte=function(){return this.readUint8()},ai.prototype.readBytes=function(r){void 0===r&&(r=1);for(var s=new Uint8Array(r),c=0;c<r;c++)s[c]=this.readByte();return s},ai.prototype.readInt16=function(){var r=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,r},ai.prototype.readUint16=function(){var r=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,r},ai.prototype.readInt32=function(){var r=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,r},ai.prototype.readUint32=function(){var r=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,r},ai.prototype.readFloat32=function(){var r=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,r},ai.prototype.readFloat64=function(){var r=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,r},ai.prototype.readChar=function(){return String.fromCharCode(this.readInt8())},ai.prototype.readChars=function(r){void 0===r&&(r=1),vp.length=r;for(var s=0;s<r;s++)vp[s]=this.readChar();return vp.join("")},ai.prototype.writeBoolean=function(r){return void 0===r&&(r=!1),this.writeUint8(r?255:0),this},ai.prototype.writeInt8=function(r){return this.ensureAvailable(1),this._data.setInt8(this.offset++,r),this._updateLastWrittenByte(),this},ai.prototype.writeUint8=function(r){return this.ensureAvailable(1),this._data.setUint8(this.offset++,r),this._updateLastWrittenByte(),this},ai.prototype.writeByte=function(r){return this.writeUint8(r)},ai.prototype.writeBytes=function(r){this.ensureAvailable(r.length);for(var s=0;s<r.length;s++)this._data.setUint8(this.offset++,r[s]);return this._updateLastWrittenByte(),this},ai.prototype.writeInt16=function(r){return this.ensureAvailable(2),this._data.setInt16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},ai.prototype.writeUint16=function(r){return this.ensureAvailable(2),this._data.setUint16(this.offset,r,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this},ai.prototype.writeInt32=function(r){return this.ensureAvailable(4),this._data.setInt32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},ai.prototype.writeUint32=function(r){return this.ensureAvailable(4),this._data.setUint32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},ai.prototype.writeFloat32=function(r){return this.ensureAvailable(4),this._data.setFloat32(this.offset,r,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this},ai.prototype.writeFloat64=function(r){return this.ensureAvailable(8),this._data.setFloat64(this.offset,r,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this},ai.prototype.writeChar=function(r){return this.writeUint8(r.charCodeAt(0))},ai.prototype.writeChars=function(r){for(var s=0;s<r.length;s++)this.writeUint8(r.charCodeAt(s));return this},ai.prototype.toArray=function(){return new Uint8Array(this.buffer,this.byteOffset,this._lastWrittenByte)},ai.prototype._updateLastWrittenByte=function(){this.offset>this._lastWrittenByte&&(this._lastWrittenByte=this.offset)};var ey=function(n){function r(i){n.call(this),this.mimeType="application/vnd.ms-pki.stl",this.defaultName="surface",this.defaultExt="stl",this.surface=i}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.getData=function(){var s=this,c=this.surface.index.length/3,f=new ai(2*c+3*c*4*4+80+4);f.skip(80),f.writeUint32(c);for(var v=new J,_=new J,y=new J,C=new J,P=0;P<c;P++){var w=[s.surface.index[3*P],s.surface.index[3*P+1],s.surface.index[3*P+2]];_.fromArray(s.surface.normal,3*w[0]),y.fromArray(s.surface.normal,3*w[1]),C.fromArray(s.surface.normal,3*w[2]),v.addVectors(_,y).add(C).normalize(),f.writeFloat32(v.x),f.writeFloat32(v.y),f.writeFloat32(v.z);for(var E=0;E<3;E++)v.fromArray(s.surface.position,3*w[E]),f.writeFloat32(v.x),f.writeFloat32(v.y),f.writeFloat32(v.z);f.writeUint16(0)}return new DataView(f.buffer)},r}(p_),Ed=function(){this.count=0,this.signals={countChanged:new Br}};Ed.prototype.clear=function(){this.change(-this.count)},Ed.prototype.change=function(r){this.count+=r,this.signals.countChanged.dispatch(r,this.count),this.count<0&&xe.warn("Counter.count below zero",this.count)},Ed.prototype.increment=function(){this.change(1)},Ed.prototype.decrement=function(){this.change(-1)},Ed.prototype.listen=function(r){this.change(r.count),r.signals.countChanged.add(this.change,this)},Ed.prototype.unlisten=function(r){var i=r.signals.countChanged;i.has(this.change,this)&&i.remove(this.change,this)},Ed.prototype.onZeroOnce=function(r,i){var s=this;if(0===this.count)r.call(i);else{var c=function(){0===s.count&&(s.signals.countChanged.remove(c,s),r.call(i))};this.signals.countChanged.add(c,this)}},Ed.prototype.dispose=function(){this.clear(),this.signals.countChanged.dispose()},Hi.add("shader/BasicLine.vert","void main(){\n#include begin_vertex\n#include project_vertex\n}"),Hi.add("shader/BasicLine.frag","uniform vec3 uColor;\n#include common\n#include fog_pars_fragment\nvoid main(){\ngl_FragColor = vec4( uColor, 1.0 );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n}"),Hi.add("shader/Quad.vert","varying vec2 vUv;\nvoid main() {\nvUv = uv;\ngl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}"),Hi.add("shader/Quad.frag","varying vec2 vUv;\nuniform sampler2D tForeground;\nuniform float scale;\nvoid main() {\nvec4 foreground = texture2D( tForeground, vUv );\ngl_FragColor = foreground * scale;\n}");var _p=function(){this.signals={updated:new Br},this.maxDuration=-1/0,this.minDuration=1/0,this.avgDuration=14,this.lastDuration=1/0,this.prevFpsTime=0,this.lastFps=1/0,this.lastFrames=1,this.frames=0,this.count=0,this.begin()};_p.prototype.update=function(){this.startTime=this.end(),this.currentTime=this.startTime,this.signals.updated.dispatch()},_p.prototype.begin=function(){this.startTime=window.performance.now(),this.lastFrames=this.frames},_p.prototype.end=function(){var r=window.performance.now();return this.count+=1,this.frames+=1,this.lastDuration=r-this.startTime,this.minDuration=Math.min(this.minDuration,this.lastDuration),this.maxDuration=Math.max(this.maxDuration,this.lastDuration),this.avgDuration-=this.avgDuration/30,this.avgDuration+=this.lastDuration/30,r>this.prevFpsTime+1e3&&(this.lastFps=this.frames,this.prevFpsTime=r,this.frames=0),r},Hi.add("shader/chunk/dull_interior_fragment.glsl","#ifdef DULL_INTERIOR\nif( gl_FrontFacing == false ){\nnormal = vec3( 0.0, 0.0, 0.4 );\n}\n#endif"),Hi.add("shader/chunk/fog_fragment.glsl","#ifdef USE_FOG\nfloat depth = length( vViewPosition );\n#ifdef FOG_EXP2\nfloat fogFactor = whiteCompliment( exp2( - fogDensity * fogDensity * depth * depth * LOG2 ) );\n#else\nfloat fogFactor = smoothstep( fogNear, fogFar, depth );\n#endif\ngl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif"),Hi.add("shader/chunk/matrix_scale.glsl","float matrixScale( in mat4 m ){\nvec4 r = m[ 0 ];\nreturn sqrt( r[ 0 ] * r[ 0 ] + r[ 1 ] * r[ 1 ] + r[ 2 ] * r[ 2 ] );\n}"),Hi.add("shader/chunk/nearclip_vertex.glsl","#ifdef NEAR_CLIP\nif( vViewPosition.z < clipNear - 5.0 )\ngl_Position.z = 2.0 * gl_Position.w;\n#endif"),Hi.add("shader/chunk/nearclip_fragment.glsl","#ifdef NEAR_CLIP\nif( vViewPosition.z < clipNear )\ndiscard;\n#endif"),Hi.add("shader/chunk/opaque_back_fragment.glsl","#ifdef OPAQUE_BACK\n#ifdef FLIP_SIDED\nif( gl_FrontFacing == true ){\ngl_FragColor.a = 1.0;\n}\n#else\nif( gl_FrontFacing == false ){\ngl_FragColor.a = 1.0;\n}\n#endif\n#endif"),Hi.add("shader/chunk/radiusclip_vertex.glsl","#ifdef RADIUS_CLIP\nif( distance( vViewPosition, vClipCenter ) > clipRadius + 5.0 )\ngl_Position.z = 2.0 * gl_Position.w;\n#endif"),Hi.add("shader/chunk/radiusclip_fragment.glsl","#ifdef RADIUS_CLIP\nif( distance( vViewPosition, vClipCenter ) > clipRadius )\ndiscard;\n#endif"),Hi.add("shader/chunk/unpack_color.glsl","vec3 unpackColor(float f) {\nvec3 color;\ncolor.r = floor(f / 256.0 / 256.0);\ncolor.g = floor((f - color.r * 256.0 * 256.0) / 256.0);\ncolor.b = floor(f - color.r * 256.0 * 256.0 - color.g * 256.0);\nreturn color / 255.0;\n}");var ww=/^(?!\/\/)\s*#include\s+(\S+)/gim,Mf={};function h_(n,r){void 0===r&&(r={});var i=n+"|";for(var s in r)i+=s+":"+r[s];if(!Mf[i]){var c=function(n){if(void 0===n)return"";var r=[];for(var i in n){var s=n[i];!s||r.push("#define "+i+" "+s)}return r.join("\n")+"\n"}(r),u=Hi.get("shader/"+n);if(!u)throw new Error("empty shader, '"+n+"'");u=u.replace(ww,function(f,v){return Hi.get("shader/chunk/"+v+".glsl")||ao[v]||""}),Mf[i]=c+u}return Mf[i]}if("undefined"!=typeof WebGLRenderingContext){var Sd=WebGLRenderingContext.prototype,OS=Sd.getShaderParameter;Sd.getShaderParameter=function(){return!Le||OS.apply(this,arguments)};var VR=Sd.getShaderInfoLog;Sd.getShaderInfoLog=function(){return Le?VR.apply(this,arguments):""};var ES=Sd.getProgramParameter;Sd.getProgramParameter=function(r,i){return!Le&&i===Sd.LINK_STATUS||ES.apply(this,arguments)};var zR=Sd.getProgramInfoLog;Sd.getProgramInfoLog=function(){return Le?zR.apply(this,arguments):""}}var QD=[[[0,0]],[[4,4],[-4,-4]],[[-2,-6],[6,-2],[-6,2],[2,6]],[[1,-3],[-1,3],[5,1],[-3,-5],[-5,5],[-7,-1],[3,7],[7,-7]],[[1,1],[-1,-3],[-3,2],[4,-1],[-5,-2],[2,5],[5,3],[3,-5],[-2,6],[0,-7],[-4,-6],[-6,4],[-8,0],[7,-4],[6,7],[-7,-8]],[[-4,-7],[-7,-5],[-3,-5],[-5,-4],[-1,-4],[-2,-2],[-6,-1],[-4,0],[-7,1],[-1,2],[-6,3],[-3,3],[-7,6],[-3,6],[-5,7],[-1,7],[5,-7],[1,-6],[6,-5],[4,-4],[2,-3],[7,-2],[1,-1],[4,-1],[2,1],[6,2],[0,4],[4,4],[2,5],[7,5],[5,6],[3,7]]];QD.forEach(function(n){n.forEach(function(r){r[0]*=.0625,r[1]*=.0625})});var ry=function(r,i,s,c){this.canvas=document.createElement("canvas"),this._viewer=s,this._factor=it(c.factor,2),this._antialias=it(c.antialias,!1),this._onProgress=c.onProgress,this._onFinish=c.onFinish,this._antialias&&(this._factor*=2),this._n=this._factor*this._factor,this._width=this._viewer.width,this._height=this._viewer.height,this._antialias?(this.canvas.width=this._width*this._factor/2,this.canvas.height=this._height*this._factor/2):(this.canvas.width=this._width*this._factor,this.canvas.height=this._height*this._factor),this._ctx=this.canvas.getContext("2d"),this._viewerSampleLevel=s.sampleLevel,this._viewer.setSampling(-1)};ry.prototype._renderTile=function(r){var i=this._viewer,s=this._width,c=this._height,u=this._factor,_=r%u*s,y=Math.floor(r/u)*c;i.camera.setViewOffset(s*u,c*u,_,y,s,c),i.render(),this._antialias?this._ctx.drawImage(i.renderer.domElement,Math.floor(_/2),Math.floor(y/2),Math.ceil(s/2),Math.ceil(c/2)):this._ctx.drawImage(i.renderer.domElement,Math.floor(_),Math.floor(y),Math.ceil(s),Math.ceil(c)),"function"==typeof this._onProgress&&this._onProgress(r+1,this._n,!1)},ry.prototype._finalize=function(){this._viewer.setSampling(this._viewerSampleLevel),this._viewer.camera.view=null,"function"==typeof this._onFinish&&this._onFinish(this._n+1,this._n,!1)},ry.prototype.render=function(){for(var r=this,i=0;i<=this._n;++i)i===r._n?r._finalize():r._renderTile(i)},ry.prototype.renderAsync=function(){for(var r=this,i=0,s=this._n,c=function(){i===s?r._finalize():r._renderTile(i),i+=1},u=0;u<=s;++u)setTimeout(c,0)};var im=2*Math.PI,iy=(Math,180/Math.PI);function om(n,r,i,s,c){void 0===i&&(i=1),void 0===s&&(s=0);var u=c?c.length:n.length/i,f=0,v=0;if(c)for(var _=0;_<u;++_){var C=(n[c[_]*i+s]+r)%r/r*im-Math.PI;f+=Math.cos(C),v+=Math.sin(C)}else for(var P=s;P<u;P+=i){var E=(n[P]+r)%r/r*im-Math.PI;f+=Math.cos(E),v+=Math.sin(E)}return f/=u,v/=u,(Math.atan2(v,f)+Math.PI)/im*r}function nc(n,r,i,s){void 0===s&&(s=0);var c=n.length;i=i||new Float32Array(c);for(var u=0;u<c;u+=3)i[s+u+0]=(n[u+0]+r[u+0])/2,i[s+u+1]=(n[u+1]+r[u+1])/2,i[s+u+2]=(n[u+2]+r[u+2])/2;return i}function f_(n,r){for(var i=n.length,s=new Float32Array(i),c=0;c<i;c+=3)s[c+0]=r[c+0]-n[c+0],s[c+1]=r[c+1]-n[c+1],s[c+2]=r[c+2]-n[c+2];return s}function Xl(n,r,i){for(var s=i||new Float32Array(n),c=0;c<n;++c)s[c]=r;return s}function $o(n,r,i,s,c){for(var u=c||new Float32Array(3*n),f=0;f<n;++f){var v=3*f;u[v+0]=r,u[v+1]=i,u[v+2]=s}return u}function oy(n){for(var r=new Float32Array(n),i=0;i<n;++i)r[i]=i;return r}function Ow(n,r,i,s){void 0===i&&(i=0);for(var c=s||new Float32Array(n*r),u=0;u<n;++u)for(var f=i+u*r,v=0;v<r;++v)c[f+v]=u;return c}function sy(n,r){for(var i=n.length,s=new Float32Array(i*r),c=0;c<i;++c)for(var u=c*r,f=n[c],v=0;v<r;++v)s[u+v]=f;return s}function Zl(n,r,i,s,c){for(var u=0;u<c;++u)r[s+u]=n[i+u]}function fh(n,r,i,s){Zl(n,n,r,i,s)}function Pf(n){for(var r=-1/0,i=0,s=n.length;i<s;++i)n[i]>r&&(r=n[i]);return r}function Sw(n){for(var r=1/0,i=0,s=n.length;i<s;++i)n[i]<r&&(r=n[i]);return r}function Aw(n,r,i){void 0===r&&(r=1),void 0===i&&(i=0);for(var s=n.length,c=0,u=i;u<s;u+=r)c+=n[u];return c}function g_(n,r,i){return void 0===r&&(r=1),void 0===i&&(i=0),Aw(n,r,i)/(n.length/r)}var m_={trim:!1,factor:1,antialias:!1,transparent:!1,onProgress:void 0};function cy(n,r){void 0===r&&(r={});var i=ql(r,m_),s=i.trim,c=i.factor,u=i.antialias,f=i.transparent,v=n.renderer,_=n.camera,y=v.getClearAlpha(),C=v.getClearColor();function P(S){void 0===S&&(S=!1);var I=c;u&&(I*=2),S&&(I=1/I),n.scene.traverse(function(L){var B=L.material;B&&B.linewidth&&(B.linewidth*=I),B&&B.uniforms&&B.uniforms.size&&void 0===B.uniforms.size.__seen&&(B.uniforms.size.value*=I,B.uniforms.size.__seen=!0),B&&B.uniforms&&B.uniforms.linewidth&&void 0===B.uniforms.linewidth.__seen&&(B.uniforms.linewidth.value*=I,B.uniforms.linewidth.__seen=!0)}),n.scene.traverse(function(L){var B=L.material;B&&B.uniforms&&B.uniforms.size&&delete B.uniforms.size.__seen,B&&B.uniforms&&B.uniforms.linewidth&&delete B.uniforms.linewidth.__seen})}function E(S,I,L){"function"==typeof r.onProgress&&r.onProgress(S,I,L)}return new Promise(function(S,I){var L=new ry(v,_,n,{factor:c,antialias:u,onProgress:E,onFinish:function(V,N){(function(S){return s?function(n,r,i,s,c){var y,C,P,w,u=n.height,f=n.width,_=n.getContext("2d").getImageData(0,0,f,u).data;for(P=!1,C=0;C<u;C++){for(y=0;y<f;y++)if(_[w=4*(C*f+y)]!==r||_[w+1]!==i||_[w+2]!==s||_[w+3]!==c){P=!0;break}if(P)break}var E=C;for(P=!1,y=0;y<f;y++){for(C=0;C<u;C++)if(_[w=4*(C*f+y)]!==r||_[w+1]!==i||_[w+2]!==s||_[w+3]!==c){P=!0;break}if(P)break}var S=y;for(P=!1,C=u-1;C>=0;C--){for(y=f-1;y>=0;y--)if(_[w=4*(C*f+y)]!==r||_[w+1]!==i||_[w+2]!==s||_[w+3]!==c){P=!0;break}if(P)break}var I=C;for(P=!1,y=f-1;y>=0;y--){for(C=u-1;C>=0;C--)if(_[w=4*(C*f+y)]!==r||_[w+1]!==i||_[w+2]!==s||_[w+3]!==c){P=!0;break}if(P)break}var L=y,B=document.createElement("canvas");return B.width=L-S,B.height=I-E,B.getContext("2d").drawImage(n,S,E,B.width,B.height,0,0,B.width,B.height),B}(S,f?0:255*C.r,f?0:255*C.g,f?0:255*C.b,f?0:255):S})(L.canvas).toBlob(function(z){v.setClearAlpha(y),P(!0),n.requestRender(),E(N,N,!0),z?S(z):I("error creating image")},"image/png")}});v.setClearAlpha(f?0:1),P(),L.renderAsync()})}var wf=new J,v_=new ye,__=new ye,iM=new ce,uy=new ye,oM=new ye;function sm(n,r,i){var s=n.createShader(i);return n.shaderSource(s,r),n.compileShader(s),n.getShaderParameter(s,n.COMPILE_STATUS)?s:(console.log("error compiling shader "+s+": "+n.getShaderInfoLog(s)),n.deleteShader(s),null)}function Iw(n,r){var i=n.getExtension(r);return i||console.log("extension '"+r+"' not available"),i}var b_=new Float32Array([-1,-1,1,-1,-1,1,-1,1,1,-1,1,1]);function y_(n){var r=document.createElement("canvas");r.width=16,r.height=16,r.style.width="16px",r.style.height="16px";var i=r.getContext("webgl")||r.getContext("experimental-webgl");if(!i)return console.log("error creating webgl context for "+n),!1;Iw(i,"OES_texture_float"),Iw(i,"OES_texture_half_float"),Iw(i,"WEBGL_color_buffer_float");var s=sm(i,"\nattribute vec4 a_position;\n\nvoid main() {\n  gl_Position = a_position;\n}",i.VERTEX_SHADER),c=sm(i,"\nprecision mediump float;\nuniform vec4 u_color;\nuniform sampler2D u_texture;\n\nvoid main() {\n  gl_FragColor = texture2D(u_texture, vec2(0.5, 0.5)) * u_color;\n}",i.FRAGMENT_SHADER);if(!s||!c)return!1;var u=function(n,r,i,s){var c=n.createProgram();return r.forEach(function(f){return n.attachShader(c,f)}),n.linkProgram(c),n.getProgramParameter(c,n.LINK_STATUS)?c:(console.log("error linking program: "+n.getProgramInfoLog(c)),n.deleteProgram(c),null)}(i,[s,c]);i.useProgram(u);var f=i.getAttribLocation(u,"a_position"),v=i.getUniformLocation(u,"u_color");if(!v)return console.log("error getting 'u_color' uniform location"),!1;var _=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,_),i.bufferData(i.ARRAY_BUFFER,b_,i.STATIC_DRAW),i.enableVertexAttribArray(f),i.vertexAttribPointer(f,2,i.FLOAT,!1,0,0);var y=i.createTexture(),C=new Uint8Array([255,255,255,255]);i.bindTexture(i.TEXTURE_2D,y),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,i.UNSIGNED_BYTE,C);var P=i.createTexture();i.bindTexture(i.TEXTURE_2D,P),i.texImage2D(i.TEXTURE_2D,0,i.RGBA,1,1,0,i.RGBA,n,null),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,i.NEAREST),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,i.NEAREST);var w=i.createFramebuffer();if(i.bindFramebuffer(i.FRAMEBUFFER,w),i.framebufferTexture2D(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.TEXTURE_2D,P,0),i.checkFramebufferStatus(i.FRAMEBUFFER)!==i.FRAMEBUFFER_COMPLETE)return console.log("error creating framebuffer for "+n),!1;i.bindTexture(i.TEXTURE_2D,y),i.uniform4fv(v,[0,10,20,1]),i.drawArrays(i.TRIANGLES,0,6),i.bindTexture(i.TEXTURE_2D,P),i.bindFramebuffer(i.FRAMEBUFFER,null),i.clearColor(1,0,0,1),i.clear(i.COLOR_BUFFER_BIT),i.uniform4fv(v,[0,.1,.05,1]),i.drawArrays(i.TRIANGLES,0,6);var S=new Uint8Array(4);if(i.readPixels(0,0,1,1,i.RGBA,i.UNSIGNED_BYTE,S),0!==S[0]||S[1]<248||S[2]<248||S[3]<254)return console.log("not able to actually render to "+n+" texture"),!1;if(n===i.FLOAT){i.bindFramebuffer(i.FRAMEBUFFER,w);var I=new Float32Array(4);i.readPixels(0,0,1,1,i.RGBA,i.FLOAT,I);var L=i.getError();if(L)return console.log("error reading pixels as float: '"+function(n,r){switch(r){case n.NO_ERROR:return"no error";case n.INVALID_ENUM:return"invalid enum";case n.INVALID_VALUE:return"invalid value";case n.INVALID_OPERATION:return"invalid operation";case n.INVALID_FRAMEBUFFER_OPERATION:return"invalid framebuffer operation";case n.OUT_OF_MEMORY:return"out of memory";case n.CONTEXT_LOST_WEBGL:return"context lost"}return"unknown error"}(i,L)+"'"),!1}return!0}var AS=new Float32Array(4),tF=new Uint8Array(4),TS=new ye;function DS(n,r,i,s,c){var u=c.uniforms,f=[];if(u.objectId&&(u.objectId.value=Yl?this.id:this.id/255,f.push("objectId")),(u.modelViewMatrixInverse||u.modelViewMatrixInverseTranspose||u.modelViewProjectionMatrix||u.modelViewProjectionMatrixInverse)&&this.modelViewMatrix.multiplyMatrices(i.matrixWorldInverse,this.matrixWorld),u.modelViewMatrixInverse&&(u.modelViewMatrixInverse.value.getInverse(this.modelViewMatrix),f.push("modelViewMatrixInverse")),u.modelViewMatrixInverseTranspose&&(u.modelViewMatrixInverse?u.modelViewMatrixInverseTranspose.value.copy(u.modelViewMatrixInverse.value).transpose():u.modelViewMatrixInverseTranspose.value.getInverse(this.modelViewMatrix).transpose(),f.push("modelViewMatrixInverseTranspose")),u.modelViewProjectionMatrix&&(i.updateProjectionMatrix(),u.modelViewProjectionMatrix.value.multiplyMatrices(i.projectionMatrix,this.modelViewMatrix),f.push("modelViewProjectionMatrix")),u.modelViewProjectionMatrixInverse&&(u.modelViewProjectionMatrix?(TS.copy(u.modelViewProjectionMatrix.value),u.modelViewProjectionMatrixInverse.value.getInverse(TS)):(i.updateProjectionMatrix(),TS.multiplyMatrices(i.projectionMatrix,this.modelViewMatrix),u.modelViewProjectionMatrixInverse.value.getInverse(TS)),f.push("modelViewProjectionMatrixInverse")),f.length){var v=n.properties.get(c);if(v.program){var _=n.getContext(),y=v.program;_.useProgram(y.program);var C=y.getUniforms();f.forEach(function(P){C.setValue(_,P,u[P].value)})}}}var Li=function(r){if(this.boundingBox=new to,this.boundingBoxSize=new J,this.boundingBoxLength=0,this.info={memory:{programs:0,geometries:0,textures:0},render:{calls:0,vertices:0,faces:0,points:0}},this.distVector=new J,this.signals={ticked:new Br},"string"==typeof r){var i=document.getElementById(r);this.container=null===i?document.createElement("div"):i}else this.container=r instanceof HTMLElement?r:document.createElement("div");if(this.container===document.body)this.width=window.innerWidth||1,this.height=window.innerHeight||1;else{var s=this.container.getBoundingClientRect();this.width=s.width||1,this.height=s.height||1}this._initParams(),this._initStats(),this._initCamera(),this._initScene(),!1!==this._initRenderer()?(this._initHelper(),this.setBackground(),this.setFog(),this.animate=this.animate.bind(this)):xe.error("Viewer: could not initialize renderer")};Li.prototype._initParams=function(){this.parameters={fogColor:new cn(0),fogNear:50,fogFar:100,backgroundColor:new cn(0),cameraType:"perspective",cameraFov:40,cameraZ:-80,clipNear:0,clipFar:100,clipDist:10,lightColor:new cn(14540253),lightIntensity:1,ambientColor:new cn(14540253),ambientIntensity:.2,sampleLevel:0}},Li.prototype._initCamera=function(){var r=new J(0,0,0),s=this.width,c=this.height;this.perspectiveCamera=new ra(this.parameters.cameraFov,s/c),this.perspectiveCamera.position.z=this.parameters.cameraZ,this.perspectiveCamera.lookAt(r),this.orthographicCamera=new al(s/-2,s/2,c/2,c/-2),this.orthographicCamera.position.z=this.parameters.cameraZ,this.orthographicCamera.lookAt(r),this.camera="orthographic"===this.parameters.cameraType?this.orthographicCamera:this.perspectiveCamera,this.camera.updateProjectionMatrix()},Li.prototype._initStats=function(){this.stats=new _p},Li.prototype._initScene=function(){this.scene||(this.scene=new zl,this.scene.name="scene"),this.rotationGroup=new ko,this.rotationGroup.name="rotationGroup",this.scene.add(this.rotationGroup),this.translationGroup=new ko,this.translationGroup.name="translationGroup",this.rotationGroup.add(this.translationGroup),this.modelGroup=new ko,this.modelGroup.name="modelGroup",this.translationGroup.add(this.modelGroup),this.pickingGroup=new ko,this.pickingGroup.name="pickingGroup",this.translationGroup.add(this.pickingGroup),this.backgroundGroup=new ko,this.backgroundGroup.name="backgroundGroup",this.translationGroup.add(this.backgroundGroup),this.helperGroup=new ko,this.helperGroup.name="helperGroup",this.translationGroup.add(this.helperGroup),this.scene.fog=new rp(this.parameters.fogColor.getHex()),this.spotLight=new OC(this.parameters.lightColor.getHex(),this.parameters.lightIntensity),this.scene.add(this.spotLight),this.ambientLight=new Ja(this.parameters.ambientColor.getHex(),this.parameters.ambientIntensity),this.scene.add(this.ambientLight)},Li.prototype._initRenderer=function(){var r=window.devicePixelRatio,s=this.width,c=this.height;try{this.renderer=new bd({preserveDrawingBuffer:!0,alpha:!0,antialias:!0})}catch(_){return this.container.innerHTML='<div style="display:flex;align-items:center;justify-content:center;height:100%;"><p style="padding:15px;text-align:center;">Your browser/graphics card does not seem to support <a target="_blank" href="https://en.wikipedia.org/wiki/WebGL">WebGL</a>.<br/><br/>Find out how to get it <a target="_blank" href="http://get.webgl.org/">here</a>.</p></div>',!1}this.renderer.setPixelRatio(r),this.renderer.setSize(s,c),this.renderer.autoClear=!1,this.renderer.sortObjects=!0;var u=this.renderer.getContext();(function(n){wc=n})(this.renderer.extensions.get("EXT_frag_depth")),this.renderer.extensions.get("OES_element_index_uint"),function(n){Yl=n}(this.renderer.extensions.get("OES_texture_float")&&this.renderer.extensions.get("WEBGL_color_buffer_float")||this.renderer.extensions.get("OES_texture_float")&&y_(u.FLOAT)),this.container.appendChild(this.renderer.domElement);var f=s*r,v=c*r;this.renderer.extensions.get("OES_texture_float"),this.supportsHalfFloat=this.renderer.extensions.get("OES_texture_half_float")&&y_(36193),this.renderer.extensions.get("WEBGL_color_buffer_float"),Le&&console.log(JSON.stringify({Browser:mw,OES_texture_float:!!this.renderer.extensions.get("OES_texture_float"),OES_texture_half_float:!!this.renderer.extensions.get("OES_texture_half_float"),WEBGL_color_buffer_float:!!this.renderer.extensions.get("WEBGL_color_buffer_float"),"testTextureSupport Float":y_(u.FLOAT),"testTextureSupport HalfFloat":y_(36193),"this.supportsHalfFloat":this.supportsHalfFloat,SupportsReadPixelsFloat:Yl},null,2)),this.pickingTarget=new ea(f,v,{minFilter:so,magFilter:so,stencilBuffer:!1,format:rl,type:Yl?mu:Yi}),this.pickingTarget.texture.generateMipmaps=!1,this.renderer.clearTarget(this.pickingTarget,!0,!0,!0),this.renderer.setRenderTarget(null),this.sampleTarget=new ea(f,v,{minFilter:Sa,magFilter:Sa,format:rl}),this.holdTarget=new ea(f,v,{minFilter:so,magFilter:so,format:rl,type:Yi}),this.compositeUniforms={tForeground:new Lb(this.sampleTarget.texture),scale:new Lb(1)},this.compositeMaterial=new Za({uniforms:this.compositeUniforms,vertexShader:h_("Quad.vert"),fragmentShader:h_("Quad.frag"),premultipliedAlpha:!0,transparent:!0,blending:2,depthTest:!1,depthWrite:!1}),this.compositeCamera=new al(-1,1,1,-1,0,1),this.compositeScene=new zl,this.compositeScene.name="compositeScene",this.compositeScene.add(new cl(new na(2,2),this.compositeMaterial))},Li.prototype._initHelper=function(){var r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(24),s=new On;s.setIndex(new xr(r,1)),s.addAttribute("position",new xr(i,3));var c=new Za({uniforms:{uColor:{value:new cn("skyblue")}},vertexShader:h_("BasicLine.vert"),fragmentShader:h_("BasicLine.frag")});this.boundingBoxMesh=new So(s,c),this.helperGroup.add(this.boundingBoxMesh)},Li.prototype.updateHelper=function(){var r=this.boundingBoxMesh.geometry.attributes.position,i=r.array,s=this.boundingBox,c=s.min,u=s.max;i[0]=u.x,i[1]=u.y,i[2]=u.z,i[3]=c.x,i[4]=u.y,i[5]=u.z,i[6]=c.x,i[7]=c.y,i[8]=u.z,i[9]=u.x,i[10]=c.y,i[11]=u.z,i[12]=u.x,i[13]=u.y,i[14]=c.z,i[15]=c.x,i[16]=u.y,i[17]=c.z,i[18]=c.x,i[19]=c.y,i[20]=c.z,i[21]=u.x,i[22]=c.y,i[23]=c.z,r.needsUpdate=!0,this.boundingBox.isEmpty()||this.boundingBoxMesh.geometry.computeBoundingSphere()},Li.prototype.add=function(r,i){var s=this;i?i.forEach(function(c){return s.addBuffer(r,c)}):this.addBuffer(r),r.parameters.background?(this.backgroundGroup.add(r.group),this.backgroundGroup.add(r.wireframeGroup)):(this.modelGroup.add(r.group),this.modelGroup.add(r.wireframeGroup)),r.pickable&&this.pickingGroup.add(r.pickingGroup),Le&&this.updateHelper()},Li.prototype.addBuffer=function(r,i){function s(v){v instanceof ko?v.children.forEach(s):(v.userData.buffer=r,v.userData.instance=i,v.onBeforeRender=DS)}var c=r.getMesh();i&&c.applyMatrix(i.matrix),s(c),r.group.add(c);var u=r.getWireframeMesh();if(i&&(u.matrix.copy(c.matrix),u.position.copy(c.position),u.quaternion.copy(c.quaternion),u.scale.copy(c.scale)),s(u),r.wireframeGroup.add(u),r.pickable){var f=r.getPickingMesh();i&&(f.matrix.copy(c.matrix),f.position.copy(c.position),f.quaternion.copy(c.quaternion),f.scale.copy(c.scale)),s(f),r.pickingGroup.add(f)}i?this._updateBoundingBox(r.geometry,r.matrix,i.matrix):this._updateBoundingBox(r.geometry,r.matrix)},Li.prototype.remove=function(r){this.translationGroup.children.forEach(function(i){i.remove(r.group),i.remove(r.wireframeGroup)}),r.pickable&&this.pickingGroup.remove(r.pickingGroup),this.updateBoundingBox(),Le&&this.updateHelper()},Li.prototype._updateBoundingBox=function(r,i,s){var c=this.boundingBox;function u(v,_,y){v.boundingBox||v.computeBoundingBox();var C=v.boundingBox.clone();_&&C.applyMatrix4(_),y&&C.applyMatrix4(y),C.min.equals(C.max)&&C.expandByScalar(5),c.union(C)}function f(v){var _,y;void 0!==v.geometry&&(v.userData.buffer&&(_=v.userData.buffer.matrix),v.userData.instance&&(y=v.userData.instance.matrix),u(v.geometry,_,y))}r?u(r,i,s):(c.makeEmpty(),this.modelGroup.traverse(f),this.backgroundGroup.traverse(f)),c.getSize(this.boundingBoxSize),this.boundingBoxLength=this.boundingBoxSize.length()},Li.prototype.updateBoundingBox=function(){this._updateBoundingBox(),Le&&this.updateHelper()},Li.prototype.getPickingPixels=function(){var i=this.width,s=this.height,c=i*s*4,u=Yl?new Float32Array(c):new Uint8Array(c);return this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,0,0,i,s,u),u},Li.prototype.getImage=function(r){var i=this;return new Promise(function(s){if(r){var u=i.width,f=i.height,v=u*f*4,_=i.getPickingPixels();if(Yl){for(var y=new Uint8Array(v),C=0;C<v;++C)y[C]=Math.round(255*_[C]);_=y}var P=document.createElement("canvas");P.width=u,P.height=f;var w=P.getContext("2d"),E=w.getImageData(0,0,u,f);E.data.set(_),w.putImageData(E,0,0),P.toBlob(s,"image/png")}else i.renderer.domElement.toBlob(s,"image/png")})},Li.prototype.makeImage=function(r){return void 0===r&&(r={}),cy(this,r)},Li.prototype.setLight=function(r,i,s,c){var u=this.parameters;void 0!==r&&u.lightColor.set(r),void 0!==i&&(u.lightIntensity=i),void 0!==s&&u.ambientColor.set(s),void 0!==c&&(u.ambientIntensity=c),this.requestRender()},Li.prototype.setFog=function(r,i,s){var c=this.parameters;void 0!==r&&c.fogColor.set(r),void 0!==i&&(c.fogNear=i),void 0!==s&&(c.fogFar=s),this.requestRender()},Li.prototype.setBackground=function(r){var i=this.parameters;r&&i.backgroundColor.set(r),this.setFog(i.backgroundColor),this.renderer.setClearColor(i.backgroundColor,0),this.renderer.domElement.style.backgroundColor=i.backgroundColor.getStyle(),this.requestRender()},Li.prototype.setSampling=function(r){void 0!==r&&(this.parameters.sampleLevel=r,this.sampleLevel=r),this.requestRender()},Li.prototype.setCamera=function(r,i){var s=this.parameters;r&&(s.cameraType=r),i&&(s.cameraFov=i),"orthographic"===s.cameraType?this.camera!==this.orthographicCamera&&(this.camera=this.orthographicCamera,this.camera.position.copy(this.perspectiveCamera.position),this.camera.up.copy(this.perspectiveCamera.up),this.updateZoom()):this.camera!==this.perspectiveCamera&&(this.camera=this.perspectiveCamera,this.camera.position.copy(this.orthographicCamera.position),this.camera.up.copy(this.orthographicCamera.up)),this.perspectiveCamera.fov=s.cameraFov,this.camera.updateProjectionMatrix(),this.requestRender()},Li.prototype.setClip=function(r,i,s){var c=this.parameters;void 0!==r&&(c.clipNear=r),void 0!==i&&(c.clipFar=i),void 0!==s&&(c.clipDist=s),this.requestRender()},Li.prototype.setSize=function(r,i){this.width=r||1,this.height=i||1,this.perspectiveCamera.aspect=this.width/this.height,this.orthographicCamera.left=-this.width/2,this.orthographicCamera.right=this.width/2,this.orthographicCamera.top=this.height/2,this.orthographicCamera.bottom=-this.height/2,this.camera.updateProjectionMatrix();var s=window.devicePixelRatio;this.renderer.setPixelRatio(s),this.renderer.setSize(r,i);var c=this.width*s,u=this.height*s;this.pickingTarget.setSize(c,u),this.sampleTarget.setSize(c,u),this.holdTarget.setSize(c,u),this.requestRender()},Li.prototype.handleResize=function(){if(this.container===document.body)this.setSize(window.innerWidth,window.innerHeight);else{var r=this.container.getBoundingClientRect();this.setSize(r.width,r.height)}},Li.prototype.updateInfo=function(r){var i=this.info,s=i.memory,c=i.render;if(r)s.programs=0,s.geometries=0,s.textures=0,c.calls=0,c.vertices=0,c.faces=0,c.points=0;else{var u=this.renderer.info,f=u.memory,v=u.render;s.geometries=f.geometries,s.textures=f.textures,c.calls+=v.calls,c.vertices+=v.vertices,c.faces+=v.faces,c.points+=v.points}},Li.prototype.animate=function(){if(this.signals.ticked.dispatch(this.stats),window.performance.now()-this.stats.startTime>500&&!this.isStill&&this.sampleLevel<3&&-1!==this.sampleLevel){var i=this.sampleLevel;this.sampleLevel=3,this.renderPending=!0,this.render(),this.isStill=!0,this.sampleLevel=i,Le&&xe.log("rendered still frame")}window.requestAnimationFrame(this.animate)},Li.prototype.pick=function(r,i){r*=window.devicePixelRatio,i*=window.devicePixelRatio;var s,c,u,f=Yl?AS:tF;this.render(!0),this.renderer.readRenderTargetPixels(this.pickingTarget,r,i,1,1,f),s=Yl?Math.round(255*f[0])<<16&16711680|Math.round(255*f[1])<<8&65280|255&Math.round(255*f[2]):f[0]<<16|f[1]<<8|f[2];var v=Math.round(f[3]),_=this.pickingGroup.getObjectById(v);return _&&(c=_.userData.instance,u=_.userData.buffer.picking),{pid:s,instance:c,picker:u}},Li.prototype.requestRender=function(){var r=this;this.renderPending||(window.performance.now()-this.stats.startTime>22&&(this.stats.begin(),this.isStill=!1),this.renderPending=!0,window.requestAnimationFrame(function(){r.render(),r.stats.update()}))},Li.prototype.updateZoom=function(){var r=Lo(this.perspectiveCamera.fov),i=2*Math.tan(r/2)*-this.camera.position.z;this.orthographicCamera.zoom=this.height/i},Li.prototype.__updateClipping=function(){var r=this.parameters;this.cDist=this.distVector.copy(this.camera.position).length(),this.cDist||(this.camera.position.set(0,0,r.cameraZ),this.cDist=Math.abs(r.cameraZ)),this.bRadius=Math.max(10,.5*this.boundingBoxLength),this.bRadius+=this.boundingBox.getCenter(this.distVector).length(),(this.bRadius===1/0||this.bRadius===-1/0||isNaN(this.bRadius))&&(this.bRadius=50);var s=-(50-r.clipFar)/50;this.camera.near=this.cDist-this.bRadius*((50-r.clipNear)/50),this.camera.far=this.cDist+this.bRadius*s;var c=(50-r.fogNear)/50,u=-(50-r.fogFar)/50,f=this.scene.fog;f.color.set(r.fogColor),f.near=this.cDist-this.bRadius*c,f.far=this.cDist+this.bRadius*u,"PerspectiveCamera"===this.camera.type?(this.camera.near=Math.max(.1,r.clipDist,this.camera.near),this.camera.far=Math.max(1,this.camera.far),f.near=Math.max(.1,f.near),f.far=Math.max(1,f.far)):"OrthographicCamera"===this.camera.type&&0===r.clipNear&&r.clipDist>0&&this.cDist+this.camera.zoom>2*-r.clipDist&&(this.camera.near+=this.camera.zoom+r.clipDist)},Li.prototype.__updateCamera=function(){this.camera.updateMatrix(),this.camera.updateMatrixWorld(!0),this.camera.matrixWorldInverse.getInverse(this.camera.matrixWorld),this.camera.updateProjectionMatrix(),function(n,r,i,s,c){var u=i.getSize(),f=u.width,v=u.height,_=v,y=i.getPixelRatio(),C="OrthographicCamera"===r.type;iM.set(f,v),uy.getInverse(r.projectionMatrix),oM.copy(r.projectionMatrix).transpose(),n.traverse(function(P){var w=P.material;if(w){var E=w.uniforms;E&&(w.clipNear&&(E.clipNear.value=s-c*((50-w.clipNear)/50)),E.canvasHeight&&(E.canvasHeight.value=_),E.resolution&&E.resolution.value.copy(iM),E.pixelRatio&&(E.pixelRatio.value=y),E.projectionMatrixInverse&&E.projectionMatrixInverse.value.copy(uy),E.projectionMatrixTranspose&&E.projectionMatrixTranspose.value.copy(oM),E.ortho&&(E.ortho.value=C))}})}(this.scene,this.camera,this.renderer,this.cDist,this.bRadius),function(n,r){n.traverseVisible(function(i){if(i instanceof xb&&i.userData.buffer.parameters.sortParticles){var s=i.geometry.attributes,c=s.position.count;if(0!==c){var u,f,v,_,C,E;v_.multiplyMatrices(r.matrixWorldInverse,i.matrixWorld),__.multiplyMatrices(r.projectionMatrix,v_),i.userData.sortData?(v=(u=i.userData.sortData).__zArray,f=u.__sortArray,_=u.__cmpFn):(v=new Float32Array(c),f=new Uint32Array(c),i.userData.sortData=u={__zArray:v,__sortArray:f,__cmpFn:_=function(F,z){var G=v[F],q=v[z];return G>q?1:G<q?-1:0}});for(var y=0;y<c;++y)wf.fromArray(s.position.array,3*y),wf.applyMatrix4(__),v[y]=-wf.z,f[y]=y;for(var S in function(n,r,i,s){void 0===i&&(i=0),r=r||function(S,I){return S>I?1:S<I?-1:0};var _,C,P,c=[],u=-1,f=i,v=s=(s||n.length)-1;function y(E,S){var I=n[E];n[E]=n[S],n[S]=I}for(;;)if(v-f<=25){for(P=f+1;P<=v;++P){for(_=n[P],C=P-1;C>=f&&r(n[C],_)>0;)n[C+1]=n[C],--C;n[C+1]=_}if(-1===u)break;v=c[u--],f=c[u--]}else{for(P=v,y(f+v>>1,C=f+1),r(n[f],n[v])>0&&y(f,v),r(n[C],n[v])>0&&y(C,v),r(n[f],n[C])>0&&y(f,C),_=n[C];;){do{C++}while(r(n[C],_)<0);do{P--}while(r(n[P],_)>0);if(P<C)break;y(C,P)}n[f+1]=n[P],n[P]=_,v-C+1>=P-f?(c[++u]=C,c[++u]=v,v=P-1):(c[++u]=f,c[++u]=P-1,f=C)}}(f,_),s){var I=s[S],L=I.array,B=I.itemSize;u[S]||(u[S]=new Float32Array(B*c)),E=u[S],u[S]=L;for(var V=0;V<c;++V){C=f[V];for(var N=0;N<B;++N)E[V*B+N]=L[C*B+N]}s[S].array=E,s[S].needsUpdate=!0}}}})}(this.scene,this.camera)},Li.prototype.__setVisibility=function(r,i,s,c){this.modelGroup.visible=r,this.pickingGroup.visible=i,this.backgroundGroup.visible=s,this.helperGroup.visible=c},Li.prototype.__updateLights=function(){this.distVector.copy(this.camera.position).setLength(100*this.boundingBoxLength),this.spotLight.position.copy(this.camera.position).add(this.distVector),this.spotLight.color.set(this.parameters.lightColor),this.spotLight.intensity=this.parameters.lightIntensity,this.ambientLight.color.set(this.parameters.ambientColor),this.ambientLight.intensity=this.parameters.ambientIntensity},Li.prototype.__renderPickingGroup=function(){this.renderer.clearTarget(this.pickingTarget,!0,!0,!0),this.__setVisibility(!1,!0,!1,!1),this.renderer.render(this.scene,this.camera,this.pickingTarget),this.updateInfo(),this.renderer.setRenderTarget(null)},Li.prototype.__renderModelGroup=function(r){r?this.renderer.clearTarget(r,!0,!0,!0):this.renderer.clear(),this.__setVisibility(!1,!1,!0,!1),this.renderer.render(this.scene,this.camera,r),r?this.renderer.clearTarget(r,!1,!0,!1):this.renderer.clearDepth(),this.updateInfo(),this.__setVisibility(!0,!1,!1,Le),this.renderer.render(this.scene,this.camera,r),this.updateInfo()},Li.prototype.__renderSuperSample=function(){var r=this,i=QD[Math.max(0,Math.min(this.sampleLevel,5))],s=1/i.length;this.compositeUniforms.tForeground.value=this.sampleTarget.texture;for(var u=this.sampleTarget.width,f=this.sampleTarget.height,v=0;v<i.length;++v){var _=i[v];r.camera.setViewOffset(u,f,_[0],_[1],u,f),r.__updateCamera();var y=s;r.compositeUniforms.scale.value=y+=.03125*((v+.5)/i.length-.5),r.__renderModelGroup(r.sampleTarget),r.renderer.render(r.compositeScene,r.compositeCamera,r.holdTarget,0===v)}this.compositeUniforms.scale.value=1,this.compositeUniforms.tForeground.value=this.holdTarget.texture,this.camera.clearViewOffset(),this.renderer.render(this.compositeScene,this.compositeCamera,null,!0)},Li.prototype.render=function(r){void 0===r&&(r=!1),this.rendering?xe.warn("'tried to call 'render' from within 'render'"):(this.rendering=!0,this.__updateClipping(),this.__updateCamera(),this.__updateLights(),this.updateInfo(!0),r?this.lastRenderedPicking||this.__renderPickingGroup():this.sampleLevel>0?this.__renderSuperSample():this.__renderModelGroup(),this.lastRenderedPicking=r,this.rendering=!1,this.renderPending=!1)},Li.prototype.clear=function(){xe.log("scene cleared"),this.scene.remove(this.rotationGroup),this._initScene(),this.renderer.clear()};var Rw=1,kw=2,e5=3;function Ad(n){var r=n.touches[0].pageX-n.touches[1].pageX,i=n.touches[0].pageY-n.touches[1].pageY;return Math.sqrt(r*r+i*i)}var rc=function(r,i){void 0===i&&(i={}),this.domElement=r,this.signals={moved:new Br,scrolled:new Br,dragged:new Br,dropped:new Br,clicked:new Br,hovered:new Br,doubleClicked:new Br},this.position=new ce,this.prevPosition=new ce,this.down=new ce,this.canvasPosition=new ce,this.prevClickCP=new ce,this.moving=!1,this.hovering=!0,this.scrolled=!1,this.lastMoved=1/0,this.which=0,this.buttons=0,this.pressed=!1,this.altKey=!1,this.ctrlKey=!1,this.metaKey=!1,this.shiftKey=!1,this.domElement.style.touchAction="none",this.hoverTimeout=it(i.hoverTimeout,50),this.handleScroll=it(i.handleScroll,!0),this.doubleClickSpeed=it(i.doubleClickSpeed,500),this._listen=this._listen.bind(this),this._onMousewheel=this._onMousewheel.bind(this),this._onMousemove=this._onMousemove.bind(this),this._onMousedown=this._onMousedown.bind(this),this._onMouseup=this._onMouseup.bind(this),this._onContextmenu=this._onContextmenu.bind(this),this._onTouchstart=this._onTouchstart.bind(this),this._onTouchend=this._onTouchend.bind(this),this._onTouchmove=this._onTouchmove.bind(this),this._listen(),document.addEventListener("mousewheel",this._onMousewheel),document.addEventListener("wheel",this._onMousewheel),document.addEventListener("MozMousePixelScroll",this._onMousewheel),document.addEventListener("mousemove",this._onMousemove),document.addEventListener("mousedown",this._onMousedown),document.addEventListener("mouseup",this._onMouseup),document.addEventListener("contextmenu",this._onContextmenu),document.addEventListener("touchstart",this._onTouchstart),document.addEventListener("touchend",this._onTouchend),document.addEventListener("touchmove",this._onTouchmove)},r5={key:{configurable:!0}};r5.key.get=function(){var n=0;return this.altKey&&(n+=1),this.ctrlKey&&(n+=2),this.metaKey&&(n+=4),this.shiftKey&&(n+=8),n},rc.prototype.setParameters=function(r){void 0===r&&(r={}),this.hoverTimeout=it(r.hoverTimeout,this.hoverTimeout)},rc.prototype._listen=function(){var r=window.performance.now(),i=this.canvasPosition;this.doubleClickPending&&r-this.lastClicked>this.doubleClickSpeed&&(this.doubleClickPending=!1),r-this.lastMoved>this.hoverTimeout&&(this.moving=!1),(this.scrolled||!this.moving&&!this.hovering)&&(this.scrolled=!1,-1!==this.hoverTimeout&&this.overElement&&(this.hovering=!0,this.signals.hovered.dispatch(i.x,i.y))),window.requestAnimationFrame(this._listen)},rc.prototype._onMousewheel=function(r){var i=this;r.target===this.domElement&&this.handleScroll&&(r.preventDefault(),this._setKeys(r),this.signals.scrolled.dispatch(r.wheelDelta?r.wheelDelta/40:r.detail?-r.detail/3:-r.deltaY/(r.deltaMode?.33:30)),setTimeout(function(){i.scrolled=!0},this.hoverTimeout))},rc.prototype._onMousemove=function(r){r.target===this.domElement?(r.preventDefault(),this.overElement=!0):this.overElement=!1,this._setKeys(r),this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(r.clientX,r.clientY),this._setCanvasPosition(r);var i=this.prevPosition.x-this.position.x,s=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(i,s),this.pressed&&this.signals.dragged.dispatch(i,s)},rc.prototype._onMousedown=function(r){r.target===this.domElement&&(r.preventDefault(),this._setKeys(r),this.moving=!1,this.hovering=!1,this.down.set(r.clientX,r.clientY),this.position.set(r.clientX,r.clientY),this.which=r.which,this.buttons=function(n){if("object"==typeof n){if("buttons"in n)return n.buttons;if("which"in n){var r=n.which;if(2===r)return 4;if(3===r)return 2;if(r>0)return 1<<r-1}else if("button"in n){var i=n.button;if(1===i)return 4;if(2===i)return 2;if(i>=0)return 1<<i}}return 0}(r),this.pressed=!0,this._setCanvasPosition(r))},rc.prototype._onMouseup=function(r){r.target===this.domElement&&r.preventDefault(),this._setKeys(r);var i=this.canvasPosition;this._distance()<4&&(this.lastClicked=window.performance.now(),this.doubleClickPending&&this.prevClickCP.distanceTo(i)<4&&(this.signals.doubleClicked.dispatch(i.x,i.y),this.doubleClickPending=!1),this.signals.clicked.dispatch(i.x,i.y),this.doubleClickPending=!0,this.prevClickCP.copy(i)),this.which=void 0,this.buttons=void 0,this.pressed=void 0},rc.prototype._onContextmenu=function(r){r.target===this.domElement&&r.preventDefault()},rc.prototype._onTouchstart=function(r){if(r.target===this.domElement)switch(r.preventDefault(),this.pressed=!0,r.touches.length){case 1:this.moving=!1,this.hovering=!1,this.down.set(r.touches[0].pageX,r.touches[0].pageY),this.position.set(r.touches[0].pageX,r.touches[0].pageY),this._setCanvasPosition(r.touches[0]);break;case 2:this.down.set((r.touches[0].pageX+r.touches[1].pageX)/2,(r.touches[0].pageY+r.touches[1].pageY)/2),this.position.set((r.touches[0].pageX+r.touches[1].pageX)/2,(r.touches[0].pageY+r.touches[1].pageY)/2),this.lastTouchDistance=Ad(r)}},rc.prototype._onTouchend=function(r){r.target===this.domElement&&r.preventDefault(),this.which=void 0,this.buttons=void 0,this.pressed=void 0},rc.prototype._onTouchmove=function(r){switch(r.target===this.domElement?(r.preventDefault(),this.overElement=!0):this.overElement=!1,r.touches.length){case 1:this._setKeys(r),this.which=Rw,this.buttons=1,this.moving=!0,this.hovering=!1,this.lastMoved=window.performance.now(),this.prevPosition.copy(this.position),this.position.set(r.touches[0].pageX,r.touches[0].pageY),this._setCanvasPosition(r.touches[0]);var i=this.prevPosition.x-this.position.x,s=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(i,s),this.pressed&&this.signals.dragged.dispatch(i,s);break;case 2:var c=Ad(r),u=c-this.lastTouchDistance;if(this.lastTouchDistance=c,this.prevPosition.copy(this.position),this.position.set((r.touches[0].pageX+r.touches[1].pageX)/2,(r.touches[0].pageY+r.touches[1].pageY)/2),Math.abs(u)>2&&this.handleScroll&&this.position.distanceTo(this.prevPosition)<2)this.which=0,this.buttons=0,this.signals.scrolled.dispatch(u/2);else{this.which=e5,this.buttons=2;var f=this.prevPosition.x-this.position.x,v=this.prevPosition.y-this.position.y;this.signals.moved.dispatch(f,v),this.pressed&&this.signals.dragged.dispatch(f,v)}}},rc.prototype._distance=function(){return this.position.distanceTo(this.down)},rc.prototype._setCanvasPosition=function(r){var s,c,i=this.domElement.getBoundingClientRect();"offsetX"in r&&"offsetY"in r?(s=r.offsetX,c=r.offsetY):(s=r.clientX-i.left,c=r.clientY-i.top),this.canvasPosition.set(s,i.height-c)},rc.prototype._setKeys=function(r){this.altKey=r.altKey,this.ctrlKey=r.ctrlKey,this.metaKey=r.metaKey,this.shiftKey=r.shiftKey},rc.prototype.dispose=function(){document.removeEventListener("mousewheel",this._onMousewheel),document.removeEventListener("wheel",this._onMousewheel),document.removeEventListener("MozMousePixelScroll",this._onMousewheel),document.removeEventListener("mousemove",this._onMousemove),document.removeEventListener("mousedown",this._onMousedown),document.removeEventListener("mouseup",this._onMouseup),document.removeEventListener("contextmenu",this._onContextmenu),document.removeEventListener("touchstart",this._onTouchstart),document.removeEventListener("touchend",this._onTouchend),document.removeEventListener("touchmove",this._onTouchmove)},Object.defineProperties(rc.prototype,r5);var am=new ye,cm=new ye,lm=new ye,dy=new J,IS=new Wr,Of=new ye,bp=new J,aM=new J,_l=function(r,i){void 0===i&&(i={}),this.stage=r,this.rotateSpeed=it(i.rotateSpeed,2),this.zoomSpeed=it(i.zoomSpeed,1.2),this.panSpeed=it(i.panSpeed,1),this.viewer=r.viewer,this.mouse=r.mouseObserver,this.controls=r.viewerControls},py={component:{configurable:!0},atom:{configurable:!0}};py.component.get=function(){return this.stage.transformComponent},py.atom.get=function(){return this.stage.transformAtom},_l.prototype._setPanVector=function(r,i,s){void 0===s&&(s=0);var c,u=this.viewer.camera;if(s=-s,s+=u.position.z,u instanceof al)c=1/u.zoom;else{var f=Lo(u.fov);c=-2*s*Math.tan(f/2)/this.viewer.height}bp.set(r,i,0),bp.multiplyScalar(this.panSpeed*c)},_l.prototype._getRotateXY=function(r,i){return[this.rotateSpeed*-r*.01,this.rotateSpeed*i*.01]},_l.prototype._transformPanVector=function(){!this.component||(Of.extractRotation(this.component.transform),Of.premultiply(this.viewer.rotationGroup.matrix),Of.getInverse(Of),bp.applyMatrix4(Of))},_l.prototype.zoom=function(r){this.controls.zoom(this.zoomSpeed*r*.02)},_l.prototype.pan=function(r,i){this._setPanVector(r,i),Of.getInverse(this.viewer.rotationGroup.matrix),bp.applyMatrix4(Of),this.controls.translate(bp)},_l.prototype.panComponent=function(r,i){!this.component||(this._setPanVector(r,i),this._transformPanVector(),this.component.position.add(bp),this.component.updateMatrix())},_l.prototype.panAtom=function(r,i){!this.atom||!this.component||(this.atom.positionToVector3(aM),aM.add(this.viewer.translationGroup.position),aM.applyMatrix4(this.viewer.rotationGroup.matrix),this._setPanVector(r,i,aM.z),this._transformPanVector(),this.atom.positionAdd(bp),this.component.updateRepresentations({position:!0}))},_l.prototype.rotate=function(r,i){var s=this._getRotateXY(r,i),c=s[0];am.makeRotationX(s[1]),cm.makeRotationY(c),am.multiply(cm),this.controls.applyMatrix(am)},_l.prototype.rotateComponent=function(r,i){if(this.component){var s=this._getRotateXY(r,i),c=s[0],u=s[1];lm.extractRotation(this.component.transform),lm.premultiply(this.viewer.rotationGroup.matrix),lm.getInverse(lm),dy.set(1,0,0),dy.applyMatrix4(lm),am.makeRotationAxis(dy,u),dy.set(0,1,0),dy.applyMatrix4(lm),cm.makeRotationAxis(dy,c),am.multiply(cm),IS.setFromRotationMatrix(am),this.component.quaternion.premultiply(IS),this.component.updateMatrix()}},Object.defineProperties(_l.prototype,py);var x_=function(r,i){this.stage=i,this.pid=r.pid,this.picker=r.picker,this.instance=r.instance,this.stage=i,this.controls=i.viewerControls,this.mouse=i.mouseObserver},vo={type:{configurable:!0},altKey:{configurable:!0},ctrlKey:{configurable:!0},metaKey:{configurable:!0},shiftKey:{configurable:!0},canvasPosition:{configurable:!0},component:{configurable:!0},object:{configurable:!0},position:{configurable:!0},closestBondAtom:{configurable:!0},arrow:{configurable:!0},atom:{configurable:!0},axes:{configurable:!0},bond:{configurable:!0},box:{configurable:!0},cone:{configurable:!0},clash:{configurable:!0},contact:{configurable:!0},cylinder:{configurable:!0},distance:{configurable:!0},ellipsoid:{configurable:!0},octahedron:{configurable:!0},mesh:{configurable:!0},slice:{configurable:!0},sphere:{configurable:!0},tetrahedron:{configurable:!0},torus:{configurable:!0},surface:{configurable:!0},unitcell:{configurable:!0},unknown:{configurable:!0},volume:{configurable:!0}};vo.type.get=function(){return this.picker.type},vo.altKey.get=function(){return this.mouse.altKey},vo.ctrlKey.get=function(){return this.mouse.ctrlKey},vo.metaKey.get=function(){return this.mouse.metaKey},vo.shiftKey.get=function(){return this.mouse.shiftKey},vo.canvasPosition.get=function(){return this.mouse.canvasPosition},vo.component.get=function(){return this.stage.getComponentsByObject(this.picker.data).list[0]},vo.object.get=function(){return this.picker.getObject(this.pid)},vo.position.get=function(){return this.picker.getPosition(this.pid,this.instance,this.component)},vo.closestBondAtom.get=function(){if("bond"===this.type&&this.bond){var n=this.bond,r=this.controls;return function(n,r,i){return n.distanceTo(r)<n.distanceTo(i)}(this.canvasPosition,r.getPositionOnCanvas(n.atom1),r.getPositionOnCanvas(n.atom2))?n.atom1:n.atom2}},vo.arrow.get=function(){return this._objectIfType("arrow")},vo.atom.get=function(){return this._objectIfType("atom")},vo.axes.get=function(){return this._objectIfType("axes")},vo.bond.get=function(){return this._objectIfType("bond")},vo.box.get=function(){return this._objectIfType("box")},vo.cone.get=function(){return this._objectIfType("cone")},vo.clash.get=function(){return this._objectIfType("clash")},vo.contact.get=function(){return this._objectIfType("contact")},vo.cylinder.get=function(){return this._objectIfType("cylinder")},vo.distance.get=function(){return this._objectIfType("distance")},vo.ellipsoid.get=function(){return this._objectIfType("ellipsoid")},vo.octahedron.get=function(){return this._objectIfType("octahedron")},vo.mesh.get=function(){return this._objectIfType("mesh")},vo.slice.get=function(){return this._objectIfType("slice")},vo.sphere.get=function(){return this._objectIfType("sphere")},vo.tetrahedron.get=function(){return this._objectIfType("tetrahedron")},vo.torus.get=function(){return this._objectIfType("torus")},vo.surface.get=function(){return this._objectIfType("surface")},vo.unitcell.get=function(){return this._objectIfType("unitcell")},vo.unknown.get=function(){return this._objectIfType("unknown")},vo.volume.get=function(){return this._objectIfType("volume")},x_.prototype._objectIfType=function(r){return this.type===r?this.object:void 0},x_.prototype.getLabel=function(){var r="nothing";return this.arrow?r="arrow: "+(this.arrow.name||this.pid)+" ("+this.arrow.shape.name+")":this.atom?r="atom: "+this.atom.qualifiedName()+" ("+this.atom.structure.name+")":this.axes?r="axes":this.bond?r="bond: "+this.bond.atom1.qualifiedName()+" - "+this.bond.atom2.qualifiedName()+" ("+this.bond.structure.name+")":this.box?r="box: "+(this.box.name||this.pid)+" ("+this.box.shape.name+")":this.cone?r="cone: "+(this.cone.name||this.pid)+" ("+this.cone.shape.name+")":this.clash?r="clash: "+this.clash.clash.sele1+" - "+this.clash.clash.sele2:this.contact?r=this.contact.type+": "+this.contact.atom1.qualifiedName()+" - "+this.contact.atom2.qualifiedName()+" ("+this.contact.atom1.structure.name+")":this.cylinder?r="cylinder: "+(this.cylinder.name||this.pid)+" ("+this.cylinder.shape.name+")":this.distance?r="distance: "+this.distance.atom1.qualifiedName()+" - "+this.distance.atom2.qualifiedName()+" ("+this.distance.structure.name+")":this.ellipsoid?r="ellipsoid: "+(this.ellipsoid.name||this.pid)+" ("+this.ellipsoid.shape.name+")":this.octahedron?r="octahedron: "+(this.octahedron.name||this.pid)+" ("+this.octahedron.shape.name+")":this.mesh?r="mesh: "+(this.mesh.name||this.mesh.serial)+" ("+this.mesh.shape.name+")":this.slice?r="slice: "+this.slice.value.toPrecision(3)+" ("+this.slice.volume.name+")":this.sphere?r="sphere: "+(this.sphere.name||this.pid)+" ("+this.sphere.shape.name+")":this.surface?r="surface: "+this.surface.surface.name:this.tetrahedron?r="tetrahedron: "+(this.tetrahedron.name||this.pid)+" ("+this.tetrahedron.shape.name+")":this.torus?r="torus: "+(this.torus.name||this.pid)+" ("+this.torus.shape.name+")":this.unitcell?r="unitcell: "+this.unitcell.unitcell.spacegroup+" ("+this.unitcell.structure.name+")":this.unknown?r="unknown":this.volume&&(r="volume: "+this.volume.value.toPrecision(3)+" ("+this.volume.volume.name+")"),r},Object.defineProperties(x_.prototype,vo);var cM=function(r){this.stage=r,this.viewer=r.viewer};cM.prototype.pick=function(r,i){var s=this.viewer.pick(r,i);if(s.picker&&"ignore"!==s.picker.type&&void 0!==s.pid){var c=s.picker.array;if(!(c&&s.pid>=c.length))return new x_(s,this.stage);console.error("pid >= picker.array.length")}};var RS=new Wr,um=new J,dm=new J,C_=new J,Iu=new J,M_=new ye,Lw=new J,kS=new ye,ic=function(r){this.stage=r,this.signals={changed:new Br},this.viewer=r.viewer},Ru={position:{configurable:!0},rotation:{configurable:!0}};Ru.position.get=function(){return this.viewer.translationGroup.position},Ru.rotation.get=function(){return this.viewer.rotationGroup.quaternion},ic.prototype.changed=function(){this.viewer.requestRender(),this.signals.changed.dispatch()},ic.prototype.getPositionOnCanvas=function(r,i){var s=function(n){return WC(n,ce)}(i),c=this.viewer;return C_.copy(r).add(c.translationGroup.position).applyMatrix4(c.rotationGroup.matrix).project(c.camera),s.set((C_.x+1)*c.width/2,(C_.y+1)*c.height/2)},ic.prototype.getOrientation=function(r){var i=ml(r);i.copy(this.viewer.rotationGroup.matrix);var s=-this.viewer.camera.position.z;return i.scale(Iu.set(s,s,s)),i.setPosition(this.viewer.translationGroup.position),i},ic.prototype.orient=function(r){ml(r).decompose(um,RS,dm);var i=this.viewer;i.rotationGroup.setRotationFromQuaternion(RS),i.translationGroup.position.copy(um),i.camera.position.z=-dm.z,i.updateZoom(),this.changed()},ic.prototype.translate=function(r){this.viewer.translationGroup.position.add(bf(r)),this.changed()},ic.prototype.center=function(r){this.viewer.translationGroup.position.copy(bf(r)).negate(),this.changed()},ic.prototype.zoom=function(r){this.distance(this.viewer.camera.position.z*(1-r))},ic.prototype.distance=function(r){this.viewer.camera.position.z=r,this.viewer.updateZoom(),this.changed()},ic.prototype.spin=function(r,i){M_.getInverse(this.viewer.rotationGroup.matrix),Lw.copy(bf(r)).applyMatrix4(M_),this.viewer.rotationGroup.rotateOnAxis(Lw,i),this.changed()},ic.prototype.rotate=function(r){this.viewer.rotationGroup.setRotationFromQuaternion(r_(r)),this.changed()},ic.prototype.align=function(r){kS.getInverse(ml(r)),this.viewer.rotationGroup.setRotationFromMatrix(kS),this.changed()},ic.prototype.applyMatrix=function(r){this.viewer.rotationGroup.applyMatrix(ml(r)),this.changed()},Object.defineProperties(ic.prototype,Ru);var oa=function(r,i){for(var s=[],c=arguments.length-2;c-- >0;)s[c]=arguments[c+2];var u;this.pausedTime=-1,this.elapsedDuration=0,this.pausedDuration=0,this.ignoreGlobalToggle=!1,this._paused=!1,this._resolveList=[],this.duration=it(r,1e3),this.controls=i,this.startTime=window.performance.now(),(u=this)._init.apply(u,s)},ga={done:{configurable:!0},paused:{configurable:!0}};ga.done.get=function(){return 1===this.alpha},ga.paused.get=function(){return this._paused},oa.prototype.tick=function(r){if(!this._paused)return this.elapsedDuration=r.currentTime-this.startTime-this.pausedDuration,this.alpha=0===this.duration?1:qC(0,1,this.elapsedDuration/this.duration),this._tick(r),this.done&&this._resolveList.forEach(function(i){return i()}),this.done},oa.prototype.pause=function(r){r&&(this._hold=!0),-1===this.pausedTime&&(this.pausedTime=window.performance.now()),this._paused=!0},oa.prototype.resume=function(r){!r&&this._hold||(this.pausedDuration+=window.performance.now()-this.pausedTime,this._paused=!1,this._hold=!1,this.pausedTime=-1)},oa.prototype.toggle=function(){this._paused?this.resume():this.pause()},oa.prototype.then=function(r){var i=this;return(this.done?Promise.resolve():new Promise(function(c){return i._resolveList.push(c)})).then(r)},Object.defineProperties(oa.prototype,ga);var Ef=function(n){function r(i,s){for(var c=[],u=arguments.length-2;u-- >0;)c[u]=arguments[u+2];n.apply(this,[it(i,1/0),s].concat(c))}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s,c){this.axis=Array.isArray(s)?(new J).fromArray(s):it(s,new J(0,1,0)),this.angle=it(c,.01)},r.prototype._tick=function(s){!this.axis||!this.angle||this.controls.spin(this.axis,this.angle*s.lastDuration/16)},r}(oa),P_=function(n){function r(i,s){for(var c=[],u=arguments.length-2;u-- >0;)c[u]=arguments[u+2];n.apply(this,[it(i,1/0),s].concat(c)),this.angleSum=0,this.direction=1}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s,c,u){this.axis=Array.isArray(s)?(new J).fromArray(s):it(s,new J(0,1,0)),this.angleStep=it(c,.01),this.angleEnd=it(u,.2)},r.prototype._tick=function(s){if(this.axis&&this.angleStep&&this.angleEnd){var c=qC(0,1,Math.abs(this.angleSum)/this.angleEnd);this.controls.spin(this.axis,this.angleStep*this.direction*(1.1-c)*s.lastDuration/16),this.angleSum+=this.angleStep,this.angleSum>=this.angleEnd&&(this.direction*=-1,this.angleSum=-this.angleEnd)}},r}(oa),Kl=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s,c){this.moveFrom=bf(it(s,new J)),this.moveTo=bf(it(c,new J))},r.prototype._tick=function(){this.controls.position.lerpVectors(this.moveFrom,this.moveTo,this.alpha).negate(),this.controls.changed()},r}(oa),LS=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s,c){this.zoomFrom=s,this.zoomTo=c},r.prototype._tick=function(){this.controls.distance(Ws(this.zoomFrom,this.zoomTo,this.alpha))},r}(oa),Sf=function(n){function r(){n.apply(this,arguments),this._currentRotation=new Wr}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s,c){this.rotateFrom=r_(s),this.rotateTo=r_(c),this._currentRotation=new Wr},r.prototype._tick=function(){this._currentRotation.copy(this.rotateFrom).slerp(this.rotateTo,this.alpha),this.controls.rotate(this._currentRotation)},r}(oa),pm=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s,c,u){this.valueFrom=s,this.valueTo=c,this.callback=u},r.prototype._tick=function(){this.callback(Ws(this.valueFrom,this.valueTo,this.alpha))},r}(oa),hm=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype._init=function(s){this.callback=s},r.prototype._tick=function(){1===this.alpha&&this.callback()},r}(oa),yp=function(r){void 0===r&&(r=[]),this._resolveList=[],this._list=r},fm={done:{configurable:!0}};fm.done.get=function(){return this._list.every(function(n){return n.done})},yp.prototype.then=function(r){var i=this;return(this.done?Promise.resolve():new Promise(function(c){i._resolveList.push(c),i._list.forEach(function(u){u.then(function(){i._resolveList.forEach(function(f){f()}),i._resolveList.length=0})})})).then(r)},Object.defineProperties(yp.prototype,fm);var Bo=function(r){this.stage=r,this.animationList=[],this.finishedList=[],this.viewer=r.viewer,this.controls=r.viewerControls},gm={paused:{configurable:!0}};gm.paused.get=function(){return this.animationList.every(function(n){return n.paused})},Bo.prototype.add=function(r){return 0===r.duration?r.tick(this.viewer.stats):this.animationList.push(r),r},Bo.prototype.remove=function(r){var i=this.animationList,s=i.indexOf(r);s>-1&&i.splice(s,1)},Bo.prototype.run=function(r){for(var s=this.finishedList,c=this.animationList,u=c.length,f=0;f<u;++f){var v=c[f];v.tick(r)&&s.push(v)}var _=s.length;if(_){for(var y=0;y<_;++y)this.remove(s[y]);s.length=0}},Bo.prototype.spin=function(r,i,s){return this.add(new Ef(s,this.controls,r,i))},Bo.prototype.rock=function(r,i,s,c){return this.add(new P_(c,this.controls,r,i,s))},Bo.prototype.rotate=function(r,i){var s=this.viewer.rotationGroup.quaternion.clone();return this.add(new Sf(i,this.controls,s,r))},Bo.prototype.move=function(r,i){var s=this.controls.position.clone().negate();return this.add(new Kl(i,this.controls,s,r))},Bo.prototype.zoom=function(r,i){return this.add(new LS(i,this.controls,this.viewer.camera.position.z,r))},Bo.prototype.zoomMove=function(r,i,s){return new yp([this.move(r,s),this.zoom(i,s)])},Bo.prototype.orient=function(r,i){var s=new J,c=new Wr,u=new J;return ml(r).decompose(s,c,u),new yp([this.move(s.negate(),i),this.rotate(c,i),this.zoom(-u.x,i)])},Bo.prototype.value=function(r,i,s,c){return this.add(new pm(c,this.controls,r,i,s))},Bo.prototype.timeout=function(r,i){return this.add(new hm(i,this.controls,r))},Bo.prototype.spinComponent=function(r,i,s,c){return this.add(new Ef(c,r.controls,i,s))},Bo.prototype.rockComponent=function(r,i,s,c,u){return this.add(new P_(u,r.controls,i,s,c))},Bo.prototype.moveComponent=function(r,i,s){var c=r.controls.position.clone().negate();return this.add(new Kl(s,r.controls,c,i))},Bo.prototype.pause=function(){this.animationList.forEach(function(r){return r.pause()})},Bo.prototype.resume=function(){this.animationList.forEach(function(r){return r.resume()})},Bo.prototype.toggle=function(){this.paused?this.resume():this.pause()},Bo.prototype.clear=function(){this.animationList.length=0},Bo.prototype.dispose=function(){this.clear()},Object.defineProperties(Bo.prototype,gm);var bl=function(r,i){if(this.fn=r,this.queue=[],this.pending=!1,this.next=this.next.bind(this),i){for(var c=0,u=i.length;c<u;++c)this.queue.push(i[c]);this.next()}};bl.prototype.run=function(r){this.fn(r,this.next)},bl.prototype.next=function(){var r=this,i=this.queue.shift();void 0!==i?(this.pending=!0,setTimeout(function(){return r.run(i)})):this.pending=!1},bl.prototype.push=function(r){this.queue.push(r),this.pending||this.next()},bl.prototype.kill=function(){this.queue.length=0},bl.prototype.length=function(){return this.queue.length};var cs=function(r,i,s){this.type="",this.parameters={lazy:{type:"boolean"},clipNear:{type:"range",step:1,max:100,min:0,buffer:!0},clipRadius:{type:"number",precision:1,max:1e3,min:0,buffer:!0},clipCenter:{type:"vector3",precision:1,buffer:!0},flatShaded:{type:"boolean",buffer:!0},opacity:{type:"range",step:.01,max:1,min:0,buffer:!0},depthWrite:{type:"boolean",buffer:!0},side:{type:"select",buffer:!0,options:{front:"front",back:"back",double:"double"}},wireframe:{type:"boolean",buffer:!0},colorScheme:{type:"select",update:"color",options:{}},colorScale:{type:"select",update:"color",options:Xr.getScales()},colorReverse:{type:"boolean",update:"color"},colorValue:{type:"color",update:"color"},colorDomain:{type:"hidden",update:"color"},colorMode:{type:"select",update:"color",options:Xr.getModes()},roughness:{type:"range",step:.01,max:1,min:0,buffer:!0},metalness:{type:"range",step:.01,max:1,min:0,buffer:!0},diffuse:{type:"color",buffer:!0},matrix:{type:"hidden",buffer:!0},disablePicking:{type:"boolean",rebuild:!0}},this.viewer=i,this.tasks=new Ed,this.queue=new bl(this.make.bind(this)),this.bufferList=[],this.parameters.colorScheme&&(this.parameters.colorScheme.options=Xr.getSchemes())};cs.prototype.init=function(r){var i=r||{};this.clipNear=it(i.clipNear,0),this.clipRadius=it(i.clipRadius,0),this.clipCenter=it(i.clipCenter,new J),this.flatShaded=it(i.flatShaded,!1),this.side=it(i.side,"double"),this.opacity=it(i.opacity,1),this.depthWrite=it(i.depthWrite,!0),this.wireframe=it(i.wireframe,!1),this.setColor(i.color,i),this.colorScheme=it(i.colorScheme,"uniform"),this.colorScale=it(i.colorScale,""),this.colorReverse=it(i.colorReverse,!1),this.colorValue=it(i.colorValue,9474192),this.colorDomain=it(i.colorDomain,void 0),this.colorMode=it(i.colorMode,"hcl"),this.visible=it(i.visible,!0),this.quality=it(i.quality,void 0),this.roughness=it(i.roughness,.4),this.metalness=it(i.metalness,0),this.diffuse=it(i.diffuse,16777215),this.lazy=it(i.lazy,!1),this.lazyProps={build:!1,bufferParams:{},what:{}},this.matrix=it(i.matrix,new ye),this.disablePicking=it(i.disablePicking,!1);var s=this.parameters;!0===s.sphereDetail&&(s.sphereDetail={type:"integer",max:3,min:0,rebuild:"impostor"}),!0===s.radialSegments&&(s.radialSegments={type:"integer",max:25,min:5,rebuild:"impostor"}),!0===s.openEnded&&(s.openEnded={type:"boolean",rebuild:"impostor",buffer:!0}),!0===s.disableImpostor&&(s.disableImpostor={type:"boolean",rebuild:!0}),"low"===i.quality?(s.sphereDetail&&(this.sphereDetail=0),s.radialSegments&&(this.radialSegments=5)):"medium"===i.quality?(s.sphereDetail&&(this.sphereDetail=1),s.radialSegments&&(this.radialSegments=10)):"high"===i.quality?(s.sphereDetail&&(this.sphereDetail=2),s.radialSegments&&(this.radialSegments=20)):(s.sphereDetail&&(this.sphereDetail=it(i.sphereDetail,1)),s.radialSegments&&(this.radialSegments=it(i.radialSegments,10))),s.openEnded&&(this.openEnded=it(i.openEnded,!0)),s.disableImpostor&&(this.disableImpostor=it(i.disableImpostor,!1))},cs.prototype.getColorParams=function(r){return Object.assign({scheme:this.colorScheme,scale:this.colorScale,reverse:this.colorReverse,value:this.colorValue,domain:this.colorDomain,mode:this.colorMode},r)},cs.prototype.getBufferParams=function(r){return Object.assign({clipNear:this.clipNear,clipRadius:this.clipRadius,clipCenter:this.clipCenter,flatShaded:this.flatShaded,opacity:this.opacity,depthWrite:this.depthWrite,side:this.side,wireframe:this.wireframe,roughness:this.roughness,metalness:this.metalness,diffuse:this.diffuse,matrix:this.matrix,disablePicking:this.disablePicking},r)},cs.prototype.setColor=function(r,i){var s=Object.keys(Xr.getSchemes());return"string"==typeof r&&s.includes(r.toLowerCase())?i?i.colorScheme=r:this.setParameters({colorScheme:r}):void 0!==r&&(r=new cn(r).getHex(),i?(i.colorScheme="uniform",i.colorValue=r):this.setParameters({colorScheme:"uniform",colorValue:r})),this},cs.prototype.create=function(){},cs.prototype.update=function(){this.build()},cs.prototype.build=function(r){if(!this.lazy||this.visible)return this.prepare?(this.queue.length()>0?(this.tasks.change(1-this.queue.length()),this.queue.kill()):this.tasks.increment(),void this.queue.push(r||!1)):(this.tasks.increment(),void this.make());this.lazyProps.build=!0},cs.prototype.make=function(r,i){var s=this;Le&&xe.time("Representation.make "+this.type);var c=function(){r?(s.update(r),s.viewer.requestRender(),s.tasks.decrement(),i&&i()):(s.clear(),s.create(),!s.manualAttach&&!s.disposed&&(Le&&xe.time("Representation.attach "+s.type),s.attach(function(){Le&&xe.timeEnd("Representation.attach "+s.type),s.tasks.decrement(),i&&i()}))),Le&&xe.timeEnd("Representation.make "+s.type)};this.prepare?this.prepare(c):c()},cs.prototype.attach=function(r){this.setVisibility(this.visible),r()},cs.prototype.setVisibility=function(r,i){if(this.visible=r,this.visible){var s=this.lazyProps,c=s.bufferParams,u=s.what;if(s.build)return s.build=!1,void this.build();(Object.keys(c).length||Object.keys(u).length)&&(s.bufferParams={},s.what={},this.updateParameters(c,u))}return this.bufferList.forEach(function(f){f.setVisibility(r)}),i||this.viewer.requestRender(),this},cs.prototype.setParameters=function(r,i,s){var c=this;void 0===i&&(i={}),void 0===s&&(s=!1);var u=r||{},f=this.parameters,v={};for(var _ in this.setColor(u.color,u),u)void 0!==u[_]&&void 0!==f[_]&&(f[_].int&&(u[_]=parseInt(u[_])),f[_].float&&(u[_]=parseFloat(u[_])),(u[_]!==c[_]||u[_].equals&&!u[_].equals(c[_]))&&(c[_]&&c[_].copy&&u[_].copy?c[_].copy(u[_]):c[_]&&c[_].set?c[_].set(u[_]):c[_]=u[_],f[_].buffer&&(!0===f[_].buffer?v[_]=u[_]:v[f[_].buffer]=u[_]),f[_].update&&(i[f[_].update]=!0),f[_].rebuild&&("impostor"!==f[_].rebuild||!wc||c.disableImpostor)&&(s=!0)));return s?this.build():this.updateParameters(v,i),this},cs.prototype.updateParameters=function(r,i){if(this.lazy&&!this.visible)return Object.assign(this.lazyProps.bufferParams,r),void Object.assign(this.lazyProps.what,i);this.bufferList.forEach(function(s){s.setParameters(r)}),Object.keys(i).length&&this.update(i),this.viewer.requestRender()},cs.prototype.getParameters=function(){var r=this,i={lazy:this.lazy,visible:this.visible,quality:this.quality};return Object.keys(this.parameters).forEach(function(s){null!==r.parameters[s]&&(i[s]=r[s])}),i},cs.prototype.clear=function(){var r=this;this.bufferList.forEach(function(i){r.viewer.remove(i),i.dispose()}),this.bufferList.length=0,this.viewer.requestRender()},cs.prototype.dispose=function(){this.disposed=!0,this.queue.kill(),this.tasks.dispose(),this.clear()};var hy=function(r){var i=this;this.pending=0,this.postCount=0,this.onmessageDict={},this.onerrorDict={},this.name=r,this.blobUrl=window.URL.createObjectURL(xf.get(r)),this.worker=new Worker(this.blobUrl),xf.activeWorkerCount+=1,this.worker.onmessage=function(s){i.pending-=1;var c=s.data.__postId;Le&&xe.timeEnd("Worker.postMessage "+r+" #"+c);var u=i.onmessageDict[c];u&&u.call(i.worker,s),delete i.onmessageDict[c],delete i.onerrorDict[c]},this.worker.onerror=function(s){if(i.pending-=1,s.data){var c=s.data.__postId,u=i.onerrorDict[c];u?u.call(i.worker,s):xe.error("Worker.onerror",c,r,s),delete i.onmessageDict[c],delete i.onerrorDict[c]}else xe.error("Worker.onerror",r,s)}};hy.prototype.post=function(r,i,s,c){void 0===r&&(r={}),this.onmessageDict[this.postCount]=s,this.onerrorDict[this.postCount]=c,r.__name=this.name,r.__postId=this.postCount,r.__debug=Le,Le&&xe.time("Worker.postMessage "+this.name+" #"+this.postCount);try{this.worker.postMessage(r,i)}catch(u){xe.error("worker.post:",u),this.worker.postMessage(r)}return this.pending+=1,this.postCount+=1,this},hy.prototype.terminate=function(){this.worker?(this.worker.terminate(),window.URL.revokeObjectURL(this.blobUrl),xf.activeWorkerCount-=1):xe.log("no worker to terminate")};var gh=function(r,i){void 0===i&&(i=2),this.pool=[],this.count=0,this.maxCount=Math.min(8,i),this.name=r};function fy(n){for(var r=n.length,i=r/3,s=0,c=0,u=0,f=0;f<r;f+=3)s+=n[f+0],c+=n[f+1],u+=n[f+2];return new J(s/i,c/i,u/i)}function Af(n,r,i){return i?n.sub(i).projectOnVector(r).add(i):n.projectOnVector(r),n}function mm(n){for(var r=1/0,i=1/0,s=1/0,c=-1/0,u=-1/0,f=-1/0,v=0,_=n.length;v<_;v+=3){var y=n[v],C=n[v+1],P=n[v+2];y<r&&(r=y),C<i&&(i=C),P<s&&(s=P),y>c&&(c=y),C>u&&(u=C),P>f&&(f=P)}return[eo([r,i,s]),eo([c,u,f])]}function gy(n,r){for(var i=0,s=r.length;i<s;i+=3){var c=r[i],u=r[i+1],f=r[i+2];r[i]=n[0]*c+n[4]*u+n[8]*f+n[12],r[i+1]=n[1]*c+n[5]*u+n[9]*f+n[13],r[i+2]=n[2]*c+n[6]*u+n[10]*f+n[14]}}function my(n,r){for(var i=0,s=r.length;i<s;i+=3){var c=r[i],u=r[i+1],f=r[i+2];r[i]=n[0]*c+n[3]*u+n[6]*f,r[i+1]=n[1]*c+n[4]*u+n[7]*f,r[i+2]=n[2]*c+n[5]*u+n[8]*f}}function Fw(n){for(var r=0,i=n.length;r<i;r+=3){var s=n[r],c=n[r+1],u=n[r+2],f=1/Math.sqrt(s*s+c*c+u*u);n[r]=s*f,n[r+1]=c*f,n[r+2]=u*f}}function eo(n){return new Float32Array(n||3)}function ku(n,r,i){var s=r[0],c=r[1],u=r[2],f=i[0],v=i[1],_=i[2];n[0]=c*_-u*v,n[1]=u*f-s*_,n[2]=s*v-c*f}function Ql(n,r){return n[0]*r[0]+n[1]*r[1]+n[2]*r[2]}function Ra(n,r,i){n[0]=r[0]-i[0],n[1]=r[1]-i[1],n[2]=r[2]-i[2]}function vm(n,r,i){n[0]=r[0]+i[0],n[1]=r[1]+i[1],n[2]=r[2]+i[2]}function yl(n,r,i){void 0===i&&(i=0),n[0]=r[i],n[1]=r[i+1],n[2]=r[i+2]}function lo(n,r,i){void 0===i&&(i=0),r[i]=n[0],r[i+1]=n[1],r[i+2]=n[2]}function w_(n){return Math.sqrt(n[0]*n[0]+n[1]*n[1]+n[2]*n[2])}function O_(n,r,i){Ds(n,r,1/i)}function Ds(n,r,i){n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i}function qc(n,r){Ds(n,r,1/w_(r))}function FS(n,r,i){n[0]=r[0]-i,n[1]=r[1]-i,n[2]=r[2]-i}function vy(n,r,i){n[0]=r[0]+i,n[1]=r[1]+i,n[2]=r[2]+i}function Nw(n,r){n[0]=Math.floor(r[0]),n[1]=Math.floor(r[1]),n[2]=Math.floor(r[2])}function lM(n,r){n[0]=Math.ceil(r[0]),n[1]=Math.ceil(r[1]),n[2]=Math.ceil(r[2])}function Bw(n,r){n[0]=-r[0],n[1]=-r[1],n[2]=-r[2]}gh.prototype.post=function(r,i,s,c){void 0===r&&(r={});var u=this.getNextWorker();return u?u.post(r,i,s,c):console.error("unable to get worker from pool"),this},gh.prototype.terminate=function(){this.pool.forEach(function(r){r.terminate()})},gh.prototype.getNextWorker=function(){for(var i,r=this,s=1/0,c=0;c<this.maxCount;++c){if(c>=r.count){i=new hy(r.name),r.pool.push(i),r.count+=1;break}var u=r.pool[c];if(0===u.pending){i=u;break}u.pending<s&&(s=u.pending,i=u)}return i},gh.prototype.constructor=gh,mm.__deps=[eo],O_.__deps=[Ds],qc.__deps=[Ds,w_];var uM=new J,$c=function(){},BS={Picker:{configurable:!0},Buffer:{configurable:!0}};BS.Picker.get=function(){return Du.get(this.type)},BS.Buffer.get=function(){return Od.get(this.type)},$c.getShapeKey=function(r){return this.type+r[0].toUpperCase()+r.substr(1)},$c.expandBoundingBox=function(r,i){},$c.valueToShape=function(r,i,s){var c=r._primitiveData[this.getShapeKey(i)];switch(this.fields[i]){case"v3":case"c":!function(n,r){void 0!==n.toArray?n=n.toArray():void 0!==n.x?n=[n.x,n.y,n.z]:void 0!==n.r&&(n=[n.r,n.g,n.b]),r.push.apply(r,n)}(s,c);break;default:c.push(s)}},$c.objectToShape=function(r,i){var s=this;Object.keys(this.fields).forEach(function(c){s.valueToShape(r,c,i[c])}),this.valueToShape(r,"name",i.name),this.expandBoundingBox(r.boundingBox,i)},$c.valueFromShape=function(r,i,s){var c=r._primitiveData[this.getShapeKey(s)];switch(this.fields[s]){case"v3":return(new J).fromArray(c,3*i);case"c":return(new cn).fromArray(c,3*i);default:return c[i]}},$c.objectFromShape=function(r,i){var s=this,c={shape:r,name:this.valueFromShape(r,i,"name")};return Object.keys(this.fields).forEach(function(u){c[u]=s.valueFromShape(r,i,u)}),c},$c.arrayFromShape=function(r,i){var s=r._primitiveData[this.getShapeKey(i)];switch(this.fields[i]){case"s":return s;default:return new Float32Array(s)}},$c.dataFromShape=function(r){var i=this,s={};return this.Picker&&(s.picking=new this.Picker(r)),Object.keys(this.fields).forEach(function(c){s[c]=i.arrayFromShape(r,c)}),s},$c.bufferFromShape=function(r,i){return new this.Buffer(this.dataFromShape(r),i)},Object.defineProperties($c,BS),$c.type="",$c.fields={};var E_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.positionFromShape=function(s,c){return this.valueFromShape(s,c,"position")},r.expandBoundingBox=function(s,c){s.expandByPoint(uM.fromArray(c.position))},r}($c);E_.type="sphere",E_.fields={position:"v3",color:"c",radius:"f"};var S_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.positionFromShape=function(s,c){return this.valueFromShape(s,c,"position")},r.expandBoundingBox=function(s,c){s.expandByPoint(uM.fromArray(c.position))},r}($c);S_.type="box",S_.fields={position:"v3",color:"c",size:"f",heightAxis:"v3",depthAxis:"v3"};var dM=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(S_);dM.type="octahedron";var pM=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(S_);pM.type="tetrahedron";var mh=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.positionFromShape=function(s,c){var u=this.valueFromShape(s,c,"position1"),f=this.valueFromShape(s,c,"position2");return u.add(f).multiplyScalar(.5)},r.expandBoundingBox=function(s,c){s.expandByPoint(uM.fromArray(c.position1)),s.expandByPoint(uM.fromArray(c.position2))},r}($c);mh.type="cylinder",mh.fields={position1:"v3",position2:"v3",color:"c",radius:"f"};var A_=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(mh);A_.type="arrow";var _y=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(mh);_y.type="cone";var Is=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(E_);Is.type="ellipsoid",Is.fields={position:"v3",color:"c",radius:"f",majorAxis:"v3",minorAxis:"v3"};var Yc=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(Is);Yc.type="torus";var _m=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.positionFromShape=function(s,c){return this.valueFromShape(s,c,"position")},r.expandBoundingBox=function(s,c){s.expandByPoint(uM.fromArray(c.position))},r}($c);_m.type="text",_m.fields={position:"v3",color:"c",size:"f",text:"s"};var xp=function(r,i){var s=this;this.exp=3;var c=i||function(n){for(var r=n.x,i=n.y,s=n.z,c=new to,u=r.length,f=c.min,v=c.max,_=0;_<u;_++)f.x=Math.min(r[_],f.x),f.y=Math.min(i[_],f.y),f.z=Math.min(s[_],f.z),v.x=Math.max(r[_],v.x),v.y=Math.max(i[_],v.y),v.z=Math.max(s[_],v.z);return c}(r);this.minX=c.min.x,this.minY=c.min.y,this.minZ=c.min.z,this.boundX=1+(c.max.x-this.minX>>this.exp),this.boundY=1+(c.max.y-this.minY>>this.exp),this.boundZ=1+(c.max.z-this.minZ>>this.exp);for(var u=this.boundX*this.boundY*this.boundZ,f=r.x.length,v=r.x,_=r.y,y=r.z,C=0,P=new Uint32Array(u),w=new Int32Array(f),E=0;E<f;++E){var B=((v[E]-s.minX>>s.exp)*s.boundY+(_[E]-s.minY>>s.exp))*s.boundZ+(y[E]-s.minZ>>s.exp);1===(P[B]+=1)&&(C+=1),w[E]=B}for(var V=new Uint16Array(C),N=0,F=0;N<u;++N){var z=P[N];z>0&&(P[N]=F+1,V[F]=z,F+=1)}for(var G=new Uint32Array(C),q=1;q<C;++q)G[q]+=G[q-1]+V[q-1];for(var Y=new Uint16Array(C),X=new Int32Array(f),$=0;$<f;++$){var tt=P[w[$]];if(tt>0){var ot=tt-1;X[G[ot]+Y[ot]]=$,Y[ot]+=1}}this.grid=P,this.bucketCount=V,this.bucketOffset=G,this.bucketArray=X,this.xArray=v,this.yArray=_,this.zArray=y};xp.prototype.within=function(r,i,s,c){var u=[];return this.eachWithin(r,i,s,c,function(f){return u.push(f)}),u},xp.prototype.eachWithin=function(r,i,s,c,u){for(var f=this,v=c*c,_=Math.max(0,r-c-this.minX>>this.exp),y=Math.max(0,i-c-this.minY>>this.exp),C=Math.max(0,s-c-this.minZ>>this.exp),P=Math.min(this.boundX,r+c-this.minX>>this.exp),w=Math.min(this.boundY,i+c-this.minY>>this.exp),E=Math.min(this.boundZ,s+c-this.minZ>>this.exp),S=_;S<=P;++S)for(var I=y;I<=w;++I)for(var L=C;L<=E;++L){var V=f.grid[(S*f.boundY+I)*f.boundZ+L];if(V>0)for(var N=V-1,F=f.bucketOffset[N],G=F+f.bucketCount[N],q=F;q<G;++q){var Y=f.bucketArray[q],X=f.xArray[Y]-r,$=f.yArray[Y]-i,tt=f.zArray[Y]-s,ot=X*X+$*$+tt*tt;ot<=v&&u(Y,ot)}}};var Ec=function(r){void 0===r&&(r=0),this._fields=this._defaultFields,this._init(0)};Ec.prototype._init=function(r){this.length=r,this.count=0;for(var s=0,c=this._fields.length;s<c;++s){var u=this._fields[s];this._initField(u[0],u[1],u[2])}},Ec.prototype._initField=function(r,i,s){this[r]=Gb(s,this.length*i)},Ec.prototype.addField=function(r,i,s){this._fields.push([r,i,s]),this._initField(r,i,s)},Ec.prototype.resize=function(r){var i=this;this.length=Math.round(r||0),this.count=Math.min(this.count,this.length);for(var s=0,c=this._fields.length;s<c;++s){var u=i._fields[s][0],v=i.length*i._fields[s][1],_=new i[u].constructor(v);_.set(i[u].length>v?i[u].subarray(0,v):i[u]),i[u]=_}},Ec.prototype.growIfFull=function(){if(this.count>=this.length){var r=Math.round(1.5*this.length);this.resize(Math.max(256,r))}},Ec.prototype.copyFrom=function(r,i,s,c){for(var u=this,f=0,v=this._fields.length;f<v;++f)for(var _=u._fields[f][0],y=u._fields[f][1],C=u[_],P=r[_],w=0;w<c;++w)for(var E=y*(i+w),S=y*(s+w),I=0;I<y;++I)C[E+I]=P[S+I]},Ec.prototype.copyWithin=function(r,i,s){for(var c=this,u=0,f=this._fields.length;u<f;++u)for(var _=c._fields[u][1],y=c[c._fields[u][0]],C=0;C<s;++C)for(var P=_*(r+C),w=_*(i+C),E=0;E<_;++E)y[P+E]=y[w+E]},Ec.prototype.sort=function(r){xe.time("Store.sort");var i=this,s=new this.constructor(1);function c(f,v){f!==v&&(s.copyFrom(i,0,f,1),i.copyWithin(f,v,1),i.copyFrom(s,v,0,1))}(function u(f,v){if(f<v){var _=Math.floor((f+v)/2),y=f,C=v;do{for(;r(y,_)<0;)y+=1;for(;r(C,_)>0;)C-=1;y<=C&&(y===_?_=C:C===_&&(_=y),c(y,C),y+=1,C-=1)}while(y<=C);u(f,C),u(y,v)}})(0,this.count-1),xe.timeEnd("Store.sort")},Ec.prototype.clear=function(){this.count=0},Ec.prototype.dispose=function(){delete this.length,delete this.count;for(var i=0,s=this._fields.length;i<s;++i)delete this[this._fields[i][0]]};var Vw=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["index1",1,"int32"],["index2",1,"int32"],["type",1,"int8"]]},r.prototype.addContact=function(c,u,f){this.growIfFull();var v=this.count;c<u?(this.index1[v]=c,this.index2[v]=u):(this.index2[v]=c,this.index1[v]=u),f&&(this.type[v]=f),this.count+=1},Object.defineProperties(r.prototype,i),r}(Ec);function zr(n){return 16843009*((n=(858993459&(n-=n>>>1&1431655765))+(n>>>2&858993459))+(n>>>4)&252645135)>>>24}var qr=function(r,i){this.length=r,this._words=new Uint32Array(r+32>>>5),!0===i&&this.setAll()};function T_(n){for(var r=n.edgeCount,i=n.nodeCount,s=n.nodeArray1,c=n.nodeArray2,u=new Uint8Array(i),f=new Int32Array(i),v=0;v<r;++v)u[s[v]]+=1,u[c[v]]+=1;for(var _=1;_<i;++_)f[_]+=f[_-1]+u[_-1];for(var y=2*r,C=new Int32Array(y),P=0;P<y;++P)C[P]=-1;for(var w=0;w<r;++w){for(var S=c[w],I=f[s[w]];-1!==C[I];)I+=1;C[I]=w;for(var L=f[S];-1!==C[L];)L+=1;C[L]=w}return{countArray:u,offsetArray:f,indexArray:C}}function ka(n,r){return void 0===n&&(n=0),void 0===r&&(r=0),{type:n,group:r,x:0,y:0,z:0,atomSet:[]}}function Ur(n,r){n.x+=r.x,n.y+=r.y,n.z+=r.z,n.atomSet.push(r.index)}function wi(n,r){var i=r.atomSet.length;if(i>0){var c=n.groups,u=n.centers,f=n.atomSets;n.types.push(r.type),c.push(r.group),u.x.push(r.x/i),u.y.push(r.y/i),u.z.push(r.z/i),f.push(r.atomSet)}}qr.prototype.get=function(r){return 0!=(this._words[r>>>5]&1<<r)},qr.prototype.set=function(r){this._words[r>>>5]|=1<<r},qr.prototype.clear=function(r){this._words[r>>>5]&=~(1<<r)},qr.prototype.flip=function(r){this._words[r>>>5]^=1<<r},qr.prototype._assignRange=function(r,i,s){if(!(i<r)){for(var c=this._words,u=!0===s?4294967295:0,f=r>>>5,v=i>>>5,_=f;_<v;++_)c[_]=u;var y=f<<5,C=v<<5;if(!0===s)if(i-r<32)for(var P=r,w=i+1;P<w;++P)c[P>>>5]|=1<<P;else{for(var E=r,S=y;E<S;++E)c[E>>>5]|=1<<E;for(var I=C,L=i+1;I<L;++I)c[I>>>5]|=1<<I}else if(i-r<32)for(var B=r,V=i+1;B<V;++B)c[B>>>5]&=~(1<<B);else{for(var N=r,F=y;N<F;++N)c[N>>>5]&=~(1<<N);for(var z=C,G=i+1;z<G;++z)c[z>>>5]&=~(1<<z)}return this}},qr.prototype.setRange=function(r,i){return this._assignRange(r,i,!0)},qr.prototype.clearRange=function(r,i){return this._assignRange(r,i,!1)},qr.prototype.setBits=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];for(var s=this._words,c=r.length,u=0;u<c;++u){var f=r[u];s[f>>>5]|=1<<f}return this},qr.prototype.clearBits=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];for(var s=this._words,c=r.length,u=0;u<c;++u){var f=r[u];s[f>>>5]&=~(1<<f)}return this},qr.prototype.setAll=function(){return this._assignRange(0,this.length-1,!0)},qr.prototype.clearAll=function(){return this._assignRange(0,this.length-1,!1)},qr.prototype.flipAll=function(){for(var r=this._words.length,i=this._words,s=32-this.length%32,c=0;c<r-1;++c)i[c]=~i[c];return i[r-1]=~(i[r-1]<<s)>>>s,this},qr.prototype._isRangeValue=function(r,i,s){if(!(i<r)){for(var c=this._words,u=!0===s?4294967295:0,f=r>>>5,v=i>>>5,_=f;_<v;++_)if(c[_]!==u)return!1;if(i-r<32){for(var y=r,C=i+1;y<C;++y)if(!!(c[y>>>5]&1<<y)!==s)return!1}else{for(var w=v<<5,E=r,S=f<<5<<5;E<S;++E)if(!!(c[E>>>5]&1<<E)!==s)return!1;for(var I=w,L=i+1;I<L;++I)if(!!(c[I>>>5]&1<<I)!==s)return!1}return!0}},qr.prototype.isRangeSet=function(r,i){return this._isRangeValue(r,i,!0)},qr.prototype.isRangeClear=function(r,i){return this._isRangeValue(r,i,!1)},qr.prototype.isAllSet=function(){return this._isRangeValue(0,this.length-1,!0)},qr.prototype.isAllClear=function(){return this._isRangeValue(0,this.length-1,!1)},qr.prototype.isSet=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];for(var s=this._words,c=r.length,u=0;u<c;++u){var f=r[u];if(0==(s[f>>>5]&1<<f))return!1}return!0},qr.prototype.isClear=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];for(var s=this._words,c=r.length,u=0;u<c;++u){var f=r[u];if(0!=(s[f>>>5]&1<<f))return!1}return!0},qr.prototype.isEqualTo=function(r){for(var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=0;u<c;++u)if(i[u]!==s[u])return!1;return!0},qr.prototype.getSize=function(){for(var r=this._words.length,i=this._words,s=0,c=0;c<r;++c)s+=zr(i[c]);return s},qr.prototype.difference=function(r){for(var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=0;u<c;++u)i[u]=i[u]&~s[u];for(var f=i.length;f<c;++f)i[f]=0;return this},qr.prototype.union=function(r){for(var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=0;u<c;++u)i[u]|=s[u];for(var f=i.length;f<c;++f)i[f]=0;return this},qr.prototype.intersection=function(r){for(var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=0;u<c;++u)i[u]&=s[u];for(var f=i.length;f<c;++f)i[f]=0;return this},qr.prototype.intersects=function(r){for(var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=0;u<c;++u)if(0!=(i[u]&s[u]))return!0;return!1},qr.prototype.getIntersectionSize=function(r){for(var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=0,f=0;f<c;++f)u+=zr(i[f]&s[f]);return u},qr.prototype.makeIntersection=function(r){var i=this._words,s=r._words,c=Math.min(i.length,s.length),u=new Uint32Array(c),f=Object.create(qr.prototype);f._words=u,f.length=Math.min(this.length,r.length);for(var v=0;v<c;++v)u[v]=i[v]&s[v];return f},qr.prototype.forEach=function(r){for(var i=this._words.length,s=this._words,c=0,u=0;u<i;++u)for(var f=s[u];0!==f;){var v=f&-f;r((u<<5)+zr(v-1),c),f^=v,++c}},qr.prototype.toArray=function(){for(var r=this._words,i=new Array(this.getSize()),s=this._words.length,c=0,u=0;u<s;++u)for(var f=r[u];0!==f;){var v=f&-f;i[c++]=(u<<5)+zr(v-1),f^=v}return i},qr.prototype.toString=function(){return"{"+this.toArray().join(",")+"}"},qr.prototype.toSeleString=function(){var r=this.toArray().join(",");return r?"@"+r:"NONE"},qr.prototype.clone=function(){var r=Object.create(qr.prototype);return r.length=this.length,r._words=new Uint32Array(this._words),r};var xm=["D-BETA-PEPTIDE, C-GAMMA LINKING","D-GAMMA-PEPTIDE, C-DELTA LINKING","D-PEPTIDE COOH CARBOXY TERMINUS","D-PEPTIDE NH3 AMINO TERMINUS","D-PEPTIDE LINKING","L-BETA-PEPTIDE, C-GAMMA LINKING","L-GAMMA-PEPTIDE, C-DELTA LINKING","L-PEPTIDE COOH CARBOXY TERMINUS","L-PEPTIDE NH3 AMINO TERMINUS","L-PEPTIDE LINKING","PEPTIDE LINKING","PEPTIDE-LIKE"],Cm=["RNA OH 3 PRIME TERMINUS","RNA OH 5 PRIME TERMINUS","RNA LINKING"],xy=["DNA OH 3 PRIME TERMINUS","DNA OH 5 PRIME TERMINUS","DNA LINKING","L-DNA LINKING","L-RNA LINKING"],Cy=["D-SACCHARIDE","D-SACCHARIDE 1,4 AND 1,4 LINKING","D-SACCHARIDE 1,4 AND 1,6 LINKING","L-SACCHARIDE","L-SACCHARIDE 1,4 AND 1,4 LINKING","L-SACCHARIDE 1,4 AND 1,6 LINKING","SACCHARIDE"],I_=["NON-POLYMER"].concat(["OTHER"],Cy),Mm=["h","g","i"],gM=["e","b"],Fi=["s","t","l",""],Ac={H:1,D:1,T:1,HE:2,LI:3,BE:4,B:5,C:6,N:7,O:8,F:9,NE:10,NA:11,MG:12,AL:13,SI:14,P:15,S:16,CL:17,AR:18,K:19,CA:20,SC:21,TI:22,V:23,CR:24,MN:25,FE:26,CO:27,NI:28,CU:29,ZN:30,GA:31,GE:32,AS:33,SE:34,BR:35,KR:36,RB:37,SR:38,Y:39,ZR:40,NB:41,MO:42,TC:43,RU:44,RH:45,PD:46,AG:47,CD:48,IN:49,SN:50,SB:51,TE:52,I:53,XE:54,CS:55,BA:56,LA:57,CE:58,PR:59,ND:60,PM:61,SM:62,EU:63,GD:64,TB:65,DY:66,HO:67,ER:68,TM:69,YB:70,LU:71,HF:72,TA:73,W:74,RE:75,OS:76,IR:77,PT:78,AU:79,HG:80,TL:81,PB:82,BI:83,PO:84,AT:85,RN:86,FR:87,RA:88,AC:89,TH:90,PA:91,U:92,NP:93,PU:94,AM:95,CM:96,BK:97,CF:98,ES:99,FM:100,MD:101,NO:102,LR:103,RF:104,DB:105,SG:106,BH:107,HS:108,MT:109,DS:110,RG:111,CN:112,NH:113,FL:114,MC:115,LV:116,TS:117,OG:118},Ww={1:1.1,2:1.4,3:1.81,4:1.53,5:1.92,6:1.7,7:1.55,8:1.52,9:1.47,10:1.54,11:2.27,12:1.73,13:1.84,14:2.1,15:1.8,16:1.8,17:1.75,18:1.88,19:2.75,20:2.31,21:2.3,22:2.15,23:2.05,24:2.05,25:2.05,26:2.05,27:2,28:2,29:2,30:2.1,31:1.87,32:2.11,33:1.85,34:1.9,35:1.83,36:2.02,37:3.03,38:2.49,39:2.4,40:2.3,41:2.15,42:2.1,43:2.05,44:2.05,45:2,46:2.05,47:2.1,48:2.2,49:2.2,50:1.93,51:2.17,52:2.06,53:1.98,54:2.16,55:3.43,56:2.68,57:2.5,58:2.48,59:2.47,60:2.45,61:2.43,62:2.42,63:2.4,64:2.38,65:2.37,66:2.35,67:2.33,68:2.32,69:2.3,70:2.28,71:2.27,72:2.25,73:2.2,74:2.1,75:2.05,76:2,77:2,78:2.05,79:2.1,80:2.05,81:1.96,82:2.02,83:2.07,84:1.97,85:2.02,86:2.2,87:3.48,88:2.83,89:2,90:2.4,91:2,92:2.3,93:2,94:2,95:2,96:2,97:2,98:2,99:2,100:2,101:2,102:2,103:2,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:2,114:2,115:2,116:2,117:2,118:2},VS={1:.31,2:.28,3:1.28,4:.96,5:.84,6:.76,7:.71,8:.66,9:.57,10:.58,11:1.66,12:1.41,13:1.21,14:1.11,15:1.07,16:1.05,17:1.02,18:1.06,19:2.03,20:1.76,21:1.7,22:1.6,23:1.53,24:1.39,25:1.39,26:1.32,27:1.26,28:1.24,29:1.32,30:1.22,31:1.22,32:1.2,33:1.19,34:1.2,35:1.2,36:1.16,37:2.2,38:1.95,39:1.9,40:1.75,41:1.64,42:1.54,43:1.47,44:1.46,45:1.42,46:1.39,47:1.45,48:1.44,49:1.42,50:1.39,51:1.39,52:1.38,53:1.39,54:1.4,55:2.44,56:2.15,57:2.07,58:2.04,59:2.03,60:2.01,61:1.99,62:1.98,63:1.98,64:1.96,65:1.94,66:1.92,67:1.92,68:1.89,69:1.9,70:1.87,71:1.87,72:1.75,73:1.7,74:1.62,75:1.51,76:1.44,77:1.41,78:1.36,79:1.36,80:1.32,81:1.45,82:1.46,83:1.48,84:1.4,85:1.5,86:1.5,87:2.6,88:2.21,89:2.15,90:2.06,91:2,92:1.96,93:1.9,94:1.87,95:1.8,96:1.69,97:1.6,98:1.6,99:1.6,100:1.6,101:1.6,102:1.6,103:1.6,104:1.6,105:1.6,106:1.6,107:1.6,108:1.6,109:1.6,110:1.6,111:1.6,112:1.6,113:1.6,114:1.6,115:1.6,116:1.6,117:1.6,118:1.6},zS={1:[1],2:[0],3:[1],4:[2],5:[3],6:[4],7:[3],8:[2],9:[1],10:[0],11:[1],12:[2],13:[6],14:[6],15:[3,5,7],16:[2,4,6],17:[1],18:[0],19:[1],20:[2],31:[3],32:[4],33:[3,5],34:[2,4,6],35:[1],36:[0],37:[1],38:[2],49:[3],50:[4],51:[3,5],52:[2],53:[1,2,5],54:[0,2],55:[1],56:[2],81:[3],82:[4],83:[3],84:[2],85:[1],86:[0],87:[1],88:[2]},My={1:1,2:2,3:1,4:2,5:3,6:4,7:5,8:6,9:7,10:8,11:1,12:2,13:3,14:4,15:5,16:6,17:7,18:8,19:1,20:2,21:3,22:4,23:5,24:6,25:7,26:8,27:9,28:10,29:11,30:2,31:3,32:4,33:5,34:6,35:7,36:8,37:1,38:2,39:3,40:4,41:5,42:6,43:7,44:8,45:9,46:10,47:11,48:2,49:3,50:4,51:5,52:6,53:7,54:8,55:1,56:2,57:3,58:4,59:3,60:4,61:5,62:6,63:7,64:8,65:9,66:10,67:11,68:12,69:13,70:14,71:15,72:4,73:5,74:6,75:7,76:8,77:9,78:10,79:11,80:2,81:3,82:4,83:5,84:6,85:7,86:8,87:1,88:2,89:3,90:4,91:3,92:4,93:5,94:6,95:7,96:8,97:9,98:10,99:11,100:12,101:13,102:14,103:15,104:2,105:2,106:2,107:2,108:2,109:2,110:2,111:2,112:2,113:3,114:4,115:5,116:6,117:7,118:8},_h={ALA:[.17,.5,.33],ARG:[.81,1.81,1],ASN:[.42,.85,.43],ASP:[1.23,3.64,2.41],ASH:[-.07,.43,.5],CYS:[-.24,-.02,.22],GLN:[.58,.77,.19],GLU:[2.02,3.63,1.61],GLH:[-.01,.11,.12],GLY:[.01,1.15,1.14],HIS:[.17,.11,-.06],ILE:[-.31,-1.12,-.81],LEU:[-.56,-1.25,-.69],LYS:[.99,2.8,1.81],MET:[-.23,-.67,-.44],PHE:[-1.13,-1.71,-.58],PRO:[.45,.14,-.31],SER:[.13,.46,.33],THR:[.14,.25,.11],TRP:[-1.85,-2.09,-.24],TYR:[-.94,-.71,.23],VAL:[.07,-.46,-.53]},Df=[0,0,0],_M={HIS:"H",ARG:"R",LYS:"K",ILE:"I",PHE:"F",LEU:"L",TRP:"W",ALA:"A",MET:"M",PRO:"P",CYS:"C",ASN:"N",VAL:"V",GLY:"G",SER:"S",GLN:"Q",TYR:"Y",ASP:"D",GLU:"E",THR:"T",ASH:"D",GLH:"E"},Py=Object.keys(_M),ys=["A","C","T","G","U"],Vo=["DA","DC","DT","DG","DU","TCY","MCY","5CM"],$w=["A","G","DA","DG"],Yw=ys.concat(Vo),bh=["SOL","WAT","HOH","H2O","W","DOD","D3O","TIP3","TIP4","SPC"],Xw=["118","119","1AL","1CU","2FK","2HP","2OF","3CO","3MT","3NI","3OF","3P8","4MO","4PU","543","6MO","ACT","AG","AL","ALF","AM","ATH","AU","AU3","AUC","AZI","BA","BCT","BEF","BF4","BO4","BR","BS3","BSY","CA","CAC","CD","CD1","CD3","CD5","CE","CHT","CL","CO","CO3","CO5","CON","CR","CS","CSB","CU","CU1","CU3","CUA","CUZ","CYN","DME","DMI","DSC","DTI","DY","E4N","EDR","EMC","ER3","EU","EU3","F","FE","FE2","FPO","GA","GD3","GEP","HAI","HG","HGC","IN","IOD","IR","IR3","IRI","IUM","K","KO4","LA","LCO","LCP","LI","LU","MAC","MG","MH2","MH3","MLI","MLT","MMC","MN","MN3","MN5","MN6","MO1","MO2","MO3","MO4","MO5","MO6","MOO","MOS","MOW","MW1","MW2","MW3","NA","NA2","NA5","NA6","NAO","NAW","NCO","NET","NH4","NI","NI1","NI2","NI3","NO2","NO3","NRU","O4M","OAA","OC1","OC2","OC3","OC4","OC5","OC6","OC7","OC8","OCL","OCM","OCN","OCO","OF1","OF2","OF3","OH","OS","OS4","OXL","PB","PBM","PD","PDV","PER","PI","PO3","PO4","PR","PT","PT4","PTN","RB","RH3","RHD","RU","SB","SCN","SE4","SEK","SM","SMO","SO3","SO4","SR","T1A","TB","TBA","TCN","TEA","TH","THE","TL","TMA","TRA","UNX","V","VN3","VO4","W","WO5","Y1","YB","YB2","YH","YT3","ZCM","ZN","ZN2","ZN3","ZNO","ZO3","OHX"],o5=["045","0AT","0BD","0MK","0NZ","0TS","0V4","0XY","0YT","10M","147","149","14T","15L","16G","18T","18Y","1AR","1BW","1GL","1GN","1JB","1LL","1NA","1S3","26M","26Q","26R","26V","26W","26Y","27C","289","291","293","2DG","2F8","2FG","2FL","2FP","2GL","2M4","2M5","32O","34V","3CM","3DO","3DY","3FM","3LR","3MF","3MG","3SA","3ZW","46D","46M","46Z","48Z","4CQ","4GC","4NN","50A","5DI","5GF","5MM","5RP","5SA","5SP","64K","6PG","6SA","7JZ","7SA","A1Q","A2G","AAB","AAL","AAO","ABC","ABD","ABE","ABF","ABL","ACG","ACI","ACR","ACX","ADA","ADG","ADR","AF1","AFD","AFL","AFO","AFP","AFR","AGC","AGH","AGL","AHR","AIG","ALL","ALX","AMU","AOG","AOS","ARA","ARB","ARE","ARI","ASG","ASO","AXP","AXR","B0D","B16","B2G","B4G","B6D","B8D","B9D","BBK","BCD","BDG","BDP","BDR","BEM","BFP","BGC","BGL","BGP","BGS","BHG","BMA","BMX","BNG","BNX","BOG","BRI","BXF","BXP","BXX","BXY","C3X","C4X","C5X","CAP","CBI","CBK","CBS","CDR","CEG","CGF","CHO","CR1","CR6","CRA","CT3","CTO","CTR","CTT","D6G","DAF","DAG","DDA","DDB","DDL","DEL","DFR","DFX","DG0","DGC","DGD","DGM","DGS","DIG","DLF","DLG","DMU","DNO","DOM","DP5","DQQ","DQR","DR2","DR3","DR4","DRI","DSR","DT6","DVC","E4P","E5G","EAG","EBG","EBQ","EGA","EJT","EPG","ERE","ERI","F1P","F1X","F6P","FBP","FCA","FCB","FCT","FDP","FDQ","FFC","FIX","FMO","FRU","FSI","FU4","FUB","FUC","FUD","FUL","FXP","G16","G1P","G2F","G3I","G4D","G4S","G6D","G6P","G6S","GAC","GAD","GAL","GC1","GC4","GCD","GCN","GCO","GCS","GCT","GCU","GCV","GCW","GCX","GE1","GFG","GFP","GIV","GL0","GL2","GL5","GL6","GL7","GL9","GLA","GLB","GLC","GLD","GLF","GLG","GLO","GLP","GLS","GLT","GLW","GMH","GN1","GNX","GP1","GP4","GPH","GPM","GQ1","GQ2","GQ4","GS1","GS4","GSA","GSD","GTE","GTH","GTK","GTR","GTZ","GU0","GU1","GU2","GU3","GU4","GU5","GU6","GU8","GU9","GUF","GUP","GUZ","GYP","GYV","H2P","HDL","HMS","HS2","HSD","HSG","HSH","HSJ","HSQ","HSR","HSU","HSX","HSY","HSZ","IAB","IDG","IDR","IDS","IDT","IDU","IDX","IDY","IMK","IN1","IPT","ISL","KBG","KD2","KDA","KDM","KDO","KFN","KO1","KO2","KTU","L6S","LAG","LAI","LAK","LAO","LAT","LB2","LBT","LCN","LDY","LGC","LGU","LM2","LMT","LMU","LOG","LOX","LPK","LSM","LTM","LVZ","LXB","LXZ","M1F","M3M","M6P","M8C","MA1","MA2","MA3","MAB","MAG","MAL","MAN","MAT","MAV","MAW","MBG","MCU","MDA","MDM","MDP","MFA","MFB","MFU","MG5","MGA","MGL","MLB","MMA","MMN","MN0","MRP","MTT","MUG","MVP","MXY","N1L","N9S","NAA","NAG","NBG","NDG","NED","NG1","NG6","NGA","NGB","NGC","NGE","NGF","NGL","NGS","NGY","NHF","NM6","NM9","NTF","NTO","NTP","NXD","NYT","OPG","OPM","ORP","OX2","P3M","P53","P6P","PA5","PNA","PNG","PNW","PRP","PSJ","PSV","PTQ","QDK","QPS","QV4","R1P","R1X","R2B","R5P","RAA","RAE","RAF","RAM","RAO","RAT","RB5","RBL","RCD","RDP","REL","RER","RF5","RG1","RGG","RHA","RIB","RIP","RNS","RNT","ROB","ROR","RPA","RST","RUB","RUU","RZM","S6P","S7P","SA0","SCR","SDD","SF6","SF9","SG4","SG5","SG6","SG7","SGA","SGC","SGD","SGN","SGS","SHB","SHG","SI3","SIO","SOE","SOL","SSG","SUC","SUP","SUS","T6P","T6T","TAG","TCB","TDG","TGK","TGY","TH1","TIA","TM5","TM6","TM9","TMR","TMX","TOA","TOC","TRE","TYV","UCD","UDC","VG1","X0X","X1X","X2F","X4S","X5S","X6X","XBP","XDN","XDP","XIF","XIM","XLF","XLS","XMM","XUL","XXR","XYP","XYS","YO5","Z3Q","Z6J","Z9M","ZDC","ZDM"],Pm=["CA","C","N","O","O1","O2","OC1","OC2","OX1","OXT","H","H1","H2","H3","HA","HN","BB"],Xc=["P","O3'","O5'","C5'","C4'","C3'","OP1","OP2","O3*","O5*","C5*","C4*","C3*"],qe={};function wm(n){switch(n){case 0:return 0;case 1:return 1;case 2:return 2;case 3:return 3;case 4:return 4;default:return 8}}qe[1]={trace:"CA",direction1:"C",direction2:["O","OC1","O1","OX1","OXT"],backboneStart:"N",backboneEnd:"C"},qe[2]={trace:["C4'","C4*"],direction1:["C1'","C1*"],direction2:["C3'","C3*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},qe[3]={trace:["C3'","C3*"],direction1:["C2'","C2*"],direction2:["O4'","O4*"],backboneStart:"P",backboneEnd:["O3'","O3*"]},qe[4]={trace:["CA","BB"],backboneStart:["CA","BB"],backboneEnd:["CA","BB"]},qe[5]={trace:["C4'","C4*","P"],backboneStart:["C4'","C4*","P"],backboneEnd:["C4'","C4*","P"]},qe[6]={trace:["C3'","C3*","C2'","P"],backboneStart:["C3'","C3*","C2'","P"],backboneEnd:["C3'","C3*","C2'","P"]},qe[0]={};var Zw=new Map([[2,Lo(180)],[3,Lo(120)],[4,Lo(109.4721)],[6,Lo(90)]]);function ls(n,r){var i,s=new J,c=new J;return s.subVectors(r,n),n.eachBondedAtom(function(u){if(1!==u.number){c.subVectors(u,n);var f=s.angleTo(c);i=i?Math.min(i,f):f}}),i}function Yo(n,r){var i=n.clone(),s=new J;s.subVectors(r,n);var c=[new J,new J],u=0;if(n.eachBondedAtom(function(v){u>1||1!==v.number&&(i.index=v.index,c[u++].subVectors(v,n))}),1===u&&i.eachBondedAtom(function(v){u>1||1!==v.number&&v.index!==n.index&&c[u++].subVectors(v,n)}),2===u){var f=c[0].cross(c[1]);return Math.abs(Math.PI/2-f.angleTo(s))}}function wp(n){if(n["@valenceModel"])return n["@valenceModel"];var r=function(n,r){var i=n.structure,s=i.atomCount,c=new Int8Array(s),u=new Int8Array(s),f=new Int8Array(s),v=new Int8Array(s);return i.eachAtom(function(_){var y=_.index,C=function(n,r){var i=n.bondToElementCount("H"),s=n.formalCharge||0,c="always"===r.assignCharge||"auto"===r.assignCharge&&0===s,u="always"===r.assignH||"auto"===r.assignH&&0===i,f=n.bondCount,v=function(n){var r=0;return n.eachBond(function(i){return r+=i.bondOrder}),r}(n),_=function(n){var r=n.structure.getBondProxy(),i=n.number,s=7===i||8===i;if(s&&4===n.bondCount)return!1;var c=!1;return n.eachBond(function(u){if(u.bondOrder>1)c=!0;else if(s){var f=u.getOtherAtom(n);f.eachBond(function(v){if(v.bondOrder>1){var _=f.number;if((15===_||16===_)&&8===v.getOtherAtom(f).number)return;c=!0}},r)}}),c}(n),y=v-f>0,C=0,P=8;switch(n.number){case 1:c&&(0===f?(s=1,P=0):1===f&&(s=0,P=1));break;case 6:c&&(s=0),u&&(C=Math.max(0,4-v-Math.abs(s))),P=wm(f+C+Math.max(0,-s));break;case 7:c&&(s=u?_&&v<4?f-i==1&&v-i==2?1:0:1:v-3),u&&(C=Math.max(0,3-v+s)),P=wm(_&&!y?f+C-s:f+C+1-s);break;case 8:c&&(u||(s=v-2),1===v&&n.eachBondedAtom(function(w){w.eachBond(function(E){var S=E.getOtherAtom(w);S.index!==n.index&&8===S.number&&2===E.bondOrder&&(s=-1)})})),u&&(C=Math.max(0,2-v+s)),P=wm(_&&!y?f+C-s+1:f+C-s+2);break;case 16:c&&(u||(s=v<=3&&!n.bondToElementCount("O")?v-2:0)),u&&v<2&&(C=Math.max(0,2-v+s)),v<=3&&(P=wm(f+C-s+2));break;case 9:case 17:case 35:case 53:case 85:c&&(s=v-1);break;case 3:case 11:case 19:case 37:case 55:case 87:c&&(s=1-v);break;case 4:case 12:case 20:case 38:case 56:case 88:c&&(s=2-v);break;default:console.warn("Requested charge, protonation for an unhandled element",n.element)}return[s,C,C+i,P]}(_,r),w=C[1],E=C[2],S=C[3];c[y]=C[0],u[y]=w,f[y]=E,v[y]=S}),{charge:c,implicitH:u,totalH:f,idealGeometry:v}}(n,{assignCharge:"auto",assignH:"auto"});return n["@valenceModel"]=r,r}function Op(n){return 15===n.number&&n.bondToElementCount("O")===n.bondCount}function Td(n){var r=!1;return n.eachBondedAtom(function(i){i.aromatic&&(r=!0)}),r}var yM=["ARG","HIS","LYS"],s5=["GLU","ASP"];function Sy(n){return"HIS"===n.resname&&7==n.number&&n.isRing()}var GS=[17,35,53,85],jS=[7,8,16],c5=[6,7,15,16],Tr=Lo(165),tO=Lo(120),Mi={maxHydrophobicDist:4,maxHbondDist:3.5,maxHbondSulfurDist:4.1,maxHbondAccAngle:60,maxHbondDonAngle:45,maxHbondAccDihedral:45,maxHbondDonDihedral:45,maxPiStackingDist:5.5,maxPiStackingOffset:2,maxPiStackingAngle:30,maxCationPiDist:6,maxCationPiOffset:1.5,maxSaltBridgeDist:6,maxHalogenBondDist:4,maxHalogenBondAngle:30,maxMetalDist:3,refineSaltBridges:!0};function PM(n,r){return n.modelIndex!==r.modelIndex||n.residueIndex===r.residueIndex||n.altloc&&r.altloc&&n.altloc!==r.altloc}function wM(n,r){void 0===r&&(r=Mi);var s=function(n){var r=n.types;return{features:n,spatialHash:new xp(n.centers),contactStore:new Vw,featureSet:new qr(r.length,!1)}}(function(n){var r={types:[],groups:[],centers:{x:[],y:[],z:[]},atomSets:[]};return Le&&xe.time("calculateFeatures"),function(n,r){var s=wp(n.data).charge,c={};n.eachResidue(function(u){if(yM.includes(u.resname)){var f=ka(1);u.eachAtom(function(v){"N"===v.element&&v.isSidechain()&&Ur(f,v)}),wi(r,f)}else!Py.includes(u.resname)&&!u.isNucleic()&&(u.eachAtom(function(v){var _=!1,y=ka(1);!function(n){var r=0;return 6===n.number&&3===n.bondCount&&3===n.bondToElementCount("N")&&n.eachBondedAtom(function(i){i.bondCount-i.bondToElementCount("H")==1&&++r}),2===r}(v)?function(n){var r=0;return 6===n.number&&3===n.bondCount&&2===n.bondToElementCount("N")&&1===n.bondToElementCount("C")&&n.eachBondedAtom(function(i){i.bondCount-i.bondToElementCount("H")==1&&++r}),2===r}(v)&&(y.group=9,_=!0):(y.group=8,_=!0),_&&(v.eachBondedAtom(function(C){7===C.number&&(c[C.index]=!0,Ur(y,C))}),wi(r,y))}),u.eachAtom(function(v){var _=ka(1);s[v.index]>0&&(c[v.index]||(Ur(_,v),wi(r,_)))}))})}(n,r),function(n,r){var s=wp(n.data).charge,c={};n.eachResidue(function(u){if(s5.includes(u.resname)){var f=ka(2);u.eachAtom(function(_){"O"===_.element&&_.isSidechain()&&Ur(f,_)}),wi(r,f)}else if(Yw.includes(u.resname)){var v=ka(2);u.eachAtom(function(_){Op(_)&&(v.group=6,_.eachBondedAtom(function(y){8===y.number&&Ur(v,y)}),wi(r,v))})}else!Py.includes(u.resname)&&!Yw.includes(u.resname)&&(u.eachAtom(function(_){var y=!1,C=ka(2);!function(n){return 16===n.number&&3===n.bondToElementCount("O")}(_)?Op(_)?(C.group=6,y=!0):function(n){return 16===n.number&&4===n.bondToElementCount("O")}(_)?(C.group=5,y=!0):function(n){var r=0;return 6===n.number&&2===n.bondToElementCount("O")&&1===n.bondToElementCount("C")&&n.eachBondedAtom(function(i){i.bondCount-i.bondToElementCount("H")==1&&++r}),2===r}(_)&&(C.group=10,y=!0):(C.group=4,y=!0),y&&(_.eachBondedAtom(function(P){8===P.number&&(c[P.index]=!0,Ur(C,P))}),wi(r,C))}),u.eachAtom(function(_){var y=ka(2);s[_.index]<0&&(c[_.index]||(Ur(y,_),wi(r,y)))}))})}(n,r),function(n,r){var i=n.getAtomProxy();n.eachResidue(function(s){var c=s.getAromaticRings();if(c){var u=s.atomOffset;c.forEach(function(f){var v=ka(3);f.forEach(function(_){i.index=_+u,Ur(v,i)}),wi(r,v)})}})}(n,r),function(n,r){var i=wp(n.data),s=i.charge,c=i.implicitH,u=i.idealGeometry;n.eachAtom(function(f){var v=ka(5),_=f.number;if(8===_)Ur(v,f),wi(r,v);else if(7===_){if(Sy(f))Ur(v,f),wi(r,v);else if(s[f.index]<1){var y=f.bondCount+c[f.index],C=u[f.index];(4===C&&y<4||3===C&&y<3||2===C&&y<2)&&(Ur(v,f),wi(r,v))}}else 16===_&&("CYS"===f.resname||"MET"===f.resname||-1===f.formalCharge)&&(Ur(v,f),wi(r,v))})}(n,r),function(n,r){var s=wp(n.data).totalH;n.eachAtom(function(c){var u=ka(4),f=c.number;(Sy(c)||s[c.index]>0&&(7===f||8===f||16===f))&&(Ur(u,c),wi(r,u))})}(n,r),function(n,r){var s=wp(n.data).totalH;n.eachAtom(function(c){if(6===c.number&&s[c.index]>0&&(c.bondToElementCount("N")>0||c.bondToElementCount("O")>0||function(n){if(!n.isAromatic())return!1;var r=n.residueType.getRings();if(!r)return!1;var i=!1;return r.rings.forEach(function(c){i||c.some(function(u){return n.index-n.residueAtomOffset===u})&&(i=c.some(function(u){var v=n.atomMap.get(n.residueType.atomTypeIdList[u]).number;return 7===v||8===v}))}),i}(c))){var u=ka(11);Ur(u,c),wi(r,u)}})}(n,r),function(n,r){var s=wp(n.data).charge;n.eachAtom(function(c){var u=ka(9),f=c.resname,v=c.element,_=c.atomname;if(c.isProtein())if("O"===v){if(["ASP","GLU","SER","THR","TYR"].includes(f)&&c.isSidechain())return Ur(u,c),void wi(r,u);if(c.isBackbone())return Ur(u,c),void wi(r,u)}else{if("S"===v&&"CYS"===f)return Ur(u,c),void wi(r,u);if("N"===v&&"HIS"===f&&c.isSidechain())return Ur(u,c),void wi(r,u)}else if(c.isNucleic()){if(["C","DC"].includes(f)&&["O2","N3","N4","C5"].includes(_)||["T","DT"].includes(f)&&["O2","N3","O4"].includes(_)||["U","DU"].includes(f)&&["O2","N3","O4","C5"].includes(_)||["G","DG"].includes(f)&&["N3","N7","O6"].includes(_)||["A","DA"].includes(f)&&["N1","N7","N3"].includes(_))return Ur(u,c),void wi(r,u)}else if(!c.isPolymer())if("O"===v){if(0===c.bondCount||c.isWater())return Ur(u,c),void wi(r,u);if(2===c.bondCount&&s[c.index]||c.hasBondToElement("H"))return Ur(u,c),void wi(r,u);if(Td(c)&&!c.aromatic)return Ur(u,c),void wi(r,u);if(1===c.bondToElementCount("C")){var y=!1;if(c.eachBondedAtom(function(w){"C"===w.element&&2===w.bondToElementCount("O")&&1===w.bondToElementCount("C")&&(y=!0)}),y)return Ur(u,c),void wi(r,u)}if(1===c.bondToElementCount("P")){var C=!1;if(c.eachBondedAtom(function(w){"P"===w.element&&w.bondToElementCount("O")>=3&&(C=!0)}),C)return Ur(u,c),void wi(r,u)}}else if("N"===v){if(2===c.bondToElementCount("C"))return Ur(u,c),void wi(r,u)}else if("S"===v){if(Td(c)&&!c.aromatic)return Ur(u,c),void wi(r,u);var P=c.bondToElementCount("FE");if(P>0&&P===c.bondCount)return Ur(u,c),void wi(r,u)}})}(n,r),function(n,r){n.eachAtom(function(i){if(i.isMetal()){var s=ka(8);Ur(s,i),wi(r,s)}})}(n,r),function(n,r){n.eachAtom(function(i){var s=ka(10),c=!1;6===i.number&&(c=!0,i.eachBondedAtom(function(u){var f=u.number;6!==f&&1!==f&&(c=!1)})),c&&(Ur(s,i),wi(r,s))})}(n,r),function(n,r){n.eachAtom(function(i){if(jS.includes(i.number)){var s=!1;if(i.eachBondedAtom(function(u){c5.includes(u.number)&&(s=!0)}),s){var c=ka(7);Ur(c,i),wi(r,c)}}})}(n,r),function(n,r){n.eachAtom(function(i){if(GS.includes(i.number)&&1===i.bondToElementCount("C")){var s=ka(6);Ur(s,i),wi(r,s)}})}(n,r),Le&&xe.timeEnd("calculateFeatures"),r}(n));Le&&xe.time("calculateContacts"),function(n,r,i){void 0===i&&(i={});for(var s=it(i.maxSaltBridgeDist,Mi.maxSaltBridgeDist),c=it(i.maxPiStackingDist,Mi.maxPiStackingDist),u=it(i.maxPiStackingOffset,Mi.maxPiStackingOffset),f=it(i.maxPiStackingAngle,Mi.maxPiStackingAngle),v=it(i.maxCationPiDist,Mi.maxCationPiDist),_=it(i.maxCationPiOffset,Mi.maxCationPiOffset),y=Math.max(s+2,c,v),C=c*c,P=v*v,w=r.features,E=r.spatialHash,S=r.contactStore,I=r.featureSet,L=w.types,B=w.centers,V=w.atomSets,N=B.x,F=B.y,z=B.z,G=L.length,q=n.atomStore.x,Y=n.atomStore.y,X=n.atomStore.z,$=n.getAtomProxy(),tt=n.getAtomProxy(),nt=new J,et=new J,vt=new J,dt=new J,Dt=new J,Et=new J,Mt=new J,st=function(ft,Zt){nt.set(q[ft[0]],Y[ft[0]],X[ft[0]]),et.set(q[ft[1]],Y[ft[1]],X[ft[1]]),vt.set(q[ft[2]],Y[ft[2]],X[ft[2]]),dt.subVectors(nt,et),Dt.subVectors(nt,vt),Zt.crossVectors(dt,Dt)},ht=function(ft,Zt,bt){return nt.set(N[ft],F[ft],z[ft]),et.set(N[Zt],F[Zt],z[Zt]),nt.sub(et).projectOnPlane(bt).add(et).distanceTo(et)},Ft=function(ft,Zt,bt){I.setBits(ft,Zt),S.addContact(ft,Zt,bt)},Lt=function(ft){E.eachWithin(N[ft],F[ft],z[ft],y,function(Zt,bt){if(!(Zt<=ft||($.index=V[ft][0],tt.index=V[Zt][0],PM($,tt)))){var Gt=L[ft],Nt=L[Zt];if(function(n,r){return 2===n&&1===r||1===n&&2===r}(Gt,Nt))(function(ft,Zt,bt){for(var Gt=ft.length,Nt=Zt.length,le=0;le<Gt;++le){$.index=ft[le];for(var Oe=0;Oe<Nt;++Oe)if(tt.index=Zt[Oe],$.distanceTo(tt)<=bt)return!0}return!1})(V[ft],V[Zt],s)&&Ft(ft,Zt,1);else if(function(n,r){return 3===n&&3===r}(Gt,Nt)){if(bt<=C){st(V[ft],Et),st(V[Zt],Mt);var le=function(n){return 57.29578*n}(Et.angleTo(Mt));Math.min(ht(ft,Zt,Mt),ht(Zt,ft,Et))<=u&&(le<=f||le>=180-f||le<=f+90&&le>=90-f)&&Ft(ft,Zt,3)}}else if(function(n,r){return 3===n&&1===r||1===n&&3===r}(Gt,Nt)&&bt<=P){var tn=3===Gt?[ft,Zt]:[Zt,ft],ge=tn[0],pe=tn[1];st(V[ge],Et),ht(pe,ge,Et)<=_&&Ft(ge,pe,2)}}})},$t=0;$t<G;++$t)Lt($t)}(n,s,r),function(n,r,i){void 0===i&&(i={});for(var s=it(i.maxHbondDist,Mi.maxHbondDist),c=it(i.maxHbondSulfurDist,Mi.maxHbondSulfurDist),u=Lo(it(i.maxHbondAccAngle,Mi.maxHbondAccAngle)),f=Lo(it(i.maxHbondDonAngle,Mi.maxHbondDonAngle)),v=Lo(it(i.maxHbondAccDihedral,Mi.maxHbondAccDihedral)),_=Lo(it(i.maxHbondDonDihedral,Mi.maxHbondDonDihedral)),y=Math.max(s,c),C=s*s,P=r.features,w=r.spatialHash,E=r.contactStore,S=r.featureSet,I=P.types,L=P.centers,B=P.atomSets,V=L.x,N=L.y,F=L.z,z=I.length,q=wp(n.data).idealGeometry,Y=n.getAtomProxy(),X=n.getAtomProxy(),$=function(ot){w.eachWithin(V[ot],N[ot],F[ot],y,function(nt,et){if(!(nt<=ot)){var vt=I[ot],dt=I[nt],Dt=function(n,r){return 11===n&&5===r||5===n&&11===r}(vt,dt);if(Dt||function(n,r){return 5===n&&4===r||4===n&&5===r}(vt,dt)){var Et=5===I[nt]?[ot,nt]:[nt,ot],Mt=Et[0],st=Et[1];if(Y.index=B[Mt][0],X.index=B[st][0],!(PM(Y,X)||16!==Y.number&&16!==X.number&&et>C)){var ht=ls(Y,X);if(void 0!==ht){var Ft=Zw.get(q[Y.index])||Lo(120);if(Math.abs(Ft-ht)>f)return}if(3===q[Y.index]){var Lt=Yo(Y,X);if(void 0!==Lt&&Lt>_)return}var $t=ls(X,Y);if(void 0!==$t){var ft=Zw.get(q[X.index])||Lo(120);if(Math.abs(ft-$t)>u)return}if(3===q[X.index]){var Zt=Yo(X,Y);if(void 0!==Zt&&Zt>v)return}S.setBits(Mt,st);var bt=Dt?8:function(n,r){return function(n,r){return n.isWater()&&r.isWater()}(n,r)?9:function(n,r){return n.isBackbone()&&r.isBackbone()}(n,r)?10:4}(Y,X);E.addContact(Mt,st,bt)}}}})},tt=0;tt<z;++tt)$(tt)}(n,s,r),function(n,r,i){void 0===i&&(i={});for(var s=it(i.maxMetalDist,Mi.maxMetalDist),c=r.features,u=r.spatialHash,f=r.contactStore,v=r.featureSet,_=c.types,y=c.centers,C=c.atomSets,P=y.x,w=y.y,E=y.z,S=_.length,I=n.getAtomProxy(),L=n.getAtomProxy(),B=function(N){u.eachWithin(P[N],w[N],E[N],s,function(F,z){F<=N||(I.index=C[N][0],L.index=C[F][0],!PM(I,L)&&function(n,r){return 8===n&&9===r||9===n&&8===r}(_[N],_[F])&&(v.setBits(N,F),f.addContact(N,F,7)))})},V=0;V<S;++V)B(V)}(n,s,r),function(n,r,i){void 0===i&&(i={});for(var s=it(i.maxHydrophobicDist,Mi.maxHydrophobicDist),c=r.features,u=r.spatialHash,f=r.contactStore,v=r.featureSet,_=c.types,y=c.centers,C=c.atomSets,P=y.x,w=y.y,E=y.z,S=_.length,I=n.getAtomProxy(),L=n.getAtomProxy(),B=function(N){u.eachWithin(P[N],w[N],E[N],s,function(F,z){F<=N||(I.index=C[N][0],L.index=C[F][0],!PM(I,L)&&function(n,r){return 10===n&&10===r}(_[N],_[F])&&(v.setBits(N,F),f.addContact(N,F,6)))})},V=0;V<S;++V)B(V)}(n,s,r),function(n,r,i){void 0===i&&(i={});for(var s=it(i.maxHalogenBondDist,Mi.maxHalogenBondDist),c=Lo(it(i.maxHalogenBondAngle,Mi.maxHalogenBondAngle)),u=r.features,f=r.spatialHash,v=r.contactStore,_=r.featureSet,y=u.types,C=u.centers,P=u.atomSets,w=C.x,E=C.y,S=C.z,I=y.length,L=n.getAtomProxy(),B=n.getAtomProxy(),V=function(F){f.eachWithin(w[F],E[F],S[F],s,function(z,G){if(!(z<=F)&&(L.index=P[F][0],B.index=P[z][0],!PM(L,B)&&function(n,r){return 7===n&&6===r||6===n&&7===r}(y[F],y[z]))){var q=6===y[F]?[L,B]:[B,L],Y=q[0],X=q[1],$=ls(Y,X);if(void 0!==$&&!(Tr-$>c)){var tt=ls(X,Y);void 0!==tt&&(tO-tt>c||(_.setBits(F,z),v.addContact(F,z,5)))}}})},N=0;N<I;++N)V(N)}(n,s,r);var c=function(n){var r=n.contactStore,u=T_({nodeArray1:r.index1,nodeArray2:r.index2,edgeCount:r.count,nodeCount:n.featureSet.length}),f=new qr(n.contactStore.count,!0);return Object.assign({adjacencyList:u,contactSet:f},n)}(s);return function(n,r){var i=r.contactSet,s=r.contactStore,u=s.type,f=s.index1,v=s.index2,_=r.features.atomSets,y=n.getAtomProxy(),C=n.getAtomProxy(),P={},w=function(E,S,I){var L=P[I]||[1/0,-1],V=L[1];E<L[0]?(-1!==V&&i.clear(V),P[I]=[E,S]):i.clear(S)};i.forEach(function(E){if(6===u[E]){y.index=_[f[E]][0],C.index=_[v[E]][0];var S=y.distanceTo(C);w(S,E,y.index+"|"+C.residueIndex),w(S,E,C.index+"|"+y.residueIndex)}})}(n,c),r.refineSaltBridges&&function(n,r){var i=r.contactSet,s=r.contactStore,u=s.type,f=s.index1,v=s.index2,_=r.features.atomSets,y={},C=function(P,w){y[P]||(y[P]=[]),y[P].push(w)};i.forEach(function(P){1===u[P]&&(_[f[P]].forEach(function(w){return C(w,P)}),_[v[P]].forEach(function(w){return C(w,P)}))}),i.forEach(function(P){if(function(n){return 4===n||9===n||10===n}(u[P])){var w=y[_[f[P]][0]],E=y[_[v[P]][0]];if(w&&E)for(var S=w.length,I=0;I<S;++I)if(E.includes(w[I]))return void i.clear(P)}})}(0,c),function(n,r){var i=r.contactSet,s=r.contactStore,u=s.type,f=s.index1,v=s.index2,_=r.features.atomSets,y={},C=function(P,w){y[P]||(y[P]=[]),y[P].push(w)};i.forEach(function(P){3===u[P]&&(_[f[P]].forEach(function(w){return C(w,P)}),_[v[P]].forEach(function(w){return C(w,P)}))}),i.forEach(function(P){if(6===u[P]||2===u[P]){var w=y[_[f[P]][0]],E=y[_[v[P]][0]];if(w&&E)for(var S=w.length,I=0;I<S;++I)if(E.includes(w[I]))return void i.clear(P)}})}(0,c),Le&&xe.timeEnd("calculateContacts"),c}function U_(n){switch(n){case 4:case 9:case 10:return"hydrogen bond";case 6:return"hydrophobic contact";case 5:return"halogen bond";case 1:return"salt bridge";case 7:return"metal complexation";case 2:return"cation-pi interaction";case 3:return"pi-pi stacking";case 8:return"weak hydrogen bond";default:return"unknown contact"}}var OM={hydrogenBond:!0,hydrophobic:!0,halogenBond:!0,saltBridge:!0,metalComplex:!0,cationPi:!0,piStacking:!0,weakHydrogenBond:!0,waterHydrogenBond:!0,backboneHydrogenBond:!0,radius:1},Ch=new cn;var La=function(r){this.array=r},rO={type:{configurable:!0},data:{configurable:!0}};rO.type.get=function(){return""},rO.data.get=function(){return{}},La.prototype.getIndex=function(r){return this.array?this.array[r]:r},La.prototype.getObject=function(r){return{}},La.prototype._applyTransformations=function(r,i,s){return i&&r.applyMatrix4(i.matrix),s&&r.applyMatrix4(s.matrix),r},La.prototype._getPosition=function(){return new J},La.prototype.getPosition=function(r,i,s){return this._applyTransformations(this._getPosition(r),i,s)},Object.defineProperties(La.prototype,rO);var Mh=function(n){function r(s){n.call(this),this.shape=s}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0},data:{configurable:!0},type:{configurable:!0}};return i.primitive.get=function(){},i.data.get=function(){return this.shape},i.type.get=function(){return this.primitive.type},r.prototype.getObject=function(c){return this.primitive.objectFromShape(this.shape,c)},r.prototype._getPosition=function(c){return this.primitive.positionFromShape(this.shape,c)},Object.defineProperties(r.prototype,i),r}(La),d5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return mh},Object.defineProperties(r.prototype,i),r}(Mh),V_=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return A_},Object.defineProperties(r.prototype,i),r}(Mh),Ph=function(n){function r(s,c){n.call(this,s),this.structure=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"atom"},i.data.get=function(){return this.structure},r.prototype.getObject=function(c){return this.structure.getAtomProxy(this.getIndex(c))},r.prototype._getPosition=function(c){return(new J).copy(this.getObject(c))},Object.defineProperties(r.prototype,i),r}(La),iO=function(n){function r(s){n.call(this),this.axes=s}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"axes"},i.data.get=function(){return this.axes},r.prototype.getObject=function(){return{axes:this.axes}},r.prototype._getPosition=function(){return this.axes.center.clone()},Object.defineProperties(r.prototype,i),r}(La),WS=function(n){function r(s,c,u){n.call(this,s),this.structure=c,this.bondStore=u||c.bondStore}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"bond"},i.data.get=function(){return this.structure},r.prototype.getObject=function(c){var u=this.structure.getBondProxy(this.getIndex(c));return u.bondStore=this.bondStore,u},r.prototype._getPosition=function(c){var u=this.getObject(c);return(new J).copy(u.atom1).add(u.atom2).multiplyScalar(.5)},Object.defineProperties(r.prototype,i),r}(La),qS=function(n){function r(s,c,u){n.call(this,s),this.contacts=c,this.structure=u}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"contact"},i.data.get=function(){return this.contacts},r.prototype.getObject=function(c){var u=this.getIndex(c),f=this.contacts,v=f.features,_=f.contactStore,y=v.centers,C=v.atomSets,P=y.x,w=y.y,E=y.z,L=_.type,B=_.index1[u],V=_.index2[u];return{center1:new J(P[B],w[B],E[B]),center2:new J(P[V],w[V],E[V]),atom1:this.structure.getAtomProxy(C[B][0]),atom2:this.structure.getAtomProxy(C[V][0]),type:U_(L[u])}},r.prototype._getPosition=function(c){var u=this.getObject(c),f=u.center1,v=u.center2;return(new J).addVectors(f,v).multiplyScalar(.5)},Object.defineProperties(r.prototype,i),r}(La),$n=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return _y},Object.defineProperties(r.prototype,i),r}(Mh),Je=function(n){function r(s,c,u){n.call(this,s),this.validation=c,this.structure=u}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"clash"},i.data.get=function(){return this.validation},r.prototype.getObject=function(c){var u=this.validation,f=this.getIndex(c);return{validation:u,index:f,clash:u.clashArray[f]}},r.prototype._getAtomProxyFromSele=function(c){var u=new Fo(c),f=this.structure.getAtomIndices(u)[0];return this.structure.getAtomProxy(f)},r.prototype._getPosition=function(c){var u=this.getObject(c).clash,f=this._getAtomProxyFromSele(u.sele1),v=this._getAtomProxyFromSele(u.sele2);return(new J).copy(f).add(v).multiplyScalar(.5)},Object.defineProperties(r.prototype,i),r}(La),Iy=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"distance"},Object.defineProperties(r.prototype,i),r}(WS),Dc=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Is},Object.defineProperties(r.prototype,i),r}(Mh),EM=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return dM},Object.defineProperties(r.prototype,i),r}(Mh),Dn=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return S_},Object.defineProperties(r.prototype,i),r}(Mh),ks=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"ignore"},Object.defineProperties(r.prototype,i),r}(La),jR=function(n){function r(s,c){n.call(this,s),this.mesh=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"mesh"},r.prototype.getObject=function(){var c=this.mesh;return{shape:this.shape,name:c.name,serial:c.serial}},r.prototype._getPosition=function(){return this.__position||(this.__position=fy(this.mesh.position)),this.__position},Object.defineProperties(r.prototype,i),r}(Mh),p5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return E_},Object.defineProperties(r.prototype,i),r}(Mh),z_=function(n){function r(s,c){n.call(this,s),this.surface=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"surface"},i.data.get=function(){return this.surface},r.prototype.getObject=function(c){return{surface:this.surface,index:this.getIndex(c)}},r.prototype._getPosition=function(){return this.surface.center.clone()},Object.defineProperties(r.prototype,i),r}(La),Ys=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return pM},Object.defineProperties(r.prototype,i),r}(Mh),Ry=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={primitive:{configurable:!0}};return i.primitive.get=function(){return Yc},Object.defineProperties(r.prototype,i),r}(Mh),h5=function(n){function r(s,c){n.call(this),this.unitcell=s,this.structure=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"unitcell"},i.data.get=function(){return this.unitcell},r.prototype.getObject=function(){return{unitcell:this.unitcell,structure:this.structure}},r.prototype._getPosition=function(){return this.unitcell.getCenter(this.structure)},Object.defineProperties(r.prototype,i),r}(La),oO=(function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};i.type.get=function(){return"unknown"},Object.defineProperties(r.prototype,i)}(La),function(n){function r(s,c){n.call(this,s),this.volume=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},data:{configurable:!0}};return i.type.get=function(){return"volume"},i.data.get=function(){return this.volume},r.prototype.getObject=function(c){var u=this.volume,f=this.getIndex(c);return{volume:u,index:f,value:u.data[f]}},r.prototype._getPosition=function(c){var u=this.volume.position,f=this.getIndex(c);return new J(u[3*f],u[3*f+1],u[3*f+2])},Object.defineProperties(r.prototype,i),r}(La)),f5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"slice"},Object.defineProperties(r.prototype,i),r}(oO);function pr(){return new Uint32Array([0,265,515,778,1030,1295,1541,1804,2060,2309,2575,2822,3082,3331,3593,3840,400,153,915,666,1430,1183,1941,1692,2460,2197,2975,2710,3482,3219,3993,3728,560,825,51,314,1590,1855,1077,1340,2620,2869,2111,2358,3642,3891,3129,3376,928,681,419,170,1958,1711,1445,1196,2988,2725,2479,2214,4010,3747,3497,3232,1120,1385,1635,1898,102,367,613,876,3180,3429,3695,3942,2154,2403,2665,2912,1520,1273,2035,1786,502,255,1013,764,3580,3317,4095,3830,2554,2291,3065,2800,1616,1881,1107,1370,598,863,85,348,3676,3925,3167,3414,2650,2899,2137,2384,1984,1737,1475,1226,966,719,453,204,4044,3781,3535,3270,3018,2755,2505,2240,2240,2505,2755,3018,3270,3535,3781,4044,204,453,719,966,1226,1475,1737,1984,2384,2137,2899,2650,3414,3167,3925,3676,348,85,863,598,1370,1107,1881,1616,2800,3065,2291,2554,3830,4095,3317,3580,764,1013,255,502,1786,2035,1273,1520,2912,2665,2403,2154,3942,3695,3429,3180,876,613,367,102,1898,1635,1385,1120,3232,3497,3747,4010,2214,2479,2725,2988,1196,1445,1711,1958,170,419,681,928,3376,3129,3891,3642,2358,2111,2869,2620,1340,1077,1855,1590,314,51,825,560,3728,3993,3219,3482,2710,2975,2197,2460,1692,1941,1183,1430,666,915,153,400,3840,3593,3331,3082,2822,2575,2309,2060,1804,1541,1295,1030,778,515,265,0])}function $S(){return new Int32Array([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,9,8,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,2,10,0,2,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,8,3,2,10,8,10,9,8,-1,-1,-1,-1,-1,-1,-1,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,8,11,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,11,2,1,9,11,9,8,11,-1,-1,-1,-1,-1,-1,-1,3,10,1,11,10,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,10,1,0,8,10,8,11,10,-1,-1,-1,-1,-1,-1,-1,3,9,0,3,11,9,11,10,9,-1,-1,-1,-1,-1,-1,-1,9,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,7,3,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,1,9,4,7,1,7,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,8,4,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,4,7,3,0,4,1,2,10,-1,-1,-1,-1,-1,-1,-1,9,2,10,9,0,2,8,4,7,-1,-1,-1,-1,-1,-1,-1,2,10,9,2,9,7,2,7,3,7,9,4,-1,-1,-1,-1,8,4,7,3,11,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,4,7,11,2,4,2,0,4,-1,-1,-1,-1,-1,-1,-1,9,0,1,8,4,7,2,3,11,-1,-1,-1,-1,-1,-1,-1,4,7,11,9,4,11,9,11,2,9,2,1,-1,-1,-1,-1,3,10,1,3,11,10,7,8,4,-1,-1,-1,-1,-1,-1,-1,1,11,10,1,4,11,1,0,4,7,11,4,-1,-1,-1,-1,4,7,8,9,0,11,9,11,10,11,0,3,-1,-1,-1,-1,4,7,11,4,11,9,9,11,10,-1,-1,-1,-1,-1,-1,-1,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,5,4,1,5,0,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,5,4,8,3,5,3,1,5,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,10,4,9,5,-1,-1,-1,-1,-1,-1,-1,5,2,10,5,4,2,4,0,2,-1,-1,-1,-1,-1,-1,-1,2,10,5,3,2,5,3,5,4,3,4,8,-1,-1,-1,-1,9,5,4,2,3,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,11,2,0,8,11,4,9,5,-1,-1,-1,-1,-1,-1,-1,0,5,4,0,1,5,2,3,11,-1,-1,-1,-1,-1,-1,-1,2,1,5,2,5,8,2,8,11,4,8,5,-1,-1,-1,-1,10,3,11,10,1,3,9,5,4,-1,-1,-1,-1,-1,-1,-1,4,9,5,0,8,1,8,10,1,8,11,10,-1,-1,-1,-1,5,4,0,5,0,11,5,11,10,11,0,3,-1,-1,-1,-1,5,4,8,5,8,10,10,8,11,-1,-1,-1,-1,-1,-1,-1,9,7,8,5,7,9,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,3,0,9,5,3,5,7,3,-1,-1,-1,-1,-1,-1,-1,0,7,8,0,1,7,1,5,7,-1,-1,-1,-1,-1,-1,-1,1,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,7,8,9,5,7,10,1,2,-1,-1,-1,-1,-1,-1,-1,10,1,2,9,5,0,5,3,0,5,7,3,-1,-1,-1,-1,8,0,2,8,2,5,8,5,7,10,5,2,-1,-1,-1,-1,2,10,5,2,5,3,3,5,7,-1,-1,-1,-1,-1,-1,-1,7,9,5,7,8,9,3,11,2,-1,-1,-1,-1,-1,-1,-1,9,5,7,9,7,2,9,2,0,2,7,11,-1,-1,-1,-1,2,3,11,0,1,8,1,7,8,1,5,7,-1,-1,-1,-1,11,2,1,11,1,7,7,1,5,-1,-1,-1,-1,-1,-1,-1,9,5,8,8,5,7,10,1,3,10,3,11,-1,-1,-1,-1,5,7,0,5,0,9,7,11,0,1,0,10,11,10,0,-1,11,10,0,11,0,3,10,5,0,8,0,7,5,7,0,-1,11,10,5,7,11,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,0,1,5,10,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,8,3,1,9,8,5,10,6,-1,-1,-1,-1,-1,-1,-1,1,6,5,2,6,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,6,5,1,2,6,3,0,8,-1,-1,-1,-1,-1,-1,-1,9,6,5,9,0,6,0,2,6,-1,-1,-1,-1,-1,-1,-1,5,9,8,5,8,2,5,2,6,3,2,8,-1,-1,-1,-1,2,3,11,10,6,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,0,8,11,2,0,10,6,5,-1,-1,-1,-1,-1,-1,-1,0,1,9,2,3,11,5,10,6,-1,-1,-1,-1,-1,-1,-1,5,10,6,1,9,2,9,11,2,9,8,11,-1,-1,-1,-1,6,3,11,6,5,3,5,1,3,-1,-1,-1,-1,-1,-1,-1,0,8,11,0,11,5,0,5,1,5,11,6,-1,-1,-1,-1,3,11,6,0,3,6,0,6,5,0,5,9,-1,-1,-1,-1,6,5,9,6,9,11,11,9,8,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,3,0,4,7,3,6,5,10,-1,-1,-1,-1,-1,-1,-1,1,9,0,5,10,6,8,4,7,-1,-1,-1,-1,-1,-1,-1,10,6,5,1,9,7,1,7,3,7,9,4,-1,-1,-1,-1,6,1,2,6,5,1,4,7,8,-1,-1,-1,-1,-1,-1,-1,1,2,5,5,2,6,3,0,4,3,4,7,-1,-1,-1,-1,8,4,7,9,0,5,0,6,5,0,2,6,-1,-1,-1,-1,7,3,9,7,9,4,3,2,9,5,9,6,2,6,9,-1,3,11,2,7,8,4,10,6,5,-1,-1,-1,-1,-1,-1,-1,5,10,6,4,7,2,4,2,0,2,7,11,-1,-1,-1,-1,0,1,9,4,7,8,2,3,11,5,10,6,-1,-1,-1,-1,9,2,1,9,11,2,9,4,11,7,11,4,5,10,6,-1,8,4,7,3,11,5,3,5,1,5,11,6,-1,-1,-1,-1,5,1,11,5,11,6,1,0,11,7,11,4,0,4,11,-1,0,5,9,0,6,5,0,3,6,11,6,3,8,4,7,-1,6,5,9,6,9,11,4,7,9,7,11,9,-1,-1,-1,-1,10,4,9,6,4,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,10,6,4,9,10,0,8,3,-1,-1,-1,-1,-1,-1,-1,10,0,1,10,6,0,6,4,0,-1,-1,-1,-1,-1,-1,-1,8,3,1,8,1,6,8,6,4,6,1,10,-1,-1,-1,-1,1,4,9,1,2,4,2,6,4,-1,-1,-1,-1,-1,-1,-1,3,0,8,1,2,9,2,4,9,2,6,4,-1,-1,-1,-1,0,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,3,2,8,2,4,4,2,6,-1,-1,-1,-1,-1,-1,-1,10,4,9,10,6,4,11,2,3,-1,-1,-1,-1,-1,-1,-1,0,8,2,2,8,11,4,9,10,4,10,6,-1,-1,-1,-1,3,11,2,0,1,6,0,6,4,6,1,10,-1,-1,-1,-1,6,4,1,6,1,10,4,8,1,2,1,11,8,11,1,-1,9,6,4,9,3,6,9,1,3,11,6,3,-1,-1,-1,-1,8,11,1,8,1,0,11,6,1,9,1,4,6,4,1,-1,3,11,6,3,6,0,0,6,4,-1,-1,-1,-1,-1,-1,-1,6,4,8,11,6,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,10,6,7,8,10,8,9,10,-1,-1,-1,-1,-1,-1,-1,0,7,3,0,10,7,0,9,10,6,7,10,-1,-1,-1,-1,10,6,7,1,10,7,1,7,8,1,8,0,-1,-1,-1,-1,10,6,7,10,7,1,1,7,3,-1,-1,-1,-1,-1,-1,-1,1,2,6,1,6,8,1,8,9,8,6,7,-1,-1,-1,-1,2,6,9,2,9,1,6,7,9,0,9,3,7,3,9,-1,7,8,0,7,0,6,6,0,2,-1,-1,-1,-1,-1,-1,-1,7,3,2,6,7,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,11,10,6,8,10,8,9,8,6,7,-1,-1,-1,-1,2,0,7,2,7,11,0,9,7,6,7,10,9,10,7,-1,1,8,0,1,7,8,1,10,7,6,7,10,2,3,11,-1,11,2,1,11,1,7,10,6,1,6,7,1,-1,-1,-1,-1,8,9,6,8,6,7,9,1,6,11,6,3,1,3,6,-1,0,9,1,11,6,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,8,0,7,0,6,3,11,0,11,6,0,-1,-1,-1,-1,7,11,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,8,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,1,9,11,7,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,1,9,8,3,1,11,7,6,-1,-1,-1,-1,-1,-1,-1,10,1,2,6,11,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,8,6,11,7,-1,-1,-1,-1,-1,-1,-1,2,9,0,2,10,9,6,11,7,-1,-1,-1,-1,-1,-1,-1,6,11,7,2,10,3,10,8,3,10,9,8,-1,-1,-1,-1,7,2,3,6,2,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,7,0,8,7,6,0,6,2,0,-1,-1,-1,-1,-1,-1,-1,2,7,6,2,3,7,0,1,9,-1,-1,-1,-1,-1,-1,-1,1,6,2,1,8,6,1,9,8,8,7,6,-1,-1,-1,-1,10,7,6,10,1,7,1,3,7,-1,-1,-1,-1,-1,-1,-1,10,7,6,1,7,10,1,8,7,1,0,8,-1,-1,-1,-1,0,3,7,0,7,10,0,10,9,6,10,7,-1,-1,-1,-1,7,6,10,7,10,8,8,10,9,-1,-1,-1,-1,-1,-1,-1,6,8,4,11,8,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,6,11,3,0,6,0,4,6,-1,-1,-1,-1,-1,-1,-1,8,6,11,8,4,6,9,0,1,-1,-1,-1,-1,-1,-1,-1,9,4,6,9,6,3,9,3,1,11,3,6,-1,-1,-1,-1,6,8,4,6,11,8,2,10,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,3,0,11,0,6,11,0,4,6,-1,-1,-1,-1,4,11,8,4,6,11,0,2,9,2,10,9,-1,-1,-1,-1,10,9,3,10,3,2,9,4,3,11,3,6,4,6,3,-1,8,2,3,8,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,0,4,2,4,6,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,9,0,2,3,4,2,4,6,4,3,8,-1,-1,-1,-1,1,9,4,1,4,2,2,4,6,-1,-1,-1,-1,-1,-1,-1,8,1,3,8,6,1,8,4,6,6,10,1,-1,-1,-1,-1,10,1,0,10,0,6,6,0,4,-1,-1,-1,-1,-1,-1,-1,4,6,3,4,3,8,6,10,3,0,3,9,10,9,3,-1,10,9,4,6,10,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,5,7,6,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,5,11,7,6,-1,-1,-1,-1,-1,-1,-1,5,0,1,5,4,0,7,6,11,-1,-1,-1,-1,-1,-1,-1,11,7,6,8,3,4,3,5,4,3,1,5,-1,-1,-1,-1,9,5,4,10,1,2,7,6,11,-1,-1,-1,-1,-1,-1,-1,6,11,7,1,2,10,0,8,3,4,9,5,-1,-1,-1,-1,7,6,11,5,4,10,4,2,10,4,0,2,-1,-1,-1,-1,3,4,8,3,5,4,3,2,5,10,5,2,11,7,6,-1,7,2,3,7,6,2,5,4,9,-1,-1,-1,-1,-1,-1,-1,9,5,4,0,8,6,0,6,2,6,8,7,-1,-1,-1,-1,3,6,2,3,7,6,1,5,0,5,4,0,-1,-1,-1,-1,6,2,8,6,8,7,2,1,8,4,8,5,1,5,8,-1,9,5,4,10,1,6,1,7,6,1,3,7,-1,-1,-1,-1,1,6,10,1,7,6,1,0,7,8,7,0,9,5,4,-1,4,0,10,4,10,5,0,3,10,6,10,7,3,7,10,-1,7,6,10,7,10,8,5,4,10,4,8,10,-1,-1,-1,-1,6,9,5,6,11,9,11,8,9,-1,-1,-1,-1,-1,-1,-1,3,6,11,0,6,3,0,5,6,0,9,5,-1,-1,-1,-1,0,11,8,0,5,11,0,1,5,5,6,11,-1,-1,-1,-1,6,11,3,6,3,5,5,3,1,-1,-1,-1,-1,-1,-1,-1,1,2,10,9,5,11,9,11,8,11,5,6,-1,-1,-1,-1,0,11,3,0,6,11,0,9,6,5,6,9,1,2,10,-1,11,8,5,11,5,6,8,0,5,10,5,2,0,2,5,-1,6,11,3,6,3,5,2,10,3,10,5,3,-1,-1,-1,-1,5,8,9,5,2,8,5,6,2,3,8,2,-1,-1,-1,-1,9,5,6,9,6,0,0,6,2,-1,-1,-1,-1,-1,-1,-1,1,5,8,1,8,0,5,6,8,3,8,2,6,2,8,-1,1,5,6,2,1,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,6,1,6,10,3,8,6,5,6,9,8,9,6,-1,10,1,0,10,0,6,9,5,0,5,6,0,-1,-1,-1,-1,0,3,8,5,6,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,10,5,6,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,7,5,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,11,5,10,11,7,5,8,3,0,-1,-1,-1,-1,-1,-1,-1,5,11,7,5,10,11,1,9,0,-1,-1,-1,-1,-1,-1,-1,10,7,5,10,11,7,9,8,1,8,3,1,-1,-1,-1,-1,11,1,2,11,7,1,7,5,1,-1,-1,-1,-1,-1,-1,-1,0,8,3,1,2,7,1,7,5,7,2,11,-1,-1,-1,-1,9,7,5,9,2,7,9,0,2,2,11,7,-1,-1,-1,-1,7,5,2,7,2,11,5,9,2,3,2,8,9,8,2,-1,2,5,10,2,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,8,2,0,8,5,2,8,7,5,10,2,5,-1,-1,-1,-1,9,0,1,5,10,3,5,3,7,3,10,2,-1,-1,-1,-1,9,8,2,9,2,1,8,7,2,10,2,5,7,5,2,-1,1,3,5,3,7,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,8,7,0,7,1,1,7,5,-1,-1,-1,-1,-1,-1,-1,9,0,3,9,3,5,5,3,7,-1,-1,-1,-1,-1,-1,-1,9,8,7,5,9,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,5,8,4,5,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,5,0,4,5,11,0,5,10,11,11,3,0,-1,-1,-1,-1,0,1,9,8,4,10,8,10,11,10,4,5,-1,-1,-1,-1,10,11,4,10,4,5,11,3,4,9,4,1,3,1,4,-1,2,5,1,2,8,5,2,11,8,4,5,8,-1,-1,-1,-1,0,4,11,0,11,3,4,5,11,2,11,1,5,1,11,-1,0,2,5,0,5,9,2,11,5,4,5,8,11,8,5,-1,9,4,5,2,11,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,5,10,3,5,2,3,4,5,3,8,4,-1,-1,-1,-1,5,10,2,5,2,4,4,2,0,-1,-1,-1,-1,-1,-1,-1,3,10,2,3,5,10,3,8,5,4,5,8,0,1,9,-1,5,10,2,5,2,4,1,9,2,9,4,2,-1,-1,-1,-1,8,4,5,8,5,3,3,5,1,-1,-1,-1,-1,-1,-1,-1,0,4,5,1,0,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,8,4,5,8,5,3,9,0,5,0,3,5,-1,-1,-1,-1,9,4,5,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,11,7,4,9,11,9,10,11,-1,-1,-1,-1,-1,-1,-1,0,8,3,4,9,7,9,11,7,9,10,11,-1,-1,-1,-1,1,10,11,1,11,4,1,4,0,7,4,11,-1,-1,-1,-1,3,1,4,3,4,8,1,10,4,7,4,11,10,11,4,-1,4,11,7,9,11,4,9,2,11,9,1,2,-1,-1,-1,-1,9,7,4,9,11,7,9,1,11,2,11,1,0,8,3,-1,11,7,4,11,4,2,2,4,0,-1,-1,-1,-1,-1,-1,-1,11,7,4,11,4,2,8,3,4,3,2,4,-1,-1,-1,-1,2,9,10,2,7,9,2,3,7,7,4,9,-1,-1,-1,-1,9,10,7,9,7,4,10,2,7,8,7,0,2,0,7,-1,3,7,10,3,10,2,7,4,10,1,10,0,4,0,10,-1,1,10,2,8,7,4,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,7,1,3,-1,-1,-1,-1,-1,-1,-1,4,9,1,4,1,7,0,8,1,8,7,1,-1,-1,-1,-1,4,0,3,7,4,3,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,4,8,7,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,9,10,8,10,11,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,11,9,10,-1,-1,-1,-1,-1,-1,-1,0,1,10,0,10,8,8,10,11,-1,-1,-1,-1,-1,-1,-1,3,1,10,11,3,10,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,2,11,1,11,9,9,11,8,-1,-1,-1,-1,-1,-1,-1,3,0,9,3,9,11,1,2,9,2,11,9,-1,-1,-1,-1,0,2,11,8,0,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,3,2,11,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,10,8,9,-1,-1,-1,-1,-1,-1,-1,9,10,2,0,9,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,2,3,8,2,8,10,0,1,8,1,10,8,-1,-1,-1,-1,1,10,2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,1,3,8,9,1,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,9,1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,0,3,8,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1])}function SM(n,r,i,s,c){var w,E,S,I,Y,X,$,u=0,f=!1,v=!1,_=!1,y=r*i*s,C=r,P=r*i,L=new Int32Array(12),B=[],V=[],N=[],F=[],z=pr(),G=$S(),q=[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]];function tt(Mt,st,ht){return Mt+(st-Mt)*ht}function ot(Mt,st,ht){return P*(ht=(ht+$)%s)+C*(st=(st+X)%i)+(Mt+Y)%r}function nt(Mt,st,ht,Ft,Lt,$t,ft){var Zt=v?3*Mt:Mt;if(E[Zt]<0){var bt=(u-$t)/(ft-$t),Gt=w,Nt=3*S;if(B[Nt+0]=ht+bt,B[Nt+1]=Ft,B[Nt+2]=Lt,!f){var le=3*Mt;V[Nt]=-tt(Gt[le],Gt[le+3],bt),V[Nt+1]=-tt(Gt[le+1],Gt[le+4],bt),V[Nt+2]=-tt(Gt[le+2],Gt[le+5],bt)}c&&(F[S]=c[Mt+Math.round(bt)]),E[Zt]=S,L[st]=S,S+=1}else L[st]=E[Zt]}function et(Mt,st,ht,Ft,Lt,$t,ft){var Zt=v?3*Mt+1:Mt;if(E[Zt]<0){var bt=(u-$t)/(ft-$t),Gt=w,Nt=3*S;if(B[Nt]=ht,B[Nt+1]=Ft+bt,B[Nt+2]=Lt,!f){var le=3*Mt,Oe=le+3*C;V[Nt]=-tt(Gt[le],Gt[Oe],bt),V[Nt+1]=-tt(Gt[le+1],Gt[Oe+1],bt),V[Nt+2]=-tt(Gt[le+2],Gt[Oe+2],bt)}c&&(F[S]=c[Mt+Math.round(bt)*C]),E[Zt]=S,L[st]=S,S+=1}else L[st]=E[Zt]}function vt(Mt,st,ht,Ft,Lt,$t,ft){var Zt=v?3*Mt+2:Mt;if(E[Zt]<0){var bt=(u-$t)/(ft-$t),Gt=w,Nt=3*S;if(B[Nt]=ht,B[Nt+1]=Ft,B[Nt+2]=Lt+bt,!f){var le=3*Mt,Oe=le+3*P;V[Nt]=-tt(Gt[le],Gt[Oe],bt),V[Nt+1]=-tt(Gt[le+1],Gt[Oe+1],bt),V[Nt+2]=-tt(Gt[le+2],Gt[Oe+2],bt)}c&&(F[S]=c[Mt+Math.round(bt)*P]),E[Zt]=S,L[st]=S,S+=1}else L[st]=E[Zt]}function dt(Mt){var st=3*Mt;0===w[st]&&(w[st]=n[(Mt-1+y)%y]-n[(Mt+1)%y],w[st+1]=n[(Mt-C+y)%y]-n[(Mt+C)%y],w[st+2]=n[(Mt-P+y)%y]-n[(Mt+P)%y])}function Dt(Mt,st,ht,Ft,Lt){var $t,ft,Zt,bt,Gt,Nt,le;_?(Ft=ot(Mt,st,ht),$t=ot(Mt+1,st,ht),ft=ot(Mt,st+1,ht),Zt=ot(Mt,st,ht+1),bt=ot(Mt+1,st+1,ht),Gt=ot(Mt+1,st,ht+1),Nt=ot(Mt,st+1,ht+1),le=ot(Mt+1,st+1,ht+1)):($t=Ft+1,bt=(ft=Ft+C)+1,Gt=(Zt=Ft+P)+1,le=(Nt=ft+P)+1);var Oe=0,tn=n[Ft],ge=n[$t],pe=n[ft],he=n[bt],Ze=n[Zt],$e=n[Gt],Pe=n[Nt],Ue=n[le];tn<u&&(Oe|=1),ge<u&&(Oe|=2),pe<u&&(Oe|=8),he<u&&(Oe|=4),Ze<u&&(Oe|=16),$e<u&&(Oe|=32),Pe<u&&(Oe|=128),Ue<u&&(Oe|=64);var en=z[Oe];if(0===en)return 0;var Yn=Mt+1,yr=st+1,Rn=ht+1;1&en&&(f||(dt(Ft),dt($t)),nt(Ft,0,Mt,st,ht,tn,ge)),2&en&&(f||(dt($t),dt(bt)),et($t,1,Yn,st,ht,ge,he)),4&en&&(f||(dt(ft),dt(bt)),nt(ft,2,Mt,yr,ht,pe,he)),8&en&&(f||(dt(Ft),dt(ft)),et(Ft,3,Mt,st,ht,tn,pe)),16&en&&(f||(dt(Zt),dt(Gt)),nt(Zt,4,Mt,st,Rn,Ze,$e)),32&en&&(f||(dt(Gt),dt(le)),et(Gt,5,Yn,st,Rn,$e,Ue)),64&en&&(f||(dt(Nt),dt(le)),nt(Nt,6,Mt,yr,Rn,Pe,Ue)),128&en&&(f||(dt(Zt),dt(Nt)),et(Zt,7,Mt,st,Rn,Ze,Pe)),256&en&&(f||(dt(Ft),dt(Zt)),vt(Ft,8,Mt,st,ht,tn,Ze)),512&en&&(f||(dt($t),dt(Gt)),vt($t,9,Yn,st,ht,ge,$e)),1024&en&&(f||(dt(bt),dt(le)),vt(bt,10,Yn,yr,ht,he,Ue)),2048&en&&(f||(dt(ft),dt(Nt)),vt(ft,11,Mt,yr,ht,pe,Pe));for(var Fe,nn,An,Xt=Oe<<4,yn=0;-1!==G[Xt+yn];)Fe=G[Xt+yn],nn=G[Xt+yn+1],An=G[Xt+yn+2],v?(q[Fe][nn]&Lt&&(N[I++]=L[Fe],N[I++]=L[nn]),q[nn][An]&Lt&&(N[I++]=L[nn],N[I++]=L[An]),q[Fe][An]&Lt&&(N[I++]=L[Fe],N[I++]=L[An])):(N[I++]=L[nn],N[I++]=L[Fe],N[I++]=L[An]),yn+=3}function Et(Mt,st,ht,Ft,Lt,$t){var ft,Zt,bt,Gt,Nt,le,Oe,tn,ge,pe,he,Ze,$e;if(Mt=void 0!==Mt?Mt:0,st=void 0!==st?st:0,ht=void 0!==ht?ht:0,Ft=void 0!==Ft?Ft:r-1,Lt=void 0!==Lt?Lt:i-1,$t=void 0!==$t?$t:s-1,_||(f?(Mt=Math.max(0,Mt),st=Math.max(0,st),ht=Math.max(0,ht),Ft=Math.min(r-1,Ft),Lt=Math.min(i-1,Lt),$t=Math.min(s-1,$t)):(Mt=Math.max(1,Mt),st=Math.max(1,st),ht=Math.max(1,ht),Ft=Math.min(r-2,Ft),Lt=Math.min(i-2,Lt),$t=Math.min(s-2,$t))),_)for(tn=Mt-2,ge=st-2,he=Ft+2,Ze=Lt+2,$e=$t+2,Nt=pe=ht-2;Nt<$e;++Nt)for(Gt=ge;Gt<Ze;++Gt)for(bt=tn;bt<he;++bt)v?(Zt=3*ot(bt,Gt,Nt),E[Zt]=-1,E[Zt+1]=-1,E[Zt+2]=-1):(ft=ot(bt,Gt,Nt),E[ft]=-1);else for(tn=Math.max(0,Mt-2),ge=Math.max(0,st-2),pe=Math.max(0,ht-2),he=Math.min(r,Ft+2),Ze=Math.min(i,Lt+2),$e=Math.min(s,$t+2),Nt=pe;Nt<$e;++Nt)for(Oe=P*Nt,Gt=ge;Gt<Ze;++Gt)for(le=Oe+C*Gt,bt=tn;bt<he;++bt)v?(E[ft=3*(le+bt)]=-1,E[ft+1]=-1,E[ft+2]=-1):E[ft=le+bt]=-1;if(!_){var Pe,Ue=Mt,en=st,Yn=ht,yr=Ft,Rn=Lt,Xt=$t;for(Pe=!1,Nt=ht;Nt<$t;++Nt){for(Gt=st;Gt<Lt;++Gt){for(bt=Mt;bt<Ft;++bt)if(n[ft=r*i*Nt+r*Gt+bt]>=u){Yn=Nt,Pe=!0;break}if(Pe)break}if(Pe)break}for(Pe=!1,Gt=st;Gt<Lt;++Gt){for(Nt=Yn;Nt<$t;++Nt){for(bt=Mt;bt<Ft;++bt)if(n[ft=r*i*Nt+r*Gt+bt]>=u){en=Gt,Pe=!0;break}if(Pe)break}if(Pe)break}for(Pe=!1,bt=Mt;bt<Ft;++bt){for(Gt=en;Gt<Lt;++Gt){for(Nt=Yn;Nt<$t;++Nt)if(n[ft=r*i*Nt+r*Gt+bt]>=u){Ue=bt,Pe=!0;break}if(Pe)break}if(Pe)break}for(Pe=!1,Nt=$t;Nt>=ht;--Nt){for(Gt=Lt;Gt>=st;--Gt){for(bt=Ft;bt>=Mt;--bt)if(n[ft=r*i*Nt+r*Gt+bt]>=u){Xt=Nt,Pe=!0;break}if(Pe)break}if(Pe)break}for(Pe=!1,Gt=Lt;Gt>=st;--Gt){for(Nt=Xt;Nt>=ht;--Nt){for(bt=Ft;bt>=Mt;--bt)if(n[ft=r*i*Nt+r*Gt+bt]>=u){Rn=Gt,Pe=!0;break}if(Pe)break}if(Pe)break}for(Pe=!1,bt=Ft;bt>=Mt;--bt){for(Gt=Rn;Gt>=st;--Gt){for(Nt=Xt;Nt>=ht;--Nt)if(n[ft=r*i*Nt+r*Gt+bt]>=u){yr=bt,Pe=!0;break}if(Pe)break}if(Pe)break}f?(Mt=Math.max(0,Ue-1),st=Math.max(0,en-1),ht=Math.max(0,Yn-1),Ft=Math.min(r-1,yr+1),Lt=Math.min(i-1,Rn+1),$t=Math.min(s-1,Xt+1)):(Mt=Math.max(1,Ue-1),st=Math.max(1,en-1),ht=Math.max(1,Yn-1),Ft=Math.min(r-2,yr+1),Lt=Math.min(i-2,Rn+1),$t=Math.min(s-2,Xt+1))}var Fe=15;for(Nt=ht;Nt<$t;++Nt,Fe&=-5)for(Oe=P*Nt,Fe|=2,Gt=st;Gt<Lt;++Gt,Fe&=-3)for(le=Oe+C*Gt,Fe|=1,bt=Mt;bt<Ft;++bt,Fe&=-2)Dt(bt,Gt,Nt,ft=le+bt,Fe)}this.triangulate=function(Mt,st,ht,Ft,Lt){u=Mt,v=Ft,_=Lt,!(f=st||v)&&!w&&(w=new Float32Array(3*y));var $t=v?3*y:y;if((!E||E.length!==$t)&&(E=new Int32Array($t)),S=0,I=0,void 0!==ht){var ft=ht[0].map(Math.round),Zt=ht[1].map(Math.round);Y=r*Math.ceil(Math.abs(ft[0])/r),X=i*Math.ceil(Math.abs(ft[1])/i),$=s*Math.ceil(Math.abs(ft[2])/s),Et(ft[0],ft[1],ft[2],Zt[0],Zt[1],Zt[2])}else Y=X=$=0,Et();return B.length=3*S,f||(V.length=3*S),N.length=I,c&&(F.length=S),{position:new Float32Array(B),normal:f?void 0:new Float32Array(V),index:fa(N,B.length/3),atomindex:c?new Int32Array(F):void 0,contour:v}}}Du.add("arrow",V_),Du.add("box",Dn),Du.add("cone",$n),Du.add("cylinder",d5),Du.add("ellipsoid",Dc),Du.add("octahedron",EM),Du.add("sphere",p5),Du.add("tetrahedron",Ys),Du.add("torus",Ry),SM.__deps=[pr,$S,function(){return[[0,4,4,4,2,0,0,0,2,2,0,0],[4,0,4,4,0,8,0,0,0,8,8,0],[4,4,0,4,0,0,8,0,0,0,8,8],[4,4,4,0,0,0,0,1,1,0,0,1],[2,0,0,0,0,8,8,8,2,2,0,0],[0,8,0,0,8,0,8,8,0,8,8,0],[0,0,8,0,8,8,0,8,0,0,8,8],[0,0,0,1,8,8,8,0,1,0,0,1],[2,0,0,1,2,0,0,1,0,2,0,1],[2,8,0,0,2,8,0,0,2,0,8,0],[0,8,8,0,0,8,8,0,0,8,0,8],[0,0,8,1,0,0,8,1,1,0,8,0]]},fa];var zo=function(r,i){this.cols=r,this.rows=i,this.size=this.cols*this.rows,this.data=new Float32Array(this.size)};function wh(n,r){for(var i=0,s=0,c=r.rows,u=r.cols,f=0,v=0,_=0,y=r.data,C=n.data;i<c;v+=1,f+=u,i++)for(_=v,s=0;s<u;_+=c,s++)C[_]=y[f+s]}function Ap(n,r,i){for(var s=0,c=0,u=0,f=0,v=0,_=0,y=0,C=r.cols,P=r.rows,w=i.rows,E=r.data,S=i.data,I=n.data,L=0;s<P;f+=C,s++)for(_=0,c=0;c<w;y++,c++){for(v=f,L=0,u=0;u<C;v++,_++,u++)L+=E[v]*S[_];I[y]=L}}function sa(n,r,i){var s=n.data,c=r.data,u=i.data,f=c[0],v=c[1],_=c[2],y=c[3],C=c[4],P=c[5],w=c[6],E=c[7],S=c[8],I=u[0],L=u[1],B=u[2],V=u[3],N=u[4],F=u[5],z=u[6],G=u[7],q=u[8];s[0]=f*I+v*V+_*z,s[1]=f*L+v*N+_*G,s[2]=f*B+v*F+_*q,s[3]=y*I+C*V+P*z,s[4]=y*L+C*N+P*G,s[5]=y*B+C*F+P*q,s[6]=w*I+E*V+S*z,s[7]=w*L+E*N+S*G,s[8]=w*B+E*F+S*q}function AM(n){for(var r=n.rows,i=n.cols,s=n.data,c=new Array(i),u=0;u<i;++u)c[u]=0;for(var f=0,v=0;f<r;++f)for(var _=0;_<i;++_,++v)c[_]+=s[v];for(var y=0;y<i;++y)c[y]/=r;return c}function Tm(n,r){for(var i=n.rows,s=n.cols,c=n.data,u=0,f=0;u<i;++u)for(var v=0;v<s;++v,++f)c[f]-=r[v]}function te(n,r,i,s){s=n[r],n[r]=n[i],n[i]=s}function XS(n,r){return(n=Math.abs(n))>(r=Math.abs(r))?(r/=n,n*Math.sqrt(1+r*r)):r>0?(n/=r,r*Math.sqrt(1+n*n)):0}function sO(n,r,i,s){var c=0,u=0,f=n.rows,v=n.cols,_=f,y=v;_<y&&(c=1,u=_,_=y,y=u);var C=new zo(_,_),P=new zo(1,y),w=new zo(y,y);if(0===c)wh(C,n);else{for(u=0;u<v*f;u++)C.data[u]=n.data[u];for(;u<y*_;u++)C.data[u]=0}if(function(n,r,i,s,c,u,f,v){for(var C=0,P=0,w=0,E=0,S=Math.max(u,30),I=0,L=0,B=0,V=0,N=0,F=0,z=0,G=0,q=0,Y=0,X=0,$=0,tt=0,nt=0,et=0,vt=0,dt=4660,Et=0,Mt=0,st=new Float64Array(f<<3);C<f;C++){for(w=0,X=0;w<u;w++)X+=(G=n[C*r+w])*G;if(st[C]=X,s){for(w=0;w<f;w++)s[C*c+w]=0;s[C*c+C]=1}}for(;E<S;E++){for(N=0,C=0;C<f-1;C++)for(P=C+1;P<f;P++){for(nt=st[C],et=0,vt=st[P],w=2,et+=n[I=C*r|0]*n[L=P*r|0],et+=n[I+1]*n[L+1];w<u;w++)et+=n[I+w]*n[L+w];if(!(Math.abs(et)<=2.384185792e-7*Math.sqrt(nt*vt))){for(tt=XS(et*=2,$=nt-vt),$<0?F=et/(tt*(z=Math.sqrt(.5*(tt-$)/tt))*2):z=et/(tt*(F=Math.sqrt((tt+$)/(2*tt)))*2),nt=0,vt=0,w=2,Y=-z*n[I]+F*n[L],n[I]=q=F*n[I]+z*n[L],n[L]=Y,nt+=q*q,vt+=Y*Y,Y=-z*n[I+1]+F*n[L+1],n[I+1]=q=F*n[I+1]+z*n[L+1],n[L+1]=Y,nt+=q*q,vt+=Y*Y;w<u;w++)Y=-z*n[I+w]+F*n[L+w],n[I+w]=q=F*n[I+w]+z*n[L+w],n[L+w]=Y,nt+=q*q,vt+=Y*Y;if(st[C]=nt,st[P]=vt,N=1,s)for(w=2,Y=-z*s[B=C*c|0]+F*s[V=P*c|0],s[B]=q=F*s[B]+z*s[V],s[V]=Y,Y=-z*s[B+1]+F*s[V+1],s[B+1]=q=F*s[B+1]+z*s[V+1],s[V+1]=Y;w<f;w++)Y=-z*s[B+w]+F*s[V+w],s[B+w]=q=F*s[B+w]+z*s[V+w],s[V+w]=Y}}if(0===N)break}for(C=0;C<f;C++){for(w=0,X=0;w<u;w++)X+=(G=n[C*r+w])*G;st[C]=Math.sqrt(X)}for(C=0;C<f-1;C++){for(P=C,w=C+1;w<f;w++)st[P]<st[w]&&(P=w);if(C!==P&&(te(st,C,P,X),s)){for(w=0;w<u;w++)te(n,C*r+w,P*r+w,G);for(w=0;w<f;w++)te(s,C*c+w,P*c+w,G)}}for(C=0;C<f;C++)i[C]=st[C];if(s)for(C=0;C<v;C++){for(X=C<f?st[C]:0;X<=1e-37;){for(Et=1/u,w=0;w<u;w++)n[C*r+w]=0!=(256&(dt=214013*dt+2531011)>>16)?Et:-Et;for(E=0;E<2;E++)for(P=0;P<C;P++){for(X=0,w=0;w<u;w++)X+=n[C*r+w]*n[P*r+w];for(Mt=0,w=0;w<u;w++)n[C*r+w]=G=n[C*r+w]-X*n[P*r+w],Mt+=Math.abs(G);for(Mt=Mt?1/Mt:0,w=0;w<u;w++)n[C*r+w]*=Mt}for(X=0,w=0;w<u;w++)X+=(G=n[C*r+w])*G;X=Math.sqrt(X)}for(z=1/X,w=0;w<u;w++)n[C*r+w]*=z}}(C.data,_,P.data,w.data,y,_,y,_),r){for(u=0;u<y;u++)r.data[u]=P.data[u];for(;u<v;u++)r.data[u]=0}0===c?(i&&wh(i,C),s&&wh(s,w)):(i&&wh(i,w),s&&wh(s,C))}function aa(){return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}function eu(n,r,i,s,c,u,f,v,_,y,C,P,w,E,S,I,L){n[0]=r,n[4]=i,n[8]=s,n[12]=c,n[1]=u,n[5]=f,n[9]=v,n[13]=_,n[2]=y,n[6]=C,n[10]=P,n[14]=w,n[3]=E,n[7]=S,n[11]=I,n[15]=L}function Tp(n,r,i){var s=r[0],c=r[4],u=r[8],f=r[12],v=r[1],_=r[5],y=r[9],C=r[13],P=r[2],w=r[6],E=r[10],S=r[14],I=r[3],L=r[7],B=r[11],V=r[15],N=i[0],F=i[4],z=i[8],G=i[12],q=i[1],Y=i[5],X=i[9],$=i[13],tt=i[2],ot=i[6],nt=i[10],et=i[14],vt=i[3],dt=i[7],Dt=i[11],Et=i[15];n[0]=s*N+c*q+u*tt+f*vt,n[4]=s*F+c*Y+u*ot+f*dt,n[8]=s*z+c*X+u*nt+f*Dt,n[12]=s*G+c*$+u*et+f*Et,n[1]=v*N+_*q+y*tt+C*vt,n[5]=v*F+_*Y+y*ot+C*dt,n[9]=v*z+_*X+y*nt+C*Dt,n[13]=v*G+_*$+y*et+C*Et,n[2]=P*N+w*q+E*tt+S*vt,n[6]=P*F+w*Y+E*ot+S*dt,n[10]=P*z+w*X+E*nt+S*Dt,n[14]=P*G+w*$+E*et+S*Et,n[3]=I*N+L*q+B*tt+V*vt,n[7]=I*F+L*Y+B*ot+V*dt,n[11]=I*z+L*X+B*nt+V*Dt,n[15]=I*G+L*$+B*et+V*Et}function aO(n,r,i,s){eu(n,r,0,0,0,0,i,0,0,0,0,s,0,0,0,0,1)}function xl(n,r,i,s){eu(n,1,0,0,r,0,1,0,i,0,0,1,s,0,0,0,1)}function Bu(n,r){var i=Math.cos(r),s=Math.sin(r);eu(n,i,0,s,0,0,1,0,0,-s,0,i,0,0,0,0,1)}function KS(){return new Float32Array([1,0,0,0,1,0,0,0,1])}function TM(n,r){var i=eo([r[0],r[1],r[2]]),s=eo([r[4],r[5],r[6]]),c=eo([r[8],r[9],r[10]]),u=eo();ku(u,s,c),n[0]=u[0],n[1]=u[1],n[2]=u[2],ku(u,c,i),n[3]=u[0],n[4]=u[1],n[5]=u[2],ku(u,i,s),n[6]=u[0],n[7]=u[1],n[8]=u[2]}function DM(n,r,i,s){i=i||1;var f,c=n.length/3,u=r.length/3;(s=s||!0)&&(f=new Float32Array(3*c));var _,P,w,E,v=new Float32Array(3*c),C=new Array(20);for(_=0;_<20;++_)C[_]=new Uint32Array(c);for(_=0;_<c;++_)C[0][_]=0;for(_=0;_<u;++_){var S=3*_,I=3*_+1,L=3*_+2;for(E=!0,P=0,w=C[0][r[S]];P<w;++P)if(r[I]===C[P+1][r[S]]){E=!1;break}for(E&&(C[0][r[S]]++,C[C[0][r[S]]][r[S]]=r[I]),E=!0,P=0,w=C[0][r[S]];P<w;++P)if(r[L]===C[P+1][r[S]]){E=!1;break}for(E&&(C[0][r[S]]++,C[C[0][r[S]]][r[S]]=r[L]),E=!0,P=0,w=C[0][r[I]];P<w;++P)if(r[S]===C[P+1][r[I]]){E=!1;break}for(E&&(C[0][r[I]]++,C[C[0][r[I]]][r[I]]=r[S]),E=!0,P=0,w=C[0][r[I]];P<w;++P)if(r[L]===C[P+1][r[I]]){E=!1;break}for(E&&(C[0][r[I]]++,C[C[0][r[I]]][r[I]]=r[L]),E=!0,P=0;P<C[0][r[L]];++P)if(r[S]===C[P+1][r[L]]){E=!1;break}for(E&&(C[0][r[L]]++,C[C[0][r[L]]][r[L]]=r[S]),E=!0,P=0,w=C[0][r[L]];P<w;++P)if(r[I]===C[P+1][r[L]]){E=!1;break}E&&(C[0][r[L]]++,C[C[0][r[L]]][r[L]]=r[I])}for(var N,F,z,G,q,V=.5,$=.75/4.5,tt=0;tt<i;++tt){for(_=0;_<c;++_)if(N=3*_,(z=C[0][_])<3)v[N]=n[N],v[N+1]=n[N+1],v[N+2]=n[N+2];else if(3===z||4===z){for(v[N]=0,v[N+1]=0,v[N+2]=0,P=0;P<z;++P)v[N]+=n[F=3*C[P+1][_]],v[N+1]+=n[F+1],v[N+2]+=n[F+2];v[N]+=V*n[N],v[N+1]+=V*n[N+1],v[N+2]+=V*n[N+2],v[N]/=q=V+z,v[N+1]/=q,v[N+2]/=q}else{for(v[N]=0,v[N+1]=0,v[N+2]=0,P=0;P<z;++P)v[N]+=n[F=3*C[P+1][_]],v[N+1]+=n[F+1],v[N+2]+=n[F+2];v[N]+=1*n[N],v[N+1]+=1*n[N+1],v[N+2]+=1*n[N+2],v[N]/=G=1+z,v[N+1]/=G,v[N+2]/=G}if(n.set(v),s){Dm(n,r,f);var ot=3*c;for(N=0;N<ot;N+=3)n[N]+=-1*$*f[N],n[N+1]+=-1*$*f[N+1],n[N+2]+=-1*$*f[N+2]}}}function Dm(n,r,i){var s,c;if(void 0===i)i=new Float32Array(n.length);else for(s=0,c=i.length;s<c;s++)i[s]=0;var u=new Float32Array(3),f=new Float32Array(3),v=new Float32Array(3),_=new Float32Array(3),y=new Float32Array(3);if(r)for(s=0,c=r.length;s<c;s+=3){var C=3*r[s],P=3*r[s+1],w=3*r[s+2];yl(u,n,C),yl(f,n,P),yl(v,n,w),Ra(_,v,f),Ra(y,u,f),ku(_,_,y),i[C]+=_[0],i[C+1]+=_[1],i[C+2]+=_[2],i[P]+=_[0],i[P+1]+=_[1],i[P+2]+=_[2],i[w]+=_[0],i[w+1]+=_[1],i[w+2]+=_[2]}else for(s=0,c=n.length;s<c;s+=9)yl(u,n,s),yl(f,n,s+3),yl(v,n,s+6),Ra(_,v,f),Ra(y,u,f),ku(_,_,y),i[s]=_[0],i[s+1]=_[1],i[s+2]=_[2],i[s+3]=_[0],i[s+4]=_[1],i[s+5]=_[2],i[s+6]=_[0],i[s+7]=_[1],i[s+8]=_[2];return Fw(i),i}function Xs(n){for(var r={},i=0,s=n.length;i<s;++i)r[n[i]]=!0;return r}function Zs(n,r,i,s,c){var u=1/s*3;FS(n,n,c+(u+=i)),vy(r,r,c+u),Ds(n,n,s),Nw(n,n),O_(n,n,s),Ds(r,r,s),lM(r,r),O_(r,r,s);var f=new Float32Array(3);Ra(f,r,n),Ds(f,f,s),lM(f,f),vy(f,f,1);var v=256*Math.pow(10,6),_=f[0]*f[1]*f[2]*3;v<=_&&(Ds(n,n,s*=Math.pow(v/_,1/3)),Nw(n,n),O_(n,n,s),Ds(r,r,s),lM(r,r),O_(r,r,s),Ra(f,r,n),Ds(f,f,s),lM(f,f),vy(f,f,1));var y=new Float32Array(n);Bw(y,y);var C=aa(),P=aa();Bu(P,Lo(90)),Tp(C,C,P);var w=aa();aO(w,-1/s,1/s,1/s),Tp(C,C,w);var E=aa();return xl(E,-s*y[2],-s*y[1],-s*y[0]),Tp(C,C,E),{dim:f,tran:y,matrix:C,scaleFactor:s}}zo.prototype.copyTo=function(r){r.data.set(this.data)},aO.__deps=[eu],xl.__deps=[eu],Bu.__deps=[eu],TM.__deps=[eo,ku],DM.__deps=[Dm],Dm.__deps=[Ra,ku,yl,Fw],Zs.__deps=[Lo,FS,vy,O_,Ds,Nw,lM,Ra,Bw,aa,Tp,xl,aO,Bu];var va=function(r,i,s){this.name=r||"",this.path=i||"",this.info={},this.center=new J,this.boundingBox=new to,s instanceof Nr||s instanceof On||s instanceof ko?this.fromGeometry(s):s&&(this.set(s.position,s.index,s.normal,s.color,s.atomindex,s.contour),this.boundingBox.setFromArray(s.position),this.boundingBox.getCenter(this.center))},QS={type:{configurable:!0}};function Rf(n,r,i,s,c){var u=new SM(n,r,i,s,c);this.getSurface=function(v,_,y,C,P,w){var E=u.triangulate(v,_,y,P,w);if(_&&!P&&(DM(E.position,E.index,_,!0),E.normal=Dm(E.position,E.index)),C&&(gy(C,E.position),E.normal)){var S=KS();TM(S,C),my(S,E.normal)}return E}}QS.type.get=function(){return"Surface"},va.prototype.set=function(r,i,s,c,u,f){this.position=r,this.index=i,this.normal=s,this.color=c,this.atomindex=u,this.size=r.length/3,this.contour=f},va.prototype.fromGeometry=function(r){var i,s,u,f;if(Le&&xe.time("GeometrySurface.fromGeometry"),r instanceof Nr?(r.computeVertexNormals(!0),i=(new On).fromGeometry(r)):i=r instanceof On?r:r[0],i.boundingBox||i.computeBoundingBox(),this.boundingBox.copy(i.boundingBox),this.boundingBox.getCenter(this.center),i instanceof On){var v=i.attributes,_=!!v.normal&&v.normal.array;(!_||0===_[0]&&0===_[1]&&0===_[2])&&i.computeVertexNormals(),s=v.position.array,u=v.index?v.index.array:null,f=v.normal.array}this.set(s,u,f,void 0,void 0),Le&&xe.timeEnd("GeometrySurface.setGeometry")},va.prototype.getPosition=function(){return this.position},va.prototype.getColor=function(r){var i=r||{};i.surface=this;var s=this.size,c=new Float32Array(3*s),u=Xr.getScheme(i);if(u.volumeColor||"random"===i.scheme)for(var f=0;f<s;++f)u.volumeColorToArray(f,c,3*f);else if(u.positionColor)for(var v=new J,_=this.position,y=0;y<s;++y){var C=3*y;v.set(_[C],_[C+1],_[C+2]),u.positionColorToArray(v,c,C)}else if(u.atomColor&&this.atomindex)for(var P=i.structure.getAtomProxy(),w=this.atomindex,E=0;E<s;++E)P.index=w[E],u.atomColorToArray(P,c,3*E);else{var S=new cn(i.value);$o(s,S.r,S.g,S.b,c)}return c},va.prototype.getPicking=function(r){return this.atomindex&&r?new Ph(this.atomindex,r):new z_(oy(this.size),this)},va.prototype.getNormal=function(){return this.normal},va.prototype.getSize=function(r,i){return Xl(this.size,r*i)},va.prototype.getIndex=function(){return this.index},va.prototype.getFilteredIndex=function(r,i){if(r&&this.atomindex){for(var s=new Fo(r),c=i.getAtomSet(s),u=[],f=this.atomindex,v=this.index,_=v.length,y=this.contour?2:3,C=0,P=0;P<_;P+=y){for(var w=!0,E=0;E<y;E++)if(!c.get(f[v[P+E]])){w=!1;break}if(w)for(var L=0;L<y;L++,C++)u[C]=v[P+L]}return fa(u,this.position.length/3)}return this.index},va.prototype.getAtomindex=function(){return this.atomindex},va.prototype.dispose=function(){},Object.defineProperties(va.prototype,QS),Rf.__deps=[DM,Dm,SM,gy,my,KS,TM],xf.add("surf",function(r,i){var s=r.data.args,c=r.data.params;if(s&&(self.volsurf=new Rf(s[0],s[1],s[2],s[3],s[4])),c){var u=self.volsurf.getSurface(c.isolevel,c.smooth,c.box,c.matrix,c.contour,c.wrap),f=[u.position.buffer,u.index.buffer];u.normal&&f.push(u.normal.buffer),u.atomindex&&f.push(u.atomindex.buffer),i({sd:u,p:c},f)}},[Rf]);var no=function(r,i,s,c,u,f,v){this.name=r,this.path=i,this.matrix=new ye,this.normalMatrix=new xi,this.inverseMatrix=new ye,this.center=new J,this.boundingBox=new to,this.setData(s,c,u,f,v)},kf={type:{configurable:!0},position:{configurable:!0},min:{configurable:!0},max:{configurable:!0},sum:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};function Lf(n){return"front"===n?0:"back"===n?1:2}kf.type.get=function(){return"Volume"},no.prototype.setData=function(r,i,s,c,u){this.nx=i||1,this.ny=s||1,this.nz=c||1,this.data=r||new Float32Array(1),this.setAtomindex(u),delete this._position,delete this._min,delete this._max,delete this._mean,delete this._rms,this.worker&&this.worker.terminate()},no.prototype.setStats=function(r,i,s,c){this._min=r,this._max=i,this._mean=s,this._rms=c},no.prototype.setMatrix=function(r){this.matrix.copy(r);var i=this.boundingBox,s=this.center,c=this.nx-1,u=this.ny-1,f=this.nz-1;i.makeEmpty(),i.expandByPoint(s.set(c,u,f)),i.expandByPoint(s.set(c,u,0)),i.expandByPoint(s.set(c,0,f)),i.expandByPoint(s.set(c,0,0)),i.expandByPoint(s.set(0,u,f)),i.expandByPoint(s.set(0,0,f)),i.expandByPoint(s.set(0,u,0)),i.expandByPoint(s.set(0,0,0)),i.applyMatrix4(this.matrix),i.getCenter(this.center);var v=this.matrix.elements,_=new J(v[0],v[1],v[2]),y=new J(v[4],v[5],v[6]),C=new J(v[8],v[9],v[10]),P=new J,w=this.normalMatrix.elements;P.crossVectors(y,C),w[0]=P.x,w[1]=P.y,w[2]=P.z,P.crossVectors(C,_),w[3]=P.x,w[4]=P.y,w[5]=P.z,P.crossVectors(_,y),w[6]=P.x,w[7]=P.y,w[8]=P.z,this.inverseMatrix.getInverse(this.matrix)},no.prototype.setAtomindex=function(r){this.atomindex=r},no.prototype.getBox=function(r,i,s){return s||(s=new to),s.set(r,r),s.expandByScalar(i),s.applyMatrix4(this.inverseMatrix),s.min.round(),s.max.round(),s},no.prototype._getBox=function(r,i){if(r&&i){this.__box||(this.__box=new to);var s=this.getBox(r,i,this.__box);return[s.min.toArray(),s.max.toArray()]}},no.prototype._makeSurface=function(r,i,s){var c=this.name+"@"+i.toPrecision(2),u=new va(c,"",r);return u.info.isolevel=i,u.info.smooth=s,u.info.volume=this,u},no.prototype.getSurface=function(r,i,s,c,u,f){r=isNaN(r)?this.getValueForSigma(2):r,i=it(i,0),void 0===this.volsurf&&(this.volsurf=new Rf(this.data,this.nx,this.ny,this.nz,this.atomindex));var v=this._getBox(s,c),_=this.volsurf.getSurface(r,i,v,this.matrix.elements,u,f);return this._makeSurface(_,r,i)},no.prototype.getSurfaceWorker=function(r,i,s,c,u,f,v){var _=this;if(r=isNaN(r)?this.getValueForSigma(2):r,i=i||0,window.Worker){void 0===this.workerPool&&(this.workerPool=new gh("surf",2));var y={},C=this.workerPool.getNextWorker();0===C.postCount&&(y.args=[this.data,this.nx,this.ny,this.nz,this.atomindex]),y.params={isolevel:r,smooth:i,box:this._getBox(s,c),matrix:this.matrix.elements,contour:u,wrap:f},C.post(y,void 0,function(w){var S=w.data.p;v(_._makeSurface(w.data.sd,S.isolevel,S.smooth))},function(w){console.warn("Volume.getSurfaceWorker error - trying without worker",w);var E=_.getSurface(r,i,s,c,u,f);v(E)})}else{var P=this.getSurface(r,i,s,c,u,f);v(P)}},no.prototype.getValueForSigma=function(r){return this.mean+it(r,2)*this.rms},no.prototype.getSigmaForValue=function(r){return(it(r,0)-this.mean)/this.rms},kf.position.get=function(){if(!this._position){for(var n=this.nz,r=this.ny,i=this.nx,s=new Float32Array(i*r*n*3),c=0,u=0;u<n;++u)for(var f=0;f<r;++f)for(var v=0;v<i;++v)s[c+0]=v,s[c+1]=f,s[c+2]=u,c+=3;gy(this.matrix.elements,s),this._position=s}return this._position},no.prototype.getDataAtomindex=function(){return this.atomindex},no.prototype.getDataPosition=function(){return this.position},no.prototype.getDataColor=function(r){var i=r||{};i.volume=this,i.scale=i.scale||"Spectral",i.domain=i.domain||[this.min,this.max];for(var s=Xr.getScheme(i),c=this.position.length/3,u=new Float32Array(3*c),f=0;f<c;++f)s.volumeColorToArray(f,u,3*f);return u},no.prototype.getDataPicking=function(){var r=oy(this.position.length/3);return new oO(r,this)},no.prototype.getDataSize=function(r,i){var u,s=this.data,c=this.position.length/3;switch(r){case"value":u=new Float32Array(s);break;case"abs-value":u=new Float32Array(s);for(var f=0;f<c;++f)u[f]=Math.abs(u[f]);break;case"value-min":u=new Float32Array(s);for(var v=this.min,_=0;_<c;++_)u[_]-=v;break;case"deviation":u=new Float32Array(s);break;default:u=Xl(c,r)}if(1!==i)for(var y=0;y<c;++y)u[y]*=i;return u},kf.min.get=function(){return void 0===this._min&&(this._min=Sw(this.data)),this._min},kf.max.get=function(){return void 0===this._max&&(this._max=Pf(this.data)),this._max},kf.sum.get=function(){return void 0===this._sum&&(this._sum=Aw(this.data)),this._sum},kf.mean.get=function(){return void 0===this._mean&&(this._mean=g_(this.data)),this._mean},kf.rms.get=function(){return void 0===this._rms&&(this._rms=function(n){for(var r=n.length,i=0,s=0;s<r;++s){var c=n[s];i+=c*c}return Math.sqrt(i/r)}(this.data)),this._rms},no.prototype.clone=function(){var r=new no(this.name,this.path,this.data,this.nx,this.ny,this.nz,this.atomindex);return r.matrix.copy(this.matrix),r.header=Object.assign({},this.header),r},no.prototype.dispose=function(){this.workerPool&&this.workerPool.terminate()},Object.defineProperties(no.prototype,kf),Hi.add("shader/Mesh.vert","#define STANDARD\nuniform float clipNear;\nuniform vec3 clipCenter;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#elif defined( NOLIGHT )\nvarying vec3 vColor;\n#else\n#include color_pars_vertex\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#endif\n#include common\nvoid main(){\n#if defined( PICKING )\nvPickingColor = unpackColor( primitiveId );\n#elif defined( NOLIGHT )\nvColor = color;\n#else\n#include color_vertex\n#include beginnormal_vertex\n#include defaultnormal_vertex\n#ifndef FLAT_SHADED\nvNormal = normalize( transformedNormal );\n#endif\n#endif\n#include begin_vertex\n#include project_vertex\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}"),Hi.add("shader/Mesh.frag","#define STANDARD\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\nuniform float objectId;\nvarying vec3 vPickingColor;\n#elif defined( NOLIGHT )\nvarying vec3 vColor;\n#else\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars\n#include lights_physical_pars_fragment\n#endif\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( PICKING )\nif( opacity < 0.7 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#elif defined( NOLIGHT )\ngl_FragColor = vec4( vColor, opacity );\n#else\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\n#include normal_flip\n#include normal_fragment\n#include dull_interior_fragment\n#include lights_physical_fragment\n#include lights_template\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#include opaque_back_fragment\n#endif\n}");var IM={f:1,v2:2,v3:3,c:3};function RM(n,r){n.matrix.copy(r),n.matrix.decompose(n.position,n.quaternion,n.scale),n.matrixWorldNeedsUpdate=!0}var Kc={opaqueBack:!1,dullInterior:!1,side:"double",opacity:1,depthWrite:!0,clipNear:0,clipRadius:0,clipCenter:new J,flatShaded:!1,wireframe:!1,roughness:.4,metalness:0,diffuse:16777215,forceTransparent:!1,matrix:new ye,disablePicking:!1,sortParticles:!1,background:!1},Dp={opaqueBack:{updateShader:!0},dullInterior:{updateShader:!0},side:{updateShader:!0,property:!0},opacity:{uniform:!0},depthWrite:{property:!0},clipNear:{updateShader:!0,property:!0},clipRadius:{updateShader:!0,uniform:!0},clipCenter:{uniform:!0},flatShaded:{updateShader:!0},background:{updateShader:!0},wireframe:{updateVisibility:!0},roughness:{uniform:!0},metalness:{uniform:!0},diffuse:{uniform:!0},matrix:{}},Ti=function(r,i){void 0===i&&(i={}),this.parameterTypes=Dp,this.geometry=new On,this.indexVersion=0,this.wireframeIndexVersion=-1,this.group=new ko,this.wireframeGroup=new ko,this.pickingGroup=new ko,this.vertexShader="",this.fragmentShader="",this.isImpostor=!1,this.isText=!1,this.isSurface=!1,this.isPoint=!1,this.isLine=!1,this.dynamic=!0,this.visible=!0,this.wireframeIndexCount=0,this.parameters=ql(i,this.defaultParameters),this.uniforms=vc.merge([ar.common,{fogColor:{value:null},fogNear:{value:0},fogFar:{value:0},opacity:{value:this.parameters.opacity},clipNear:{value:0},clipRadius:{value:this.parameters.clipRadius},clipCenter:{value:this.parameters.clipCenter}},{emissive:{value:new cn(0)},roughness:{value:this.parameters.roughness},metalness:{value:this.parameters.metalness}},ar.lights]),this.uniforms.diffuse.value.set(this.parameters.diffuse),this.pickingUniforms={clipNear:{value:0},objectId:{value:0},opacity:{value:this.parameters.opacity}};var s=r.position||r.position1;this._positionDataSize=s?s.length/3:0,r.primitiveId||(r.primitiveId=oy(this._positionDataSize)),this.addAttributes({position:{type:"v3",value:r.position},color:{type:"c",value:r.color},primitiveId:{type:"f",value:r.primitiveId}}),i.matrix&&(this.matrix=i.matrix),r.index&&this.initIndex(r.index),this.picking=r.picking,this.makeWireframeGeometry()},Oh={defaultParameters:{configurable:!0},matrix:{configurable:!0},transparent:{configurable:!0},size:{configurable:!0},attributeSize:{configurable:!0},pickable:{configurable:!0}};Oh.defaultParameters.get=function(){return Kc},Oh.matrix.set=function(n){this.setMatrix(n)},Oh.matrix.get=function(){return this.group.matrix.clone()},Oh.transparent.get=function(){return this.parameters.opacity<1||this.parameters.forceTransparent},Oh.size.get=function(){return this._positionDataSize},Oh.attributeSize.get=function(){return this.size},Oh.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},Ti.prototype.setMatrix=function(r){RM(this.group,r),RM(this.wireframeGroup,r),RM(this.pickingGroup,r)},Ti.prototype.initIndex=function(r){this.geometry.setIndex(new xr(r,1)),this.geometry.getIndex().setDynamic(this.dynamic)},Ti.prototype.makeMaterial=function(){var r=Lf(this.parameters.side),i=new Za({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!0,fog:!0,side:r});i.vertexColors=2,i.extensions.derivatives=this.parameters.flatShaded,i.extensions.fragDepth=this.isImpostor;var s=new Za({uniforms:this.uniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:this.transparent,depthWrite:this.parameters.depthWrite,lights:!1,fog:!0,side:r});s.vertexColors=2;var c=new Za({uniforms:this.pickingUniforms,vertexShader:"",fragmentShader:"",depthTest:!0,transparent:!1,depthWrite:this.parameters.depthWrite,lights:!1,fog:!1,side:r,blending:0});c.vertexColors=2,c.extensions.fragDepth=this.isImpostor,i.clipNear=this.parameters.clipNear,s.clipNear=this.parameters.clipNear,c.clipNear=this.parameters.clipNear,this.material=i,this.wireframeMaterial=s,this.pickingMaterial=c,this.updateShader()},Ti.prototype.makeWireframeGeometry=function(){this.makeWireframeIndex();var r=this.geometry,i=this.wireframeIndex,s=new On;s.attributes=r.attributes,i&&(s.setIndex(new xr(i,1).setDynamic(this.dynamic)),s.setDrawRange(0,this.wireframeIndexCount)),this.wireframeGeometry=s},Ti.prototype.makeWireframeIndex=function(){var r=[];function i(V,N){if(V>N){var F=V;V=N,N=F}var z=r[V];return void 0===z?(r[V]=[N],!0):!z.includes(N)&&(z.push(N),!0)}var s=this.geometry,c=s.index;if(this.parameters.wireframe)if(c){var v,u=c.array,f=u.length;s.drawRange.count!==1/0&&(f=s.drawRange.count),v=this.wireframeIndex&&this.wireframeIndex.length>2*f?this.wireframeIndex:fa(2*f,s.attributes.position.count);var y=0;r.length=0;for(var C=0;C<f;C+=3){var P=u[C+0],w=u[C+1],E=u[C+2];i(P,w)&&(v[y+0]=P,v[y+1]=w,y+=2),i(w,E)&&(v[y+0]=w,v[y+1]=E,y+=2),i(E,P)&&(v[y+0]=E,v[y+1]=P,y+=2)}this.wireframeIndex=v,this.wireframeIndexCount=y,this.wireframeIndexVersion=this.indexVersion}else{var I,S=s.attributes.position.count;I=this.wireframeIndex&&this.wireframeIndex.length>2*S?this.wireframeIndex:fa(2*S,S);for(var L=0,B=0;L<S;L+=3)I[B+0]=L,I[B+1]=L+1,I[B+2]=L+1,I[B+3]=L+2,I[B+4]=L+2,I[B+5]=L,B+=6;this.wireframeIndex=I,this.wireframeIndexCount=2*S,this.wireframeIndexVersion=this.indexVersion}else this.wireframeIndex=new Uint16Array(0),this.wireframeIndexCount=0},Ti.prototype.updateWireframeIndex=function(){if(this.wireframeGeometry&&this.wireframeIndex){if(this.wireframeGeometry.setDrawRange(0,1/0),this.wireframeIndexVersion<this.indexVersion&&this.makeWireframeIndex(),this.wireframeIndex.length>this.wireframeGeometry.index.array.length)this.wireframeGeometry.setIndex(new xr(this.wireframeIndex,1).setDynamic(this.dynamic));else{var r=this.wireframeGeometry.getIndex();r.set(this.wireframeIndex),r.needsUpdate=this.wireframeIndexCount>0,r.updateRange.count=this.wireframeIndexCount}this.wireframeGeometry.setDrawRange(0,this.wireframeIndexCount)}},Ti.prototype.getRenderOrder=function(){var r=0;return this.isText?r=1:this.transparent&&(r=this.isSurface?3:2),r},Ti.prototype._getMesh=function(r){this.material||this.makeMaterial();var c,i=this.geometry,s=this[r];return(c=this.isLine?new So(i,s):this.isPoint?new xb(i,s):new cl(i,s)).frustumCulled=!1,c.renderOrder=this.getRenderOrder(),c},Ti.prototype.getMesh=function(){return this._getMesh("material")},Ti.prototype.getWireframeMesh=function(){var r;return this.material||this.makeMaterial(),this.wireframeGeometry||this.makeWireframeGeometry(),(r=new So(this.wireframeGeometry,this.wireframeMaterial)).frustumCulled=!1,r.renderOrder=this.getRenderOrder(),r},Ti.prototype.getPickingMesh=function(){return this._getMesh("pickingMaterial")},Ti.prototype.getShader=function(r,i){return h_(r,this.getDefines(i))},Ti.prototype.getVertexShader=function(r){return this.getShader(this.vertexShader,r)},Ti.prototype.getFragmentShader=function(r){return this.getShader(this.fragmentShader,r)},Ti.prototype.getDefines=function(r){var i={};return this.parameters.clipNear&&(i.NEAR_CLIP=1),this.parameters.clipRadius&&(i.RADIUS_CLIP=1),"picking"===r?i.PICKING=1:(("background"===r||this.parameters.background)&&(i.NOLIGHT=1),this.parameters.flatShaded&&(i.FLAT_SHADED=1),this.parameters.opaqueBack&&(i.OPAQUE_BACK=1),this.parameters.dullInterior&&(i.DULL_INTERIOR=1)),i},Ti.prototype.getParameters=function(){return this.parameters},Ti.prototype.addUniforms=function(r){this.uniforms=vc.merge([this.uniforms,r]),this.pickingUniforms=vc.merge([this.pickingUniforms,r])},Ti.prototype.addAttributes=function(r){var i=this;for(var s in r){var c=void 0,u=r[s],f=i.attributeSize*IM[u.type];u.value?(f!==u.value.length&&xe.error("attribute value has wrong length",s),c=u.value):c=Gb("float32",f),i.geometry.addAttribute(s,new xr(c,IM[u.type]).setDynamic(i.dynamic))}},Ti.prototype.updateRenderOrder=function(){var r=this.getRenderOrder();function i(s){s.renderOrder=r}this.group.children.forEach(i),this.pickingGroup&&this.pickingGroup.children.forEach(i)},Ti.prototype.updateShader=function(){var r=this.material,i=this.wireframeMaterial,s=this.pickingMaterial;r.vertexShader=this.getVertexShader(),r.fragmentShader=this.getFragmentShader(),r.needsUpdate=!0,i.vertexShader=this.getShader("Line.vert"),i.fragmentShader=this.getShader("Line.frag"),i.needsUpdate=!0,s.vertexShader=this.getVertexShader("picking"),s.fragmentShader=this.getFragmentShader("picking"),s.needsUpdate=!0},Ti.prototype.setParameters=function(r){var i=this,s=r,c=this.parameterTypes,u=this.parameters,f={},v={},_=!1,y=!1;for(var C in s){var P=s[C];void 0!==P&&(u[C]=P,void 0!==c[C]&&(c[C].property&&(!0!==c[C].property?f[c[C].property]=P:f[C]=P),c[C].uniform&&(!0!==c[C].uniform?v[c[C].uniform]=P:v[C]=P),c[C].updateShader&&(_=!0),c[C].updateVisibility&&(y=!0),i.dynamic&&"wireframe"===C&&!0===P&&i.updateWireframeIndex(),"flatShaded"===C&&(i.material.extensions.derivatives=i.parameters.flatShaded||i.isText),"forceTransparent"===C&&(f.transparent=i.transparent),"matrix"===C&&(i.matrix=P)))}this.setProperties(f),this.setUniforms(v),_&&this.updateShader(),y&&this.setVisibility(this.visible)},Ti.prototype.setAttributes=function(r){var i=this,s=this.geometry,c=s.attributes;for(var u in r)if("picking"!==u){var f=r[u],v=f.length;if("index"===u){var _=s.getIndex();s.setDrawRange(0,1/0),v>_.array.length?s.setIndex(new xr(f,1).setDynamic(i.dynamic)):(_.set(f),_.needsUpdate=v>0,_.updateRange.count=v,s.setDrawRange(0,v)),i.indexVersion++,i.parameters.wireframe&&i.updateWireframeIndex()}else{var y=c[u];v>y.array.length?s.addAttribute(u,new xr(f,y.itemSize).setDynamic(i.dynamic)):(c[u].set(f),c[u].needsUpdate=v>0,c[u].updateRange.count=v)}}},Ti.prototype.setUniforms=function(r){if(r){var s=this.material.uniforms,c=this.wireframeMaterial.uniforms,u=this.pickingMaterial.uniforms;for(var f in r)"opacity"===f&&this.setProperties({transparent:this.transparent}),void 0!==s[f]&&(s[f].value.isVector3?s[f].value.copy(r[f]):s[f].value.set?s[f].value.set(r[f]):s[f].value=r[f]),void 0!==c[f]&&(c[f].value.isVector3?c[f].value.copy(r[f]):c[f].value.set?c[f].value.set(r[f]):c[f].value=r[f]),void 0!==u[f]&&(u[f].value.isVector3?u[f].value.copy(r[f]):u[f].value.set?u[f].value.set(r[f]):u[f].value=r[f])}},Ti.prototype.setProperties=function(r){if(r){var s=this.material,c=this.wireframeMaterial,u=this.pickingMaterial;for(var f in r){var v=f,_=r[v];"transparent"===v?this.updateRenderOrder():"side"===v&&(_=Lf(_)),s[v]=_,c[v]=_,u[v]=_}s.needsUpdate=!0,c.needsUpdate=!0,u.needsUpdate=!0}},Ti.prototype.setVisibility=function(r){this.visible=r,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=r,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=r,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=r))},Ti.prototype.dispose=function(){this.material&&this.material.dispose(),this.wireframeMaterial&&this.wireframeMaterial.dispose(),this.pickingMaterial&&this.pickingMaterial.dispose(),this.geometry.dispose(),this.wireframeGeometry&&this.wireframeGeometry.dispose()},Object.defineProperties(Ti.prototype,Oh);var Ip=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,i,s),this.vertexShader="Mesh.vert",this.fragmentShader="Mesh.frag",this.addAttributes({normal:{type:"v3",value:i.normal}}),void 0===i.normal&&this.geometry.computeVertexNormals()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(Ti),kM=function(n){function r(){n.apply(this,arguments),this.isSurface=!0}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(Ip);function Eh(n){n.visible=!0}function Uu(n){n.visible=!1}var Id=function(r){this.group=new ko,this.wireframeGroup=new ko,this.pickingGroup=new ko,this.frontMeshes=[],this.backMeshes=[],this.size=r.size,this.side=r.parameters.side,this.visible=r.visible,this.geometry=r.geometry,this.picking=r.picking,this.group=new ko,this.wireframeGroup=new ko,this.pickingGroup=new ko,this.matrix=r.matrix;var i=r,s=new r.constructor({position:new Float32Array(0)});i.makeMaterial(),s.makeMaterial(),s.picking=r.picking,s.geometry=r.geometry,s.wireframeGeometry=r.wireframeGeometry,s.setParameters(r.getParameters()),s.updateShader(),i.setParameters({side:"front"}),s.setParameters({side:"back",opacity:s.parameters.opacity}),this.buffer=r,this.frontBuffer=i,this.backBuffer=s},G_={matrix:{configurable:!0},pickable:{configurable:!0},parameters:{configurable:!0}};G_.matrix.set=function(n){Ti.prototype.setMatrix.call(this,n)},G_.matrix.get=function(){return this.group.matrix.clone()},G_.pickable.get=function(){return!!this.picking&&!this.parameters.disablePicking},G_.parameters.get=function(){return this.buffer.parameters},Id.prototype.getParameters=function(){var r=Object.assign({},this.buffer.parameters);return r.side=this.side,r},Id.prototype.getMesh=function(r){var i,s;return r?(s=this.backBuffer.getPickingMesh(),i=this.frontBuffer.getPickingMesh()):(s=this.backBuffer.getMesh(),i=this.frontBuffer.getMesh()),this.frontMeshes.push(i),this.backMeshes.push(s),this.setParameters({side:this.side}),(new ko).add(s,i)},Id.prototype.getWireframeMesh=function(){return this.buffer.getWireframeMesh()},Id.prototype.getPickingMesh=function(){return this.getMesh(!0)},Id.prototype.setAttributes=function(r){this.buffer.setAttributes(r)},Id.prototype.setParameters=function(r){"front"===(r=Object.assign({},r)).side?(this.frontMeshes.forEach(Eh),this.backMeshes.forEach(Uu)):"back"===r.side?(this.frontMeshes.forEach(Uu),this.backMeshes.forEach(Eh)):"double"===r.side&&(this.frontMeshes.forEach(Eh),this.backMeshes.forEach(Eh)),void 0!==r.side&&(this.side=r.side),delete r.side,void 0!==r.matrix&&(this.matrix=r.matrix),delete r.matrix,this.frontBuffer.setParameters(r),void 0!==r.wireframe&&(this.wireframe=r.wireframe,this.setVisibility(this.visible)),delete r.wireframe,this.backBuffer.setParameters(r)},Id.prototype.setVisibility=function(r){this.visible=r,this.parameters.wireframe?(this.group.visible=!1,this.wireframeGroup.visible=r,this.pickable&&(this.pickingGroup.visible=!1)):(this.group.visible=r,this.wireframeGroup.visible=!1,this.pickable&&(this.pickingGroup.visible=r))},Id.prototype.dispose=function(){this.frontBuffer.dispose(),this.backBuffer.dispose()},Object.defineProperties(Id.prototype,G_),Hi.add("shader/Line.vert","uniform float clipNear;\nuniform vec3 clipCenter;\nvarying vec3 vViewPosition;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#include color_pars_vertex\nvoid main(){\n#include color_vertex\n#include begin_vertex\n#include project_vertex\nvViewPosition = -mvPosition.xyz;\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}"),Hi.add("shader/Line.frag","uniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\nvarying vec3 vViewPosition;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\ngl_FragColor = vec4( vColor, opacity );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n}");var cO=function(n){function r(){n.apply(this,arguments),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag"}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}(Ti),Ff=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="surface",this.parameters=Object.assign({isolevelType:{type:"select",options:{value:"value",sigma:"sigma"}},isolevel:{type:"number",precision:2,max:1e3,min:-1e3},negateIsolevel:{type:"boolean"},isolevelScroll:{type:"boolean"},smooth:{type:"integer",precision:1,max:10,min:0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},boxSize:{type:"integer",precision:1,max:100,min:0},colorVolume:{type:"hidden"},contour:{type:"boolean",rebuild:!0},useWorker:{type:"boolean",rebuild:!0},wrap:{type:"boolean",rebuild:!0}},this.parameters),i instanceof no?(this.surface=void 0,this.volume=i):(this.surface=i,this.volume=void 0),this.boxCenter=new J,this.__boxCenter=new J,this.box=new to,this.__box=new to,this._position=new J,this.setBox=function(){this._position.copy(s.translationGroup.position).negate(),this._position.equals(this.boxCenter)||this.setParameters({boxCenter:this._position})},this.viewer.signals.ticked.add(this.setBox,this),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"uniform"),c.colorValue=it(c.colorValue,14540253),this.isolevelType=it(c.isolevelType,"sigma"),this.isolevel=it(c.isolevel,2),this.negateIsolevel=it(c.negateIsolevel,!1),this.isolevelScroll=it(c.isolevelScroll,!1),this.smooth=it(c.smooth,0),this.background=it(c.background,!1),this.opaqueBack=it(c.opaqueBack,!0),this.boxSize=it(c.boxSize,0),this.colorVolume=it(c.colorVolume,void 0),this.contour=it(c.contour,!1),this.useWorker=it(c.useWorker,!0),this.wrap=it(c.wrap,!1),n.prototype.init.call(this,c),this.build()},r.prototype.attach=function(s){var c=this;this.bufferList.forEach(function(u){c.viewer.add(u)}),this.setVisibility(this.visible),s()},r.prototype.prepare=function(s){var u,c=this;if(this.volume)if(u="sigma"===this.isolevelType?this.volume.getValueForSigma(this.isolevel):this.isolevel,this.negateIsolevel&&(u*=-1),!this.surface||this.__isolevel!==u||this.__smooth!==this.smooth||this.__contour!==this.contour||this.__wrap!==this.wrap||this.__boxSize!==this.boxSize||this.boxSize>0&&!this.__boxCenter.equals(this.boxCenter)){this.__isolevel=u,this.__smooth=this.smooth,this.__contour=this.contour,this.__wrap=this.wrap,this.__boxSize=this.boxSize,this.__boxCenter.copy(this.boxCenter),this.__box.copy(this.box);var f=function(v){c.surface=v,s()};this.useWorker?this.volume.getSurfaceWorker(u,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap,f):f(this.volume.getSurface(u,this.smooth,this.boxCenter,this.boxSize,this.contour,this.wrap))}else s();else s()},r.prototype.create=function(){var c,s={position:this.surface.getPosition(),color:this.surface.getColor(this.getColorParams()),index:this.surface.getIndex()};if(this.contour)c=new cO(s,this.getBufferParams({wireframe:!1}));else{s.normal=this.surface.getNormal(),s.picking=this.surface.getPicking();var u=new kM(s,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1}));c=new Id(u)}this.bufferList.push(c)},r.prototype.update=function(s){if(0!==this.bufferList.length){var c={};(s=s||{}).position&&(c.position=this.surface.getPosition()),s.color&&(c.color=this.surface.getColor(this.getColorParams())),s.index&&(c.index=this.surface.getIndex()),s.normal&&(c.normal=this.surface.getNormal()),this.bufferList.forEach(function(u){u.setAttributes(c)})}},r.prototype.setParameters=function(s,c,u){return s&&void 0!==s.isolevelType&&this.volume&&("value"===this.isolevelType&&"sigma"===s.isolevelType?this.isolevel=this.volume.getSigmaForValue(this.isolevel):"sigma"===this.isolevelType&&"value"===s.isolevelType&&(this.isolevel=this.volume.getValueForSigma(this.isolevel)),this.isolevelType=s.isolevelType),s&&s.boxCenter&&(this.boxCenter.copy(s.boxCenter),delete s.boxCenter),s&&s.wireframe&&(s.contour||void 0===s.contour&&this.contour)&&(s.wireframe=!1),n.prototype.setParameters.call(this,s,c,u),this.volume&&this.volume.getBox(this.boxCenter,this.boxSize,this.box),s&&void 0!==s.colorVolume&&(c.color=!0),this.surface&&(void 0!==s.isolevel||void 0!==s.negateIsolevel||void 0!==s.smooth||void 0!==s.wrap||void 0!==s.boxSize||this.boxSize>0&&!this.__box.equals(this.box))&&this.build({position:!0,color:!0,index:!0,normal:!this.contour}),this},r.prototype.getColorParams=function(){var s=n.prototype.getColorParams.call(this);return s.volume=this.colorVolume,s},r.prototype.dispose=function(){this.viewer.signals.ticked.remove(this.setBox,this),n.prototype.dispose.call(this)},r}(cs),Hr=function(){};Hr.zoomScroll=function(r,i){r.trackballControls.zoom(i)},Hr.clipNearScroll=function(r,i){var s=r.getParameters();r.setParameters({clipNear:s.clipNear+i/10})},Hr.focusScroll=function(r,i){var c=2*r.getParameters().clipNear,f=Math.sign(i)*function(n,r,i){if(n>5)return n;var u=n/5;return(-4.6*u+9.4)*u*u+.2}((100-c)/10);r.setFocus(c+f)},Hr.isolevelScroll=function(r,i){var s=Math.sign(i)/10;r.eachRepresentation(function(c,u){if(c.repr instanceof Ff){var f=c.getParameters();f.isolevelScroll&&c.setParameters({isolevel:f.isolevel+s})}})},Hr.panDrag=function(r,i,s){r.trackballControls.pan(i,s)},Hr.rotateDrag=function(r,i,s){r.trackballControls.rotate(i,s)},Hr.zoomDrag=function(r,i,s){r.trackballControls.zoom((i+s)/-2)},Hr.zoomFocusDrag=function(r,i,s){r.trackballControls.zoom((i+s)/-2),r.setFocus(100-Math.abs(r.viewer.camera.position.z/8))},Hr.panComponentDrag=function(r,i,s){r.trackballControls.panComponent(i,s)},Hr.panAtomDrag=function(r,i,s){r.trackballControls.panAtom(i,s)},Hr.rotateComponentDrag=function(r,i,s){r.trackballControls.rotateComponent(i,s)},Hr.movePick=function(r,i){i&&r.animationControls.move(i.position.clone())},Hr.tooltipPick=function(r,i){var s=r.tooltip;if(r.getParameters().tooltip&&i){var u=i.mouse.position;s.innerText=i.getLabel(),s.style.bottom=window.innerHeight-u.y+3+"px",s.style.left=u.x+3+"px",s.style.display="block"}else s.style.display="none"},Hr.measurePick=function(r,i){i&&(i.atom||i.bond)?i.component.measurePick(i.atom||i.closestBondAtom):r.measureClear()};var m5={default:[["scroll",Hr.zoomScroll],["scroll-ctrl",Hr.clipNearScroll],["scroll-shift",Hr.focusScroll],["scroll-alt",Hr.isolevelScroll],["drag-right",Hr.panDrag],["drag-left",Hr.rotateDrag],["drag-middle",Hr.zoomDrag],["drag-shift-right",Hr.zoomDrag],["drag-left+right",Hr.zoomDrag],["drag-ctrl-right",Hr.panComponentDrag],["drag-ctrl-left",Hr.rotateComponentDrag],["clickPick-alt-left",Hr.measurePick],["clickPick-middle",Hr.movePick],["clickPick-shift-left",Hr.movePick],["hoverPick",Hr.tooltipPick]],pymol:[["drag-left",Hr.rotateDrag],["drag-middle",Hr.panDrag],["drag-right",Hr.zoomDrag],["drag-shift-right",Hr.focusScroll],["clickPick-ctrl+shift-middle",Hr.movePick],["hoverPick",Hr.tooltipPick]],coot:[["scroll",Hr.isolevelScroll],["drag-left",Hr.rotateDrag],["drag-middle",Hr.panDrag],["drag-ctrl-left",Hr.panDrag],["drag-right",Hr.zoomFocusDrag],["drag-ctrl-right",Hr.focusScroll],["clickPick-middle",Hr.movePick],["hoverPick",Hr.tooltipPick]],astexviewer:[["drag-left",Hr.rotateDrag],["drag-ctrl-left",Hr.panDrag],["drag-shift-left",Hr.zoomDrag],["scroll",Hr.focusScroll],["clickPick-middle",Hr.movePick]]};function v5(n){var r=n.split(/[-+]/),i="";r.includes("scroll")&&(i="scroll"),r.includes("drag")&&(i="drag"),r.includes("click")&&(i="click"),r.includes("doubleClick")&&(i="doubleClick"),r.includes("hover")&&(i="hover"),r.includes("clickPick")&&(i="clickPick"),r.includes("hoverPick")&&(i="hoverPick");var s=0;r.includes("alt")&&(s+=1),r.includes("ctrl")&&(s+=2),r.includes("meta")&&(s+=4),r.includes("shift")&&(s+=8);var c=0;return r.includes("left")&&(c+=1),r.includes("right")&&(c+=2),r.includes("middle")&&(c+=4),[i,s,c]}var Fa=function(r,i){void 0===i&&(i={}),this.stage=r,this.actionList=[],this.mouse=r.mouseObserver,this.disabled=i.disabled||!1,this.preset(i.preset||"default")};Fa.prototype.run=function(r){for(var i=this,s=[],c=arguments.length-1;c-- >0;)s[c]=arguments[c+1];if(!this.disabled){var u=this.mouse.key||0,f=this.mouse.buttons||0;this.actionList.forEach(function(v){v.type===r&&v.key===u&&v.button===f&&v.callback.apply(v,[i.stage].concat(s))})}},Fa.prototype.add=function(r,i){var s=v5(r);this.actionList.push({type:s[0],key:s[1],button:s[2],callback:i})},Fa.prototype.remove=function(r,i){var s=r.includes("*"),c=v5(r),u=c[0],f=c[1],v=c[2],_=this.actionList.filter(function(y){return!((y.type===u||s&&""===u)&&(y.key===f||s&&0===f)&&(y.button===v||s&&0===v)&&(y.callback===i||void 0===i))});this.actionList=_},Fa.prototype.preset=function(r){var i=this;this.clear(),(m5[r]||[]).forEach(function(c){return i.add(c[0],c[1])})},Fa.prototype.clear=function(){this.actionList.length=0};var Fs=function(){};Fs.autoView=function(r){r.autoView(1e3)},Fs.toggleAnimations=function(r){r.animationControls.toggle()},Fs.toggleRock=function(r){r.toggleRock()},Fs.toggleSpin=function(r){r.toggleSpin()},Fs.toggleAntialiasing=function(r){var i=r.getParameters();r.setParameters({sampleLevel:-1===i.sampleLevel?0:-1})};var Rp={default:[["i",Fs.toggleSpin],["k",Fs.toggleRock],["p",Fs.toggleAnimations],["a",Fs.toggleAntialiasing],["r",Fs.autoView]]},Vu=function(r,i){void 0===i&&(i={}),this.stage=r,this.actionList=[],this.disabled=i.disabled||!1,this.preset(i.preset||"default")};Vu.prototype.run=function(r){var i=this;this.disabled||this.actionList.forEach(function(s){s.keyCode===r&&s.callback(i.stage)})},Vu.prototype.add=function(r,i){var s=r.charCodeAt(0);this.actionList.push({keyCode:s,callback:i})},Vu.prototype.remove=function(r,i){var s=r.charCodeAt(0),c=this.actionList.filter(function(u){return!(u.keyCode===s&&(u.callback===i||void 0===i))});this.actionList=c},Vu.prototype.preset=function(r){var i=this;this.clear(),(Rp[r]||[]).forEach(function(c){return i.add(c[0],c[1])})},Vu.prototype.clear=function(){this.actionList.length=0};var zu=function(r){this.stage=r,this.stage=r,this.mouse=r.mouseObserver,this.controls=r.mouseControls,this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this)};zu.prototype._onClick=function(r,i){var s=this.stage.pickingControls.pick(r,i);this.stage.signals.clicked.dispatch(s),this.controls.run("clickPick",s)},zu.prototype._onHover=function(r,i){var s=this.stage.pickingControls.pick(r,i);s&&this.mouse.down.equals(this.mouse.position)&&(this.stage.transformComponent=s.component,this.stage.transformAtom=s.atom),this.stage.signals.hovered.dispatch(s),this.controls.run("hoverPick",s)},zu.prototype.dispose=function(){this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var Na=function(r){this.stage=r,this.stage=r,this.mouse=r.mouseObserver,this.controls=r.mouseControls,this.mouse.signals.moved.add(this._onMove,this),this.mouse.signals.scrolled.add(this._onScroll,this),this.mouse.signals.dragged.add(this._onDrag,this),this.mouse.signals.clicked.add(this._onClick,this),this.mouse.signals.hovered.add(this._onHover,this),this.mouse.signals.doubleClicked.add(this._onDblclick,this)};Na.prototype._onMove=function(){this.stage.tooltip.style.display="none"},Na.prototype._onScroll=function(r){this.controls.run("scroll",r)},Na.prototype._onDrag=function(r,i){this.controls.run("drag",r,i)},Na.prototype._onClick=function(r,i){this.controls.run("click",r,i)},Na.prototype._onDblclick=function(r,i){this.controls.run("doubleClick",r,i)},Na.prototype._onHover=function(r,i){this.controls.run("hover",r,i)},Na.prototype.dispose=function(){this.mouse.signals.moved.remove(this._onMove,this),this.mouse.signals.scrolled.remove(this._onScroll,this),this.mouse.signals.dragged.remove(this._onDrag,this),this.mouse.signals.clicked.remove(this._onClick,this),this.mouse.signals.hovered.remove(this._onHover,this)};var ky=function(r){this.stage=r,this.viewer=r.viewer,this.animationControls=r.animationControls,this.viewer.signals.ticked.add(this._onTick,this)};ky.prototype._onTick=function(r){this.animationControls.run(r)},ky.prototype.dispose=function(){this.viewer.signals.ticked.remove(this._onTick,this)};var Rd=!!vw&&{passive:!0},kd=function(r){this.stage=r,this.stage=r,this.controls=r.keyControls,this.domElement=r.viewer.renderer.domElement,this.domElement.setAttribute("tabIndex","-1"),this.domElement.style.outline="none",this._focusDomElement=this._focusDomElement.bind(this),this._onKeydown=this._onKeydown.bind(this),this._onKeyup=this._onKeyup.bind(this),this._onKeypress=this._onKeypress.bind(this),this.domElement.addEventListener("mousedown",this._focusDomElement),this.domElement.addEventListener("touchstart",this._focusDomElement,Rd),this.domElement.addEventListener("keydown",this._onKeydown),this.domElement.addEventListener("keyup",this._onKeyup),this.domElement.addEventListener("keypress",this._onKeypress)};kd.prototype._onKeydown=function(){},kd.prototype._onKeyup=function(){},kd.prototype._onKeypress=function(r){this.controls.run(r.keyCode)},kd.prototype._focusDomElement=function(){this.domElement.focus()},kd.prototype.dispose=function(){this.domElement.removeEventListener("mousedown",this._focusDomElement),this.domElement.removeEventListener("touchstart",this._focusDomElement,Rd),this.domElement.removeEventListener("keydown",this._onKeypress),this.domElement.removeEventListener("keyup",this._onKeypress),this.domElement.removeEventListener("keypress",this._onKeypress)};var Nf=function(r,i,s,c){void 0===c&&(c={}),this.component=r,this.position=i,this.offsetX=it(c.offsetX,0),this.offsetY=it(c.offsetY,0),this.visible=it(c.visible,!0),this.stage=r.stage,this.viewer=r.stage.viewer,this._viewerPosition=new J,this._updateViewerPosition(),this._canvasPosition=new ce,this._cameraPosition=new J,this.element=document.createElement("div"),Object.assign(this.element.style,{display:"block",position:"fixed",zIndex:1+parseInt(this.viewer.container.style.zIndex||"0"),pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif",left:"-10000px"}),this.viewer.container.appendChild(this.element),this.setContent(s),this.updateVisibility(),this.viewer.signals.ticked.add(this._update,this),this.component.signals.matrixChanged.add(this._updateViewerPosition,this)};Nf.prototype.setContent=function(r){var i=this.element.style.display;"none"===i&&(this.element.style.left="-10000px",this.element.style.display="block"),r instanceof HTMLElement?(this.element.innerHTML="",this.element.appendChild(r)):this.element.innerHTML=r,this._clientRect=this.element.getBoundingClientRect(),"none"===i&&(this.element.style.display=i)},Nf.prototype.setVisibility=function(r){this.visible=r,this.updateVisibility()},Nf.prototype.getVisibility=function(){return this.visible&&this.component.parameters.visible},Nf.prototype.updateVisibility=function(){this.element.style.display=this.getVisibility()?"block":"none"},Nf.prototype._updateViewerPosition=function(){this._viewerPosition.copy(this.position).applyMatrix4(this.component.matrix)},Nf.prototype._update=function(){if(this.getVisibility()){var r=this.element.style,i=this._canvasPosition,s=this._viewerPosition,c=this._clientRect;if(this._cameraPosition.copy(s).add(this.viewer.translationGroup.position).applyMatrix4(this.viewer.rotationGroup.matrix).sub(this.viewer.camera.position),this._cameraPosition.z<0)return void(r.display="none");r.display="block";var u=this.viewer.scene.fog;r.opacity=(1-qC(u.near,u.far,this._cameraPosition.length())).toString(),this.stage.viewerControls.getPositionOnCanvas(s,i),r.bottom=this.offsetX+i.y+c.height/2+"px",r.left=this.offsetY+i.x-c.width/2+"px"}},Nf.prototype.dispose=function(){this.viewer.container.removeChild(this.element),this.viewer.signals.ticked.remove(this._update,this),this.component.signals.matrixChanged.remove(this._updateViewerPosition,this)};var Bf=new ye,kp=new J,lO=new Wr,j_=function(r){this.component=r,this.signals={changed:new Br},this.stage=r.stage,this.viewer=r.stage.viewer},LM={position:{configurable:!0},rotation:{configurable:!0}};LM.position.get=function(){return this.component.position},LM.rotation.get=function(){return this.component.quaternion},j_.prototype.changed=function(){this.component.updateMatrix(),this.viewer.requestRender(),this.signals.changed.dispatch()},j_.prototype.spin=function(r,i){Bf.getInverse(this.viewer.rotationGroup.matrix),kp.copy(bf(r)).applyMatrix4(Bf),Bf.extractRotation(this.component.transform),Bf.premultiply(this.viewer.rotationGroup.matrix),Bf.getInverse(Bf),kp.copy(bf(r)),kp.applyMatrix4(Bf),Bf.makeRotationAxis(kp,i),lO.setFromRotationMatrix(Bf),this.component.quaternion.premultiply(lO),this.changed()},Object.defineProperties(j_.prototype,LM);var FM={"":"",vdw:"by vdW radius",covalent:"by covalent radius",sstruc:"by secondary structure",bfactor:"by bfactor",size:"size",data:"data"},Hu=function(r){void 0===r&&(r={}),this.max=10,this.type=it(r.type,"size"),this.scale=it(r.scale,1),this.size=it(r.size,1),this.data=it(r.data,{})};Hu.prototype.atomRadius=function(r){var i;switch(this.type){case"vdw":i=r.vdw;break;case"covalent":i=r.covalent;break;case"bfactor":i=r.bfactor||1;break;case"sstruc":var s=r.sstruc;i="h"===s||"g"===s||"i"===s||"e"===s||"b"===s?.25:Xc.includes(r.atomname)?.4:.1;break;case"data":i=it(this.data[r.index],1);break;default:i=this.size}return Math.min(i*this.scale,this.max)},Hu.types=FM;var JS=new J(-1,-1,-1),tA=new ye,Ly=function(r){var i=r.rows,s=i/3,c=new zo(i,3),u=new zo(3,3),f=new zo(1,3),v=new zo(3,3),_=new zo(3,3),y=AM(r);Tm(r,y),wh(c,r),Ap(u,c,c),sO(u,f,v,_);var C=new J(y[0],y[1],y[2]),P=new J(v.data[0],v.data[3],v.data[6]),w=new J(v.data[1],v.data[4],v.data[7]),E=new J(v.data[2],v.data[5],v.data[8]),S=P.clone().multiplyScalar(Math.sqrt(f.data[0]/s)),I=w.clone().multiplyScalar(Math.sqrt(f.data[1]/s)),L=E.clone().multiplyScalar(Math.sqrt(f.data[2]/s));this.begA=C.clone().sub(S),this.endA=C.clone().add(S),this.begB=C.clone().sub(I),this.endB=C.clone().add(I),this.begC=C.clone().sub(L),this.endC=C.clone().add(L),this.center=C,this.vecA=S,this.vecB=I,this.vecC=L,this.normVecA=P,this.normVecB=w,this.normVecC=E};Ly.prototype.getBasisMatrix=function(r){void 0===r&&(r=new ye);var i=r;return i.makeBasis(this.normVecB,this.normVecA,this.normVecC),i.determinant()<0&&i.scale(JS),i},Ly.prototype.getRotationQuaternion=function(r){void 0===r&&(r=new Wr);var i=r;return i.setFromRotationMatrix(this.getBasisMatrix(tA)),i.inverse()},Ly.prototype.getProjectedScaleForAtoms=function(r){var i=-1/0,s=-1/0,c=-1/0,u=-1/0,f=-1/0,v=-1/0,_=new J,y=new J,C=this.center,P=this.normVecA,w=this.normVecB,E=this.normVecC;return r.eachAtom(function(S){Af(_.copy(S),P,C);var I=y.subVectors(_,C).normalize().dot(P),L=_.distanceTo(C);I>0?L>i&&(i=L):L>s&&(s=L),Af(_.copy(S),w,C);var B=y.subVectors(_,C).normalize().dot(w),V=_.distanceTo(C);B>0?V>c&&(c=V):V>u&&(u=V),Af(_.copy(S),E,C);var N=y.subVectors(_,C).normalize().dot(E),F=_.distanceTo(C);N>0?F>f&&(f=F):F>v&&(v=F)}),{d1a:i,d2a:c,d3a:f,d1b:-s,d2b:-u,d3b:-v}};var Cl=function(r,i,s,c){this.volume=r,this.setFilter(i,s,c)},Ld={header:{configurable:!0},matrix:{configurable:!0},normalMatrix:{configurable:!0},inverseMatrix:{configurable:!0},center:{configurable:!0},boundingBox:{configurable:!0},min:{configurable:!0},max:{configurable:!0},mean:{configurable:!0},rms:{configurable:!0}};Ld.header.get=function(){return this.volume.header},Ld.matrix.get=function(){return this.volume.matrix},Ld.normalMatrix.get=function(){return this.volume.normalMatrix},Ld.inverseMatrix.get=function(){return this.volume.inverseMatrix},Ld.center.get=function(){return this.volume.center},Ld.boundingBox.get=function(){return this.volume.boundingBox},Ld.min.get=function(){return this.volume.min},Ld.max.get=function(){return this.volume.max},Ld.mean.get=function(){return this.volume.mean},Ld.rms.get=function(){return this.volume.rms},Cl.prototype._getFilterHash=function(r,i,s){return JSON.stringify([r,i,s])},Cl.prototype.setFilter=function(r,i,s){isNaN(r)&&this.header&&(r=this.header.DMEAN+2*this.header.ARMS),r=void 0===r||isNaN(r)?-1/0:r,i=it(i,1/0),s=it(s,!1);var c=this.volume.data,u=this.volume.position,f=this.volume.atomindex,v=this._getFilterHash(r,i,s);if(v!==this._filterHash){if(r===-1/0&&i===1/0)this.data=c,this.position=u,this.atomindex=f;else{var _=c.length;this._dataBuffer||(this._dataBuffer=new ArrayBuffer(4*_),this._positionBuffer=new ArrayBuffer(3*_*4),f&&(this._atomindexBuffer=new ArrayBuffer(4*_)));var P,y=new Float32Array(this._dataBuffer),C=new Float32Array(this._positionBuffer);f&&(P=new Uint32Array(this._atomindexBuffer));for(var w=0,E=0;E<_;++E){var S=3*E,I=c[E];if(!s&&I>=r&&I<=i||s&&(I<r||I>i)){var L=3*w;y[w]=I,C[L+0]=u[S+0],C[L+1]=u[S+1],C[L+2]=u[S+2],f&&(P[w]=f[E]),w+=1}}this.data=new Float32Array(this._dataBuffer,0,w),this.position=new Float32Array(this._positionBuffer,0,3*w),f&&(this.atomindex=new Float32Array(this._atomindexBuffer,0,w))}this._filterHash=v}},Object.defineProperties(Cl.prototype,Ld),Cl.prototype.getValueForSigma=no.prototype.getValueForSigma,Cl.prototype.getSigmaForValue=no.prototype.getSigmaForValue,Cl.prototype.getDataAtomindex=no.prototype.getDataAtomindex,Cl.prototype.getDataPosition=no.prototype.getDataPosition,Cl.prototype.getDataColor=no.prototype.getDataColor,Cl.prototype.getDataPicking=no.prototype.getDataPicking,Cl.prototype.getDataSize=no.prototype.getDataSize;var eA=function(r,i){var s=T_({nodeArray1:r.atomIndex1,nodeArray2:r.atomIndex2,edgeCount:r.count,nodeCount:i});this.countArray=s.countArray,this.offsetArray=s.offsetArray,this.indexArray=s.indexArray},NM=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["atomIndex1",1,"int32"],["atomIndex2",1,"int32"],["bondOrder",1,"int8"]]},r.prototype.addBond=function(c,u,f){this.growIfFull();var v=this.count,_=c.index,y=u.index;_<y?(this.atomIndex1[v]=_,this.atomIndex2[v]=y):(this.atomIndex2[v]=_,this.atomIndex1[v]=y),f&&(this.bondOrder[v]=f),this.count+=1},r.prototype.addBondIfConnected=function(c,u,f){return!!c.connectedTo(u)&&(this.addBond(c,u,f),!0)},Object.defineProperties(r.prototype,i),r}(Ec),nA=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["residueIndex",1,"uint32"],["atomTypeId",1,"uint16"],["x",1,"float32"],["y",1,"float32"],["z",1,"float32"],["serial",1,"int32"],["bfactor",1,"float32"],["altloc",1,"uint8"],["occupancy",1,"float32"]]},r.prototype.setAltloc=function(c,u){this.altloc[c]=u.charCodeAt(0)},r.prototype.getAltloc=function(c){var u=this.altloc[c];return u?String.fromCharCode(u):""},Object.defineProperties(r.prototype,i),r}(Ec),_5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["chainIndex",1,"uint32"],["atomOffset",1,"uint32"],["atomCount",1,"uint16"],["residueTypeId",1,"uint16"],["resno",1,"int32"],["sstruc",1,"uint8"],["inscode",1,"uint8"]]},r.prototype.setSstruc=function(c,u){this.sstruc[c]=u.charCodeAt(0)},r.prototype.getSstruc=function(c){var u=this.sstruc[c];return u?String.fromCharCode(u):""},r.prototype.setInscode=function(c,u){this.inscode[c]=u.charCodeAt(0)},r.prototype.getInscode=function(c){var u=this.inscode[c];return u?String.fromCharCode(u):""},Object.defineProperties(r.prototype,i),r}(Ec),rA=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["entityIndex",1,"uint16"],["modelIndex",1,"uint16"],["residueOffset",1,"uint32"],["residueCount",1,"uint32"],["chainname",4,"uint8"],["chainid",4,"uint8"]]},r.prototype.setChainname=function(c,u){var f=4*c;this.chainname[f]=u.charCodeAt(0),this.chainname[f+1]=u.charCodeAt(1),this.chainname[f+2]=u.charCodeAt(2),this.chainname[f+3]=u.charCodeAt(3)},r.prototype.getChainname=function(c){for(var f="",v=0;v<4;++v){var _=this.chainname[4*c+v];if(!_)break;f+=String.fromCharCode(_)}return f},r.prototype.setChainid=function(c,u){var f=4*c;this.chainid[f]=u.charCodeAt(0),this.chainid[f+1]=u.charCodeAt(1),this.chainid[f+2]=u.charCodeAt(2),this.chainid[f+3]=u.charCodeAt(3)},r.prototype.getChainid=function(c){for(var f="",v=0;v<4;++v){var _=this.chainid[4*c+v];if(!_)break;f+=String.fromCharCode(_)}return f},Object.defineProperties(r.prototype,i),r}(Ec),iA=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={_defaultFields:{configurable:!0}};return i._defaultFields.get=function(){return[["chainOffset",1,"uint32"],["chainCount",1,"uint32"]]},Object.defineProperties(r.prototype,i),r}(Ec),xs=function(r){this.polymer=r,this.size=r.residueCount};xs.prototype.getCenterIterator=function(r){void 0===r&&(r=0);var i=this.getPosition().center,s=i.length/3,c=0,u=-1,f=[new J,new J,new J,new J];return{size:s,next:function(){var C=this.get(u);return u+=1,C},get:function(C){C=Math.min(s-1,Math.max(0,C));var P=f[c%4],w=3*C;if(P.fromArray(i,w),r){for(var E=Math.min(r,C,s-C-1),S=1;S<=E;++S){var I=3*S,L=(E+1-S)/(E+1);P.x+=L*i[w-I+0]+L*i[w+I+0],P.y+=L*i[w-I+1]+L*i[w+I+1],P.z+=L*i[w-I+2]+L*i[w+I+2]}P.x/=E+1,P.y/=E+1,P.z/=E+1}return c+=1,P},reset:function(){c=0,u=-1}}},xs.prototype.getColor=function(r){var i=this.polymer,s=i.structure,c=i.residueCount,u=i.residueIndexStart,f=new Float32Array(3*c),v=r||{};v.structure=s;for(var _=Xr.getScheme(v),y=s.getResidueProxy(),C=s.getAtomProxy(),P=0;P<c;++P)y.index=u+P,C.index=y.traceAtomIndex,_.atomColorToArray(C,f,3*P);return{color:f}},xs.prototype.getPicking=function(){for(var r=this.polymer,i=r.structure,s=r.residueCount,c=r.residueIndexStart,u=new Float32Array(s),f=i.getResidueProxy(),v=0;v<s;++v)f.index=c+v,u[v]=f.traceAtomIndex;return{picking:new Ph(u,i)}},xs.prototype.getSize=function(r){for(var i=this.polymer,s=i.structure,c=i.residueCount,u=i.residueIndexStart,f=new Float32Array(c),v=new Hu(r),_=s.getResidueProxy(),y=s.getAtomProxy(),C=0;C<c;++C)_.index=u+C,y.index=_.traceAtomIndex,f[C]=v.atomRadius(y);return{size:f}},xs.prototype.getPosition=function(){for(var w,E,S,I,L,r=this.polymer,i=r.structure,s=r.residueCount,c=s-3,u=new Float32Array(3*s),f=new Float32Array(3*s),v=new Float32Array(s),_=new Float32Array(s),y=new Float32Array(s),C=new Float32Array(s),P=new Float32Array(3*s),B=new J,V=new J,N=new J,F=new J,z=new J,G=new J,q=new J,Y=new J,X=new J,$=new J,tt=new J,ot=new J(0,0,0),nt="trace",et=i.getAtomProxy(),vt=i.getAtomProxy(r.getAtomIndexByType(0,nt)),dt=i.getAtomProxy(r.getAtomIndexByType(1,nt)),Dt=i.getAtomProxy(r.getAtomIndexByType(2,nt)),Et=0;Et<c;++Et)et.index=vt.index,vt.index=dt.index,dt.index=Dt.index,Dt.index=r.getAtomIndexByType(Et+3,nt),E=3*Et,B.subVectors(vt,et),V.subVectors(dt,vt),N.subVectors(Dt,dt),F.subVectors(B,V),z.subVectors(V,N),X.crossVectors(F,z).normalize(),X.toArray(f,E),Et>0&&(v[Et]=X.angleTo($)),w=Math.cos(F.angleTo(z)),C[Et]=180/Math.PI*Math.acos(w),I=F.length(),L=z.length(),_[Et]=Math.sqrt(L*I)/Math.max(2,2*(1-w)),y[Et]=Math.abs(V.dot(X)),G.copy(F).multiplyScalar(_[Et]/I),q.copy(z).multiplyScalar(_[Et]/L),G.subVectors(vt,G),q.subVectors(dt,q),G.toArray(u,E+3),q.toArray(u,E+6),tt.subVectors(et,ot),tt.toArray(P,E),$.copy(X),ot.copy(G);for(G.fromArray(u,3),q.fromArray(u,6),X.subVectors(G,q).normalize(),et.index=r.getAtomIndexByType(0,nt),ot.copy(et),Y.copy(et),Af(Y,X,G),Y.toArray(u,0),tt.subVectors(ot,G),tt.toArray(P,0),G.fromArray(u,3*s-6),q.fromArray(u,3*s-9),X.subVectors(G,q).normalize(),et.index=r.getAtomIndexByType(s-1,nt),ot.copy(et),Y.copy(et),Af(Y,X,G),Y.toArray(u,3*s-3),S=s-3;S<s;++S)G.fromArray(u,3*S),et.index=r.getAtomIndexByType(S,nt),ot.copy(et),tt.subVectors(ot,G),tt.toArray(P,3*S);var Mt=new Float32Array(s),st=new Float32Array(s),ht=new Float32Array(s),Ft=new Float32Array(s);Mt[1]=_[0],st[1]=C[0],ht[1]=_[0];for(var Lt=2;Lt<s-2;++Lt)Mt[Lt]=.5*(_[Lt-2]+_[Lt-1]),st[Lt]=.5*(C[Lt-2]+C[Lt-1]),ht[Lt]=.5*(y[Lt-2]+y[Lt-1]),G.fromArray(f,3*(Lt-2)),q.fromArray(f,3*(Lt-1)),Ft[Lt]=180/Math.PI*Math.acos(Math.cos(G.angleTo(q)));Mt[s-2]=_[s-4],st[s-2]=C[s-4],ht[s-2]=y[s-4];var $t=new Float32Array(3*s);for(Zl(f,$t,0,0,3),Zl(f,$t,0,3,3),S=2;S<s-2;++S)G.fromArray(f,3*(S-2)),q.fromArray(f,3*(S-1)),X.addVectors(q,G).multiplyScalar(.5).normalize(),X.toArray($t,3*S);return Zl(f,$t,3*s-12,3*s-6,3),Zl(f,$t,3*s-12,3*s-3,3),{center:u,axis:$t,bending:Ft,radius:Mt,rise:ht,twist:st,resdir:P}};var oc=function(r){this.polymer=r,this.helixorient=new xs(r),this.position=this.helixorient.getPosition()};oc.prototype.getAxis=function(r,i,s,c,u){r=r||30,i=i||2.5,s=void 0!==s&&s;var f=this.polymer,v=f.structure,_=f.residueCount,y=f.residueIndexStart,C=this.position,P=c||{};P.structure=v;for(var tt,ot,w=Xr.getScheme(P),E=new Hu(u),S=0,I=0,L=[],B=[],V=[],N=[],F=[],z=[],G=[],q=[],Y=[],X=[],$=[],nt=new J,et=new J,vt=v.getResidueProxy(),dt=v.getResidueProxy(),Dt=v.getAtomProxy(),Et=new J,Mt=new J,st=!1,ht=0;ht<_;++ht)if(vt.index=y+ht,Et.fromArray(C.center,3*ht),ht===_-1?st=!0:(dt.index=y+ht+1,Mt.fromArray(C.center,3*ht+3),(s&&vt.sstruc!==dt.sstruc||Et.distanceTo(Mt)>i||C.bending[ht]>r)&&(st=!0)),st){if(ht-S<4){S=ht,st=!1;continue}Dt.index=vt.traceAtomIndex,X=C.axis.subarray(3*S+3,3*ht),$=C.center.subarray(3*S,3*ht+3),tt=fy(X).normalize(),ot=fy($),nt.fromArray($),Af(nt,tt,ot),et.fromArray($,$.length-3),Af(et,tt,ot),tt.subVectors(et,nt),tt.toArray(L,I),ot.toArray(B,I),nt.toArray(V,I),et.toArray(N,I),w.atomColorToArray(Dt,F,I),z.push(Dt.index),G.push(E.atomRadius(Dt)),q.push(y+S),Y.push(y+ht+1-S),I+=3,S=ht,st=!1}var Ft=new Float32Array(z);return{axis:new Float32Array(L),center:new Float32Array(B),begin:new Float32Array(V),end:new Float32Array(N),color:new Float32Array(F),picking:new Ph(Ft,v),size:new Float32Array(G),residueOffset:q,residueCount:Y}};var Sh=function(r){this.scoreFunction=r,this.content=[],this.scoreFunction=r};Sh.prototype.push=function(r){this.content.push(r),this.bubbleUp(this.content.length-1)},Sh.prototype.pop=function(){var r=this.content[0],i=this.content.pop();return i&&this.content.length>0&&(this.content[0]=i,this.sinkDown(0)),r},Sh.prototype.peek=function(){return this.content[0]},Sh.prototype.remove=function(r){for(var i=this,s=this.content.length,c=0;c<s;c++)if(i.content[c]===r){var u=i.content.pop();return void(u&&c!==s-1&&(i.content[c]=u,i.scoreFunction(u)<i.scoreFunction(r)?i.bubbleUp(c):i.sinkDown(c)))}throw new Error("Node not found.")},Sh.prototype.size=function(){return this.content.length},Sh.prototype.bubbleUp=function(r){for(var i=this,s=this.content[r];r>0;){var c=Math.floor((r+1)/2)-1,u=i.content[c];if(!(i.scoreFunction(s)<i.scoreFunction(u)))break;i.content[c]=s,i.content[r]=u,r=c}},Sh.prototype.sinkDown=function(r){for(var i=this,s=this.content.length,c=this.content[r],u=this.scoreFunction(c),f=0;;){var _=2*(r+1),y=_-1,C=null;if(y<s&&(f=i.scoreFunction(i.content[y]))<u&&(C=y),_<s&&i.scoreFunction(i.content[_])<(null===C?u:f)&&(C=_),null===C)break;i.content[r]=i.content[C],i.content[C]=c,r=C}};var W_=function(r,i){this.points=r,this.metric=i,this.maxDepth=0,this.currentNode=0;for(var s=r.length/3,c=new Uint32Array(s),u=0;u<s;++u)c[u]=u;this.indices=c,this.nodes=new Int32Array(4*s),this.rootIndex=this.buildTree(0,-1,0,s)};W_.prototype.buildTree=function(r,i,s,c){r>this.maxDepth&&(this.maxDepth=r);var u=c-s;if(0===u)return-1;var f=4*this.currentNode,v=this.nodes;if(this.currentNode+=1,1===u)return v[f]=s,v[f+1]=-1,v[f+2]=-1,v[f+3]=i,f;for(var w,E,S,I,L,_=this.indices,y=this.points,C=s+Math.floor(u/2),P=r%3,B=s,V=c-1;V>B;){for(I=y[3*_[S=B+V>>1]+P],E=_[S],_[S]=_[V],_[V]=E,L=B,w=B;w<V;++w)y[3*_[w]+P]<I&&(E=_[L],_[L]=_[w],_[w]=E,++L);if(E=_[V],_[V]=_[L],_[L]=E,C===(S=L))break;C<S?V=S-1:B=S+1}return v[f]=C,v[f+1]=this.buildTree(r+1,f,s,C),v[f+2]=this.buildTree(r+1,f,C+1,c),v[f+3]=i,f},W_.prototype.getNodeDepth=function(r){var i=this.nodes[r+3];return-1===i?0:this.getNodeDepth(i)+1},W_.prototype.nearest=function(r,i,s){var c=this,u=new Sh(function(E){return-E[1]}),f=this.nodes,v=this.points,_=this.indices,y=function(E){var S,I,L=c.getNodeDepth(E)%3,B=3*_[f[E]],V=[v[B+0],v[B+1],v[B+2]],N=c.metric(r,V);function F($,tt){u.push([$,tt]),u.size()>i&&u.pop()}var z=f[E+1],G=f[E+2];if(-1!==G||-1!==z){y(S=-1===G?z:-1===z?G:r[L]<=v[B+L]?z:G),(u.size()<i||N<u.peek()[1])&&N<=s&&F(E,N);for(var q=[],Y=0;Y<3;Y+=1)q[Y]=Y===L?r[Y]:v[B+Y];var X=c.metric(q,V);(u.size()<i||Math.abs(X)<u.peek()[1])&&Math.abs(X)<=s&&-1!==(I=S===z?G:z)&&y(I)}else(u.size()<i||N<u.peek()[1])&&N<=s&&F(E,N)};y(this.rootIndex);for(var C=[],P=0,w=Math.min(u.size(),i);P<w;P+=1)C.push(u.content[P]);return C},W_.prototype.verify=function(r,i){void 0===i&&(i=0);var s=1;if(void 0===r&&(r=this.rootIndex),-1===r)throw new Error("node is null");var c=i%3,u=this.nodes,f=this.points,v=this.indices,_=u[r+1],y=u[r+2];if(-1!==_){if(f[3*v[u[_]]+c]>f[3*v[u[r]]+c])throw new Error("left child is > parent!");s+=this.verify(_,i+1)}if(-1!==y){if(f[3*v[u[y]]+c]<f[3*v[u[r]]+c])throw new Error("right child is < parent!");s+=this.verify(y,i+1)}return s};var In=function(r,i){void 0===i&&(i=0),this.structure=r,this.index=i,this.chainStore=r.chainStore,this.residueStore=r.residueStore,this.atomStore=r.atomStore,this.residueMap=r.residueMap,this.atomMap=r.atomMap},$r={bondHash:{configurable:!0},entity:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},chainIndex:{configurable:!0},residue:{configurable:!0},residueIndex:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},resno:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},residueType:{configurable:!0},atomType:{configurable:!0},residueAtomOffset:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},atomname:{configurable:!0},number:{configurable:!0},element:{configurable:!0},vdw:{configurable:!0},covalent:{configurable:!0},x:{configurable:!0},y:{configurable:!0},z:{configurable:!0},serial:{configurable:!0},bfactor:{configurable:!0},occupancy:{configurable:!0},altloc:{configurable:!0},partialCharge:{configurable:!0},formalCharge:{configurable:!0},aromatic:{configurable:!0},bondCount:{configurable:!0}};function oA(n,r){var i=n[0]-r[0],s=n[1]-r[1],c=n[2]-r[2];return i*i+s*s+c*c}function sA(n,r){return Math.sqrt(oA(n,r))}$r.bondHash.get=function(){return this.structure.bondHash},$r.entity.get=function(){return this.structure.entityList[this.entityIndex]},$r.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},$r.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},$r.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndex]},$r.residue.get=function(){return console.warn("residue - might be expensive"),this.structure.getResidueProxy(this.residueIndex)},$r.residueIndex.get=function(){return this.atomStore.residueIndex[this.index]},$r.residueIndex.set=function(n){this.atomStore.residueIndex[this.index]=n},$r.sstruc.get=function(){return this.residueStore.getSstruc(this.residueIndex)},$r.inscode.get=function(){return this.residueStore.getInscode(this.residueIndex)},$r.resno.get=function(){return this.residueStore.resno[this.residueIndex]},$r.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},$r.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},$r.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.residueIndex])},$r.atomType.get=function(){return this.atomMap.get(this.atomStore.atomTypeId[this.index])},$r.residueAtomOffset.get=function(){return this.residueStore.atomOffset[this.residueIndex]},$r.resname.get=function(){return this.residueType.resname},$r.hetero.get=function(){return this.residueType.hetero},$r.atomname.get=function(){return this.atomType.atomname},$r.number.get=function(){return this.atomType.number},$r.element.get=function(){return this.atomType.element},$r.vdw.get=function(){return this.atomType.vdw},$r.covalent.get=function(){return this.atomType.covalent},$r.x.get=function(){return this.atomStore.x[this.index]},$r.x.set=function(n){this.atomStore.x[this.index]=n},$r.y.get=function(){return this.atomStore.y[this.index]},$r.y.set=function(n){this.atomStore.y[this.index]=n},$r.z.get=function(){return this.atomStore.z[this.index]},$r.z.set=function(n){this.atomStore.z[this.index]=n},$r.serial.get=function(){return this.atomStore.serial[this.index]},$r.serial.set=function(n){this.atomStore.serial[this.index]=n},$r.bfactor.get=function(){return this.atomStore.bfactor[this.index]},$r.bfactor.set=function(n){this.atomStore.bfactor[this.index]=n},$r.occupancy.get=function(){return this.atomStore.occupancy[this.index]},$r.occupancy.set=function(n){this.atomStore.occupancy[this.index]=n},$r.altloc.get=function(){return this.atomStore.getAltloc(this.index)},$r.altloc.set=function(n){this.atomStore.setAltloc(this.index,n)},$r.partialCharge.get=function(){return this.atomStore.partialCharge?this.atomStore.partialCharge[this.index]:null},$r.partialCharge.set=function(n){this.atomStore.partialCharge&&(this.atomStore.partialCharge[this.index]=n)},$r.formalCharge.get=function(){return this.atomStore.formalCharge?this.atomStore.formalCharge[this.index]:null},$r.formalCharge.set=function(n){this.atomStore.formalCharge&&(this.atomStore.formalCharge[this.index]=n)},$r.aromatic.get=function(){return this.atomStore.aromatic?this.atomStore.aromatic[this.index]:this.residueType.isAromatic(this)?1:0},$r.aromatic.set=function(n){this.atomStore.aromatic&&(this.atomStore.aromatic[this.index]=n)},$r.bondCount.get=function(){return this.bondHash.countArray[this.index]},In.prototype.eachBond=function(r,i){i=i||this.structure._bp;for(var s=this.index,c=this.bondHash,u=c.indexArray,f=c.countArray[s],v=c.offsetArray[s],_=0;_<f;++_)i.index=u[v+_],r(i)},In.prototype.eachBondedAtom=function(r,i){var s=i||this.structure._ap,c=this.index;this.eachBond(function(u){s.index=c!==u.atomIndex1?u.atomIndex1:u.atomIndex2,r(s)}),this.index=c},In.prototype.hasBondTo=function(r){var i=!1;return this.eachBondedAtom(function(s){r.index===s.index&&(i=!0)}),i},In.prototype.bondToElementCount=function(r){var i=0,s=this.index;return this.eachBondedAtom(function(c){c.element===r&&(i+=1)}),this.index=s,i},In.prototype.hasBondToElement=function(r){return this.bondToElementCount(r)>0},In.prototype.isBackbone=function(){var r=this.residueType.backboneIndexList;return r.length>0&&r.includes(this.index-this.residueAtomOffset)},In.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var r=this.residueType.moleculeType;return 3===r||4===r||5===r},In.prototype.isSidechain=function(){return this.isPolymer()&&!this.isBackbone()},In.prototype.isCg=function(){var r=this.residueType.backboneType;return 4===r||5===r||6===r},In.prototype.isTrace=function(){return this.index===this.residueType.traceAtomIndex+this.residueAtomOffset},In.prototype.isHetero=function(){return 1===this.residueType.hetero},In.prototype.isProtein=function(){return 3===this.residueType.moleculeType},In.prototype.isNucleic=function(){var r=this.residueType.moleculeType;return 4===r||5===r},In.prototype.isRna=function(){return 4===this.residueType.moleculeType},In.prototype.isDna=function(){return 5===this.residueType.moleculeType},In.prototype.isWater=function(){return 1===this.residueType.moleculeType},In.prototype.isIon=function(){return 2===this.residueType.moleculeType},In.prototype.isSaccharide=function(){return 6===this.residueType.moleculeType},In.prototype.isHelix=function(){return Mm.includes(this.sstruc)},In.prototype.isSheet=function(){return gM.includes(this.sstruc)},In.prototype.isTurn=function(){return Fi.includes(this.sstruc)&&this.isProtein()},In.prototype.isBonded=function(){return 0!==this.bondHash.countArray[this.index]},In.prototype.isRing=function(){return 1===this.residueType.getRings().flags[this.index-this.residueAtomOffset]},In.prototype.isAromatic=function(){return 1===this.aromatic},In.prototype.isMetal=function(){return this.atomType.isMetal()},In.prototype.isNonmetal=function(){return this.atomType.isNonmetal()},In.prototype.isMetalloid=function(){return this.atomType.isMetalloid()},In.prototype.isHalogen=function(){return this.atomType.isHalogen()},In.prototype.isDiatomicNonmetal=function(){return this.atomType.isDiatomicNonmetal()},In.prototype.isPolyatomicNonmetal=function(){return this.atomType.isPolyatomicNonmetal()},In.prototype.isAlkaliMetal=function(){return this.atomType.isAlkaliMetal()},In.prototype.isAlkalineEarthMetal=function(){return this.atomType.isAlkalineEarthMetal()},In.prototype.isNobleGas=function(){return this.atomType.isNobleGas()},In.prototype.isTransitionMetal=function(){return this.atomType.isTransitionMetal()},In.prototype.isPostTransitionMetal=function(){return this.atomType.isPostTransitionMetal()},In.prototype.isLanthanide=function(){return this.atomType.isLanthanide()},In.prototype.isActinide=function(){return this.atomType.isActinide()},In.prototype.getDefaultValence=function(){return this.atomType.getDefaultValence()},In.prototype.getValenceList=function(){return this.atomType.getValenceList()},In.prototype.getOuterShellElectronCount=function(){return this.atomType.getOuterShellElectronCount()},In.prototype.distanceTo=function(r){var i=this.atomStore,s=r.atomStore,c=this.index,u=r.index,f=i.x[c]-s.x[u],v=i.y[c]-s.y[u],_=i.z[c]-s.z[u];return Math.sqrt(f*f+v*v+_*_)},In.prototype.connectedTo=function(r){var i=this.atomStore,s=r.atomStore,c=this.index,u=r.index;if(i.altloc&&s.altloc){var f=i.altloc[c],v=s.altloc[u];if(0!==f&&0!==v&&32!==f&&32!==v&&f!==v)return!1}var _=i.x[c]-s.x[u],y=i.y[c]-s.y[u],C=i.z[c]-s.z[u],P=_*_+y*y+C*C;if(P<64&&this.isCg())return!0;if(isNaN(P))return!1;var w=this.covalent+r.covalent,E=w+.3,S=w-.5;return P<E*E&&P>S*S},In.prototype.positionFromArray=function(r,i){return void 0===i&&(i=0),this.x=r[i+0],this.y=r[i+1],this.z=r[i+2],this},In.prototype.positionToArray=function(r,i){void 0===r&&(r=[]),void 0===i&&(i=0);var s=this.index,c=this.atomStore;return r[i+0]=c.x[s],r[i+1]=c.y[s],r[i+2]=c.z[s],r},In.prototype.positionToVector3=function(r){return void 0===r&&(r=new J),r.x=this.x,r.y=this.y,r.z=this.z,r},In.prototype.positionFromVector3=function(r){return this.x=r.x,this.y=r.y,this.z=r.z,this},In.prototype.positionAdd=function(r){return this.x+=r.x,this.y+=r.y,this.z+=r.z,this},In.prototype.positionSub=function(r){return this.x-=r.x,this.y-=r.y,this.z-=r.z,this},In.prototype.getResidueBonds=function(r){void 0===r&&(r=!1);var v,_,y,C,i=this.residueAtomOffset,s=this.index-this.residueAtomOffset,c=this.residueType.getBonds(),u=c.atomIndices1,f=c.atomIndices2;for(r||(C=[]),v=u.indexOf(s);-1!==v;){if(y=f[v]+i,!C)return y;C.push(y),v=u.indexOf(s,v+1)}for(_=f.indexOf(s);-1!==_;){if(y=u[_]+i,!C)return y;C.push(y),_=f.indexOf(s,_+1)}return C},In.prototype.qualifiedName=function(r){void 0===r&&(r=!1);var i="";return this.resname&&!r&&(i+="["+this.resname+"]"),void 0!==this.resno&&(i+=this.resno),this.inscode&&(i+="^"+this.inscode),this.chainname&&(i+=":"+this.chainname),this.atomname&&(i+="."+this.atomname),this.altloc&&(i+="%"+this.altloc),this.structure.modelStore.count>1&&(i+="/"+this.modelIndex),i},In.prototype.clone=function(){return new In(this.structure,this.index)},In.prototype.toObject=function(){return{index:this.index,residueIndex:this.residueIndex,resname:this.resname,x:this.x,y:this.y,z:this.z,element:this.element,chainname:this.chainname,resno:this.resno,serial:this.serial,vdw:this.vdw,covalent:this.covalent,hetero:this.hetero,bfactor:this.bfactor,altloc:this.altloc,atomname:this.atomname,modelIndex:this.modelIndex}},Object.defineProperties(In.prototype,$r);var Fy=new Float32Array(3),Ah=function(r,i){void 0===i&&(i=!1),Le&&xe.time("Kdtree build");var s=i?oA:sA,c=new Float32Array(3*r.atomCount),u=new Uint32Array(r.atomCount),f=0;r.eachAtom(function(v){c[f+0]=v.x,c[f+1]=v.y,c[f+2]=v.z,u[f/3]=v.index,f+=3}),this.atomIndices=u,this.points=c,this.kdtree=new W_(c,s),Le&&xe.timeEnd("Kdtree build")};Ah.prototype.nearest=function(r,i,s){r instanceof J?r.toArray(Fy):r instanceof In&&r.positionToArray(Fy);for(var c=this.kdtree.nearest(Fy,i,s),u=this.kdtree.indices,f=this.kdtree.nodes,v=this.atomIndices,_=[],y=0,C=c.length;y<C;++y){var P=c[y];_.push({index:v[u[f[P[0]]]],distance:P[1]})}return _};var b5={" ":"X","!":"Y","#":"Z",$:"-X","%":"-Y","&":"-Z","'":"Y+1/2","(":"1/2+X",")":"1/2+Y","*":"1/2-X","+":"1/2+Z",",":"1/2-Y","-":"1/2-Z",".":"X+1/2","/":"Z+1/2",0:"-X+1/2",1:"-Y+1/2",2:"-Z+1/2",3:"1/4+X",4:"1/4-Y",5:"1/4+Z",6:"1/4-X",7:"1/4+Y",8:"3/4-Y",9:"3/4+Z",":":"3/4+Y",";":"3/4+X","<":"3/4-X","=":"1/4-Z",">":"3/4-Z","?":"X-Y","@":"Y-X",A:"Z+1/3",B:"Z+2/3",C:"X+2/3",D:"Y+1/3",E:"-Y+2/3",F:"X-Y+1/3",G:"Y-X+2/3",H:"-X+1/3",I:"X+1/3",J:"Y+2/3",K:"-Y+1/3",L:"X-Y+2/3",M:"Y-X+1/3",N:"-X+2/3",O:"2/3+X",P:"1/3+Y",Q:"1/3+Z",R:"2/3-Y",S:"1/3+X-Y",T:"2/3+Y-X",U:"1/3-X",V:"2/3-X",W:"1/3-Y",X:"1/3-Z",Y:"2/3+Y",Z:"1/3+Y-X","[":"2/3+X-Y","]":"1/3+X","^":"2/3+Z",_:"2/3-Z","`":"5/6+Z",a:"1/6+Z",b:"5/6-Z",c:"1/6-Z",d:"Z+5/6",e:"Z+1/6",f:"Z+1/4",g:"+Y"},uO={"P 1":" !#","P -1":" !#$%&","P 1 2 1":" !#$!&","P 1 21 1":" !#$'&","C 1 2 1":" !#$!&()#*)&","P 1 m 1":" !# %#","P 1 c 1":" !# %+","C 1 m 1":" !# %#()#(,#","C 1 c 1":" !# %+()#(,+","P 1 2/m 1":" !# %#$!&$%&","P 1 21/m 1":" !#$)&$%& ,#","C 1 2/m 1":" !# %#$!&$%&()#(,#*)&*,&","P 1 2/c 1":" !#$!-$%& %+","P 1 21/c 1":" !#$%&$)- ,+","C 1 2/c 1":" !#$!-$%& %+()#*)-*,&(,+","P 2 2 2":" !#$%#$!& %&","P 2 2 21":" !#$%+$!- %&","P 21 21 2":" !#$%#*)&(,&","P 21 21 21":" !#*%+$)-(,&","C 2 2 21":" !#$%+$!- %&()#*,+*)-(,&","C 2 2 2":" !#$%#$!& %&()#*,#*)&(,&","F 2 2 2":" !#$%#$!& %& )+$,+$)- ,-(!+*%+*!-(%-()#*,#*)&(,&","I 2 2 2":" !#$%# %&$!&.'/01/.120'2","I 21 21 21":" !#*%+$)-(,&()+$,#*!& %-","P m m 2":" !#$%# %#$!#","P m c 21":" !#$%+ %+$!#","P c c 2":" !#$%# %+$!+","P m a 2":" !#$%#(%#*!#","P c a 21":" !#$%+(%#*!+","P n c 2":" !#$%# ,+$)+","P m n 21":" !#*%+(%+$!#","P b a 2":" !#$%#(,#*)#","P n a 21":" !#$%+(,#*)+","P n n 2":" !#$%#(,+*)+","C m m 2":" !#$%# %#$!#()#*,#(,#*)#","C m c 21":" !#$%+ %+$!#()#*,+(,+*)#","C c c 2":" !#$%# %+$!+()#*,#(,+*)+","A m m 2":" !#$%# %#$!# )+$,+ ,+$)+","A b m 2":" !#$%# ,#$)# )+$,+ %+$!+","A m a 2":" !#$%#(%#*!# )+$,+(,+*)+","A b a 2":" !#$%#(,#*)# )+$,+(%+*!+","F m m 2":" !#$%# %#$!# )+$,+ ,+$)+(!+*%+(%+*!+()#*,#(,#*)#","F d d 2":" !#$%#345675 )+$,+3896:9(!+*%+;49<79()#*,#;85<:5","I m m 2":" !#$%# %#$!#()+*,+(,+*)+","I b a 2":" !#$%#(,#*)#()+*,+ %+$!+","I m a 2":" !#$%#(%#*!#()+*,+ ,+$)+","P 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#","P 2/n 2/n 2/n":" !#$%#$!& %&*,-()-(,+*)+","P 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+","P 2/b 2/a 2/n":" !#$%#$!& %&*,&()&(,#*)#","P 21/m 2/m 2/a":" !#*%#$!&(%&$%&(!& %#*!#","P 2/n 21/n 2/a":" !#*%#*)- ,-$%&(!&(,+$)+","P 2/m 2/n 21/a":" !#*%+*!- %&$%&(!-(%+$!#","P 21/c 2/c 2/a":" !#*%#$!-(%-$%&(!& %+*!+","P 21/b 21/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#","P 21/c 21/c 2/n":" !#*,#$)-(%-$%&()& ,+*!+","P 2/b 21/c 21/m":" !#$%+$)- ,&$%& !- ,+$)#","P 21/n 21/n 2/m":" !#$%#*)-(,-$%& !&(,+*)+","P 21/m 21/m 2/n":" !#$%#*'&.,&*,&.'& %#$!#","P 21/b 2/c 21/n":" !#*,+$!-(,&$%&()- %+*)#","P 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#","P 21/n 21/m 21/a":" !#0%/$'&.12$%&.!2 1#0'/","C 2/m 2/c 21/m":" !#$%+$!- %&$%& !- %+$!#()#*,+*)-(,&*,&()-(,+*)#","C 2/m 2/c 21/a":" !#$,+$)- %&$%& )- ,+$!#()#*%+*!-(,&*,&(!-(%+*)#","C 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()#*,#*)&(,&*,&()&(,#*)#","C 2/c 2/c 2/m":" !#$%#$!- %-$%& !& %+$!+()#*,#*)-(,-*,&()&(,+*)+","C 2/m 2/m 2/a":" !#$,#$)& %&$%& )& ,#$!#()#*%#*!&(,&*,&(!&(%#*)#","C 2/c 2/c 2/a":" !#*,#$!&(,&$,-(!- ,+*!+()#$%#*)& %&*%- )-(%+$)+","F 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!# )+$,+$)- ,-$,- )- ,+$)+(!+*%+*!-(%-*%-(!-(%+*!+()#*,#*)&(,&*,&()&(,#*)#","F 2/d 2/d 2/d":" !#$%#$!& %&64=37=345675 )+$,+$)- ,-68>3:>3896:9(!+*%+*!-(%-<4>;7>;49<79()#*,#*)&(,&<8=;:=;85<:5","I 2/m 2/m 2/m":" !#$%#$!& %&$%& !& %#$!#()+*,+*)-(,-*,-()-(,+*)+","I 2/b 2/a 2/m":" !#$%#*)&(,&$%& !&(,#*)#()+*,+$!- %-*,-()- %+$!+","I 21/b 21/c 21/a":" !#*%+$)-(,&$%&(!- ,+*)#()+$,#*!& %-*,- )&(%#$!+","I 21/m 21/m 21/a":" !#$,#$)& %&$%& )& ,#$!#()+*%+*!-(,-*,-(!-(%+*)+","P 4":" !#$%#% #!$#","P 41":" !#$%+% 5!$9","P 42":" !#$%#% +!$+","P 43":" !#$%+% 9!$5","I 4":" !#$%#% #!$#()+*,+,(+)*+","I 41":" !#*,+%(5)$9()+$%#, 9!*5","P -4":" !#$%#!$&% &","I -4":" !#$%#!$&% &()+*,+)*-,(-","P 4/m":" !#$%#% #!$#$%& !&!$&% &","P 42/m":" !#$%#% +!$+$%& !&!$-% -","P 4/n":" !#$%#,(#)*#*,&()&!$&% &","P 42/n":" !#$%#,(+)*+*,-()-!$&% &","I 4/m":" !#$%#% #!$#$%& !&!$&% &()+*,+,(+)*+*,-()-)*-,(-","I 41/a":" !#*,+%(5)$9$,=(!>!$&,(-()+$%#, 9!*5*%> )=)*-% &","P 4 2 2":" !#$%#% #!$#$!& %&! &%$&","P 4 21 2":" !#$%#,(#)*#*)&(,&! &%$&","P 41 2 2":" !#$%+% 5!$9$!& %-! >%$=","P 41 21 2":" !#$%+,(5)*9*)=(,>! &%$-","P 42 2 2":" !#$%#% +!$+$!& %&! -%$-","P 42 21 2":" !#$%#,(+)*+*)-(,-! &%$&","P 43 2 2":" !#$%+% 9!$5$!& %-! =%$>","P 43 21 2":" !#$%+,(9)*5*)>(,=! &%$-","I 4 2 2":" !#$%#% #!$#$!& %&! &%$&()+*,+,(+)*+*)-(,-)(-,*-","I 41 2 2":" !#*,+%(5)$9*!> ,=)(-%$&()+$%#, 9!*5$)=(%>! &,*-","P 4 m m":" !#$%#% #!$# %#$!#%$#! #","P 4 b m":" !#$%#% #!$#(,#*)#,*#)(#","P 42 c m":" !#$%#% +!$+ %+$!+%$#! #","P 42 n m":" !#$%#,(+)*+(,+*)+%$#! #","P 4 c c":" !#$%#% #!$# %+$!+%$+! +","P 4 n c":" !#$%#% #!$#(,+*)+,*+)(+","P 42 m c":" !#$%#% +!$+ %#$!#%$+! +","P 42 b c":" !#$%#% +!$+(,#*)#,*+)(+","I 4 m m":" !#$%#% #!$# %#$!#%$#! #()+*,+,(+)*+(,+*)+,*+)(+","I 4 c m":" !#$%#% #!$# %+$!+%$+! +()+*,+,(+)*+(,#*)#,*#)(#","I 41 m d":" !#*,+%(5)$9 %#*)+%*5) 9()+$%#, 9!*5(,+$!#,$9!(5","I 41 c d":" !#*,+%(5)$9 %+*)#%*9) 5()+$%#, 9!*5(,#$!+,$5!(9","P -4 2 m":" !#$%#% &!$&$!& %&%$#! #","P -4 2 c":" !#$%#% &!$&$!- %-%$+! +","P -4 21 m":" !#$%#% &!$&*)&(,&,*#)(#","P -4 21 c":" !#$%#% &!$&*)-(,-,*+)(+","P -4 m 2":" !#$%#!$&% & %#$!#! &%$&","P -4 c 2":" !#$%#% &!$& %+$!+! -%$-","P -4 b 2":" !#$%#% &!$&(,#*)#)(&,*&","P -4 n 2":" !#$%#% &!$&(,+*)+)(-,*-","I -4 m 2":" !#$%#% &!$& %#$!#! &%$&()+*,+,(-)*-(,+*)+)(-,*-","I -4 c 2":" !#$%#% &!$& %+$!+! -%$-()+*,+,(-)*-(,#*)#)(&,*&","I -4 2 m":" !#$%#% &!$&$!& %&%$#! #()+*,+,(-)*-*)-(,-,*+)(+","I -4 2 d":" !#$%#% &!$&*!>(%>,$9) 9()+*,+,(-)*-$)= ,=%*5!(5","P 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #","P 4/m 2/c 2/c":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +","P 4/n 2/b 2/m":" !#$%#% #!$#$!& %&! &%$&*,&()&)*&,(&(,#*)#,*#)(#","P 4/n 2/n 2/c":" !#$%#% #!$#$!& %&! &%$&*,-()-)*-,(-(,+*)+,*+)(+","P 4/m 21/b 2/m":" !#$%#% #!$#*)&(,&)(&,*&$%& !&!$&% &(,#*)#,*#)(#","P 4/m 21/n 2/c":" !#$%#% #!$#*)-(,-)(-,*-$%& !&!$&% &(,+*)+,*+)(+","P 4/n 21/m 2/m":" !#$%#,(#)*#*)&(,&! &%$&*,&()&!$&% & %#$!#,*#)(#","P 4/n 2/c 2/c":" !#$%#,(#)*#*)-(,-! -%$-*,&()&!$&% & %+$!+,*+)(+","P 42/m 2/m 2/c":" !#$%#% +!$+$!& %&! -%$-$%& !&!$-% - %#$!#%$+! +","P 42/m 2/c 2/m":" !#$%#% +!$+$!- %-! &%$&$%& !&!$-% - %+$!+%$#! #","P 42/n 2/b 2/c":" !#$%#,(+)*+$!- %-)(&,*&*,-()-!$&% &(,#*)#%$+! +","P 42/n 2/n 2/m":" !#$%#,(+)*+$!& %&)(-,*-*,-()-!$&% &(,+*)+%$#! #","P 42/m 21/b 2/c":" !#$%#% +!$+*)&(,&)(-,*-$%& !&!$-% -(,#*)#,*+)(+","P 42/m 21/n 2/m":" !#$%#,./'*/*'-.,-! &%$&$%& !&'*-,.-.,/*'/%$#! #","P 42/n 21/m 2/c":" !#$%#,(+)*+*)-(,-! &%$&*,-()-!$&% & %#$!#,*+)(+","P 42/n 21/c 2/m":" !#$%#,(+)*+*)&(,&! -%$-*,-()-!$&% & %+$!+,*#)(#","I 4/m 2/m 2/m":" !#$%#% #!$#$!& %&! &%$&$%& !&!$&% & %#$!#%$#! #()+*,+,(+)*+*)-(,-)(-,*-*,-()-)*-,(-(,+*)+,*+)(+","I 4/m 2/c 2/m":" !#$%#% #!$#$!- %-! -%$-$%& !&!$&% & %+$!+%$+! +()+*,+,(+)*+*)&(,&)(&,*&*,-()-)*-,(-(,#*)#,*#)(#","I 41/a 2/m 2/d":" !#*,+%(5)$9*!> ,=)(-%$&$,=(!>!$&,(-(,+$!#,$9!(5()+$%#, 9!*5$)=(%>! &,*-*%> )=)*-% & %#*)+%*5) 9","I 41/a 2/c 2/d":" !#*,+%(5)$9*!= ,>)(&%$-$,=(!>!$&,(-(,#$!+,$5!(9()+$%#, 9!*5$)>(%=! -,*&*%> )=)*-% & %+*)#%*9) 5","P 3":" !#%?#@$#","P 31":" !#%?A@$B","P 32":" !#%?B@$A","H 3":" !#%?#@$#CDAEFAGHAIJBKLBMNB","R 3":" !## !!# ","P -3":" !#%?#@$#$%&!@&? &","H -3":" !#%?#@$#$%&!@&? &OPQRSQTUQVWXYZX[]X]Y^W[^ZV^UR_PT_SO_","R -3":" !## !!# $%&&$%%&$","P 3 1 2":" !#%?#@$#%$&@!& ?&","P 3 2 1":" !#%?#@$#! &?%&$@&","P 31 1 2":" !#%?Q@$^%$_@!X ?&","P 31 2 1":" !#%?A@$B! &?%_$@X","P 32 1 2":" !#%?^@$Q%$X@!_ ?&","P 32 2 1":" !#%?B@$A! &?%X$@_","H 3 2":" !#%?#@$#! &?%&$@&OPQRSQTUQY]X[WXVZX]Y^W[^ZV^PO_SR_UT_","R 3 2":" !## !!# %$&$&%&%$","P 3 m 1":" !#%?#@$#%$#@!# ?#","P 3 1 m":" !#%?#@$#! #?%#$@#","P 3 c 1":" !#%?#@$#%$+@!+ ?+","P 3 1 c":" !#%?#@$#! +?%+$@+","H 3 m":" !#%?#@$#%$#@!# ?#OPQRSQTUQRUQTPQOSQ]Y^W[^ZV^WV^ZY^][^","R 3 m":" !## !!# ! # #!#! ","H 3 c":" !#%?#@$#%$+@!+ ?+OPQRSQTUQRU`TP`OS`]Y^W[^ZV^WVaZYa][a","R 3 c":" !## !!# '././'/'.","P -3 1 2/m":" !#%?#@$#%$&@!& ?&$%&!@&? &! #?%#$@#","P -3 1 2/c":" !#%?#@$#%$-@!- ?-$%&!@&? &! +?%+$@+","P -3 2/m 1":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#","P -3 2/c 1":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+","H -3 2/m":" !#%?#@$#! &?%&$@&$%&!@&? &%$#@!# ?#OPQRSQTUQY]X[WXVZXVWXYZX[]XRUQTPQOSQ]Y^W[^ZV^PO_SR_UT_UR_PT_SO_WV^ZY^][^","R -3 2/m":" !## !!# %$&$&%&%$$%&&$%%&$! # #!#! ","H -3 2/c":" !#%?#@$#! -?%-$@-$%&!@&? &%$+@!+ ?+OPQRSQTUQY]b[WbVZbVWXYZX[]XRU`TP`OS`]Y^W[^ZV^POcSRcUTcUR_PT_SO_WVaZYa][a","R -3 2/c":" !## !!# 102021210$%&&$%%&$'././'/'.","P 6":" !#%?#@$#$%#!@#? #","P 61":" !#%?A@$B$%/!@d? e","P 65":" !#%?B@$A$%/!@e? d","P 62":" !#%?^@$Q$%#!@^? Q","P 64":" !#%?Q@$^$%#!@Q? ^","P 63":" !#%?#@$#$%+!@+? +","P -6":" !#%?#@$# !&%?&@$&","P 6/m":" !#%?#@$#$%#!@#? #$%&!@&? & !&%?&@$&","P 63/m":" !#%?#@$#$%+!@+? +$%&!@&? & !-%?-@$-","P 6 2 2":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&","P 61 2 2":" !#%?Q@$^$%+!@`? a! X?%&$@_%$b@!- ?c","P 65 2 2":" !#%?^@$Q$%+!@a? `! _?%&$@X%$c@!- ?b","P 62 2 2":" !#%?^@$Q$%#!@^? Q! _?%&$@X%$_@!& ?X","P 64 2 2":" !#%?Q@$^$%#!@Q? ^! X?%&$@_%$X@!& ?_","P 63 2 2":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-","P 6 m m":" !#%?#@$#$%#!@#? #%$#@!# ?#! #?%#$@#","P 6 c c":" !#%?#@$#$%#!@#? #%$+@!+ ?+! +?%+$@+","P 63 c m":" !#%?#@$#$%+!@+? +%$+@!+ ?+! #?%#$@#","P 63 m c":" !#%?#@$#$%+!@+? +%$#@!# ?#! +?%+$@+","P -6 m 2":" !#%?#@$# !&%?&@$&%$#@!# ?#%$&@!& ?&","P -6 c 2":" !#%?#@$# !-%?-@$-%$+@!+ ?+%$&@!& ?&","P -6 2 m":" !#%?#@$# !&%?&@$&! &?%&$@&! #?%#$@#","P -6 2 c":" !#%?#@$# !-%?-@$-! &?%&$@&! +?%+$@+","P 6/m 2/m 2/m":" !#%?#@$#$%#!@#? #! &?%&$@&%$&@!& ?&$%&!@&? & !&@$&%?&%$#@!# ?#! #?%#$@#","P 6/m 2/c 2/c":" !#%?#@$#$%#!@#? #! -?%-$@-%$-@!- ?-$%&!@&? & !&@$&%?&%$+@!+ ?+! +?%+$@+","P 63/m 2/c 2/m":" !#%?#@$#$%+!@+? +! -?%-$@-%$&@!& ?&$%&!@&? & !-@$-%?-%$+@!+ ?+! #?%#$@#","P 63/m 2/m 2/c":" !#%?#@$#$%+!@+? +! &?%&$@&%$-@!- ?-$%&!@&? & !-@$-%?-%$#@!# ?#! +?%+$@+","P 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ","F 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%&  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ","I 2 3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(","P 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(","I 21 3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- ","P 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$","P 2/n -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& *,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","F 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-($,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- *,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$","F 2/d -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& 64=37=345675=64=375345674=67=3453756 )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(68>3:>3896:9=<8=;:5;85<:4><7>;49;79<(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(<4>;7>;49<79>68>3:93896:8=<:=;85;:5<()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- <8=;:=;8f<:f><4>;79;49<78>6:>3893:96","I 2/m -3":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& $%& !& %#$!#&$%& !# %#$!%&$!& %# !#$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-(*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*","P 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*","I 21/a -3":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&($%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*()+$,#*g& %-+()#$,&*!- %)+(,#$!&*%- *,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$","P 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$","P 42 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","F 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$ )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*(!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%*()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$","F 41 3 2":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46 )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<(!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86","I 4 3 2":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*","P 43 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7;>46=:<5839398<5:6=4;>75:<983>7;=46","P 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<","I 41 3 2":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46","P -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ","F -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&%  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(+%*+!*-%(- +)$+,$-) -,#)(#,*&)*&,((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() +,$+)$-, -(#)*#,*&)(&,+!(+%*-!*-%(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(#,*#)*&,(&(+!*+%*-!(-%+) +,$-)$-, ","I -4 3 m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! #%$#!$&% & #!$#%$&! &%#! #%$&!$&% ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","P -4 3 n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,(","F -4 3 c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(+,*+)*-,(-(+)*+,*-)(-,+)(+,*-)*-,( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() #,$#)$&, &(#!*#%*&!(&%+! +%$-!$-% (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(#%*#!*&%(& +!$+%$-! -%#) #,$&)$&, ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! +%$+!$-% - #)$#,$&) &,#!(#%*&!*&%(","I -4 3 d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(7354<9:6>8;=357<946>:;=857394<>:6=8;()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- :;98657<=43>;9:658<=73>49:;586=7<>43","P 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","P 4/n -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$*,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/m -3 2/n":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","P 42/n -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ","F 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#!  )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-(!(-%*-!*+%(+ +,$+)$-, -)#)*#,(&)(&,*$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*%*+!(+%(-!*-$-) -, +)$+,&,(&)*#,*#)((!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&() -,$-)$+, +(#,*#)*&,(&)+!*+%(-!(-%**%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*,$+) +, -)$-*&)(&,(#)*#,-%(-!*+%*+!(()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- )(&,*&)*#,(#(+%*+!*-%(-!+)$+, -) -,$*,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$,*#)(#,(&)*&*-!(-%(+!*+%-, -)$+,$+) ","F 4/m -3 2/c":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& )(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,*$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)( )+$,+$)- ,-#()#*,&*)&(,!+(%+*!-*%-() &,$&)$#, #(#%*#!*&%(&!+!$+% -! -%$$,- )- ,+$)+&*,&()#(,#*)%-*!-(%+(!+*,$#) #, &)$&*&!(&%(#!*#%-% -!$+%$+! (!+*%+*!-(%-+ )+$,-$)- ,)#(,#*)&*,&(!(&%*&!*#%(# +%$+!$-% -!#)$#, &) &,$*%-(!-(%+*!+-$,- )+ ,+$),&*)&(,#()#*%*#!(#%(&!*&$-! -% +!$+%&, &)$#,$#) ()#*,#*)&(,&+(!+*%-*!-(%)+ ,+$)-$,- ! -%$-!$+% + #,$#)$&, &)#!*#%(&!(&%**,&()&(,#*)#-*%-(!+(%+*!,-$)- ,+ )+$%$+! +% -!$-$&) &, #)$#,&%(&!*#%*#!(","F 41/d -3 2/m":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=4664=3:>;85<79=64>3:5;89<74=6:>385;79<,$+! #%(-)*&*&)(-% #!$+,-%(&)*+,$#!  )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<68>37=;49<:5=<8>;753496:4><:=;893756,*#!(+% &)$-*-!(&, +)$#%-, &!$+%*#)((!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<<4>;:=389675>68=379;45<:8=<7>;453:96%$#) +,(&!*-$&! -,(#)*+%&% -)$#,*+!(()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>86<8=;7>3456:9><4=;:9385678>67=349;:5<%*+)(#, -!$&$-) &%(+!*#,&,(-!*#%$+) ","F 41/d -3 2/c":" !#$,+*)&(%-# !+$,&*)-(%!# ,+$)&*%-(:3>46=7<98;5;58<976=43>:97<58;>:3=46<8>;7=3496:5><8=;793456:8><7=;493:56%*#)(+, &!$-$-! &,(+)*#%&, -!$#%*+)( )+$%#*!-(,&#()+*%&$!- ,!+(,#*)-$%& :;=4<>765839;94<5:6>83=79:6543>7;=8<<4=;:>385679>64=3:9;85<78=67>345;:9<%$+) #,(-!*&$&) -%(#!*+,&%(-)*#,$+! (!+*,#$)- %&+ )#$%-*!&(,)#(%+*!&$,- 73=86>:<54;935469:<=8;>7576983=:;>4<68=37>;45<:9=<4>;:5389674>6:=389;75<,*+!(#% -)$&*-)(&% +!$#,-,(&!*+%$#) ()#*%+$!& ,-+(!#*,-$)& %)+ %#$!-*,&(7;>8<=:69435398657<>4;=:5:<94;=73>8664>3:=;89<75=68>375;49<:4=<:>;853796,$#! +%(&)*-*&!(-, #)$+%-% &)$+,*#!(","I 4/m -3 2/m":" !#$%#$!& %&# !#$%&$!& %!# %#$!&$%& ! &%$&!$#% # #%$#!$&% &!#!$#% &! &%$$%& !& %#$!#&$%& !# %#$!%&$!& %# !#$%$#! #% &!$&$&! &% #!$#%&% &!$#%$#! ()+*,+*)-(,-+()+*,-*)-(,)+(,+*)-*,-()(-,*-)*+,(+(+,*+)*-,(-)+)*+,(-)(-,**,-()-(,+*)+-*,-()+(,+*),-*)-(,+()+*,*+)(+,(-)*-*-)(-,(+)*+,-,(-)*+,*+)(","I 41/a -3 2/d":" !#*%+$)-(,&# !+*%-$)&(,!# %+*)-$,&(:3=8<>7694;5;54697<>83=:97654;=:3>8<$%&(!- ,+*)#&$%-(!+ ,#*)%&$!-(,+ )#*4<97358;=:6>6>:;=8357<94=8;>:694<573()+$,#*!& %-+()#$,&*!- %)+(,#$!&*%- 7;>46=:<5839398<5:6=4;>75:<983>7;=46*,- )&(%#$!+-*,& )#(%+$!,-*)& %#(!+$865:;943>7<=<=73>4;9:658>43=7<5869:;","P 1 1 2":" !#$%#","P 1 1 21":" !#$%+","B 1 1 2":" !#$%#(g+*%+","A 1 2 1":" !#$!& )+$)-","C 1 21 1":" !#$)&()#*!&","I 1 2 1":" !#$!&.'/0'2","I 1 21 1":" !#$)&.'/0!-","P 1 1 m":" !# !&","P 1 1 b":" !# )&","B 1 1 m":" !# !&(!+(!-","B 1 1 b":" !# )&(!+()-","P 1 1 2/m":" !# !&$%#$%&","P 1 1 21/m":" !#$%+$%& !-","B 1 1 2/m":" !# !&$%#$%&(!+(!-*%+*%-","P 1 1 2/b":" !#$,#$%& )&","P 1 1 21/b":" !#$%&$,+ )-","B 1 1 2/b":" !#$,#$%& )&(!+*,+*%-()-","P 21 2 2":" !#$!&(%&*%#","P 2 21 2":" !# ,&$)&$%#","P 21 21 2 (a)":" !#*,#.%&$'&","P 21 2 21":" !#$!&(%-*%+","P 2 21 21":" !# %&$)-$,+","C 2 2 21a)":" !#*%+(,&$)-()#$,+ %&*!-","C 2 2 2a":" !#*,#.%&$'&()#$%# ,&*!&","F 2 2 2a":" !#*,#.%&$'& '/*%/.12$!2.!/$,/ %20'2.'#$%# 1&0!&","I 2 2 2a":" !#*,#.%&$'&()+$%+*!- ,-","P 21/m 21/m 2/n a":" !#*,#$)&(%&$%&.'& ,#*!#","P 42 21 2a":" !#*,#%.+'$+$'&.%&! -,*-","I 2 3a":" !#*,#.%&$'&!# ,- '&$%/$# !-*!/$%&.%()+$%+ ,-*!-)+(%&(!-*,#*+()&$)#*,- ,"},dO=/^[1-9]$/;function BM(n){var r="";return n.length>0&&(r=":"+gl(n).join(" OR :")),new Fo(r)}var sc=function(r){void 0===r&&(r=""),this.name=r,this.partList=[]},hO={type:{configurable:!0}};hO.type.get=function(){return"Assembly"},sc.prototype.addPart=function(r,i){var s=new Fd(r,i);return this.partList.push(s),s},sc.prototype.getAtomCount=function(r){return this.partList.reduce(function(i,s){return i+s.getAtomCount(r)},0)},sc.prototype.getResidueCount=function(r){return this.partList.reduce(function(i,s){return i+s.getResidueCount(r)},0)},sc.prototype.getInstanceCount=function(){var r=0;return this.partList.forEach(function(i){r+=i.matrixList.length}),r},sc.prototype.isIdentity=function(r){if(1!==this.partList.length)return!1;var i=this.partList[0];if(1!==i.matrixList.length)return!1;if(!(new ye).equals(i.matrixList[0]))return!1;var c=[];return r.eachChain(function(u){c.push(u.chainname)}),c=gl(c),i.chainList.length===c.length},sc.prototype.getBoundingBox=function(r){var i=new to;return this.partList.forEach(function(s){var c=s.getBoundingBox(r);i.expandByPoint(c.min),i.expandByPoint(c.max)}),i},sc.prototype.getCenter=function(r){return this.getBoundingBox(r).getCenter()},sc.prototype.getSelection=function(){var r=[];return this.partList.forEach(function(i){r=r.concat(i.chainList)}),BM(r)},Object.defineProperties(sc.prototype,hO);var Fd=function(r,i){void 0===r&&(r=[]),void 0===i&&(i=[]),this.matrixList=r,this.chainList=i},aA={type:{configurable:!0}};function Ny(n,r){if(r){Le&&xe.time("assignSecondaryStructure");var i=[];n.eachModel(function(y){y.eachChain(function(C){i.push(C.chainname)})});var s=i.slice().sort(),c=[];s.forEach(function(y){c.push(i.indexOf(y))});var u=r.helices.filter(function(y){return Cr(s,y[0])>=0});u.sort(function(y,C){var P=y[0],w=C[0],E=y[1],S=C[1];if(P===w)return E===S?0:E<S?-1:1;var I=Cr(s,P),L=Cr(s,w);return c[I]<c[L]?-1:1});var f=n.residueStore;n.eachModel(function(y){var C=0,P=u.length;if(0!==P){var w=u[C],E=!1,S=!1;y.eachChain(function(I){var L=!1;if(I.chainname===w[0])for(var V=I.residueOffset,N=V+I.residueCount,F=V;F<N;++F)if(f.resno[F]===w[1]&&f.getInscode(F)===w[2]&&(E=!0),E&&(f.sstruc[F]=w[6],f.resno[F]===w[4]&&f.getInscode(F)===w[5]&&(E=!1,(C+=1)<P?(F=V-1,L=I.chainname!==(w=u[C])[0]):S=!0)),L||S)return})}});var v=r.sheets.filter(function(y){return Cr(s,y[0])>=0});v.sort(function(y,C){var P=y[0],w=C[0];if(P===w)return 0;var E=Cr(s,P),S=Cr(s,w);return c[E]<c[S]?-1:1});var _="e".charCodeAt(0);n.eachModel(function(y){var C=0,P=v.length;if(0!==P){var w=v[C],E=!1,S=!1;y.eachChain(function(I){var L=!1;if(I.chainname===w[0])for(var V=I.residueOffset,N=V+I.residueCount,F=V;F<N;++F)if(f.resno[F]===w[1]&&f.getInscode(F)===w[2]&&(E=!0),E&&(f.sstruc[F]=_,f.resno[F]===w[4]&&f.getInscode(F)===w[5]&&(E=!1,(C+=1)<P?(F=V-1,L=I.chainname!==(w=v[C])[0]):S=!0)),L||S)return})}}),Le&&xe.timeEnd("assignSecondaryStructure")}}aA.type.get=function(){return"AssemblyPart"},Fd.prototype._getCount=function(r,i){var s=this,c=0;return r.eachChain(function(u){(0===s.chainList.length||s.chainList.includes(u.chainname))&&(c+=u[i])}),this.matrixList.length*c},Fd.prototype.getAtomCount=function(r){return this._getCount(r,"atomCount")},Fd.prototype.getResidueCount=function(r){return this._getCount(r,"residueCount")},Fd.prototype.getBoundingBox=function(r){var i=new to,s=new to,c=this.getSelection(),u=r.getBoundingBox(c);return this.matrixList.forEach(function(f){s.copy(u).applyMatrix4(f),i.expandByPoint(s.min),i.expandByPoint(s.max)}),i},Fd.prototype.getSelection=function(){return BM(this.chainList)},Fd.prototype.getView=function(r){var i=this.getSelection();return i?r.getView(i):r},Fd.prototype.getInstanceList=function(){for(var i=[],s=0,c=this.matrixList.length;s<c;++s)i.push({id:s+1,name:s,matrix:this.matrixList[s]});return i},Object.defineProperties(Fd.prototype,aA);var q_=function(){var n=function(u,f,v,_){for(var y=u.structure,C=u.residueIndexStart,P=y.getResidueProxy(),w=y.getResidueProxy(),E=y.getAtomProxy(),S=y.getAtomProxy(),I=Math.max(0,f-2);I<=f;++I)for(var L=2;L<5;++L)if(!(I+L>=u.residueCount)){P.index=C+I,w.index=C+I+L,E.index=P.traceAtomIndex,S.index=w.traceAtomIndex;var B=E.distanceTo(S);if(Math.abs(B-v[L-2])>_)return!1}return!0},r=function(u,f){return n(u,f,[5.45,5.18,6.37],2.1)},i=function(u,f){return n(u,f,[6.1,10.4,13],1.42)};return function(f){Le&&xe.time("calculateSecondaryStructure"),f.eachPolymer(function(v){if(!(v.residueCount<4)){if(v.isCg())!function(u){for(var _=u.residueStore,y=u.residueIndexStart,P=new oc(u).position,w=new J,E=new J,S=0,I=u.residueCount;S<I;++S){w.fromArray(P.center,3*S),E.fromArray(P.center,3*S+3);var L=w.distanceTo(E);L<2&&L>1&&P.bending[S]<20&&(_.sstruc[y+S]="h".charCodeAt(0),_.sstruc[y+S+1]="h".charCodeAt(0))}}(v);else{if(!v.isProtein())return;!function(u){for(var f=u.residueStore,v=u.residueIndexStart,_=0,y=u.residueCount;_<y;++_){var C="c";r(u,_)?C="h":i(u,_)&&(C="s"),f.sstruc[v+_]=C.charCodeAt(0)}}(v)}var _,y=0;v.eachResidue(function(C){C.sstruc===_?y+=1:(1===y&&(C.index-=1,C.sstruc="c"),y=1,_=C.sstruc)})}}),Le&&xe.timeEnd("calculateSecondaryStructure")}}(),UM="ABCDEFGHIJKLMNOPQRSTUVWXYZ";function ri(n){for(var r=UM.length,i=n,s=0,c=UM[i%r];i>=r;)i=Math.floor(i/r),c+=UM[i%r],s+=1;return s>=5&&xe.warn("chainname overflow"),c}function uo(n,r){void 0===r&&(r=!1),Le&&xe.time("calculateChainnames");var i=!0;if(n.eachChain(function(I){I.chainname&&(i=!1)}),i){var s=n.modelStore,c=n.chainStore,u=n.residueStore,v=n.getAtomProxy(),_=n.getAtomProxy(),y=0,C=0,P=0,w=0,E=[];1===u.count?E.push({mIndex:0,chainname:"A",rStart:0,rCount:1}):n.eachResidueN(2,function(I,L){var B=!1,V=I.backboneType;w=I.index,I.modelIndex!==L.modelIndex||I.moleculeType!==L.moleculeType?B=!0:0!==V&&V===L.backboneType&&(v.index=I.backboneEndAtomIndex,_.index=L.backboneStartAtomIndex,B=r?!v.hasBondTo(_):!v.connectedTo(_)),!B&&L.index===u.count-1&&(B=!0,w=L.index),B&&(E.push({mIndex:C,chainname:ri(y),rStart:P,rCount:w-P+1}),y+=1,I.modelIndex!==L.modelIndex&&(y=0,C+=1),L.index===u.count-1&&w!==L.index&&E.push({mIndex:C,chainname:ri(y),rStart:u.count-1,rCount:1}),P=L.index,w=L.index)}),c.count=0,E.forEach(function(I){!function(I,L,B,V){for(var N=c.count,F=0;F<V;++F)u.chainIndex[B+F]=N;c.growIfFull(),c.modelIndex[N]=I,c.setChainname(N,L),c.setChainid(N,L),c.residueOffset[N]=B,c.residueCount[N]=V,c.count+=1,s.chainCount[I]+=1}(I.mIndex,I.chainname,I.rStart,I.rCount)});var S=0;n.eachModel(function(I){s.chainOffset[I.index]=S,s.chainCount[I.index]-=1,S+=s.chainCount[I.index]})}Le&&xe.timeEnd("calculateChainnames")}function Di(n){Le&&xe.time("calculateBonds"),nu(n),Lp(n),Le&&xe.timeEnd("calculateBonds")}var y5={"HIS|CD2|CG":2,"HIS|CE1|ND1":2,"ARG|CZ|NH2":2,"PHE|CE1|CZ":2,"PHE|CD2|CE2":2,"PHE|CD1|CG":2,"TRP|CD1|CG":2,"TRP|CD2|CE2":2,"TRP|CE3|CZ3":2,"TRP|CH2|CZ2":2,"ASN|CG|OD1":2,"GLN|CD|OE1":2,"TYR|CD1|CG":2,"TYR|CD2|CE2":2,"TYR|CE1|CZ":2,"ASP|CD1|CG":2,"GLU|CD|OE1":2,"G|C8|N7":2,"G|C4|C5":2,"G|C2|N3":2,"G|C6|O6":2,"C|C4|N3":2,"C|C5|C6":2,"C|C2|O2":2,"A|C2|N3":2,"A|C6|N1":2,"A|C4|C5":2,"A|C8|N7":2,"U|C5|C6":2,"U|C2|O2":2,"U|C4|O4":2,"DG|C8|N7":2,"DG|C4|C5":2,"DG|C2|N3":2,"DG|C6|O6":2,"DC|C4|N3":2,"DC|C5|C6":2,"DC|C2|O2":2,"DA|C2|N3":2,"DA|C6|N1":2,"DA|C4|C5":2,"DA|C8|N7":2,"DT|C5|C6":2,"DT|C2|O2":2,"DT|C4|O4":2};function Nd(n,r,i){var s;return r=(s=r<i?[r,i]:[i,r])[0],i=s[1],Py.includes(n)&&"C"===r&&"O"===i||Yw.includes(n)&&"OP1"===r&&"P"===i?2:y5[n+"|"+r+"|"+i]||1}function nu(n,r){void 0===r&&(r=!1),Le&&xe.time("calculateBondsWithin");var i=n.bondStore,s=n.rungBondStore,c=n.getAtomSet(!1),u=n.getAtomProxy(),f=n.getAtomProxy(),v=n.getBondProxy(),_=r?null:function(n){Le&&xe.time("calculateAtomBondMap");var r=[];return n.eachBond(function(i){var s=i.atomIndex1,c=i.atomIndex2;void 0===r[s]&&(r[s]=[]),r[s][c]=i.index}),Le&&xe.timeEnd("calculateAtomBondMap"),r}(n);n.eachResidue(function(y){if(!r&&_){var P=y.atomOffset;if(y.atomCount>500)return void xe.warn("more than 500 atoms, skip residue for auto-bonding",y.qualifiedName());for(var w=y.getBonds(),E=w.atomIndices1,S=w.atomIndices2,I=w.bondOrders,L=E.length,B=0;B<L;++B){var V=E[B]+P,N=S[B]+P,F=_[V];void 0!==F&&void 0!==F[N]?(v.index=F[N],I[y.residueType.getBondIndex(V,N)]=v.bondOrder):(u.index=V,f.index=N,i.addBond(u,f,I[B]))}}-1!==y.residueType.traceAtomIndex&&-1!==y.residueType.rungEndAtomIndex&&(u.index=y.traceAtomIndex,f.index=y.rungEndAtomIndex,s.addBond(u,f),c.set(u.index),c.set(f.index))}),n.atomSetDict.rung=c,Le&&xe.timeEnd("calculateBondsWithin")}function Lp(n,r,i){void 0===r&&(r=!1),void 0===i&&(i=!1),Le&&xe.time("calculateBondsBetween");var s=n.bondStore,c=n.backboneBondStore,u=n.getAtomSet(!1),f=n.getAtomProxy(),v=n.getAtomProxy();function _(w,E){var S=w.backboneType;0!==S&&S===E.backboneType&&(f.index=w.backboneEndAtomIndex,v.index=E.backboneStartAtomIndex,(i&&f.hasBondTo(v)||f.connectedTo(v))&&(r||s.addBond(f,v,1),f.index=w.traceAtomIndex,v.index=E.traceAtomIndex,c.addBond(f,v),u.set(f.index),u.set(v.index)))}0===c.count&&c.resize(n.residueStore.count),n.eachResidueN(2,_);var y=n.getResidueProxy(),C=n.getResidueProxy();if(n.eachChain(function(w){0!==w.residueCount&&(y.index=w.residueOffset,C.index=w.residueOffset+w.residueCount-1,_(C,y))}),n.atomSetDict.backbone=u,!r){Le&&xe.time("calculateBondsBetween inter");var P=n.spatialHash;n.eachResidue(function(w){0===w.backboneType&&!w.isWater()&&w.eachAtom(function(E){P.eachWithin(E.x,E.y,E.z,4,function(S){v.index=S,E.residueIndex!==v.residueIndex&&s.addBondIfConnected(E,v,1)})})}),Le&&xe.timeEnd("calculateBondsBetween inter")}Le&&xe.timeEnd("calculateBondsBetween")}function Th(n){if(n.unitcell){Le&&xe.time("buildUnitcellAssembly");var r=n.unitcell,i=n.center.clone().applyMatrix4(r.cartToFrac),s=function(n){var r=uO[n],i={};if(void 0===r)return console.warn("spacegroup '"+n+"' not found in symop library"),i;for(var s=[],c=0,u=r.length;c<u;c+=3){for(var f=[],v=0;v<3;++v)f.push(b5[r[c+v]]);s.push(f)}return s.forEach(function(_){var y=0,C=(new ye).set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1),P=C.elements;i[_.toString()]=C,_.forEach(function(w){for(var E=!1,S=!1,I=0,L=w.length;I<L;++I){var B=w[I];if("-"===B)E=!0;else if("+"===B)E=!1;else if("/"===B)S=!0;else if("X"===B)P[0+y]=E?-1:1;else if("Y"===B)P[4+y]=E?-1:1;else if("Z"===B)P[8+y]=E?-1:1;else if(dO.test(B)){var V=parseInt(B);S?P[12+y]/=V:P[12+y]=V}else xe.warn("getSymmetryOperations: unknown token '"+B+"'")}y+=1})}),i}(r.spacegroup),c=new J,u=new J,f=new J;i.x>1&&(c.x-=1),i.x<0&&(c.x+=1),i.y>1&&(c.y-=1),i.y<0&&(c.y+=1),i.z>1&&(c.z-=1),i.z<0&&(c.z+=1);var _=new sc("UNITCELL"),y=v(),C=[];if(n.biomolDict.NCS){C.push.apply(C,[new ye].concat(n.biomolDict.NCS.partList[0].matrixList));var P=[];y.forEach(function(L){C.forEach(function(B){P.push(L.clone().multiply(B))})}),_.addPart(P)}else _.addPart(y);var w=new J,E=new sc("SUPERCELL"),S=Array.prototype.concat.call(v(w.set(1,0,0)),v(w.set(0,1,0)),v(w.set(0,0,1)),v(w.set(-1,0,0)),v(w.set(0,-1,0)),v(w.set(0,0,-1)),v(w.set(1,1,0)),v(w.set(1,0,1)),v(w.set(0,1,1)),v(w.set(-1,-1,0)),v(w.set(-1,0,-1)),v(w.set(0,-1,-1)),v(w.set(1,-1,-1)),v(w.set(1,1,-1)),v(w.set(1,-1,1)),v(w.set(-1,1,1)),v(w.set(-1,-1,1)),v(w.set(-1,1,-1)),v(w.set(0,1,-1)),v(w.set(0,-1,1)),v(w.set(1,0,-1)),v(w.set(-1,0,1)),v(w.set(1,-1,0)),v(w.set(-1,1,0)),v(),v(w.set(1,1,1)),v(w.set(-1,-1,-1)));if(n.biomolDict.NCS){var I=[];S.forEach(function(L){C.forEach(function(B){I.push(L.clone().multiply(B))})}),E.addPart(I)}else E.addPart(S);n.biomolDict.UNITCELL=_,n.biomolDict.SUPERCELL=E,Le&&xe.timeEnd("buildUnitcellAssembly")}function v(L){var B=[];return Object.keys(s).forEach(function(V){var N=s[V].clone();u.copy(i).applyMatrix4(N),f.setFromMatrixPosition(N),f.sub(c),u.x>1&&(f.x-=1),u.x<0&&(f.x+=1),u.y>1&&(f.y-=1),u.y<0&&(f.y+=1),u.z>1&&(f.z-=1),u.z<0&&(f.z+=1),L&&f.add(L),N.setPosition(f),N.multiplyMatrices(r.fracToCart,N),N.multiply(r.cartToFrac),B.push(N)}),B}}var cA=["H","C","O","N","S","P"],WR=["NA","CL","FE"];function VM(n){var r=n.trim().toUpperCase();parseInt(r.charAt(0))&&(r=r.substr(1)),parseInt(r.charAt(0))&&(r=r.substr(1));var i=r.length;if(0===i)return"";if(1===i)return r;if(2===i){if(-1!==WR.indexOf(r))return r;if(-1!==cA.indexOf(r[0]))return r[0]}return i>=3&&-1!==cA.indexOf(r[0])?r[0]:""}function ac(n){var r=n.bondHash,i=r.countArray,s=r.offsetArray,c=r.indexArray,u=n.getBondProxy();n.eachResidue(function(f){var v=f.residueType;if(void 0===v.bonds){var _=f.atomOffset,y=[],C=[],P=[],w={};f.eachAtom(function(E){for(var S=E.index,I=s[S],B=0,V=i[S];B<V;++B){u.index=c[I+B];var N=u.atomIndex1,F=u.atomIndex2;if(N>F){var z=F;F=N,N=z}var G=N+"|"+F;void 0===w[G]&&(w[G]=!0,y.push(N-_),C.push(F-_),P.push(u.bondOrder))}}),v.bonds={atomIndices1:y,atomIndices2:C,bondOrders:P}}})}var lA=[3,11,19,37,55,87],uA=[4,12,20,38,56,88],zM=[6,15,16,34],C5=[1,7,8,9,17,35,53],dA=[2,10,18,36,54,86],pA=[13,30,31,48,49,50,80,81,82,83,84,85,112],M5=[5,14,32,33,51,52,85],P5=[9,17,35,53,85],Ba=function(r,i,s){this.structure=r,this.atomname=i,s=s||VM(i),this.element=s,this.number=Ac[s]||0,this.vdw=Ww[this.number]||2,this.covalent=VS[this.number]||1.6};Ba.prototype.getDefaultValence=function(){var r=zS[this.number];return r?r[0]:-1},Ba.prototype.getValenceList=function(){return zS[this.number]||[]},Ba.prototype.getOuterShellElectronCount=function(){return My[this.number]||2},Ba.prototype.isMetal=function(){return this.isAlkaliMetal()||this.isAlkalineEarthMetal()||this.isLanthanide()||this.isActinide()||this.isTransitionMetal()||this.isPostTransitionMetal()},Ba.prototype.isNonmetal=function(){return this.isDiatomicNonmetal()||this.isPolyatomicNonmetal()||this.isNobleGas()},Ba.prototype.isMetalloid=function(){return M5.includes(this.number)},Ba.prototype.isHalogen=function(){return P5.includes(this.number)},Ba.prototype.isDiatomicNonmetal=function(){return C5.includes(this.number)},Ba.prototype.isPolyatomicNonmetal=function(){return zM.includes(this.number)},Ba.prototype.isAlkaliMetal=function(){return lA.includes(this.number)},Ba.prototype.isAlkalineEarthMetal=function(){return uA.includes(this.number)},Ba.prototype.isNobleGas=function(){return dA.includes(this.number)},Ba.prototype.isTransitionMetal=function(){var r=this.number;return r>=21&&r<=29||r>=39&&r<=47||r>=72&&r<=79||r>=104&&r<=108},Ba.prototype.isPostTransitionMetal=function(){return pA.includes(this.number)},Ba.prototype.isLanthanide=function(){return this.number>=57&&this.number<=71},Ba.prototype.isActinide=function(){return this.number>=89&&this.number<=103};var Uf=function(r){this.structure=r,this.dict={},this.list=[],this.structure=r};Uf.prototype.add=function(r,i){var s=function(n,r){return n+"|"+r}(r=r.toUpperCase(),i=i?i.toUpperCase():VM(r)),c=this.dict[s];if(void 0===c){var u=new Ba(this.structure,r,i);this.dict[s]=c=this.list.length,this.list.push(u)}return c},Uf.prototype.get=function(r){return this.list[r]};var Ei=function(r,i,s,c,u,f){this.structure=r,this.bondReferenceAtomIndices=[],this.resname=i,this.atomTypeIdList=s,this.hetero=c?1:0,this.chemCompType=u,this.bonds=f,this.atomCount=s.length,this.moleculeType=this.getMoleculeType(),this.backboneType=this.getBackboneType(0),this.backboneEndType=this.getBackboneType(-1),this.backboneStartType=this.getBackboneType(1),this.backboneIndexList=this.getBackboneIndexList();var v=qe[this.backboneType],_=qe[this.backboneStartType],y=qe[this.backboneEndType],C=this.getAtomIndexByName(v.trace);this.traceAtomIndex=it(C,-1);var P=this.getAtomIndexByName(v.direction1);this.direction1AtomIndex=it(P,-1);var w=this.getAtomIndexByName(v.direction2);this.direction2AtomIndex=it(w,-1);var E=this.getAtomIndexByName(_.backboneStart);this.backboneStartAtomIndex=it(E,-1);var I,S=this.getAtomIndexByName(y.backboneEnd);this.backboneEndAtomIndex=it(S,-1),I=$w.includes(i)?this.getAtomIndexByName("N1"):this.getAtomIndexByName("N3"),this.rungEndAtomIndex=it(I,-1)};Ei.prototype.getBackboneIndexList=function(){var i,r=[];switch(this.moleculeType){case 3:i=Pm;break;case 4:case 5:i=Xc;break;default:return r}for(var s=this.structure.atomMap,c=this.atomTypeIdList,u=0,f=this.atomCount;u<f;++u){var v=s.get(c[u]);i.includes(v.atomname)&&r.push(u)}return r},Ei.prototype.getMoleculeType=function(){return this.isProtein()?3:this.isRna()?4:this.isDna()?5:this.isWater()?1:this.isIon()?2:this.isSaccharide()?6:0},Ei.prototype.getBackboneType=function(r){return this.hasProteinBackbone(r)?1:this.hasRnaBackbone(r)?2:this.hasDnaBackbone(r)?3:this.hasCgProteinBackbone(r)?4:this.hasCgRnaBackbone(r)?5:this.hasCgDnaBackbone(r)?6:0},Ei.prototype.isProtein=function(){return this.chemCompType?xm.includes(this.chemCompType):this.hasAtomWithName("CA","C","N")||Py.includes(this.resname)},Ei.prototype.isCg=function(){var r=this.backboneType;return 4===r||5===r||6===r},Ei.prototype.isNucleic=function(){return this.isRna()||this.isDna()},Ei.prototype.isRna=function(){return this.chemCompType?Cm.includes(this.chemCompType):this.hasAtomWithName(["P","O3'","O3*"],["C4'","C4*"],["O2'","O2*","F2'","F2*"])||ys.includes(this.resname)&&this.hasAtomWithName(["O2'","O2*","F2'","F2*"])},Ei.prototype.isDna=function(){return this.chemCompType?xy.includes(this.chemCompType):this.hasAtomWithName(["P","O3'","O3*"],["C3'","C3*"])&&!this.hasAtomWithName(["O2'","O2*","F2'","F2*"])||Vo.includes(this.resname)},Ei.prototype.isHetero=function(){return 1===this.hetero},Ei.prototype.isIon=function(){return Xw.includes(this.resname)},Ei.prototype.isWater=function(){return bh.includes(this.resname)},Ei.prototype.isSaccharide=function(){return this.chemCompType?Cy.includes(this.chemCompType):o5.includes(this.resname)},Ei.prototype.hasBackboneAtoms=function(r,i){var s=qe[i];return-1===r?this.hasAtomWithName(s.trace,s.backboneEnd,s.direction1,s.direction2):0===r?this.hasAtomWithName(s.trace,s.direction1,s.direction2):1===r?this.hasAtomWithName(s.trace,s.backboneStart,s.direction1,s.direction2):this.hasAtomWithName(s.trace,s.backboneStart,s.backboneEnd,s.direction1,s.direction2)},Ei.prototype.hasProteinBackbone=function(r){return this.isProtein()&&this.hasBackboneAtoms(r,1)},Ei.prototype.hasRnaBackbone=function(r){return this.isRna()&&this.hasBackboneAtoms(r,2)},Ei.prototype.hasDnaBackbone=function(r){return this.isDna()&&this.hasBackboneAtoms(r,3)},Ei.prototype.hasCgProteinBackbone=function(r){return this.atomCount<7&&this.isProtein()&&this.hasBackboneAtoms(r,4)},Ei.prototype.hasCgRnaBackbone=function(r){return this.atomCount<11&&this.isRna()&&this.hasBackboneAtoms(r,5)},Ei.prototype.hasCgDnaBackbone=function(r){return this.atomCount<11&&this.isDna()&&this.hasBackboneAtoms(r,6)},Ei.prototype.hasBackbone=function(r){return this.hasProteinBackbone(r)||this.hasRnaBackbone(r)||this.hasDnaBackbone(r)||this.hasCgProteinBackbone(r)||this.hasCgRnaBackbone(r)||this.hasCgDnaBackbone(r)},Ei.prototype.getAtomIndexByName=function(r){var i=this.atomCount,s=this.structure.atomMap,c=this.atomTypeIdList;if(Array.isArray(r)){for(var u=0;u<i;++u)if(r.includes(s.get(c[u]).atomname))return u}else for(var v=0;v<i;++v)if(r===s.get(c[v]).atomname)return v},Ei.prototype.hasAtomWithName=function(){for(var r=this,i=[],s=arguments.length;s--;)i[s]=arguments[s];for(var c=i.length,u=0;u<c;++u)if(void 0!==i[u]&&void 0===r.getAtomIndexByName(i[u]))return!1;return!0},Ei.prototype.getBonds=function(r){return void 0===this.bonds&&(this.bonds=function(n){var r=n.structure,i=r.getAtomProxy(),s=r.getAtomProxy(),c=n.atomCount,u=n.atomOffset,v=u+c-1,_=[],y=[],C=[];if(c>500)Le&&xe.warn("more than 500 atoms, skip residue for auto-bonding",n.qualifiedName());else if(c>50)for(var P=new Ah(n,!0),w=n.isCg()?1.2:2.3,E=u;E<v;++E){i.index=E;for(var S=i.covalent+w+.3,I=P.nearest(i,1/0,S*S),L=I.length,B=0;B<L;++B)s.index=I[B].index,i.index<s.index&&i.connectedTo(s)&&(_.push(i.index-u),y.push(s.index-u),C.push(Nd(i.resname,i.atomname,s.atomname)))}else for(var V=u;V<v;++V){i.index=V;for(var N=V+1;N<=v;++N)s.index=N,i.connectedTo(s)&&(_.push(V-u),y.push(N-u),C.push(Nd(i.resname,i.atomname,s.atomname)))}return{atomIndices1:_,atomIndices2:y,bondOrders:C}}(r)),this.bonds},Ei.prototype.getRings=function(){return void 0===this.rings&&this.calculateRings(),this.rings},Ei.prototype.getBondGraph=function(){return void 0===this.bondGraph&&this.calculateBondGraph(),this.bondGraph},Ei.prototype.getAromatic=function(r){return void 0===this.aromaticAtoms&&this.calculateAromatic(this.structure.getResidueProxy(r.residueIndex)),this.aromaticAtoms},Ei.prototype.getAromaticRings=function(r){return void 0===this.aromaticRings&&this.calculateAromatic(r),this.aromaticRings},Ei.prototype.calculateBondGraph=function(){for(var r=this.bondGraph={},i=this.getBonds(),s=i.atomIndices1.length,c=i.atomIndices1,u=i.atomIndices2,f=0;f<s;++f){var v=c[f],_=u[f];(r[v]=r[v]||[]).push(_),(r[_]=r[_]||[]).push(v)}},Ei.prototype.calculateRings=function(){for(var i=function(n,r){for(var i={count:r,visited:new Int32Array(r),queue:new Int32Array(r),pred:new Int32Array(r),left:new Int32Array(By),right:new Int32Array(By),color:new Int32Array(r),currentColor:0,rings:[],flags:new Int8Array(r),bonds:n},s=0;s<r;s++)i.visited[s]=-1,i.pred[s]=-1;return i}(this.getBondGraph(),this.atomCount),s=0;s<i.count;s++)i.visited[s]>=0||E5(i,s);this.rings={flags:i.flags,rings:i.rings}},Ei.prototype.isAromatic=function(r){return this.aromaticAtoms=this.getAromatic(r),1===this.aromaticAtoms[r.index-r.residueAtomOffset]},Ei.prototype.calculateAromatic=function(r){var i=this,s=this.aromaticAtoms=new Uint8Array(this.atomCount),c=this.getRings().rings,u=c.map(function(v){return function(n){if(n.some(function(u){return!hA.includes(u.number)}))return!1;var r=0,i=new zo(3,n.length),s=i.data;return n.forEach(function(u){s[r+0]=u.x,s[r+1]=u.y,s[r+2]=u.z,r+=3}),new Ly(i).vecC.length()<.05}(v.map(function(_){return i.structure.getAtomProxy(_+r.atomOffset)}))}),f=this.aromaticRings=[];c.forEach(function(v,_){u[_]&&(f.push(v),v.forEach(function(y){return s[y]=1}))})},Ei.prototype.assignBondReferenceAtomIndices=function(){var r=this.getBondGraph(),i=this.getRings(),s=i.flags,c=i.rings,u=this.bonds,f=u.atomIndices1,v=u.atomIndices2,_=u.bondOrders,y=this.bondReferenceAtomIndices,C=u.atomIndices1.length;y.length=0;for(var P=0;P<C;++P)if(!(_[P]<=1)){var w=f[P],E=v[P];if(s[w]&&s[E]){for(var S=0;S<c.length&&void 0===y[P];++S)for(var I=c[S],L=null,B=!1,V=0;V<I.length;++V){var N=I[V];if(N===w||N===E?B=!0:L=N,B&&null!==L){y[P]=L;break}}if(void 0!==y[P])continue}if(r[w].length>1){for(var F=0;F<r[w].length;++F){var z=r[w][F];if(z!==E){y[P]=z;break}}continue}if(r[E].length>1){for(var G=0;G<r[E].length;++G){var q=r[E][G];if(q!==w){y[P]=q;break}}continue}}},Ei.prototype.getBondIndex=function(r,i){for(var s=this.bonds,c=s.atomIndices1,u=s.atomIndices2,f=c.indexOf(r),v=u.indexOf(i),_=v;-1!==f;){for(;-1!==v;){if(f===v)return f;v=u.indexOf(i,v+1)}f=c.indexOf(r,f+1),v=_}},Ei.prototype.getBondReferenceAtomIndex=function(r,i){var s=this.getBondIndex(r,i);if(void 0!==s)return 0===this.bondReferenceAtomIndices.length&&this.assignBondReferenceAtomIndices(),this.bondReferenceAtomIndices[s]};var hA=[5,6,7,8,14,15,16,32,33,50,51,83];function GM(n,r,i){if(!(i<r)){for(var s=n.pred,c=n.color,u=n.left,f=n.right,v=++n.currentColor,_=r,y=0;y<By&&(c[_]=v,!((_=s[_])<0));y++);var C=0,P=0,w=!1,E=0;_=i;for(var S=0;S<By;S++){if(c[_]===v){E=_,w=!0;break}if(f[P++]=_,(_=s[_])<0)break}if(w){_=r;for(var I=0;I<By&&(u[C++]=_,!(E===_||(_=s[_],_<0)));I++);for(var L=C+P,B=new Array(L),V=0,N=0;N<C;N++)B[V++]=u[N];for(var F=P-1;F>=0;F--)B[V++]=f[F];for(var z=0;z<L;++z)n.flags[B[z]]=1;n.rings.push(B)}}}function E5(n,r){var i=n.bonds,s=n.visited,c=n.queue,u=n.pred;s[r]=1,c[0]=r;for(var f=0,v=1;f<v;){var _=c[f++];if(void 0!==i[_])for(var C=i[_].length,P=0;P<C;P++){var w=i[_][P];s[w]>0?u[w]!==_&&u[_]!==w&&GM(n,_,w):(s[w]=1,c[v++]=w,u[w]=_)}}}var By=4,Vy=function(r){this.structure=r,this.dict={},this.list=[]};Vy.prototype.add=function(r,i,s,c,u){void 0===c&&(c="");var f=function(n,r,i,s){return void 0===s&&(s=""),n+"|"+r.join(",")+"|"+(i?1:0)+"|"+s}(r=r.toUpperCase(),i,s,c),v=this.dict[f];if(void 0===v){var _=new Ei(this.structure,r,i,s,c,u);this.dict[f]=v=this.list.length,this.list.push(_)}return v},Vy.prototype.get=function(r){return this.list[r]};var Gu=function(r,i){void 0===i&&(i=0),this.structure=r,this.index=i,this.bondStore=r.bondStore,this._v12=new J,this._v13=new J,this._ap1=this.structure.getAtomProxy(),this._ap2=this.structure.getAtomProxy(),this._ap3=this.structure.getAtomProxy()},ju={atom1:{configurable:!0},atom2:{configurable:!0},atomIndex1:{configurable:!0},atomIndex2:{configurable:!0},bondOrder:{configurable:!0}};ju.atom1.get=function(){return this.structure.getAtomProxy(this.atomIndex1)},ju.atom2.get=function(){return this.structure.getAtomProxy(this.atomIndex2)},ju.atomIndex1.get=function(){return this.bondStore.atomIndex1[this.index]},ju.atomIndex1.set=function(n){this.bondStore.atomIndex1[this.index]=n},ju.atomIndex2.get=function(){return this.bondStore.atomIndex2[this.index]},ju.atomIndex2.set=function(n){this.bondStore.atomIndex2[this.index]=n},ju.bondOrder.get=function(){return this.bondStore.bondOrder[this.index]},ju.bondOrder.set=function(n){this.bondStore.bondOrder[this.index]=n},Gu.prototype.getOtherAtomIndex=function(r){return r===this.atomIndex1?this.atomIndex2:this.atomIndex1},Gu.prototype.getOtherAtom=function(r){return this.structure.getAtomProxy(this.getOtherAtomIndex(r.index))},Gu.prototype.getReferenceAtomIndex=function(){var r=this._ap1,i=this._ap2;if(r.index=this.atomIndex1,i.index=this.atomIndex2,r.residueIndex===i.residueIndex){var f=r.residueType.getBondReferenceAtomIndex(r.index-r.residueAtomOffset,i.index-i.residueAtomOffset);if(void 0!==f)return f+r.residueAtomOffset;console.warn("No reference atom found",r.index,i.index)}},Gu.prototype.calculateShiftDir=function(r){void 0===r&&(r=new J);var i=this._ap1,s=this._ap2,c=this._ap3,u=this._v12,f=this._v13;i.index=this.atomIndex1,s.index=this.atomIndex2;var v=this.getReferenceAtomIndex();u.subVectors(i,s).normalize(),void 0!==v?(c.index=v,f.subVectors(i,c)):f.copy(i),f.normalize();var _=u.dot(f);return 1-Math.abs(_)<1e-5&&(f.set(1,0,0),_=u.dot(f),1-Math.abs(_)<1e-5&&(f.set(0,1,0),_=u.dot(f))),r.copy(f.sub(u.multiplyScalar(_))).normalize()},Gu.prototype.qualifiedName=function(){return this.atomIndex1+"="+this.atomIndex2},Gu.prototype.clone=function(){return new Gu(this.structure,this.index)},Gu.prototype.toObject=function(){return{atomIndex1:this.atomIndex1,atomIndex2:this.atomIndex2,bondOrder:this.bondOrder}},Object.defineProperties(Gu.prototype,ju);var ro=function(r,i){void 0===i&&(i=0),this.structure=r,this.index=i,this.chainStore=r.chainStore,this.residueStore=r.residueStore,this.atomStore=r.atomStore,this.residueMap=r.residueMap,this.atomMap=r.atomMap},Gi={entity:{configurable:!0},entityIndex:{configurable:!0},chain:{configurable:!0},chainIndex:{configurable:!0},atomOffset:{configurable:!0},atomCount:{configurable:!0},atomEnd:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0},resno:{configurable:!0},sstruc:{configurable:!0},inscode:{configurable:!0},residueType:{configurable:!0},resname:{configurable:!0},hetero:{configurable:!0},moleculeType:{configurable:!0},backboneType:{configurable:!0},backboneStartType:{configurable:!0},backboneEndType:{configurable:!0},traceAtomIndex:{configurable:!0},direction1AtomIndex:{configurable:!0},direction2AtomIndex:{configurable:!0},backboneStartAtomIndex:{configurable:!0},backboneEndAtomIndex:{configurable:!0},rungEndAtomIndex:{configurable:!0}};Gi.entity.get=function(){return this.structure.entityList[this.entityIndex]},Gi.entityIndex.get=function(){return this.chainStore.entityIndex[this.chainIndex]},Gi.chain.get=function(){return this.structure.getChainProxy(this.chainIndex)},Gi.chainIndex.get=function(){return this.residueStore.chainIndex[this.index]},Gi.chainIndex.set=function(n){this.residueStore.chainIndex[this.index]=n},Gi.atomOffset.get=function(){return this.residueStore.atomOffset[this.index]},Gi.atomOffset.set=function(n){this.residueStore.atomOffset[this.index]=n},Gi.atomCount.get=function(){return this.residueStore.atomCount[this.index]},Gi.atomCount.set=function(n){this.residueStore.atomCount[this.index]=n},Gi.atomEnd.get=function(){return this.atomOffset+this.atomCount-1},Gi.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},Gi.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},Gi.chainid.get=function(){return this.chainStore.getChainid(this.chainIndex)},Gi.resno.get=function(){return this.residueStore.resno[this.index]},Gi.resno.set=function(n){this.residueStore.resno[this.index]=n},Gi.sstruc.get=function(){return this.residueStore.getSstruc(this.index)},Gi.sstruc.set=function(n){this.residueStore.setSstruc(this.index,n)},Gi.inscode.get=function(){return this.residueStore.getInscode(this.index)},Gi.inscode.set=function(n){this.residueStore.setInscode(this.index,n)},Gi.residueType.get=function(){return this.residueMap.get(this.residueStore.residueTypeId[this.index])},Gi.resname.get=function(){return this.residueType.resname},Gi.hetero.get=function(){return this.residueType.hetero},Gi.moleculeType.get=function(){return this.residueType.moleculeType},Gi.backboneType.get=function(){return this.residueType.backboneType},Gi.backboneStartType.get=function(){return this.residueType.backboneStartType},Gi.backboneEndType.get=function(){return this.residueType.backboneEndType},Gi.traceAtomIndex.get=function(){return this.residueType.traceAtomIndex+this.atomOffset},Gi.direction1AtomIndex.get=function(){return this.residueType.direction1AtomIndex+this.atomOffset},Gi.direction2AtomIndex.get=function(){return this.residueType.direction2AtomIndex+this.atomOffset},Gi.backboneStartAtomIndex.get=function(){return this.residueType.backboneStartAtomIndex+this.atomOffset},Gi.backboneEndAtomIndex.get=function(){return this.residueType.backboneEndAtomIndex+this.atomOffset},Gi.rungEndAtomIndex.get=function(){return this.residueType.rungEndAtomIndex+this.atomOffset},ro.prototype.eachAtom=function(r,i){var c=this.atomOffset,u=this.structure._ap,f=c+this.atomCount;if(i&&i.atomOnlyTest)for(var v=i.atomOnlyTest,_=c;_<f;++_)u.index=_,v(u)&&r(u);else for(var y=c;y<f;++y)u.index=y,r(u)},ro.prototype.isProtein=function(){return 3===this.residueType.moleculeType},ro.prototype.isNucleic=function(){var r=this.residueType.moleculeType;return 4===r||5===r},ro.prototype.isRna=function(){return 4===this.residueType.moleculeType},ro.prototype.isDna=function(){return 5===this.residueType.moleculeType},ro.prototype.isCg=function(){var r=this.residueType.backboneType;return 4===r||5===r||6===r},ro.prototype.isPolymer=function(){if(this.structure.entityList.length>0)return this.entity.isPolymer();var r=this.residueType.moleculeType;return 3===r||4===r||5===r},ro.prototype.isHetero=function(){return 1===this.residueType.hetero},ro.prototype.isWater=function(){return 1===this.residueType.moleculeType},ro.prototype.isIon=function(){return 2===this.residueType.moleculeType},ro.prototype.isSaccharide=function(){return 6===this.residueType.moleculeType},ro.prototype.isHelix=function(){return Mm.includes(this.sstruc)},ro.prototype.isSheet=function(){return gM.includes(this.sstruc)},ro.prototype.isTurn=function(){return Fi.includes(this.sstruc)&&this.isProtein()},ro.prototype.getAtomType=function(r){return this.atomMap.get(this.atomStore.atomTypeId[r])},ro.prototype.getResname1=function(){return _M[this.resname.toUpperCase()]||"X"},ro.prototype.getBackboneType=function(r){switch(r){case-1:return this.residueType.backboneStartType;case 1:return this.residueType.backboneEndType;default:return this.residueType.backboneType}},ro.prototype.getAtomIndexByName=function(r){var i=this.residueType.getAtomIndexByName(r);return void 0!==i&&(i+=this.atomOffset),i},ro.prototype.hasAtomWithName=function(r){return this.residueType.hasAtomWithName(r)},ro.prototype.getAtomnameList=function(){console.warn("getAtomnameList - might be expensive");for(var i=this.atomCount,s=this.atomOffset,c=new Array(i),u=0;u<i;++u)c[u]=this.getAtomType(s+u).atomname;return c},ro.prototype.connectedTo=function(r){var i=this.structure.getAtomProxy(this.backboneEndAtomIndex),s=this.structure.getAtomProxy(r.backboneStartAtomIndex);return!(!i||!s)&&i.connectedTo(s)},ro.prototype.getNextConnectedResidue=function(){var r=this.chainStore.residueOffset[this.chainIndex],i=this.chainStore.residueCount[this.chainIndex],s=this.index+1;if(s<r+i){var c=this.structure.getResidueProxy(s);if(this.connectedTo(c))return c}else if(s===r+i){var u=this.structure.getResidueProxy(r);if(this.connectedTo(u))return u}},ro.prototype.getPreviousConnectedResidue=function(r){var i=this.chainStore.residueOffset[this.chainIndex],s=this.index-1;if(s>=i){var c=it(r,this.structure.getResidueProxy());if(c.index=s,c.connectedTo(this))return c}else if(s===i-1){var u=this.chainStore.residueCount[this.chainIndex],f=it(r,this.structure.getResidueProxy());if(f.index=i+u-1,f.connectedTo(this))return f}},ro.prototype.getBonds=function(){return this.residueType.getBonds(this)},ro.prototype.getRings=function(){return this.residueType.getRings()},ro.prototype.getAromaticRings=function(){return this.residueType.getAromaticRings(this)},ro.prototype.qualifiedName=function(r){void 0===r&&(r=!1);var i="";return this.resname&&!r&&(i+="["+this.resname+"]"),void 0!==this.resno&&(i+=this.resno),this.inscode&&(i+="^"+this.inscode),this.chain&&(i+=":"+this.chainname),i+"/"+this.modelIndex},ro.prototype.clone=function(){return new ro(this.structure,this.index)},ro.prototype.toObject=function(){return{index:this.index,chainIndex:this.chainIndex,atomOffset:this.atomOffset,atomCount:this.atomCount,resno:this.resno,resname:this.resname,sstruc:this.sstruc}},Object.defineProperties(ro.prototype,Gi);var Ml=function(r,i,s){this.structure=r,this.residueIndexStart=i,this.residueIndexEnd=s,this.chainStore=r.chainStore,this.residueStore=r.residueStore,this.atomStore=r.atomStore,this.residueCount=s-i+1;var c=this.structure.getResidueProxy(this.residueIndexStart),u=this.structure.getResidueProxy(this.residueIndexEnd);this.isPrevConnected=void 0!==c.getPreviousConnectedResidue();var f=u.getNextConnectedResidue();this.isNextConnected=void 0!==f,this.isNextNextConnected=void 0!==f&&void 0!==f.getNextConnectedResidue(),this.isCyclic=u.connectedTo(c),this.__residueProxy=this.structure.getResidueProxy()},Im={chainIndex:{configurable:!0},modelIndex:{configurable:!0},chainname:{configurable:!0}};Im.chainIndex.get=function(){return this.residueStore.chainIndex[this.residueIndexStart]},Im.modelIndex.get=function(){return this.chainStore.modelIndex[this.chainIndex]},Im.chainname.get=function(){return this.chainStore.getChainname(this.chainIndex)},Ml.prototype.isProtein=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isProtein()},Ml.prototype.isCg=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isCg()},Ml.prototype.isNucleic=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.isNucleic()},Ml.prototype.getMoleculeType=function(){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.moleculeType},Ml.prototype.getBackboneType=function(r){return this.__residueProxy.index=this.residueIndexStart,this.__residueProxy.getBackboneType(r)},Ml.prototype.getAtomIndexByType=function(r,i){this.isCyclic?-1===r?r=this.residueCount-1:r===this.residueCount&&(r=0):(-1===r&&!this.isPrevConnected&&(r+=1),r===this.residueCount&&!this.isNextNextConnected&&(r-=1));var c,s=this.__residueProxy;switch(s.index=this.residueIndexStart+r,i){case"trace":c=s.traceAtomIndex;break;case"direction1":c=s.direction1AtomIndex;break;case"direction2":c=s.direction2AtomIndex;break;default:c=s.getAtomIndexByName(i)}return c},Ml.prototype.eachAtom=function(r,i){this.eachResidue(function(s){s.eachAtom(r,i)})},Ml.prototype.eachAtomN=function(r,i,s){for(var c=this,u=this.residueCount,f=new Array(r),v=0;v<r;++v)f[v]=c.structure.getAtomProxy(c.getAtomIndexByType(v,s));i.apply(this,f);for(var _=r;_<u;++_){for(var y=1;y<r;++y)f[y-1].index=f[y].index;f[r-1].index=c.getAtomIndexByType(_,s),i.apply(c,f)}},Ml.prototype.eachResidue=function(r){for(var i=this.structure.getResidueProxy(),s=this.residueCount,c=this.residueIndexStart,u=0;u<s;++u)i.index=c+u,r(i)},Ml.prototype.qualifiedName=function(){var r=this.structure.getResidueProxy(this.residueIndexStart),i=this.structure.getResidueProxy(this.residueIndexEnd);return r.qualifiedName()+" - "+i.qualifiedName()},Object.defineProperties(Ml.prototype,Im);var Cs=function(r,i){void 0===i&&(i=0),this.structure=r,this.index=i,this.chainStore=r.chainStore,this.residueStore=r.residueStore},is={entity:{configurable:!0},model:{configurable:!0},entityIndex:{configurable:!0},modelIndex:{configurable:!0},residueOffset:{configurable:!0},residueCount:{configurable:!0},residueEnd:{configurable:!0},atomOffset:{configurable:!0},atomEnd:{configurable:!0},atomCount:{configurable:!0},chainname:{configurable:!0},chainid:{configurable:!0}};is.entity.get=function(){return this.structure.entityList[this.entityIndex]},is.model.get=function(){return this.structure.getModelProxy(this.modelIndex)},is.entityIndex.get=function(){return this.chainStore.entityIndex[this.index]},is.entityIndex.set=function(n){this.chainStore.entityIndex[this.index]=n},is.modelIndex.get=function(){return this.chainStore.modelIndex[this.index]},is.modelIndex.set=function(n){this.chainStore.modelIndex[this.index]=n},is.residueOffset.get=function(){return this.chainStore.residueOffset[this.index]},is.residueOffset.set=function(n){this.chainStore.residueOffset[this.index]=n},is.residueCount.get=function(){return this.chainStore.residueCount[this.index]},is.residueCount.set=function(n){this.chainStore.residueCount[this.index]=n},is.residueEnd.get=function(){return this.residueOffset+this.residueCount-1},is.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},is.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},is.atomCount.get=function(){return 0===this.residueCount?0:this.atomEnd-this.atomOffset+1},is.chainname.get=function(){return this.chainStore.getChainname(this.index)},is.chainname.set=function(n){this.chainStore.setChainname(this.index,n)},is.chainid.get=function(){return this.chainStore.getChainid(this.index)},is.chainid.set=function(n){this.chainStore.setChainid(this.index,n)},Cs.prototype.eachAtom=function(r,i){this.eachResidue(function(s){s.eachAtom(r,i)},i)},Cs.prototype.eachResidue=function(r,i){var c=this.residueOffset,u=this.structure._rp,f=c+this.residueCount;if(i&&i.test){var v=i.residueOnlyTest;if(v)for(var _=c;_<f;++_)u.index=_,v(u)&&r(u);else for(var y=c;y<f;++y)u.index=y,r(u)}else for(var C=c;C<f;++C)u.index=C,r(u)},Cs.prototype.eachResidueN=function(r,i){var c=this.residueCount,u=this.residueOffset,f=u+c;if(!(c<r)){for(var v=new Array(r),_=0;_<r;++_)v[_]=this.structure.getResidueProxy(u+_);i.apply(this,v);for(var y=u+r;y<f;++y){for(var C=0;C<r;++C)v[C].index+=1;i.apply(this,v)}}},Cs.prototype.eachPolymer=function(r,i){for(var s=0,c=0,u=i?i.residueOnlyTest:void 0,f=this.model.structure,_=this.residueOffset,y=_+this.residueCount,C=this.structure.getResidueProxy(),P=this.structure.getResidueProxy(_),w=this.structure.getAtomProxy(),E=this.structure.getAtomProxy(),S=!0,I=_+1;I<y;++I){C.index=P.index,P.index=I;var L=S?C.backboneEndType:C.backboneType;S&&(s=C.index,S=!1),c=P.index,0!==L&&L===P.backboneType?(w.index=C.backboneEndAtomIndex,E.index=P.backboneStartAtomIndex,(!w||!E||!w.connectedTo(E)||u&&(!u(C)||!u(P)))&&(C.index-s>1&&r(new Ml(f,s,C.index)),s=c)):(0!==L&&C.index-s>1&&r(new Ml(f,s,C.index)),s=c)}c-s>1&&this.structure.getResidueProxy(s).backboneEndType&&r(new Ml(f,s,c))},Cs.prototype.qualifiedName=function(){return":"+this.chainname+"/"+this.modelIndex},Cs.prototype.clone=function(){return new Cs(this.structure,this.index)},Cs.prototype.toObject=function(){return{index:this.index,residueOffset:this.residueOffset,residueCount:this.residueCount,chainname:this.chainname}},Object.defineProperties(Cs.prototype,is);var Pl=function(r,i){void 0===i&&(i=0),this.structure=r,this.index=i,this.modelStore=r.modelStore,this.chainStore=r.chainStore,this.residueStore=r.residueStore},Wu={chainOffset:{configurable:!0},chainCount:{configurable:!0},residueOffset:{configurable:!0},atomOffset:{configurable:!0},chainEnd:{configurable:!0},residueEnd:{configurable:!0},atomEnd:{configurable:!0},residueCount:{configurable:!0},atomCount:{configurable:!0}};Wu.chainOffset.get=function(){return this.modelStore.chainOffset[this.index]},Wu.chainOffset.set=function(n){this.modelStore.chainOffset[this.index]=n},Wu.chainCount.get=function(){return this.modelStore.chainCount[this.index]},Wu.chainCount.set=function(n){this.modelStore.chainCount[this.index]=n},Wu.residueOffset.get=function(){return this.chainStore.residueOffset[this.chainOffset]},Wu.atomOffset.get=function(){return this.residueStore.atomOffset[this.residueOffset]},Wu.chainEnd.get=function(){return this.chainOffset+this.chainCount-1},Wu.residueEnd.get=function(){return this.chainStore.residueOffset[this.chainEnd]+this.chainStore.residueCount[this.chainEnd]-1},Wu.atomEnd.get=function(){return this.residueStore.atomOffset[this.residueEnd]+this.residueStore.atomCount[this.residueEnd]-1},Wu.residueCount.get=function(){return 0===this.chainCount?0:this.residueEnd-this.residueOffset+1},Wu.atomCount.get=function(){return 0===this.residueCount?0:this.atomEnd-this.atomOffset+1},Pl.prototype.eachAtom=function(r,i){this.eachChain(function(s){s.eachAtom(r,i)},i)},Pl.prototype.eachResidue=function(r,i){this.eachChain(function(s){s.eachResidue(r,i)},i)},Pl.prototype.eachPolymer=function(r,i){if(i&&i.chainOnlyTest){var s=i.chainOnlyTest;this.eachChain(function(c){s(c)&&c.eachPolymer(r,i)})}else this.eachChain(function(c){c.eachPolymer(r,i)})},Pl.prototype.eachChain=function(r,i){var c=this.chainOffset,u=this.structure._cp,f=c+this.chainCount;if(i&&i.test){var v=i.chainOnlyTest;if(v)for(var _=c;_<f;++_)u.index=_,v(u)&&r(u);else for(var y=c;y<f;++y)u.index=y,r(u)}else for(var C=c;C<f;++C)u.index=C,r(u)},Pl.prototype.qualifiedName=function(){return"/"+this.index},Pl.prototype.clone=function(){return new Pl(this.structure,this.index)},Pl.prototype.toObject=function(){return{index:this.index,chainOffset:this.chainOffset,chainCount:this.chainCount}},Object.defineProperties(Pl.prototype,Wu);var _r=function(r,i){void 0===r&&(r=""),void 0===i&&(i=""),this.signals={refreshed:new Br},this.init(r,i)},fA={type:{configurable:!0}};_r.prototype.init=function(r,i){this.name=r,this.path=i,this.title="",this.id="",this.data=function(n){return{structure:n,"@spatialLookup":void 0,"@valenceModel":void 0}}(this),this.header={},this.extraData={},this.atomSetCache={},this.atomSetDict={},this.biomolDict={},this.entityList=[],this.unitcell=void 0,this.frames=[],this.boxes=[],this.validation=void 0,this.bondStore=new NM(0),this.backboneBondStore=new NM(0),this.rungBondStore=new NM(0),this.atomStore=new nA(0),this.residueStore=new _5(0),this.chainStore=new rA(0),this.modelStore=new iA(0),this.atomMap=new Uf(this),this.residueMap=new Vy(this),this.bondHash=void 0,this.spatialHash=void 0,this.atomSet=void 0,this.bondSet=void 0,this.center=new J,this.boundingBox=new to,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy()},fA.type.get=function(){return"Structure"},_r.prototype.finalizeAtoms=function(){this.atomSet=this.getAtomSet(),this.atomCount=this.atomStore.count,this.boundingBox=this.getBoundingBox(void 0,this.boundingBox),this.center=this.boundingBox.getCenter(),this.spatialHash=new xp(this.atomStore,this.boundingBox)},_r.prototype.finalizeBonds=function(){var r=this;for(var i in this.bondSet=this.getBondSet(),this.bondCount=this.bondStore.count,this.bondHash=new eA(this.bondStore,this.atomStore.count),this.atomSetCache={},this.atomSetDict.rung||(this.atomSetDict.rung=this.getAtomSet(!1)),r.atomSetDict)r.atomSetCache["__"+i]=r.atomSetDict[i].clone()},_r.prototype.getBondProxy=function(r){return new Gu(this,r)},_r.prototype.getAtomProxy=function(r){return new In(this,r)},_r.prototype.getResidueProxy=function(r){return new ro(this,r)},_r.prototype.getChainProxy=function(r){return new Cs(this,r)},_r.prototype.getModelProxy=function(r){return new Pl(this,r)},_r.prototype.getBondSet=function(){var r=this.bondStore.count,i=new qr(r),s=this.atomSet;if(s)for(var c=this.getBondProxy(),u=0;u<r;++u)c.index=u,s.isSet(c.atomIndex1,c.atomIndex2)&&i.set(c.index);else i.setAll();return i},_r.prototype.getBackboneBondSet=function(){var r=this.backboneBondStore.count,i=new qr(r),s=this.atomSetCache.__backbone;if(s){var c=this.getBondProxy();c.bondStore=this.backboneBondStore;for(var u=0;u<r;++u)c.index=u,s.isSet(c.atomIndex1,c.atomIndex2)&&i.set(c.index)}else i.setAll();return i},_r.prototype.getRungBondSet=function(){var r=this.rungBondStore.count,i=new qr(r),s=this.atomSetCache.__rung;if(s){var c=this.getBondProxy();c.bondStore=this.rungBondStore;for(var u=0;u<r;++u)c.index=u,s.isSet(c.atomIndex1,c.atomIndex2)&&i.set(c.index)}else i.setAll();return i},_r.prototype.getAtomSet=function(r){var i=this.atomStore.count;if(void 0===r)return new qr(i,!0);if(r instanceof qr)return r;if(!0===r)return new qr(i,!0);if(r&&r.test){var s=r.string;if(s in this.atomSetCache)return this.atomSetCache[s];var c=new qr(i);return this.eachAtom(function(u){c.set(u.index)},r),this.atomSetCache[s]=c,c}return!1===r?new qr(i):new qr(i,!0)},_r.prototype.getAtomSetWithinSelection=function(r,i){var s=this.spatialHash,c=this.getAtomSet(!1),u=this.getAtomProxy();return s&&this.getAtomSet(r).forEach(function(f){u.index=f,s.within(u.x,u.y,u.z,i).forEach(function(v){c.set(v)})}),c},_r.prototype.getAtomSetWithinPoint=function(r,i){var s=r,c=this.getAtomSet(!1);return this.spatialHash&&this.spatialHash.within(s.x,s.y,s.z,i).forEach(function(u){c.set(u)}),c},_r.prototype.getAtomSetWithinVolume=function(r,i,s,c,u){var v=new Cl(r,s,c,u),_=v.getDataPosition(),y=_.length,C=v.matrix.getMaxScaleOnAxis(),P=this.getAtomSet(!1);if(!this.spatialHash)return P;for(var w=0;w<y;w+=3)this.spatialHash.within(_[w],_[w+1],_[w+2],C).forEach(function(E){P.set(E)});return P},_r.prototype.getAtomSetWithinGroup=function(r){var i=this.atomStore.residueIndex,s=this.getAtomSet(!1),c=this.getResidueProxy();return this.getAtomSet(r).forEach(function(u){c.index=i[u];for(var f=c.atomOffset;f<=c.atomEnd;++f)s.set(f)}),s},_r.prototype.getSelection=function(){return!1},_r.prototype.getStructure=function(){return this},_r.prototype.eachEntity=function(r,i){this.entityList.forEach(function(s){(void 0===i||s.getEntityType()===i)&&r(s)})},_r.prototype.eachBond=function(r,i){var c,s=this.getBondProxy();if(i&&i.test&&(c=this.getBondSet(),this.bondSet&&c.intersection(this.bondSet)),c)c.forEach(function(v){s.index=v,r(s)});else for(var u=this.bondStore.count,f=0;f<u;++f)s.index=f,r(s)},_r.prototype.eachAtom=function(r,i){if(i&&i.test)this.eachModel(function(f){f.eachAtom(r,i)},i);else for(var s=this.atomStore.count,c=this.getAtomProxy(),u=0;u<s;++u)c.index=u,r(c)},_r.prototype.eachResidue=function(r,i){if(i&&i.test){var s=this.modelStore.count,c=this.getModelProxy(),u=i.modelOnlyTest;if(u)for(var f=0;f<s;++f)c.index=f,u(c)&&c.eachResidue(r,i);else for(var v=0;v<s;++v)c.index=v,c.eachResidue(r,i)}else for(var _=this.residueStore.count,y=this.getResidueProxy(),C=0;C<_;++C)y.index=C,r(y)},_r.prototype.eachResidueN=function(r,i){var c=this.residueStore.count;if(!(c<r)){for(var u=new Array(r),f=0;f<r;++f)u[f]=this.getResidueProxy(f);i.apply(this,u);for(var v=r;v<c;++v){for(var _=0;_<r;++_)u[_].index+=1;i.apply(this,u)}}},_r.prototype.eachPolymer=function(r,i){if(i&&i.modelOnlyTest){var s=i.modelOnlyTest;this.eachModel(function(c){s(c)&&c.eachPolymer(r,i)})}else this.eachModel(function(c){c.eachPolymer(r,i)})},_r.prototype.eachChain=function(r,i){if(i&&i.test)this.eachModel(function(f){f.eachChain(r,i)});else for(var s=this.chainStore.count,c=this.getChainProxy(),u=0;u<s;++u)c.index=u,r(c)},_r.prototype.eachModel=function(r,i){var s=this.modelStore.count,c=this.getModelProxy();if(i&&i.test){var u=i.modelOnlyTest;if(u)for(var f=0;f<s;++f)c.index=f,u(c)&&r(c);else for(var v=0;v<s;++v)c.index=v,r(c)}else for(var _=0;_<s;++_)c.index=_,r(c)},_r.prototype.getAtomData=function(r){var i=Object.assign({},r);i.colorParams&&(i.colorParams.structure=this.getStructure());var u,f,s=i.what,c=it(i.atomSet,this.atomSet),v={},_=this.getAtomProxy(),y=c.getSize();(!s||s.position)&&(v.position=new Float32Array(3*y)),(!s||s.color)&&i.colorParams&&(v.color=new Float32Array(3*y),f=Xr.getScheme(i.colorParams)),(!s||s.picking)&&(v.picking=new Ph(new Float32Array(y),this.getStructure())),(!s||s.radius)&&(v.radius=new Float32Array(y),u=new Hu(i.radiusParams)),(!s||s.index)&&(v.index=new Uint32Array(y));var C=v.position,P=v.color,w=v.picking,E=v.radius,S=v.index;return c.forEach(function(I,L){var B=3*L;_.index=I,C&&_.positionToArray(C,B),P&&f.atomColorToArray(_,P,B),w&&(w.array[L]=I),E&&(E[L]=u.atomRadius(_)),S&&(S[L]=I)}),v},_r.prototype.getBondData=function(r){var i=Object.assign({},r);i.colorParams&&(i.colorParams.structure=this.getStructure());var C,P,s=i.what,c=it(i.bondSet,this.bondSet),u=it(i.multipleBond,"off"),f="off"!==u,v="offset"===u,_=it(i.bondScale,.4),y=it(i.bondSpacing,1),w={},E=this.getBondProxy();i.bondStore&&(E.bondStore=i.bondStore);var L,S=this.getAtomProxy(),I=this.getAtomProxy();if(f){var B=E.bondStore.bondOrder;L=0,c.forEach(function(Mt){L+=B[Mt]})}else L=c.getSize();(!s||s.position)&&(w.position1=new Float32Array(3*L),w.position2=new Float32Array(3*L)),(!s||s.color)&&i.colorParams&&(w.color=new Float32Array(3*L),w.color2=new Float32Array(3*L),P=Xr.getScheme(i.colorParams)),(!s||s.picking)&&(w.picking=new WS(new Float32Array(L),this.getStructure(),i.bondStore)),(!s||s.radius||f&&s.position)&&(C=new Hu(i.radiusParams)),(!s||s.radius)&&(w.radius=new Float32Array(L),i.radius2&&(w.radius2=new Float32Array(L)));var $,tt,ot,nt,et,vt,V=w.position1,N=w.position2,F=w.color,z=w.color2,G=w.picking,q=w.radius,Y=w.radius2,X=0,dt=new J,Dt=new J,Et=new J;return c.forEach(function(Mt){if(tt=3*X,E.index=Mt,S.index=E.atomIndex1,I.index=E.atomIndex2,nt=E.bondOrder,V)if(f&&nt>1){var st=C.atomRadius(S);vt=st*_/(.5*nt),E.calculateShiftDir(Et),v?(Et.multiplyScalar(et=2*y*st),Et.negate(),Dt.subVectors(I,S).multiplyScalar(Math.max(.1,et/1.88)),S.positionToArray(V,tt),I.positionToArray(N,tt),nt>=2&&(dt.addVectors(S,Et).add(Dt).toArray(V,tt+3),dt.addVectors(I,Et).sub(Dt).toArray(N,tt+3),nt>=3&&(dt.subVectors(S,Et).add(Dt).toArray(V,tt+6),dt.subVectors(I,Et).sub(Dt).toArray(N,tt+6)))):(Et.multiplyScalar(et=(y-_)*st),2===nt?(dt.addVectors(S,Et).toArray(V,tt),dt.subVectors(S,Et).toArray(V,tt+3),dt.addVectors(I,Et).toArray(N,tt),dt.subVectors(I,Et).toArray(N,tt+3)):3===nt?(S.positionToArray(V,tt),dt.addVectors(S,Et).toArray(V,tt+3),dt.subVectors(S,Et).toArray(V,tt+6),I.positionToArray(N,tt),dt.addVectors(I,Et).toArray(N,tt+3),dt.subVectors(I,Et).toArray(N,tt+6)):(S.positionToArray(V,tt),I.positionToArray(N,tt)))}else S.positionToArray(V,tt),I.positionToArray(N,tt);if(F&&z&&(P.bondColorToArray(E,1,F,tt),P.bondColorToArray(E,0,z,tt),f&&nt>1))for($=1;$<nt;++$)fh(F,tt,ot=3*$+tt,3),fh(z,tt,ot,3);if(G&&(G.array[X]=Mt,f&&nt>1))for($=1;$<nt;++$)G.array[X+$]=Mt;if(q&&(q[X]=C.atomRadius(S),f&&nt>1))for(vt=q[X]*_/(v?1:.5*nt),$=v?1:0;$<nt;++$)q[X+$]=vt;if(Y&&(Y[X]=C.atomRadius(I),f&&nt>1))for(vt=Y[X]*_/(v?1:.5*nt),$=v?1:0;$<nt;++$)Y[X+$]=vt;X+=f?nt:1}),w},_r.prototype.getBackboneAtomData=function(r){return r=Object.assign({atomSet:this.atomSetCache.__backbone},r),this.getAtomData(r)},_r.prototype.getBackboneBondData=function(r){return r=Object.assign({bondSet:this.getBackboneBondSet(),bondStore:this.backboneBondStore},r),this.getBondData(r)},_r.prototype.getRungAtomData=function(r){return r=Object.assign({atomSet:this.atomSetCache.__rung},r),this.getAtomData(r)},_r.prototype.getRungBondData=function(r){return r=Object.assign({bondSet:this.getRungBondSet(),bondStore:this.rungBondStore},r),this.getBondData(r)},_r.prototype.getBoundingBox=function(r,i){Le&&xe.time("getBoundingBox"),i=i||new to;var s=1/0,c=1/0,u=1/0,f=-1/0,v=-1/0,_=-1/0;return this.eachAtom(function(y){var C=y.x,P=y.y,w=y.z;C<s&&(s=C),P<c&&(c=P),w<u&&(u=w),C>f&&(f=C),P>v&&(v=P),w>_&&(_=w)},r),i.min.set(s,c,u),i.max.set(f,v,_),Le&&xe.timeEnd("getBoundingBox"),i},_r.prototype.getPrincipalAxes=function(r){Le&&xe.time("getPrincipalAxes");var i=0,s=new zo(3,this.atomCount),c=s.data;return this.eachAtom(function(u){c[i+0]=u.x,c[i+1]=u.y,c[i+2]=u.z,i+=3},r),Le&&xe.timeEnd("getPrincipalAxes"),new Ly(s)},_r.prototype.atomCenter=function(r){return r?this.getBoundingBox(r).getCenter():this.center.clone()},_r.prototype.hasCoords=function(){var r=this.atomStore;return 0!==Sw(r.x)||0!==Pf(r.x)||0!==Sw(r.y)||0!==Pf(r.y)||0!==Sw(r.z)||0!==Pf(r.z)},_r.prototype.getSequence=function(r){var i=[],s=this.getResidueProxy();return this.eachAtom(function(c){s.index=c.residueIndex,c.index===s.traceAtomIndex&&i.push(s.getResname1())},r),i},_r.prototype.getAtomIndices=function(r){if(r&&r.string){var i=[];return this.eachAtom(function(c){i.push(c.index)},r),new Uint32Array(i)}return this.getAtomData({what:{index:!0}}).index},_r.prototype.getChainnameCount=function(r){var i=new Set;return this.eachChain(function(s){s.residueCount&&i.add(s.chainname)},r),i.size},_r.prototype.updatePosition=function(r){var i=0;this.eachAtom(function(s){s.positionFromArray(r,i),i+=3},void 0)},_r.prototype.refreshPosition=function(){this.getBoundingBox(void 0,this.boundingBox),this.boundingBox.getCenter(this.center),this.spatialHash=new xp(this.atomStore,this.boundingBox)},_r.prototype.dispose=function(){this.frames&&(this.frames.length=0),this.boxes&&(this.boxes.length=0),this.bondStore.dispose(),this.backboneBondStore.dispose(),this.rungBondStore.dispose(),this.atomStore.dispose(),this.residueStore.dispose(),this.chainStore.dispose(),this.modelStore.dispose(),delete this.bondStore,delete this.atomStore,delete this.residueStore,delete this.chainStore,delete this.modelStore,delete this.frames,delete this.boxes,delete this.bondSet,delete this.atomSet},Object.defineProperties(_r.prototype,fA);var mO=new to,vO=[A_,S_,_y,mh,Is,dM,E_,pM,_m,Yc],zy={aspectRatio:1.5,sphereDetail:2,radialSegments:50,disableImpostor:!1,openEnded:!1,labelParams:{}},Ho=function(r,i){var s=this;void 0===r&&(r="shape"),void 0===i&&(i={}),this.boundingBox=new to,this.bufferList=[],this.meshCount=0,this._primitiveData={},this.name=r,this.parameters=ql(i,zy),vO.forEach(function(c){Object.keys(c.fields).forEach(function(u){s._primitiveData[c.getShapeKey(u)]=[]}),s._primitiveData[c.getShapeKey("name")]=[]})},$_={center:{configurable:!0},type:{configurable:!0}};Ho.prototype.addBuffer=function(r){this.bufferList.push(r);var i=r.geometry;return i.boundingBox||i.computeBoundingBox(),this.boundingBox.union(i.boundingBox),this},Ho.prototype.addMesh=function(r,i,s,c,u){r=i_(r),i=i_(i),Array.isArray(s)&&(s=fa(s,r.length)),c&&(c=i_(c));var f={position:r,color:i,index:s,normal:c},v=new jR(this,Object.assign({serial:this.meshCount,name:u},f)),_=new Ip(Object.assign({picking:v},f));return this.bufferList.push(_),mO.setFromArray(r),this.boundingBox.union(mO),this.meshCount+=1,this},Ho.prototype.addSphere=function(r,i,s,c){return E_.objectToShape(this,{position:r,color:i,radius:s,name:c}),this},Ho.prototype.addEllipsoid=function(r,i,s,c,u,f){return Is.objectToShape(this,{position:r,color:i,radius:s,majorAxis:c,minorAxis:u,name:f}),this},Ho.prototype.addTorus=function(r,i,s,c,u,f){return Yc.objectToShape(this,{position:r,color:i,radius:s,majorAxis:c,minorAxis:u,name:f}),this},Ho.prototype.addCylinder=function(r,i,s,c,u){return mh.objectToShape(this,{position1:r,position2:i,color:s,radius:c,name:u}),this},Ho.prototype.addCone=function(r,i,s,c,u){return _y.objectToShape(this,{position1:r,position2:i,color:s,radius:c,name:u}),this},Ho.prototype.addArrow=function(r,i,s,c,u){return A_.objectToShape(this,{position1:r,position2:i,color:s,radius:c,name:u}),this},Ho.prototype.addBox=function(r,i,s,c,u,f){return S_.objectToShape(this,{position:r,color:i,size:s,heightAxis:c,depthAxis:u,name:f}),this},Ho.prototype.addOctahedron=function(r,i,s,c,u,f){return dM.objectToShape(this,{position:r,color:i,size:s,heightAxis:c,depthAxis:u,name:f}),this},Ho.prototype.addTetrahedron=function(r,i,s,c,u,f){return pM.objectToShape(this,{position:r,color:i,size:s,heightAxis:c,depthAxis:u,name:f}),this},Ho.prototype.addText=function(r,i,s,c){return _m.objectToShape(this,{position:r,color:i,size:s,text:c}),this},Ho.prototype.addLabel=function(r,i,s,c){return console.warn("Shape.addLabel is deprecated, use .addText instead"),this.addText(r,i,s,c)},Ho.prototype.getBufferList=function(){var r=this,i=[];return vO.forEach(function(s){r._primitiveData[s.getShapeKey("color")].length&&i.push(s.bufferFromShape(r,r.parameters))}),this.bufferList.concat(i)},Ho.prototype.dispose=function(){var r=this;this.bufferList.forEach(function(i){i.dispose()}),this.bufferList.length=0,vO.forEach(function(i){Object.keys(i.fields).forEach(function(s){r._primitiveData[i.getShapeKey(s)].length=0}),r._primitiveData[i.getShapeKey("name")].length=0})},$_.center.get=function(){return this._center||(this._center=this.boundingBox.getCenter()),this._center},$_.type.get=function(){return"Shape"},Object.defineProperties(Ho.prototype,$_);var _O=function(n){function r(i,s,c){Array.isArray(i)||(i=[i]),n.call(this,i,s,c),this.type="buffer",this.parameters=Object.assign({},this.parameters,{colorScheme:null,colorScale:null,colorValue:null,colorDomain:null,colorMode:null}),this.buffer=i,this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){n.prototype.init.call(this,s),this.build()},r.prototype.create=function(){this.bufferList.push.apply(this.bufferList,this.buffer)},r.prototype.attach=function(s){var c=this;this.bufferList.forEach(function(u){c.viewer.add(u),u.setParameters(c.getBufferParams())}),this.setVisibility(this.visible),s()},r}(cs),Y_=new ye,gA=new xi,Vf=function(n){function r(i,s,c){void 0===s&&(s={}),n.call(this,function(n,r){var C,s=r.index?r.index.array:void 0,c=n.position.length/3,u=r.attributes.position.array.length/3,f=c*u,v=new Float32Array(3*f),_=new Float32Array(3*f),y=new Float32Array(3*f);return s&&(C=fa(c*s.length,f)),{position:v,color:y,index:C,normal:_,primitiveId:n.primitiveId||Ow(c,u),picking:n.picking}}(i,c),s),this.updateNormals=!1;var u=c.attributes.position.array,f=c.attributes.normal.array,v=c.index?c.index.array:void 0;this.geoPosition=u,this.geoNormal=f,this.geoIndex=v,this.positionCount=i.position.length/3,this.geoPositionCount=u.length/3,this.transformedGeoPosition=new Float32Array(3*this.geoPositionCount),this.transformedGeoNormal=new Float32Array(3*this.geoPositionCount);var _=this.geometry.attributes;this.meshPosition=_.position.array,this.meshColor=_.color.array,this.meshNormal=_.normal.array,this.setAttributes(i),v&&(this.meshIndex=this.geometry.getIndex().array,this.makeIndex())}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.setAttributes=function(s,c){void 0===s&&(s={}),void 0===c&&(c=!1);var v,_,y,C,P,w,E,S,I,f=this.geometry.attributes,L=this.updateNormals;s.position&&(v=s.position,y=this.geoPosition,E=this.meshPosition,P=this.transformedGeoPosition,f.position.needsUpdate=!0,(L||c)&&(C=this.geoNormal,I=this.meshNormal,w=this.transformedGeoNormal,f.normal.needsUpdate=!0)),s.color&&(_=s.color,S=this.meshColor,f.color.needsUpdate=!0);for(var B=this.positionCount,V=this.geoPositionCount,N=0;N<B;++N){var F=void 0,z=void 0,G=N*V*3,q=3*N;if(v&&P&&E&&I&&y&&C&&(P.set(y),Y_.makeTranslation(v[q],v[q+1],v[q+2]),this.applyPositionTransform(Y_,N,q),gy(Y_.elements,P),E.set(P,G),L&&w?(w.set(C),gA.getNormalMatrix(Y_),my(gA.elements,w),I.set(w,G)):c&&I.set(C,G)),_&&S)for(F=0;F<V;++F)S[z=G+3*F]=_[q],S[z+1]=_[q+1],S[z+2]=_[q+2]}},r.prototype.makeIndex=function(){var s=this.geoIndex,c=this.meshIndex;if(s)for(var u=this.positionCount,f=this.geoPositionCount,_=s.length/3*3,y=0;y<u;++y){var C=y*_,P=C+_;c.set(s,C);for(var w=C;w<P;++w)c[w]+=y*f}},r}(Ip),Dh=new J,qu=Object.assign({sphereDetail:1},Kc),Hy=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c,new rh(1,it(c.sphereDetail,1))),this.setAttributes(s,!0)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return qu},r.prototype.applyPositionTransform=function(c,u){var f=this._radius[u];Dh.set(f,f,f),c.scale(Dh)},r.prototype.setAttributes=function(c,u){void 0===c&&(c={}),c.radius&&(this._radius=c.radius),n.prototype.setAttributes.call(this,c,u)},Object.defineProperties(r.prototype,i),r}(Vf);Hi.add("shader/SphereImpostor.vert","uniform mat4 projectionMatrixInverse;\nuniform float clipNear;\nvarying float vRadius;\nvarying float vRadiusSq;\nvarying vec3 vPoint;\nvarying vec3 vPointViewPosition;\nattribute vec2 mapping;\nattribute float radius;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\n#endif\n#include matrix_scale\nconst mat4 D = mat4(\n1.0, 0.0, 0.0, 0.0,\n0.0, 1.0, 0.0, 0.0,\n0.0, 0.0, 1.0, 0.0,\n0.0, 0.0, 0.0, -1.0\n);\nmat4 transpose( in mat4 inMatrix ) {\nvec4 i0 = inMatrix[0];\nvec4 i1 = inMatrix[1];\nvec4 i2 = inMatrix[2];\nvec4 i3 = inMatrix[3];\nmat4 outMatrix = mat4(\nvec4(i0.x, i1.x, i2.x, i3.x),\nvec4(i0.y, i1.y, i2.y, i3.y),\nvec4(i0.z, i1.z, i2.z, i3.z),\nvec4(i0.w, i1.w, i2.w, i3.w)\n);\nreturn outMatrix;\n}\nvoid ComputePointSizeAndPositionInClipCoordSphere(){\nvec2 xbc;\nvec2 ybc;\nmat4 T = mat4(\nradius, 0.0, 0.0, 0.0,\n0.0, radius, 0.0, 0.0,\n0.0, 0.0, radius, 0.0,\nposition.x, position.y, position.z, 1.0\n);\nmat4 R = transpose( projectionMatrix * modelViewMatrix * T );\nfloat A = dot( R[ 3 ], D * R[ 3 ] );\nfloat B = -2.0 * dot( R[ 0 ], D * R[ 3 ] );\nfloat C = dot( R[ 0 ], D * R[ 0 ] );\nxbc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nxbc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nfloat sx = abs( xbc[ 0 ] - xbc[ 1 ] ) * 0.5;\nA = dot( R[ 3 ], D * R[ 3 ] );\nB = -2.0 * dot( R[ 1 ], D * R[ 3 ] );\nC = dot( R[ 1 ], D * R[ 1 ] );\nybc[ 0 ] = ( -B - sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nybc[ 1 ] = ( -B + sqrt( B * B - 4.0 * A * C ) ) / ( 2.0 * A );\nfloat sy = abs( ybc[ 0 ] - ybc[ 1 ] ) * 0.5;\ngl_Position.xy = vec2( 0.5 * ( xbc.x + xbc.y ), 0.5 * ( ybc.x + ybc.y ) );\ngl_Position.xy -= mapping * vec2( sx, sy );\ngl_Position.xy *= gl_Position.w;\n}\nvoid main(void){\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#endif\nvRadius = radius * matrixScale( modelViewMatrix );\nvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\nmvPosition.z -= vRadius;\ngl_Position = projectionMatrix * vec4( mvPosition.xyz, 1.0 );\nComputePointSizeAndPositionInClipCoordSphere();\nvRadiusSq = vRadius * vRadius;\nvec4 vPoint4 = projectionMatrixInverse * gl_Position;\nvPoint = vPoint4.xyz / vPoint4.w;\nvPointViewPosition = -mvPosition.xyz / mvPosition.w;\n}"),Hi.add("shader/SphereImpostor.frag","#define STANDARD\n#define IMPOSTOR\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform mat4 projectionMatrix;\nuniform float ortho;\nvarying float vRadius;\nvarying float vRadiusSq;\nvarying vec3 vPoint;\nvarying vec3 vPointViewPosition;\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars\n#include lights_physical_pars_fragment\n#endif\nbool flag2 = false;\nbool interior = false;\nvec3 cameraPos;\nvec3 cameraNormal;\nfloat calcDepth( in vec3 cameraPos ){\nvec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;\nreturn 0.5 + 0.5 * clipZW.x / clipZW.y;\n}\nfloat calcClip( vec3 cameraPos ){\nreturn dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );\n}\nbool Impostor( out vec3 cameraPos, out vec3 cameraNormal ){\nvec3 cameraSpherePos = -vPointViewPosition;\ncameraSpherePos.z += vRadius;\nvec3 rayOrigin = mix( vec3( 0.0, 0.0, 0.0 ), vPoint, ortho );\nvec3 rayDirection = mix( normalize( vPoint ), vec3( 0.0, 0.0, 1.0 ), ortho );\nvec3 cameraSphereDir = mix( cameraSpherePos, rayOrigin - cameraSpherePos, ortho );\nfloat B = dot( rayDirection, cameraSphereDir );\nfloat det = B * B + vRadiusSq - dot( cameraSphereDir, cameraSphereDir );\nif( det < 0.0 ){\ndiscard;\nreturn false;\n}else{\nfloat sqrtDet = sqrt( det );\nfloat posT = mix( B + sqrtDet, B + sqrtDet, ortho );\nfloat negT = mix( B - sqrtDet, sqrtDet - B, ortho );\ncameraPos = rayDirection * negT + rayOrigin;\n#ifdef NEAR_CLIP\nif( calcDepth( cameraPos ) <= 0.0 ){\ncameraPos = rayDirection * posT + rayOrigin;\ninterior = true;\nreturn false;\n}else if( calcClip( cameraPos ) > 0.0 ){\ncameraPos = rayDirection * posT + rayOrigin;\ninterior = true;\nflag2 = true;\nreturn false;\n}else{\ncameraNormal = normalize( cameraPos - cameraSpherePos );\n}\n#else\nif( calcDepth( cameraPos ) <= 0.0 ){\ncameraPos = rayDirection * posT + rayOrigin;\ninterior = true;\nreturn false;\n}else{\ncameraNormal = normalize( cameraPos - cameraSpherePos );\n}\n#endif\nreturn true;\n}\nreturn false;\n}\nvoid main(void){\nbool flag = Impostor( cameraPos, cameraNormal );\n#ifdef NEAR_CLIP\nif( calcClip( cameraPos ) > 0.0 )\ndiscard;\n#endif\ngl_FragDepthEXT = calcDepth( cameraPos );\nif( !flag ){\n#ifdef NEAR_CLIP\nif( flag2 ){\ngl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );\n}else if( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n#else\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n#endif\n}\nif (gl_FragDepthEXT < 0.0)\ndiscard;\nif (gl_FragDepthEXT > 1.0)\ndiscard;\n#ifdef PICKING\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 vNormal = cameraNormal;\nvec3 vViewPosition = -cameraPos;\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\n#include normal_flip\n#include normal_fragment\nif( interior ){\nnormal = vec3( 0.0, 0.0, 0.4 );\n}\n#include lights_physical_fragment\n#include lights_template\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var Gy=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c),this.index=fa(this.indexSize,this.attributeSize),this.makeIndex(),this.initIndex(this.index),this.addAttributes({mapping:{type:this.mappingType,value:null}}),this.setAttributes({primitiveId:oy(this.size)})}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={attributeSize:{configurable:!0},indexSize:{configurable:!0}};return i.attributeSize.get=function(){return this.size*this.mappingSize},i.indexSize.get=function(){return this.size*this.mappingIndicesSize},r.prototype.addAttributes=function(c){var u={};for(var f in c)u[f]={type:c[f].type,value:null};n.prototype.addAttributes.call(this,u)},r.prototype.getAttributeIndex=function(c){return 3*c*this.mappingSize},r.prototype.setAttributes=function(c){c&&!c.position&&c.position1&&c.position2&&(c.position=nc(c.position1,c.position2));var _,y,C,P,w,E,S,u=this.size,f=this.mappingSize,v=this.geometry.attributes;for(var I in c)if("index"!==I&&"picking"!==I){y=c[I],C=(_=v[I]).itemSize,P=_.array;for(var L=0;L<u;++L){E=(w=L*C)*f;for(var B=0;B<f;++B){S=E+C*B;for(var V=0;V<C;++V)P[S+V]=y[w+V]}}_.needsUpdate=!0}},r.prototype.makeMapping=function(){for(var c=this.size,u=this.mapping,f=this.mappingSize,v=this.mappingItemSize,y=this.geometry.attributes.mapping.array,C=0;C<c;C++)y.set(u,C*v*f)},r.prototype.makeIndex=function(){for(var c=this.size,u=this.mappingSize,f=this.mappingIndices,v=this.mappingIndicesSize,_=this.index,y=0;y<c;y++){var C=y*v,P=y*u;_.set(f,C);for(var w=0;w<v;++w)_[C+w]+=P}},Object.defineProperties(r.prototype,i),r}(Ti),S5=new Float32Array([-1,1,-1,-1,1,1,1,-1]),jy=new Uint16Array([0,1,2,1,3,2]),$u=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingType:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return i.mapping.get=function(){return S5},i.mappingIndices.get=function(){return jy},i.mappingIndicesSize.get=function(){return 6},i.mappingType.get=function(){return"v2"},i.mappingSize.get=function(){return 4},i.mappingItemSize.get=function(){return 2},Object.defineProperties(r.prototype,i),r}(Gy),mA=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,i,s),this.isImpostor=!0,this.vertexShader="SphereImpostor.vert",this.fragmentShader="SphereImpostor.frag",this.addUniforms({projectionMatrixInverse:{value:new ye},ortho:{value:0}}),this.addAttributes({radius:{type:"f",value:null}}),this.setAttributes(i),this.makeMapping()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r}($u),zf=(Object.assign({disableImpostor:!1},qu),function(r,i){return!wc||i&&i.disableImpostor?new Hy(r,i):new mA(r,i)});function A5(n,r,i,s){var c=i-n,u=s-r;return Math.sqrt(c*c+u*u)}Od.add("sphere",zf),Hi.add("shader/Point.vert","uniform float clipNear;\nuniform float clipRadius;\nuniform vec3 clipCenter;\nuniform float size;\nuniform float canvasHeight;\nuniform float pixelRatio;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\nvarying vec3 vViewPosition;\n#endif\n#include common\nvoid main(){\n#if defined( PICKING )\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#endif\n#include begin_vertex\n#include project_vertex\n#ifdef USE_SIZEATTENUATION\ngl_PointSize = size * pixelRatio * ( ( canvasHeight / 2.0 ) / -mvPosition.z );\n#else\ngl_PointSize = size * pixelRatio;\n#endif\n#ifndef PICKING\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n#include radiusclip_vertex\n}"),Hi.add("shader/Point.frag","uniform vec3 diffuse;\nuniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#ifdef USE_MAP\nuniform sampler2D map;\n#endif\n#if defined( PICKING )\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\nvarying vec3 vViewPosition;\n#endif\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( PICKING )\n#ifdef USE_MAP\nif( texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) ).a < 0.5 )\ndiscard;\n#endif\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 outgoingLight = vec3( 0.0 );\nvec4 diffuseColor = vec4( diffuse, 1.0 );\n#ifdef USE_MAP\ndiffuseColor *= texture2D( map, vec2( gl_PointCoord.x, 1.0 - gl_PointCoord.y ) );\n#endif\n#include color_fragment\n#include alphatest_fragment\noutgoingLight = diffuseColor.rgb;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var T5=Object.assign({pointSize:1,sizeAttenuation:!0,sortParticles:!1,alphaTest:.5,useTexture:!1,forceTransparent:!1,edgeBleach:0},Kc),Wy=Object.assign({pointSize:{uniform:"size"},sizeAttenuation:{updateShader:!0},sortParticles:{},alphaTest:{updateShader:!0},useTexture:{updateShader:!0},forceTransparent:{},edgeBleach:{uniform:!0}},Dp),bO=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c),this.parameterTypes=Wy,this.vertexShader="Point.vert",this.fragmentShader="Point.frag",this.isPoint=!0,this.addUniforms({size:{value:this.parameters.pointSize},canvasHeight:{value:1},pixelRatio:{value:1},map:{value:null}})}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return T5},r.prototype.makeMaterial=function(){n.prototype.makeMaterial.call(this),this.makeTexture();var c=this.material,u=this.wireframeMaterial,f=this.pickingMaterial;c.uniforms.map.value=this.tex,c.needsUpdate=!0,u.uniforms.map.value=this.tex,u.needsUpdate=!0,f.uniforms.map.value=this.tex,f.needsUpdate=!0},r.prototype.makeTexture=function(){this.tex&&this.tex.dispose(),this.tex=function(n){for(var r=n||{},i=it(r.width,256),s=it(r.height,256),c=[i/2,s/2],u=Math.min(i/2,s/2),f=it(r.delta,1/(u+1))*u,v=0,_=0,y=new Uint8Array(i*s*4),C=0,P=y.length;C<P;C+=4){var E=1-qC(u-f,u,A5(v,_,c[0],c[1]));y[C]=255*E,y[C+1]=255*E,y[C+2]=255*E,y[C+3]=255*E,++v===i&&(v=0,_++)}var S=new Jh(y,i,s);return S.needsUpdate=!0,S}({delta:this.parameters.edgeBleach})},r.prototype.getDefines=function(c){var u=n.prototype.getDefines.call(this,c);return this.parameters.sizeAttenuation&&(u.USE_SIZEATTENUATION=1),this.parameters.useTexture&&(u.USE_MAP=1),this.parameters.alphaTest>0&&this.parameters.alphaTest<=1&&(u.ALPHATEST=this.parameters.alphaTest.toPrecision(2)),u},r.prototype.setUniforms=function(c){c&&void 0!==c.edgeBleach&&(this.makeTexture(),c.map=this.tex),n.prototype.setUniforms.call(this,c)},r.prototype.dispose=function(){n.prototype.dispose.call(this),this.tex&&this.tex.dispose()},Object.defineProperties(r.prototype,i),r}(Ti),yO=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="dot",this.parameters=Object.assign({thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdOut:{type:"boolean",rebuild:!0},dotType:{type:"select",rebuild:!0,options:{"":"",sphere:"sphere",point:"point"}},radiusType:{type:"select",options:{"":"",value:"value","abs-value":"abs-value","value-min":"value-min",deviation:"deviation",size:"size"}},radius:{type:"number",precision:3,max:10,min:.001,property:"size"},scale:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,disableImpostor:!0,pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{colorScheme:{type:"select",update:"color",options:{"":"",value:"value",uniform:"uniform",random:"random"}}}),i instanceof no?(this.surface=void 0,this.volume=new Cl(i)):(this.surface=i,this.volume=void 0),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"uniform"),c.colorValue=it(c.colorValue,14540253),this.thresholdType=it(c.thresholdType,"sigma"),this.thresholdMin=it(c.thresholdMin,2),this.thresholdMax=it(c.thresholdMax,1/0),this.thresholdOut=it(c.thresholdOut,!1),this.dotType=it(c.dotType,"point"),this.radius=it(c.radius,.1),this.scale=it(c.scale,1),this.pointSize=it(c.pointSize,1),this.sizeAttenuation=it(c.sizeAttenuation,!0),this.sortParticles=it(c.sortParticles,!1),this.useTexture=it(c.useTexture,!1),this.alphaTest=it(c.alphaTest,.5),this.forceTransparent=it(c.forceTransparent,!1),this.edgeBleach=it(c.edgeBleach,0),n.prototype.init.call(this,c),this.build()},r.prototype.attach=function(s){var c=this;this.bufferList.forEach(function(u){c.viewer.add(u)}),this.setVisibility(this.visible),s()},r.prototype.create=function(){var s={};if(this.volume){var u,f,c=this.volume;"sigma"===this.thresholdType?(u=c.getValueForSigma(this.thresholdMin),f=c.getValueForSigma(this.thresholdMax)):(u=this.thresholdMin,f=this.thresholdMax),c.setFilter(u,f,this.thresholdOut),s.position=c.getDataPosition(),s.color=c.getDataColor(this.getColorParams()),"sphere"===this.dotType&&(s.radius=c.getDataSize(this.radius,this.scale),s.picking=c.getDataPicking())}else{var v=this.surface;s.position=v.getPosition(),s.color=v.getColor(this.getColorParams()),"sphere"===this.dotType&&(s.radius=v.getSize(this.radius,this.scale),s.picking=v.getPicking())}this.dotBuffer="sphere"===this.dotType?new zf(s,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!1})):new bO(s,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach})),this.bufferList.push(this.dotBuffer)},r.prototype.update=function(s){if(0!==this.bufferList.length){var c={};(s=s||{}).color&&(c.color=this.volume?this.volume.getDataColor(this.getColorParams()):this.surface.getColor(this.getColorParams())),"sphere"===this.dotType&&(s.radius||s.scale)&&(c.radius=this.volume?this.volume.getDataSize(this.radius,this.scale):this.surface.getSize(this.radius,this.scale)),this.dotBuffer.setAttributes(c)}},r.prototype.setParameters=function(s,c,u){return c=c||{},s&&void 0!==s.thresholdType&&this.volume instanceof no&&("value"===this.thresholdType&&"sigma"===s.thresholdType?(this.thresholdMin=this.volume.getSigmaForValue(this.thresholdMin),this.thresholdMax=this.volume.getSigmaForValue(this.thresholdMax)):"sigma"===this.thresholdType&&"value"===s.thresholdType&&(this.thresholdMin=this.volume.getValueForSigma(this.thresholdMin),this.thresholdMax=this.volume.getValueForSigma(this.thresholdMax)),this.thresholdType=s.thresholdType),s&&void 0!==s.radiusType&&(this.radius="radius"===s.radiusType?.1:s.radiusType,c.radius=!0,"sphere"===this.dotType&&(!wc||this.disableImpostor)&&(u=!0)),s&&void 0!==s.radius&&(c.radius=!0,"sphere"===this.dotType&&(!wc||this.disableImpostor)&&(u=!0)),s&&void 0!==s.scale&&(c.scale=!0,"sphere"===this.dotType&&(!wc||this.disableImpostor)&&(u=!0)),n.prototype.setParameters.call(this,s,c,u),this},r}(cs);Hi.add("shader/Image.vert","uniform float clipRadius;\nuniform vec3 clipCenter;\nvarying vec2 vUv;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\nvoid main() {\n#include begin_vertex\n#include project_vertex\nvUv = uv;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n}"),Hi.add("shader/Image.frag","uniform sampler2D map;\nuniform float opacity;\nuniform vec2 mapSize;\nuniform float clipNear;\nuniform float clipRadius;\nvarying vec2 vUv;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\nuniform sampler2D pickingMap;\nuniform float objectId;\n#else\n#include fog_pars_fragment\n#endif\n#if defined( CUBIC_INTERPOLATION )\n#if defined( CATMULROM_FILTER ) || defined( MITCHELL_FILTER )\n#if defined( CATMULROM_FILTER )\nconst float B = 0.0;\nconst float C = 0.5;\n#elif defined( MITCHELL_FILTER )\nconst float B = 0.333;\nconst float C = 0.333;\n#endif\nfloat filter( float x ){\nfloat f = x;\nif( f < 0.0 ){\nf = -f;\n}\nif( f < 1.0 ){\nreturn ( ( 12.0 - 9.0 * B - 6.0 * C ) * ( f * f * f ) +\n( -18.0 + 12.0 * B + 6.0 *C ) * ( f * f ) +\n( 6.0 - 2.0 * B ) ) / 6.0;\n}else if( f >= 1.0 && f < 2.0 ){\nreturn ( ( -B - 6.0 * C ) * ( f * f * f )\n+ ( 6.0 * B + 30.0 * C ) * ( f *f ) +\n( - ( 12.0 * B ) - 48.0 * C ) * f +\n8.0 * B + 24.0 * C ) / 6.0;\n}else{\nreturn 0.0;\n}\n}\n#elif defined( BSPLINE_FILTER )\nfloat filter( float x ){\nfloat f = x;\nif( f < 0.0 ){\nf = -f;\n}\nif( f >= 0.0 && f <= 1.0 ){\nreturn ( 2.0 / 3.0 ) + ( 0.5 ) * ( f * f * f ) - ( f * f );\n}else if( f > 1.0 && f <= 2.0 ){\nreturn 1.0 / 6.0 * pow( ( 2.0 - f ), 3.0 );\n}\nreturn 1.0;\n}\n#else\nfloat filter( float x ){\nreturn 1.0;\n}\n#endif\nvec4 biCubic( sampler2D tex, vec2 texCoord ){\nvec2 texelSize = 1.0 / mapSize;\ntexCoord -= texelSize / 2.0;\nvec4 nSum = vec4( 0.0 );\nfloat nDenom = 0.0;\nvec2 cell = fract( texCoord * mapSize );\nfor( float m = -1.0; m <= 2.0; ++m ){\nfor( float n = -1.0; n <= 2.0; ++n ){\nvec4 vecData = texture2D(\ntex, texCoord + texelSize * vec2( m, n )\n);\nfloat c = filter( m - cell.x ) * filter( -n + cell.y );\nnSum += vecData * c;\nnDenom += c;\n}\n}\nreturn nSum / nDenom;\n}\n#endif\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( CUBIC_INTERPOLATION )\ngl_FragColor = biCubic( map, vUv );\n#else\ngl_FragColor = texture2D( map, vUv );\n#endif\n#if defined( PICKING )\nif( gl_FragColor.a < 0.7 )\ndiscard;\ngl_FragColor = vec4( texture2D( pickingMap, vUv ).xyz, objectId );\n#else\nif( gl_FragColor.a < 0.01 )\ndiscard;\ngl_FragColor.a *= opacity;\n#include fog_fragment\n#endif\n}");var qy=new Uint16Array([0,1,2,1,3,2]),X_=new Float32Array([0,1,0,0,1,1,1,0]),jM=Object.assign({filter:"nearest",forceTransparent:!0},Kc),vA=Object.assign({filter:{updateShader:!0,uniform:!0}},Dp),$y=function(n){function r(s,c){n.call(this,{position:s.position,index:qy,picking:s.picking},c),this.parameterTypes=vA,this.alwaysTransparent=!0,this.hasWireframe=!1,this.vertexShader="Image.vert",this.fragmentShader="Image.frag";var u=s.imageData,f=s.width,v=s.height,_=new Jh(u,f,v);_.flipY=!0,this.tex=_;for(var y=u.length,C=new Uint8Array(y),P=0;P<y;P+=4){var w=P/4;C[P]=w>>16&255,C[P+1]=w>>8&255,C[P+2]=255&w}var E=new Jh(C,f,v);E.flipY=!0,E.minFilter=so,E.magFilter=so,this.pickingTex=E,this.addUniforms({map:{value:_},pickingMap:{value:E},mapSize:{value:new ce(f,v)}}),this.geometry.addAttribute("uv",new xr(X_,2))}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return jM},r.prototype.getDefines=function(c){var u=n.prototype.getDefines.call(this,c),f=this.parameters.filter;return f.startsWith("cubic")&&(u.CUBIC_INTERPOLATION=1,f.endsWith("bspline")?u.BSPLINE_FILTER=1:f.endsWith("catmulrom")?u.CATMULROM_FILTER=1:f.endsWith("mitchell")&&(u.MITCHELL_FILTER=1)),u},r.prototype.updateTexture=function(){var c=this.tex,u=this.parameters.filter;u.startsWith("cubic")?(c.minFilter=so,c.magFilter=so):"linear"===u?(c.minFilter=Sa,c.magFilter=Sa):(c.minFilter=so,c.magFilter=so),c.needsUpdate=!0,this.pickingTex.needsUpdate=!0},r.prototype.makeMaterial=function(){n.prototype.makeMaterial.call(this),this.updateTexture();var c=this.material;c.uniforms.map.value=this.tex,c.blending=1,c.needsUpdate=!0;var u=this.wireframeMaterial;u.uniforms.map.value=this.tex,u.blending=1,u.needsUpdate=!0;var f=this.pickingMaterial;f.uniforms.map.value=this.tex,f.uniforms.pickingMap.value=this.pickingTex,f.blending=1,f.needsUpdate=!0},r.prototype.setUniforms=function(c){c&&void 0!==c.filter&&(this.updateTexture(),c.map=this.tex),n.prototype.setUniforms.call(this,c)},Object.defineProperties(r.prototype,i),r}(Ti),WM=function(r,i){var s=i||{};this.dimension=it(s.dimension,"x"),this.positionType=it(s.positionType,"percent"),this.position=it(s.position,30),this.thresholdType=it(s.thresholdType,"sigma"),this.thresholdMin=it(s.thresholdMin,-1/0),this.thresholdMax=it(s.thresholdMax,1/0),this.normalize=it(s.normalize,!1),this.volume=r};WM.prototype.getPositionFromCoordinate=function(r){var i=this.dimension,s=this.volume,c=s.matrix,u=(new J).setFromMatrixPosition(c)[i],f=(new J).setFromMatrixScale(c)[i];return Math.round(((r-u)/(("x"===i?s.nx:"y"===i?s.ny:s.nz)/100)+1)/f)},WM.prototype.getData=function(r){r=r||{};var f,s=this.volume,c=s.data,u=s.matrix;function v(Oe){return Math.round(Oe/100*(f-1))}function _(Oe,tn,ge,pe){return 3*(ge*s.ny*s.nx+tn*s.nx+Oe)+pe}f="coordinate"===this.positionType?this.getPositionFromCoordinate(this.position):this.position;var P,w,E,S,I,y=new Float32Array(12),C=new J,L=0,B=0,V=0,N=s.nx,F=s.ny,z=s.nz;function G(Oe,tn,ge,pe){C.set(Oe,tn,ge).applyMatrix4(u).toArray(y,pe)}"x"===this.dimension?(E=v(s.nx),S=s.ny-1,I=s.nz-1,P=s.nz,w=s.ny,N=(L=E)+1,G(E,0,0,0),G(E,S,0,3),G(E,0,I,6),G(E,S,I,9)):"y"===this.dimension?(E=s.nx-1,S=v(s.ny),I=s.nz-1,P=s.nz,w=s.nx,F=(B=S)+1,G(0,S,0,0),G(E,S,0,3),G(0,S,I,6),G(E,S,I,9)):"z"===this.dimension&&(E=s.nx-1,S=s.ny-1,I=v(s.nz),P=s.nx,w=s.ny,z=(V=I)+1,G(0,0,I,0),G(0,S,I,3),G(E,0,I,6),G(E,S,I,9));var tt,ot,q=0,Y=0,X=new Uint8Array(P*w*4),$=new Float32Array(P*w);"sigma"===this.thresholdType?(tt=s.getValueForSigma(this.thresholdMin),ot=s.getValueForSigma(this.thresholdMax)):(tt=this.thresholdMin,ot=this.thresholdMax);var nt=Object.assign({},r.colorParams,{volume:s});this.normalize&&(nt.domain=[0,1]);var Dt,Et,Mt,et=Xr.getScheme(nt),vt=new Float32Array(3),dt=et.getScale();if(this.normalize){Dt=1/0,Et=-1/0;for(var st=B;st<F;++st)for(var ht=L;ht<N;++ht)for(var Ft=V;Ft<z;++Ft){var $t=c[_(ht,st,Ft,0)/3];$t<Dt&&(Dt=$t),$t>Et&&(Et=$t)}Mt=Et-Dt}for(var ft=B;ft<F;++ft)for(var Zt=L;Zt<N;++Zt)for(var bt=V;bt<z;++bt){var Gt=_(Zt,ft,bt,0)/3,Nt=c[Gt];this.normalize&&(Nt=(Nt-Dt)/Mt),et.colorToArray(dt(Nt),vt),X[q]=Math.round(255*vt[0]),X[q+1]=Math.round(255*vt[1]),X[q+2]=Math.round(255*vt[2]),X[q+3]=Nt>tt&&Nt<ot?255:0,$[Y]=Gt,++Y,q+=4}var le=new f5($,s);return{position:y,imageData:X,width:P,height:w,picking:le}};var km=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="slice",this.parameters=Object.assign({filter:{type:"select",buffer:!0,options:{nearest:"nearest",linear:"linear","cubic-bspline":"cubic-bspline","cubic-catmulrom":"cubic-catmulrom","cubic-mitchell":"cubic-mitchell"}},positionType:{type:"select",rebuild:!0,options:{percent:"percent",coordinate:"coordinate"}},position:{type:"range",step:.1,max:100,min:1,rebuild:!0},dimension:{type:"select",rebuild:!0,options:{x:"x",y:"y",z:"z"}},thresholdType:{type:"select",rebuild:!0,options:{value:"value",sigma:"sigma"}},thresholdMin:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},thresholdMax:{type:"number",precision:3,max:1/0,min:-1/0,rebuild:!0},normalize:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null,linewidth:null,colorScheme:null,roughness:null,metalness:null,diffuse:null}),this.volume=i,this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=this.volume,u=s||{};u.colorDomain=it(u.colorDomain,[c.min,c.max]),u.colorScheme=it(u.colorScheme,"value"),u.colorScale=it(u.colorScale,"Spectral"),this.colorScheme="value",this.dimension=it(u.dimension,"x"),this.filter=it(u.filter,"cubic-bspline"),this.positionType=it(u.positionType,"percent"),this.position=it(u.position,30),this.thresholdType=it(u.thresholdType,"sigma"),this.thresholdMin=it(u.thresholdMin,-1/0),this.thresholdMax=it(u.thresholdMax,1/0),this.normalize=it(u.normalize,!1),n.prototype.init.call(this,u),this.build()},r.prototype.attach=function(s){var c=this;this.bufferList.forEach(function(u){c.viewer.add(u)}),this.setVisibility(this.visible),s()},r.prototype.create=function(){var s=new WM(this.volume,{positionType:this.positionType,position:this.position,dimension:this.dimension,thresholdType:this.thresholdType,thresholdMin:this.thresholdMin,thresholdMax:this.thresholdMax,normalize:this.normalize}),c=new $y(s.getData({colorParams:this.getColorParams()}),this.getBufferParams({filter:this.filter}));this.bufferList.push(c)},r}(cs);function Yy(n){xe.error("makeRepresentation: representation type "+n+" unknown")}var Fm={name:"some element",status:""},Z_=function(r,i){void 0===i&&(i={}),this.stage=r,this.signals={statusChanged:new Br,nameChanged:new Br,disposed:new Br},this.parameters=ql(i,this.defaultParameters),this.uuid=dw()},Nm={defaultParameters:{configurable:!0},name:{configurable:!0}};Nm.defaultParameters.get=function(){return Fm},Nm.name.get=function(){return this.parameters.name},Z_.prototype.setStatus=function(r){return this.parameters.status=r,this.signals.statusChanged.dispatch(r),this},Z_.prototype.setName=function(r){return this.parameters.name=r,this.signals.nameChanged.dispatch(r),this},Z_.prototype.dispose=function(){this.signals.disposed.dispatch()},Object.defineProperties(Z_.prototype,Nm);var To=Object.assign({visible:!0},Fm),Ih=function(n){function r(s,c,u,f){void 0===u&&(u={}),n.call(this,s,Object.assign({name:c.type},u)),this.parent=f,this.signals=Object.assign({visibilityChanged:new Br,parametersChanged:new Br},this.signals),this.setRepresentation(c)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0},visible:{configurable:!0},type:{configurable:!0}};return i.defaultParameters.get=function(){return To},i.visible.get=function(){return this.parameters.visible},i.type.get=function(){return"representation"},r.prototype.getType=function(){return this.repr.type},r.prototype.setRepresentation=function(c){this._disposeRepresentation(),this.repr=c,this.stage.tasks.listen(this.repr.tasks),this.updateVisibility()},r.prototype._disposeRepresentation=function(){this.repr&&(this.stage.tasks.unlisten(this.repr.tasks),this.repr.dispose())},r.prototype.dispose=function(){this.parent&&this.parent.hasRepresentation(this)?this.parent.removeRepresentation(this):(this._disposeRepresentation(),this.signals.disposed.dispatch())},r.prototype.setVisibility=function(c){return this.parameters.visible=c,this.updateVisibility(),this.signals.visibilityChanged.dispatch(this.parameters.visible),this},r.prototype.getVisibility=function(){return this.parent?this.parent.parameters.visible&&this.parameters.visible:this.parameters.visible},r.prototype.toggleVisibility=function(){return this.setVisibility(!this.parameters.visible)},r.prototype.updateVisibility=function(){this.repr.setVisibility(this.getVisibility())},r.prototype.update=function(c){return this.repr.update(c),this},r.prototype.build=function(c){return this.repr.build(c),this},r.prototype.setSelection=function(c){var u=this.repr;return u.setSelection&&u.setSelection(c),this},r.prototype.setParameters=function(c){return this.repr.setParameters(c),this.signals.parametersChanged.dispatch(this.repr.getParameters()),this},r.prototype.getParameters=function(){return this.repr.getParameters()},r.prototype.setColor=function(c){return this.repr.setColor(c),this},Object.defineProperties(r.prototype,i),r}(Z_),Bd=new ye,Xy=new J,_A={name:"",status:"",visible:!0},_n=function(r,i,s){void 0===s&&(s={}),this.stage=r,this.object=i,this.signals={representationAdded:new Br,representationRemoved:new Br,visibilityChanged:new Br,matrixChanged:new Br,statusChanged:new Br,nameChanged:new Br,disposed:new Br},this.reprList=[],this.annotationList=[],this.matrix=new ye,this.position=new J,this.quaternion=new Wr,this.scale=new J(1,1,1),this.transform=new ye,this.parameters=ql(s,this.defaultParameters),this.uuid=dw(),this.viewer=r.viewer,this.controls=new j_(this)},os={defaultParameters:{configurable:!0},name:{configurable:!0},status:{configurable:!0},visible:{configurable:!0}};os.defaultParameters.get=function(){return _A},os.name.get=function(){return this.parameters.name},os.status.get=function(){return this.parameters.status},os.visible.get=function(){return this.parameters.visible},_n.prototype.setPosition=function(r){return Array.isArray(r)?this.position.fromArray(r):this.position.copy(r),this.updateMatrix(),this},_n.prototype.setRotation=function(r){if(Array.isArray(r))if(3===r.length){var i=(new Ia).fromArray(r);this.quaternion.setFromEuler(i)}else this.quaternion.fromArray(r);else r instanceof Ia?this.quaternion.setFromEuler(r):this.quaternion.copy(r);return this.updateMatrix(),this},_n.prototype.setScale=function(r){return this.scale.set(r,r,r),this.updateMatrix(),this},_n.prototype.setTransform=function(r){return this.transform.copy(r),this.updateMatrix(),this},_n.prototype.updateMatrix=function(){var r=this,i=this.getCenterUntransformed(Xy);this.matrix.makeTranslation(-i.x,-i.y,-i.z),Bd.makeRotationFromQuaternion(this.quaternion),this.matrix.premultiply(Bd),Bd.makeScale(this.scale.x,this.scale.y,this.scale.z),this.matrix.premultiply(Bd);var s=this.position;Bd.makeTranslation(s.x+i.x,s.y+i.y,s.z+i.z),this.matrix.premultiply(Bd),this.matrix.premultiply(this.transform),this.reprList.forEach(function(c){c.setParameters({matrix:r.matrix})}),this.stage.viewer.updateBoundingBox(),this.signals.matrixChanged.dispatch(this.matrix)},_n.prototype.addAnnotation=function(r,i,s){var c=new Nf(this,r,i,s);return this.annotationList.push(c),c},_n.prototype.eachAnnotation=function(r){this.annotationList.slice().forEach(r)},_n.prototype.removeAnnotation=function(r){var i=this.annotationList.indexOf(r);-1!==i&&(this.annotationList.splice(i,1),r.dispose())},_n.prototype.removeAllAnnotations=function(){this.eachAnnotation(function(r){return r.dispose()}),this.annotationList.length=0},_n.prototype._addRepresentation=function(r,i,s,c){void 0===c&&(c=!1);var u=s||{},f=this.stage.getParameters();u.matrix=this.matrix.clone(),u.quality=u.quality||f.quality,u.disableImpostor=it(u.disableImpostor,!f.impostor),u.useWorker=it(u.useWorker,f.workerDefault),u.visible=it(u.visible,!0);var v=Object.assign({},u,{visible:this.parameters.visible&&u.visible}),_=function(n,r,i,s){var c;if(Le&&xe.time("makeRepresentation "+n),r instanceof _r){if(!(c=mi.get(n)))return void Yy(n)}else if(r instanceof va)if("surface"===n)c=Ff;else{if("dot"!==n)return void Yy(n);c=yO}else if(r instanceof no)if("surface"===n)c=Ff;else if("dot"===n)c=yO;else{if("slice"!==n)return void Yy(n);c=km}else if(r instanceof Ho)c=_O,r=r.getBufferList();else{if("buffer"!==n)return void xe.error("makeRepresentation: object "+r+" unknown");c=_O}var u=new c(r,i,s);return Le&&xe.timeEnd("makeRepresentation "+n),u}(r,i,this.viewer,v),y=new Ih(this.stage,_,u,this);return c||(this.reprList.push(y),this.signals.representationAdded.dispatch(y)),y},_n.prototype.addBufferRepresentation=function(r,i){return this._addRepresentation.call(this,"buffer",r,i)},_n.prototype.hasRepresentation=function(r){return-1!==this.reprList.indexOf(r)},_n.prototype.eachRepresentation=function(r){this.reprList.slice().forEach(r)},_n.prototype.removeRepresentation=function(r){var i=this.reprList.indexOf(r);-1!==i&&(this.reprList.splice(i,1),r.dispose(),this.signals.representationRemoved.dispatch(r))},_n.prototype.updateRepresentations=function(r){this.reprList.forEach(function(i){return i.update(r)}),this.stage.viewer.requestRender()},_n.prototype.removeAllRepresentations=function(){this.eachRepresentation(function(r){return r.dispose()})},_n.prototype.dispose=function(){this.removeAllAnnotations(),this.removeAllRepresentations(),delete this.annotationList,delete this.reprList,this.signals.disposed.dispatch()},_n.prototype.setVisibility=function(r){return this.parameters.visible=r,this.eachRepresentation(function(i){return i.updateVisibility()}),this.eachAnnotation(function(i){return i.updateVisibility()}),this.signals.visibilityChanged.dispatch(r),this},_n.prototype.setStatus=function(r){return this.parameters.status=r,this.signals.statusChanged.dispatch(r),this},_n.prototype.setName=function(r){return this.parameters.name=r,this.signals.nameChanged.dispatch(r),this},_n.prototype.getBox=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return(s=this).getBoxUntransformed.apply(s,r).clone().applyMatrix4(this.matrix);var s},_n.prototype.getCenter=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return(s=this).getCenterUntransformed.apply(s,r).clone().applyMatrix4(this.matrix);var s},_n.prototype.getZoom=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return this.stage.getZoomForBox((s=this).getBox.apply(s,r));var s},_n.prototype.getBoxUntransformed=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return new to},_n.prototype.getCenterUntransformed=function(){for(var r=[],i=arguments.length;i--;)r[i]=arguments[i];return this.getBoxUntransformed().getCenter()},_n.prototype.autoView=function(r){this.stage.animationControls.zoomMove(this.getCenter(),this.getZoom(),it(r,0))},Object.defineProperties(_n.prototype,os);var Ua=function(r){void 0===r&&(r=[]),this.list=r;for(var s=r.length,c=0;c<s;++c)r[c].signals.disposed.add(this._remove,this)},Go={first:{configurable:!0}};Ua.prototype._remove=function(r){var i=this.list.indexOf(r);-1!==i&&this.list.splice(i,1)},Go.first.get=function(){return this.list.length>0?this.list[0]:void 0},Ua.prototype.forEach=function(r){return this.list.forEach(r),this},Ua.prototype.dispose=function(){return this.forEach(function(r){return r.dispose()})},Object.defineProperties(Ua.prototype,Go);var Hf=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.setParameters=function(s){return this.forEach(function(c){return c.setParameters(s)})},r.prototype.setVisibility=function(s){return this.forEach(function(c){return c.setVisibility(s)})},r.prototype.setSelection=function(s){return this.forEach(function(c){return c.setSelection(s)})},r.prototype.setColor=function(s){return this.forEach(function(c){return c.setColor(s)})},r.prototype.update=function(s){return this.forEach(function(c){return c.update(s)})},r.prototype.build=function(s){return this.forEach(function(c){return c.build(s)})},r}(Ua),xO=Object.assign({defaultStep:1,defaultTimeout:50,defaultInterpolateType:"",defaultInterpolateStep:5,defaultMode:"loop",defaultDirection:"forward",initialFrame:0},Fm),CO=function(n){function r(s,c,u){var f=this;void 0===u&&(u={}),n.call(this,s,Object.assign({name:c.name},u)),this.trajectory=c,this.signals=Object.assign(this.signals,{frameChanged:new Br,playerChanged:new Br,countChanged:new Br,parametersChanged:new Br}),c.signals.frameChanged.add(function(v){f.signals.frameChanged.dispatch(v)}),c.signals.playerChanged.add(function(v){f.signals.playerChanged.dispatch(v)}),c.signals.countChanged.add(function(v){f.signals.countChanged.dispatch(v)}),void 0!==u.initialFrame&&this.setFrame(u.initialFrame)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0},type:{configurable:!0}};return i.defaultParameters.get=function(){return xO},i.type.get=function(){return"trajectory"},r.prototype.setFrame=function(c){this.trajectory.setFrame(c)},r.prototype.setParameters=function(c){void 0===c&&(c={}),this.trajectory.setParameters(c),this.signals.parametersChanged.dispatch(c)},r.prototype.dispose=function(){this.trajectory.dispose(),n.prototype.dispose.call(this)},Object.defineProperties(r.prototype,i),r}(Z_),bA=function(r,i){this.name=r,this.path=i,this.coordinates=[],this.boxes=[],this.times=[],this.timeOffset=0,this.deltaTime=1},yA={type:{configurable:!0}};yA.type.get=function(){return"Frames"},Object.defineProperties(bA.prototype,yA);var K_=function(r,i){var s,c;if(this.A=new zo(3,3),this.W=new zo(1,3),this.U=new zo(3,3),this.V=new zo(3,3),this.VH=new zo(3,3),this.R=new zo(3,3),this.tmp=new zo(3,3),this.c=new zo(3,3),r instanceof _r)s=r.atomCount;else{if(!(r instanceof Float32Array))return;s=r.length/3}if(i instanceof _r)c=i.atomCount;else{if(!(i instanceof Float32Array))return;c=i.length/3}var u=Math.min(s,c),f=new zo(3,u),v=new zo(3,u);this.coords1t=new zo(u,3),this.coords2t=new zo(u,3),this.c.data.set([1,0,0,0,1,0,0,0,-1]),this.prepCoords(r,f,u),this.prepCoords(i,v,u),this._superpose(f,v)};K_.prototype._superpose=function(r,i){this.mean1=AM(r),this.mean2=AM(i),Tm(r,this.mean1),Tm(i,this.mean2),wh(this.coords1t,r),wh(this.coords2t,i),Ap(this.A,this.coords2t,this.coords1t),sO(this.A,this.W,this.U,this.V),function(n,r){var i=n.data,s=r.data,c=i[4],u=i[8],f=i[5],v=i[7],_=i[0],y=_*c,C=_*f,P=i[3],w=i[1],E=P*w,S=i[2],I=P*S,L=i[6],B=L*w,V=L*S,N=1/(y*u-C*v-E*u+I*v+B*f-V*c);s[0]=(c*u-f*v)*N,s[1]=-(w*u-S*v)*N,s[2]=-(-w*f+S*c)*N,s[3]=-(P*u-f*L)*N,s[4]=(_*u-V)*N,s[5]=-(C-I)*N,s[6]=-(-P*v+c*L)*N,s[7]=-(_*v-B)*N,s[8]=(y-E)*N}(this.V,this.VH),sa(this.R,this.U,this.VH),function(n){var r=n.data;return r[0]*r[4]*r[8]-r[0]*r[5]*r[7]-r[3]*r[1]*r[8]+r[3]*r[2]*r[7]+r[6]*r[1]*r[5]-r[6]*r[2]*r[4]}(this.R)<0&&(Le&&xe.log("R not a right handed system"),sa(this.tmp,this.c,this.VH),sa(this.R,this.U,this.tmp))},K_.prototype.prepCoords=function(r,i,s){var c=0,u=3*s,f=i.data;r instanceof _r?r.eachAtom(function(v){c<u&&(f[c+0]=v.x,f[c+1]=v.y,f[c+2]=v.z,c+=3)}):r instanceof Float32Array?f.set(r.subarray(0,u)):xe.warn("prepCoords: input type unknown")},K_.prototype.transform=function(r){var i;if(r instanceof _r)i=r.atomCount;else{if(!(r instanceof Float32Array))return;i=r.length/3}var s=new zo(3,i),c=new zo(i,3);this.prepCoords(r,s,i),Tm(s,this.mean1),Ap(c,this.R,s),wh(s,c),function(n,r){for(var i=n.rows,s=n.cols,c=n.data,u=0,f=0;u<i;++u)for(var v=0;v<s;++v,++f)c[f]+=r[v]}(s,this.mean2);var u=0,f=s.data;r instanceof _r?r.eachAtom(function(v){v.x=f[u+0],v.y=f[u+1],v.z=f[u+2],u+=3}):r instanceof Float32Array?r.set(f.subarray(0,3*i)):xe.warn("transform: input type unknown")};var ru={step:1,timeout:50,start:0,end:0,interpolateType:"",interpolateStep:5,mode:"loop",direction:"forward"},po=function(r,i){var s=this;void 0===i&&(i={}),this.signals={startedRunning:new Br,haltedRunning:new Br},this._run=!1,this._previousTime=0,this._currentTime=0,this._currentStep=1,r.signals.playerChanged.add(function(u){u!==s&&s.pause()},this);var c=it(r.frameCount,1);this.traj=r,this.parameters=ql(i,ru),this.parameters.end=Math.min(it(i.end,c-1),c-1),this.parameters.step=it(i.step,Math.ceil((c+1)/100)),this._currentFrame=this.parameters.start,this._direction="bounce"===this.parameters.direction?"forward":this.parameters.direction,r.signals.countChanged.add(function(u){s.parameters.end=Math.min(it(s.parameters.end,u-1),u-1)},this),this._animate=this._animate.bind(this)},Yu={isRunning:{configurable:!0}};Yu.isRunning.get=function(){return this._run},po.prototype.setParameters=function(r){void 0===r&&(r={}),Qg(this.parameters,r),void 0!==r.direction&&"bounce"!==this.parameters.direction&&(this._direction=this.parameters.direction)},po.prototype._animate=function(){if(this._run){this._currentTime=window.performance.now();var c=this.traj;if(c&&c.frameCount&&!c.inProgress&&this._currentTime-this._previousTime>=this.parameters.timeout/(this.parameters.interpolateType?this.parameters.interpolateStep:1))if(this.parameters.interpolateType)if(this._currentStep>this.parameters.interpolateStep&&(this._currentStep=1),1===this._currentStep&&(this._currentFrame=this._nextInterpolated()),c.hasFrame(this._currentFrame)){this._currentStep+=1;var f=this._currentFrame;c.setFrameInterpolated(f[0],f[1],f[2],f[3],this._currentStep/(this.parameters.interpolateStep+1),this.parameters.interpolateType),this._previousTime=this._currentTime}else c.loadFrame(this._currentFrame);else{var P=this._next();c.hasFrame(P)?(c.setFrame(P),this._previousTime=this._currentTime):c.loadFrame(P)}window.requestAnimationFrame(this._animate)}},po.prototype._next=function(){var i,r=this.parameters;return((i="forward"===this._direction?this.traj.currentFrame+r.step:this.traj.currentFrame-r.step)>r.end||i<r.start)&&("bounce"===r.direction&&(this._direction="forward"===this._direction?"backward":"forward"),"once"===r.mode?(this.pause(),i="forward"===r.direction?r.end:"backward"===r.direction||"forward"===this._direction?r.start:r.end):"forward"===this._direction?(i=r.start,r.interpolateType&&(i=Math.min(r.end,i+r.step))):(i=r.end,r.interpolateType&&(i=Math.max(r.start,i-r.step)))),i},po.prototype._nextInterpolated=function(){var s,c,u,r=this.parameters,i=this._next();return"forward"===this._direction?(s=Math.max(r.start,i-r.step),c=Math.max(r.start,i-2*r.step),u=Math.max(r.start,i-3*r.step)):(s=Math.min(r.end,i+r.step),c=Math.min(r.end,i+2*r.step),u=Math.min(r.end,i+3*r.step)),[i,s,c,u]},po.prototype.toggle=function(){this._run?this.pause():this.play()},po.prototype.play=function(){if(!this._run){this.traj.player!==this&&this.traj.setPlayer(this),this._currentStep=1;var r=this.parameters,i=this.traj.currentFrame,s=Math.ceil(i/r.step)*r.step;"forward"===r.direction&&i>=r.end?s=r.start:"backward"===r.direction&&i<=r.start&&(s=r.end),this.traj.setFrame(s),this._run=!0,this._animate(),this.signals.startedRunning.dispatch()}},po.prototype.pause=function(){this._run=!1,this.signals.haltedRunning.dispatch()},po.prototype.stop=function(){this.pause(),this.traj.setFrame(this.parameters.start)},Object.defineProperties(po.prototype,Yu);var Xi=function(r,i,s){var c=this;void 0===s&&(s={}),this.signals={countChanged:new Br,frameChanged:new Br,playerChanged:new Br},this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this._frameCount=0,this._currentFrame=-1,this._disposed=!1,this.deltaTime=it(s.deltaTime,0),this.timeOffset=it(s.timeOffset,0),this.centerPbc=it(s.centerPbc,!1),this.removePbc=it(s.removePbc,!1),this.removePeriodicity=it(s.removePeriodicity,!1),this.superpose=it(s.superpose,!1),this.name=r.replace(/^.*[\\/]/,""),this.trajPath=r,this.selection=new Fo(it(s.sele,"backbone and not hydrogen")),this.selection.signals.stringChanged.add(function(){c.selectionIndices=c.structure.getAtomIndices(c.selection),c._resetCache(),c._saveInitialCoords(),c.setFrame(c._currentFrame)})},Fp={frameCount:{configurable:!0},currentFrame:{configurable:!0}};Fp.frameCount.get=function(){return this._frameCount},Fp.currentFrame.get=function(){return this._currentFrame},Xi.prototype._init=function(r){this.setStructure(r),this._loadFrameCount(),this.setPlayer(new po(this))},Xi.prototype._loadFrameCount=function(){},Xi.prototype.setStructure=function(r){this.structure=r,this.atomCount=r.atomCount,this.backboneIndices=this._getIndices(new Fo("backbone and not hydrogen")),this._makeAtomIndices(),this._saveStructureCoords(),this.selectionIndices=this._getIndices(this.selection),this._resetCache(),this._saveInitialCoords(),this.setFrame(this._currentFrame)},Xi.prototype._saveInitialCoords=function(){var r=this;this.structure.hasCoords()?(this.initialCoords=new Float32Array(this.structureCoords),this._makeSuperposeCoords()):this.frameCache[0]?(this.initialCoords=new Float32Array(this.frameCache[0]),this._makeSuperposeCoords()):this.loadFrame(0,function(){return r._saveInitialCoords()})},Xi.prototype._saveStructureCoords=function(){this.structureCoords=this.structure.getAtomData({what:{position:!0}}).position},Xi.prototype.setSelection=function(r){return this.selection.setString(r),this},Xi.prototype._getIndices=function(r){var i=0,s=r.test,c=[];return s&&this.structure.eachAtom(function(u){s(u)&&c.push(i),i+=1}),c},Xi.prototype._makeSuperposeCoords=function(){var i=3*this.selectionIndices.length;this.coords1=new Float32Array(i),this.coords2=new Float32Array(i);for(var s=this.initialCoords,c=this.coords2,u=0;u<i;u+=3){var f=3*this.selectionIndices[u/3];c[u+0]=s[f+0],c[u+1]=s[f+1],c[u+2]=s[f+2]}},Xi.prototype._makeAtomIndices=function(){xe.error("Trajectory._makeAtomIndices not implemented")},Xi.prototype._resetCache=function(){this.frameCache={},this.loadQueue={},this.boxCache={},this.pathCache={},this.frameCacheSize=0,this.initialCoords=new Float32Array(0)},Xi.prototype.setParameters=function(r){void 0===r&&(r={});var i=!1;void 0!==r.centerPbc&&r.centerPbc!==this.centerPbc&&(this.centerPbc=r.centerPbc,i=!0),void 0!==r.removePeriodicity&&r.removePeriodicity!==this.removePeriodicity&&(this.removePeriodicity=r.removePeriodicity,i=!0),void 0!==r.removePbc&&r.removePbc!==this.removePbc&&(this.removePbc=r.removePbc,i=!0),void 0!==r.superpose&&r.superpose!==this.superpose&&(this.superpose=r.superpose,i=!0),this.deltaTime=it(r.deltaTime,this.deltaTime),this.timeOffset=it(r.timeOffset,this.timeOffset),i&&(this._resetCache(),this.setFrame(this._currentFrame))},Xi.prototype.hasFrame=function(r){var i=this;return Array.isArray(r)?r.every(function(s){return!!i.frameCache[s]}):!!this.frameCache[r]},Xi.prototype.setFrame=function(r,i){var s=this;return void 0===r||(this.inProgress=!0,-1===r||this.frameCache[r]?(this._updateStructure(r),i&&i()):this.loadFrame(r,function(){s._updateStructure(r),i&&i()})),this},Xi.prototype._interpolate=function(r,i,s,c,u,f){var _,v=this.frameCache;_="spline"===f?function(n,r,i,s,c){for(var u=n.length,f=new Float32Array(u),v=0;v<u;v+=3){var _=v+1,y=v+2;f[v]=yf(s[v],i[v],r[v],n[v],c,1),f[_]=yf(s[_],i[_],r[_],n[_],c,1),f[y]=yf(s[y],i[y],r[y],n[y],c,1)}return f}(v[r],v[i],v[s],v[c],u):function(n,r,i){for(var s=n.length,c=new Float32Array(s),u=0;u<s;u+=3){var f=u+1,v=u+2;c[u]=Ws(r[u],n[u],i),c[f]=Ws(r[f],n[f],i),c[v]=Ws(r[v],n[v],i)}return c}(v[r],v[i],u),this.structure.updatePosition(_),this._currentFrame=r,this.signals.frameChanged.dispatch(r)},Xi.prototype.setFrameInterpolated=function(r,i,s,c,u,f,v){var _=this;if(void 0===r)return this;var y=this.frameCache,C=[];return y[c]||C.push(c),y[s]||C.push(s),y[i]||C.push(i),y[r]||C.push(r),C.length?this.loadFrame(C,function(){_._interpolate(r,i,s,c,u,f),v&&v()}):(this._interpolate(r,i,s,c,u,f),v&&v()),this},Xi.prototype.loadFrame=function(r,i){var s=this;Array.isArray(r)?r.forEach(function(c){!s.loadQueue[c]&&!s.frameCache[c]&&(s.loadQueue[c]=!0,s._loadFrame(c,function(){delete s.loadQueue[c]}))}):!this.loadQueue[r]&&!this.frameCache[r]&&(this.loadQueue[r]=!0,this._loadFrame(r,function(){delete s.loadQueue[r],i&&i()}))},Xi.prototype._loadFrame=function(r,i){xe.error("Trajectory._loadFrame not implemented",r,i)},Xi.prototype._updateStructure=function(r){this._disposed?console.error("updateStructure: traj disposed"):(-1===r?this.structureCoords&&this.structure.updatePosition(this.structureCoords):this.structure.updatePosition(this.frameCache[r]),this.structure.trajectory={name:this.trajPath,frame:r},this._currentFrame=r,this.inProgress=!1,this.signals.frameChanged.dispatch(r))},Xi.prototype._doSuperpose=function(r){for(var s=3*this.selectionIndices.length,c=this.coords1,u=this.coords2,f=0;f<s;f+=3){var v=3*this.selectionIndices[f/3];c[f+0]=r[v+0],c[f+1]=r[v+1],c[f+2]=r[v+2]}new K_(c,u).transform(r)},Xi.prototype._process=function(r,i,s,c){if(this._setFrameCount(c),i){if(this.backboneIndices.length>0&&this.centerPbc){var u=[i[0],i[4],i[8]];!function(n,r,i){if(0!==i[0]&&0!==i[8]&&0!==i[4])for(var s=n.length,c=i[0],u=i[1],f=i[2],C=-r[0]+c+c/2,P=-r[1]+u+u/2,w=-r[2]+f+f/2,E=0;E<s;E+=3)n[E+0]=(n[E+0]+C)%c,n[E+1]=(n[E+1]+P)%u,n[E+2]=(n[E+2]+w)%f}(s,function(n,r,i){return[om(r,i[0],3,0,n),om(r,i[1],3,1,n),om(r,i[2],3,2,n)]}(this.backboneIndices,s,u),u)}this.removePeriodicity&&function(n,r,i){if(0!==r[0]&&0!==r[8]&&0!==r[4])for(var s=n.length,c=3;c<s;c+=3)for(var u=0;u<3;++u){var f=(n[c+u]-i[u])/r[3*u+u];Math.abs(f)>.5&&(n[c+u]-=r[3*u+u]*Math.round(f))}}(s,i,function(n){return[g_(n,3,0),g_(n,3,1),g_(n,3,2)]}(s)),this.removePbc&&function(n,r){if(0!==r[0]&&0!==r[8]&&0!==r[4])for(var i=n.length,s=3;s<i;s+=3)for(var c=0;c<3;++c){var u=n[s+c]-n[s-3+c];if(Math.abs(u)>.9*r[3*c+c])if(u>0)for(var f=0;f<3;++f)n[s+f]-=r[3*c+f];else for(var v=0;v<3;++v)n[s+v]+=r[3*c+v]}}(s,i)}this.selectionIndices.length>0&&this.coords1&&this.superpose&&this._doSuperpose(s),this.frameCache[r]=s,this.boxCache[r]=i,this.frameCacheSize+=1},Xi.prototype._setFrameCount=function(r){r!==this._frameCount&&(this._frameCount=r,this.signals.countChanged.dispatch(r))},Xi.prototype.dispose=function(){this._resetCache(),this._disposed=!0,this.player&&this.player.stop()},Xi.prototype.setPlayer=function(r){this.player=r,this.signals.playerChanged.dispatch(r)},Xi.prototype.getFrameTime=function(r){return this.timeOffset+r*this.deltaTime},Object.defineProperties(Xi.prototype,Fp);var iu=function(n){function r(s,c,u){var f=u||{};f.timeOffset=it(f.timeOffset,s.timeOffset),f.deltaTime=it(f.deltaTime,s.deltaTime),n.call(this,"",c,f),this.name=s.name,this.path=s.path,this.frames=s.coordinates,this.boxes=s.boxes,this._init(c)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"frames"},r.prototype._makeAtomIndices=function(){this.atomIndices="StructureView"===this.structure.type?this.structure.getAtomIndices():void 0},r.prototype._loadFrame=function(c,u){var f,v=this.frames[c];if(this.atomIndices){var _=this.atomIndices,y=_.length;f=new Float32Array(3*y);for(var C=0;C<y;++C){var P=3*C,w=3*_[C];f[P+0]=v[w+0],f[P+1]=v[w+1],f[P+2]=v[w+2]}}else f=new Float32Array(v);this._process(c,this.boxes[c],f,this.frames.length),"function"==typeof u&&u()},r.prototype._loadFrameCount=function(){this.frames&&this._setFrameCount(this.frames.length)},Object.defineProperties(r.prototype,i),r}(Xi),ji=function(n){function r(s,c,u){n.call(this,"",c,u),this._init(c)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"structure"},r.prototype._makeAtomIndices=function(){this.atomIndices=this.structure.atomSet&&this.structure.atomSet.getSize()<this.structure.atomStore.count?this.structure.getAtomIndices():void 0},r.prototype._loadFrame=function(c,u){var f,v=this.structure,_=v.frames[c];if(this.atomIndices){var y=this.atomIndices,C=y.length;f=new Float32Array(3*C);for(var P=0;P<C;++P){var w=3*P,E=3*y[P];f[w+0]=_[E+0],f[w+1]=_[E+1],f[w+2]=_[E+2]}}else f=new Float32Array(_);this._process(c,v.boxes[c],f,v.frames.length),"function"==typeof u&&u()},r.prototype._loadFrameCount=function(){this._setFrameCount(this.structure.frames.length)},Object.defineProperties(r.prototype,i),r}(Xi),J_=function(n){function r(s,c,u){n.call(this,s,c,u),this._init(c)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"remote"},r.prototype._makeAtomIndices=function(){var c=[];if("StructureView"===this.structure.type){for(var u=this.structure.getAtomIndices(),f=u.length,v=u[0],_=u[0],y=1;y<f;++y){var C=u[y];_+1<C&&(c.push([v,_+1]),v=C),_=C}c.push([v,_+1])}else c.push([0,this.atomCount]);this.atomIndices=c},r.prototype._loadFrame=function(c,u){var f=this,v=new XMLHttpRequest,_=u_.getFrameUrl(this.trajPath,c),y=u_.getFrameParams(this.trajPath,this.atomIndices);v.open("POST",_,!0),v.responseType="arraybuffer",v.setRequestHeader("Content-type","application/x-www-form-urlencoded"),v.addEventListener("load",function(){var C=v.response;if(C){var P=new Int32Array(C,0,1)[0],w=new Float32Array(C,8,9),E=new Float32Array(C,44);f._process(c,w,E,P),"function"==typeof u&&u()}else xe.error("empty arrayBuffer for '"+_+"'")},!1),v.send(y)},r.prototype._loadFrameCount=function(){var c=this,u=new XMLHttpRequest,f=u_.getCountUrl(this.trajPath);u.open("GET",f,!0),u.addEventListener("load",function(){c._setFrameCount(parseInt(u.response))},!1),u.send(null)},Object.defineProperties(r.prototype,i),r}(Xi);_r.prototype.getView=function(n){return new wO(this,n)};var wO=function(n){function r(s,c){n.call(this),this.structure=s,this.selection=c,this.center=new J,this.boundingBox=new to,this._bp=this.getBondProxy(),this._ap=this.getAtomProxy(),this._rp=this.getResidueProxy(),this._cp=this.getChainProxy(),this.selection&&this.selection.signals.stringChanged.add(this.refresh,this),this.structure.signals.refreshed.add(this.refresh,this),this.refresh()}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},name:{configurable:!0},path:{configurable:!0},title:{configurable:!0},id:{configurable:!0},data:{configurable:!0},atomSetDict:{configurable:!0},biomolDict:{configurable:!0},entityList:{configurable:!0},unitcell:{configurable:!0},frames:{configurable:!0},boxes:{configurable:!0},validation:{configurable:!0},bondStore:{configurable:!0},backboneBondStore:{configurable:!0},rungBondStore:{configurable:!0},atomStore:{configurable:!0},residueStore:{configurable:!0},chainStore:{configurable:!0},modelStore:{configurable:!0},atomMap:{configurable:!0},residueMap:{configurable:!0},bondHash:{configurable:!0},spatialHash:{configurable:!0}};return r.prototype.init=function(){},i.type.get=function(){return"StructureView"},i.name.get=function(){return this.structure.name},i.path.get=function(){return this.structure.path},i.title.get=function(){return this.structure.title},i.id.get=function(){return this.structure.id},i.data.get=function(){return this.structure.data},i.atomSetDict.get=function(){return this.structure.atomSetDict},i.biomolDict.get=function(){return this.structure.biomolDict},i.entityList.get=function(){return this.structure.entityList},i.unitcell.get=function(){return this.structure.unitcell},i.frames.get=function(){return this.structure.frames},i.boxes.get=function(){return this.structure.boxes},i.validation.get=function(){return this.structure.validation},i.bondStore.get=function(){return this.structure.bondStore},i.backboneBondStore.get=function(){return this.structure.backboneBondStore},i.rungBondStore.get=function(){return this.structure.rungBondStore},i.atomStore.get=function(){return this.structure.atomStore},i.residueStore.get=function(){return this.structure.residueStore},i.chainStore.get=function(){return this.structure.chainStore},i.modelStore.get=function(){return this.structure.modelStore},i.atomMap.get=function(){return this.structure.atomMap},i.residueMap.get=function(){return this.structure.residueMap},i.bondHash.get=function(){return this.structure.bondHash},i.spatialHash.get=function(){return this.structure.spatialHash},r.prototype.refresh=function(){var c=this;for(var u in Le&&xe.time("StructureView.refresh"),this.atomSetCache={},this.atomSet=this.getAtomSet(this.selection,!0),this.structure.atomSet&&(this.atomSet=this.atomSet.intersection(this.structure.atomSet)),this.bondSet=this.getBondSet(),c.atomSetDict)c.atomSetCache["__"+u]=c.atomSetDict[u].makeIntersection(c.atomSet);this.atomCount=this.atomSet.getSize(),this.bondCount=this.bondSet.getSize(),this.boundingBox=this.getBoundingBox(),this.center=this.boundingBox.getCenter(),Le&&xe.timeEnd("StructureView.refresh"),this.signals.refreshed.dispatch()},r.prototype.setSelection=function(c){this.selection=c,this.refresh()},r.prototype.getSelection=function(c){var u=[];c&&c.string&&u.push(c.string);var f=this.structure.getSelection();f&&f.string&&u.push(f.string),this.selection&&this.selection.string&&u.push(this.selection.string);var v="";return u.length>0&&(v="( "+u.join(" ) AND ( ")+" )"),new Fo(v)},r.prototype.getStructure=function(){return this.structure.getStructure()},r.prototype.eachBond=function(c,u){this.structure.eachBond(c,this.getSelection(u))},r.prototype.eachAtom=function(c,u){var f=this.getAtomProxy(),v=this.getAtomSet(u),_=this.atomStore.count;if(v.getSize()<_)v.forEach(function(C){f.index=C,c(f)});else for(var y=0;y<_;++y)f.index=y,c(f)},r.prototype.eachResidue=function(c,u){this.structure.eachResidue(c,this.getSelection(u))},r.prototype.eachResidueN=function(c,u){console.error("StructureView.eachResidueN() not implemented")},r.prototype.eachChain=function(c,u){this.structure.eachChain(c,this.getSelection(u))},r.prototype.eachModel=function(c,u){this.structure.eachModel(c,this.getSelection(u))},r.prototype.getAtomSet=function(c,u){void 0===u&&(u=!1);var f=this.structure.getAtomSet(c);return!u&&this.atomSet&&(f=f.makeIntersection(this.atomSet)),f},r.prototype.getAtomIndices=function(c){return this.structure.getAtomIndices(this.getSelection(c))},r.prototype.refreshPosition=function(){return this.structure.refreshPosition()},r.prototype.dispose=function(){this.selection&&this.selection.signals.stringChanged.remove(this.refresh,this),this.structure.signals.refreshed.remove(this.refresh,this),delete this.structure,delete this.atomSet,delete this.bondSet,delete this.atomCount,delete this.bondCount},Object.defineProperties(r.prototype,i),r}(_r);function Ky(n,r){var i,s=0,c={};return r.forEach(function(u){i=0;var f={};u.forEach(function(v){f[n[i++]]=v}),c[n[s++]]=f}),c}var EO={blosum62:Ky("ARNDCQEGHILKMFPSTWYVBZ?",[[4,-1,-2,-2,0,-1,-1,0,-2,-1,-1,-1,-1,-2,-1,1,0,-3,-2,0,-2,-1,0],[-1,5,0,-2,-3,1,0,-2,0,-3,-2,2,-1,-3,-2,-1,-1,-3,-2,-3,-1,0,-1],[-2,0,6,1,-3,0,0,0,1,-3,-3,0,-2,-3,-2,1,0,-4,-2,-3,3,0,-1],[-2,-2,1,6,-3,0,2,-1,-1,-3,-4,-1,-3,-3,-1,0,-1,-4,-3,-3,4,1,-1],[0,-3,-3,-3,9,-3,-4,-3,-3,-1,-1,-3,-1,-2,-3,-1,-1,-2,-2,-1,-3,-3,-2],[-1,1,0,0,-3,5,2,-2,0,-3,-2,1,0,-3,-1,0,-1,-2,-1,-2,0,3,-1],[-1,0,0,2,-4,2,5,-2,0,-3,-3,1,-2,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-2,0,-1,-3,-2,-2,6,-2,-4,-4,-2,-3,-3,-2,0,-2,-2,-3,-3,-1,-2,-1],[-2,0,1,-1,-3,0,0,-2,8,-3,-3,-1,-2,-1,-2,-1,-2,-2,2,-3,0,0,-1],[-1,-3,-3,-3,-1,-3,-3,-4,-3,4,2,-3,1,0,-3,-2,-1,-3,-1,3,-3,-3,-1],[-1,-2,-3,-4,-1,-2,-3,-4,-3,2,4,-2,2,0,-3,-2,-1,-2,-1,1,-4,-3,-1],[-1,2,0,-1,-3,1,1,-2,-1,-3,-2,5,-1,-3,-1,0,-1,-3,-2,-2,0,1,-1],[-1,-1,-2,-3,-1,0,-2,-3,-2,1,2,-1,5,0,-2,-1,-1,-1,-1,1,-3,-1,-1],[-2,-3,-3,-3,-2,-3,-3,-3,-1,0,0,-3,0,6,-4,-2,-2,1,3,-1,-3,-3,-1],[-1,-2,-2,-1,-3,-1,-1,-2,-2,-3,-3,-1,-2,-4,7,-1,-1,-4,-3,-2,-2,-1,-2],[1,-1,1,0,-1,0,0,0,-1,-2,-2,0,-1,-2,-1,4,1,-3,-2,-2,0,0,0],[0,-1,0,-1,-1,-1,-1,-2,-2,-1,-1,-1,-1,-2,-1,1,5,-2,-2,0,-1,-1,0],[-3,-3,-4,-4,-2,-2,-3,-2,-2,-3,-2,-3,-1,1,-4,-3,-2,11,2,-3,-4,-3,-2],[-2,-2,-2,-3,-2,-1,-2,-3,2,-1,-1,-2,-1,3,-3,-2,-2,2,7,-1,-3,-2,-1],[0,-3,-3,-3,-1,-2,-2,-3,-3,3,1,-2,1,-1,-2,-2,0,-3,-1,4,-3,-2,-1],[-2,-1,3,4,-3,0,1,-1,0,-3,-4,0,-3,-3,-2,0,-1,-4,-3,-3,4,1,-1],[-1,0,0,1,-3,3,4,-2,0,-3,-3,1,-1,-3,-1,0,-1,-3,-2,-2,1,4,-1],[0,-1,-1,-1,-2,-1,-1,-1,-1,-1,-1,-1,-1,-1,-2,0,0,-2,-1,-1,-1,-1,-1]]),blosum62x:Ky("ACDEFGHIKLMNPQRSTVWY",[[4,0,-2,-1,-2,0,-2,-1,-1,-1,-1,-2,-1,-1,-1,1,0,0,-3,-2],[0,9,-3,-4,-2,-3,-3,-1,-3,-1,-1,-3,-3,-3,-3,-1,-1,-1,-2,-2],[-2,-3,6,2,-3,-1,-1,-3,-1,-4,-3,1,-1,0,-2,0,-1,-3,-4,-3],[-1,-4,2,5,-3,-2,0,-3,1,-3,-2,0,-1,2,0,0,-1,-2,-3,-2],[-2,-2,-3,-3,6,-3,-1,0,-3,0,0,-3,-4,-3,-3,-2,-2,-1,1,3],[0,-3,-1,-2,-3,6,-2,-4,-2,-4,-3,0,-2,-2,-2,0,-2,-3,-2,-3],[-2,-3,-1,0,-1,-2,8,-3,-1,-3,-2,1,-2,0,0,-1,-2,-3,-2,2],[-1,-1,-3,-3,0,-4,-3,4,-3,2,1,-3,-3,-3,-3,-2,-1,3,-3,-1],[-1,-3,-1,1,-3,-2,-1,-3,5,-2,-1,0,-1,1,2,0,-1,-2,-3,-2],[-1,-1,-4,-3,0,-4,-3,2,-2,4,2,-3,-3,-2,-2,-2,-1,1,-2,-1],[-1,-1,-3,-2,0,-3,-2,1,-1,2,5,-2,-2,0,-1,-1,-1,1,-1,-1],[-2,-3,1,0,-3,0,1,-3,0,-3,-2,6,-2,0,0,1,0,-3,-4,-2],[-1,-3,-1,-1,-4,-2,-2,-3,-1,-3,-2,-2,7,-1,-2,-1,-1,-2,-4,-3],[-1,-3,0,2,-3,-2,0,-3,1,-2,0,0,-1,5,1,0,-1,-2,-2,-1],[-1,-3,-2,0,-3,-2,0,-3,2,-2,-1,0,-2,1,5,-1,-1,-3,-3,-2],[1,-1,0,0,-2,0,-1,-2,0,-2,-1,1,-1,0,-1,4,1,-2,-3,-2],[0,-1,-1,-1,-2,-2,-2,-1,-1,-1,-1,0,-1,-1,-1,1,5,0,-2,-2],[0,-1,-3,-2,-1,-3,-3,3,-2,1,1,-3,-2,-2,-3,-2,0,4,-3,-1],[-3,-2,-4,-3,1,-2,-2,-3,-3,-2,-1,-4,-4,-2,-3,-3,-2,-3,11,2],[-2,-2,-3,-2,3,-3,2,-1,-2,-1,-1,-2,-3,-1,-2,-2,-2,-1,2,7]])},Ud=function(r,i,s,c,u){void 0===s&&(s=-10),void 0===c&&(c=-1),void 0===u&&(u="blosum62"),this.seq1=r,this.seq2=i,this.gapPenalty=s,this.gapExtensionPenalty=c,u&&(this.substMatrix=EO[u])};function t0(n,r,i,s,c){var u,f,v,_,y;if(void 0===i&&(i=!1),void 0===s&&(s=""),void 0===c&&(c=""),i){var C=n,P=r;s&&c&&(C=n.getView(new Fo(s)),P=r.getView(new Fo(c)));var I,L,w=C.getSequence(),E=P.getSequence(),S=new Ud(w.join(""),E.join(""));S.calc(),S.trace(),u=0,f=0,v=S.ali1.length;for(var B=[],V=[],N=0;N<v;++N){var z=S.ali2[N];I=0,L=0,"-"===S.ali1[N]?V[f]=!1:(V[f]=!0,I=1),"-"===z?B[u]=!1:(B[u]=!0,L=1),u+=I,f+=L}var G=[],q=[],Y=C.getAtomProxy(),X=P.getAtomProxy();u=0,C.eachResidue(function(nt){void 0===nt.traceAtomIndex||nt.traceAtomIndex!==nt.getAtomIndexByName("CA")||(B[u]&&(Y.index=nt.getAtomIndexByName("CA"),G.push(Y.x,Y.y,Y.z)),u+=1)}),u=0,P.eachResidue(function(nt){void 0===nt.traceAtomIndex||nt.traceAtomIndex!==nt.getAtomIndexByName("CA")||(V[u]&&(X.index=nt.getAtomIndexByName("CA"),q.push(X.x,X.y,X.z)),u+=1)}),_=new Float32Array(G),y=new Float32Array(q)}else _=n.getView(new Fo(s+" and .CA")),y=r.getView(new Fo(c+" and .CA"));new K_(_,y).transform(n),n.refreshPosition()}Ud.prototype.initMatrices=function(){var i,s,r=this;for(this.n=this.seq1.length,this.m=this.seq2.length,this.score=void 0,this.ali="",this.S=[],this.V=[],this.H=[],i=0;i<=this.n;++i)for(r.S[i]=[],r.V[i]=[],r.H[i]=[],s=0;s<=this.m;++s)r.S[i][s]=0,r.V[i][s]=0,r.H[i][s]=0;for(i=0;i<=this.n;++i)r.S[i][0]=r.gap(0),r.H[i][0]=-1/0;for(s=0;s<=this.m;++s)r.S[0][s]=r.gap(0),r.V[0][s]=-1/0;this.S[0][0]=0},Ud.prototype.gap=function(r){return this.gapPenalty+r*this.gapExtensionPenalty},Ud.prototype.makeScoreFn=function(){var r=this.seq1,i=this.seq2,s=this.substMatrix;return s?function(u,f){var v=r[u],_=i[f];try{return s[v][_]}catch(y){return-4}}:(xe.warn("Alignment: no subst matrix"),function(u,f){return r[u]===i[f]?5:-3})},Ud.prototype.calc=function(){Le&&xe.time("Alignment.calc"),this.initMatrices();var y,C,P,w,E,S,I,r=this.gap(0),i=this.makeScoreFn(),s=this.gapExtensionPenalty,c=this.V,u=this.H,f=this.S,v=this.n,_=this.m;for(S=1;S<=v;++S)for(C=f[S-1],y=c[S-1],P=c[S],w=u[S],E=f[S],I=1;I<=_;++I)P[I]=Math.max(C[I]+r,y[I]+s),w[I]=Math.max(E[I-1]+r,w[I-1]+s),E[I]=Math.max(C[I-1]+i(S-1,I-1),P[I],w[I]);Le&&xe.timeEnd("Alignment.calc"),Le&&xe.log(this.S,this.V,this.H)},Ud.prototype.trace=function(){var r=this;Le&&xe.time("Alignment.trace"),this.ali1="",this.ali2="";var u,i=this.makeScoreFn(),s=this.n,c=this.m;for(this.S[s][c]>=this.V[s][c]?(u="S",this.score=this.S[s][c]):this.V[s][c]>=this.H[s][c]?(u="V",this.score=this.V[s][c]):(u="H",this.score=this.H[s][c]),Le&&xe.log("Alignment: SCORE",this.score),Le&&xe.log("Alignment: S, V, H",this.S[s][c],this.V[s][c],this.H[s][c]);s>0&&c>0;)"S"===u?r.S[s][c]===r.S[s-1][c-1]+i(s-1,c-1)?(r.ali1=r.seq1[s-1]+r.ali1,r.ali2=r.seq2[c-1]+r.ali2,--s,--c,u="S"):r.S[s][c]===r.V[s][c]?u="V":r.S[s][c]===r.H[s][c]?u="H":(--s,--c):"V"===u?r.V[s][c]===r.V[s-1][c]+r.gapExtensionPenalty?(r.ali1=r.seq1[s-1]+r.ali1,r.ali2="-"+r.ali2,--s,u="V"):r.V[s][c]===r.S[s-1][c]+r.gap(0)?(r.ali1=r.seq1[s-1]+r.ali1,r.ali2="-"+r.ali2,--s,u="S"):--s:"H"===u?r.H[s][c]===r.H[s][c-1]+r.gapExtensionPenalty?(r.ali1="-"+r.ali1,r.ali2=r.seq2[c-1]+r.ali2,--c,u="H"):r.H[s][c]===r.S[s][c-1]+r.gap(0)?(r.ali1="-"+r.ali1,r.ali2=r.seq2[c-1]+r.ali2,--c,u="S"):--c:xe.error("Alignment: no matrix");for(;s>0;)r.ali1=r.seq1[s-1]+r.ali1,r.ali2="-"+r.ali2,--s;for(;c>0;)r.ali1="-"+r.ali1,r.ali2=r.seq2[c-1]+r.ali2,--c;Le&&xe.timeEnd("Alignment.trace"),Le&&xe.log([this.ali1,this.ali2])};var $M=Object.assign({sele:"",defaultAssembly:""},_A),e0=function(n){function r(s,c,u){void 0===u&&(u={}),n.call(this,s,c,Object.assign({name:c.name},u)),this.structure=c,this.trajList=[],this.signals=Object.assign(this.signals,{trajectoryAdded:new Br,trajectoryRemoved:new Br,defaultAssemblyChanged:new Br}),this.initSelection(this.parameters.sele),this.setDefaultAssembly(this.parameters.defaultAssembly),this.pickBuffer=function(n){var r=0,i=0,s=[];return{has:function(c){return-1!==s.indexOf(c)},get:function(c){return s[c]},push:function(c){s[r]=c,r=(4+r+1)%4,++i},get count(){return i},get data(){return s.slice(0,Math.min(i,4))},clear:function(){i=0,r=0,s.length=0}}}(),this.pickDict=function(){var n={};return{has:function(r){return void 0!==n[JSON.stringify(r)]},add:function(r,i){n[JSON.stringify(r)]=i},del:function(r){delete n[JSON.stringify(r)]},get values(){return Object.keys(n).map(function(r){return n[r]})}}}(),this.spacefillRepresentation=this.addRepresentation("spacefill",{sele:"none",opacity:.6,color:"green",disablePicking:!0,radiusType:"data"},!0);var f={color:"green",labelColor:"grey",labelAttachment:"bottom-center",labelSize:.7,labelZOffset:.5,labelYOffset:.1,labelBorder:!0,labelBorderColor:"lightgrey",labelBorderWidth:.25,lineOpacity:.8,linewidth:5,opacity:.6};this.distanceRepresentation=this.addRepresentation("distance",Object.assign({labelUnit:"angstrom"},f),!0),this.angleRepresentation=this.addRepresentation("angle",Object.assign({arcVisible:!0},f),!0),this.dihedralRepresentation=this.addRepresentation("dihedral",Object.assign({planeVisible:!1},f),!0),this.measureRepresentations=new Hf([this.spacefillRepresentation,this.distanceRepresentation,this.angleRepresentation,this.dihedralRepresentation])}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0},type:{configurable:!0}};return i.defaultParameters.get=function(){return $M},i.type.get=function(){return"structure"},r.prototype.initSelection=function(c){var u=this;this.selection=new Fo(c),this.structureView=new wO(this.structure,this.selection),this.selection.signals.stringChanged.add(function(){u.structureView.setSelection(u.selection),u.rebuildRepresentations(),u.rebuildTrajectories()})},r.prototype.setSelection=function(c){return this.parameters.sele=c,this.selection.setString(c),this},r.prototype.setDefaultAssembly=function(c){var u=this;this.parameters.defaultAssembly=c,this.reprList.forEach(function(f){f.setParameters({defaultAssembly:u.parameters.defaultAssembly})}),this.signals.defaultAssemblyChanged.dispatch(c)},r.prototype.rebuildRepresentations=function(){this.reprList.forEach(function(c){c.build()}),this.measureRepresentations.build()},r.prototype.rebuildTrajectories=function(){var c=this;this.trajList.forEach(function(u){u.trajectory.setStructure(c.structureView)})},r.prototype.updateRepresentations=function(c){n.prototype.updateRepresentations.call(this,c),this.measureRepresentations.update(c)},r.prototype.addRepresentation=function(c,u,f){var v=this;void 0===u&&(u={}),void 0===f&&(f=!1),u.defaultAssembly=this.parameters.defaultAssembly;var _=this._addRepresentation(c,this.structureView,u,f);return f||_.signals.parametersChanged.add(function(){return v.measureUpdate()}),_},r.prototype.addTrajectory=function(c,u){var f=this;void 0===c&&(c=""),void 0===u&&(u={});var v=function(n,r,i){return n&&n instanceof bA?new iu(n,r,i):!n&&r.frames?new ji(n,r,i):new J_(n,r,i)}(c,this.structureView,u);v.signals.frameChanged.add(function(){f.updateRepresentations({position:!0})});var _=new CO(this.stage,v,u);return this.trajList.push(_),this.signals.trajectoryAdded.dispatch(_),_},r.prototype.removeTrajectory=function(c){var u=this.trajList.indexOf(c);-1!==u&&this.trajList.splice(u,1),c.dispose(),this.signals.trajectoryRemoved.dispatch(c)},r.prototype.dispose=function(){this.trajList.slice().forEach(function(c){c.dispose()}),this.trajList.length=0,this.structure.dispose(),this.measureRepresentations.dispose(),n.prototype.dispose.call(this)},r.prototype.autoView=function(c,u){"number"==typeof c&&(u=c,c=""),this.stage.animationControls.zoomMove(this.getCenter(c),this.getZoom(c),it(u,0))},r.prototype.getBoxUntransformed=function(c){return c?this.structureView.getBoundingBox(new Fo(c)):this.structureView.boundingBox},r.prototype.getCenterUntransformed=function(c){return c&&"string"==typeof c?this.structure.atomCenter(new Fo(c)):this.structure.center},r.prototype.superpose=function(c,u,f,v){return t0(this.structureView,c.structureView,u,f,v),this.updateRepresentations({position:!0}),this},r.prototype.getMaxRepresentationRadius=function(c){var u=0,f=this.structure.getAtomProxy(c);return this.eachRepresentation(function(v){v.getVisibility()&&(u=Math.max(v.repr.getAtomRadius(f),u))}),u},r.prototype.measurePick=function(c){var u=this.pickBuffer.count;if(this.lastPick===c.index&&u>=1){if(u>1){var f=this.pickBuffer.data,v=this.pickBuffer.data.sort();this.pickDict.has(v)?this.pickDict.del(v):this.pickDict.add(v,f),2===u?this.distanceRepresentation.setParameters({atomPair:this.pickDict.values.filter(function(_){return 2===_.length})}):3===u?this.angleRepresentation.setParameters({atomTriple:this.pickDict.values.filter(function(_){return 3===_.length})}):4===u&&this.dihedralRepresentation.setParameters({atomQuad:this.pickDict.values.filter(function(_){return 4===_.length})})}this.pickBuffer.clear(),this.lastPick=void 0}else this.pickBuffer.has(c.index)||this.pickBuffer.push(c.index),this.lastPick=c.index;this.measureUpdate()},r.prototype.measureClear=function(){this.pickBuffer.clear(),this.lastPick=void 0,this.spacefillRepresentation.setSelection("none")},r.prototype.measureBuild=function(){var c=this.measureData();this.distanceRepresentation.setParameters({atomPair:c.distance}),this.angleRepresentation.setParameters({atomTriple:c.angle}),this.dihedralRepresentation.setParameters({atomQuad:c.dihedral})},r.prototype.measureUpdate=function(){var c=this,u={};this.pickBuffer.data.forEach(function(f){var v=Math.max(.1,c.getMaxRepresentationRadius(f));u[f]=v*(2.3-qC(.1,2,v))}),this.spacefillRepresentation.setSelection("@"+this.pickBuffer.data.join(",")),this.spacefillRepresentation.setParameters({radiusData:u})},r.prototype.measureData=function(){var c=this.pickDict.values;return{distance:c.filter(function(u){return 2===u.length}),angle:c.filter(function(u){return 3===u.length}),dihedral:c.filter(function(u){return 4===u.length})}},r.prototype.removeAllMeasurements=function(c){var u=this.pickDict,f=u.values,v=function(_){f.filter(function(y){return y.length===_}).forEach(function(y){return u.del(y.slice().sort())})};(!c||1&c)&&v(2),(!c||2&c)&&v(3),(!c||4&c)&&v(4),this.measureBuild()},r.prototype.removeMeasurement=function(c){this.pickDict.del(c.slice().sort()),this.measureBuild()},r.prototype.addMeasurement=function(c){if(!(c.length<2||c.length>4)){var u=c.slice().sort();this.pickDict.has(u)||this.pickDict.add(u,c),this.measureBuild()}},Object.defineProperties(r.prototype,i),r}(_n);rm.add("structure",e0),rm.add("structureview",e0);var I5=function(n){function r(s,c,u){void 0===u&&(u={}),n.call(this,s,c,Object.assign({name:c.name},u)),this.surface=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"surface"},r.prototype.addRepresentation=function(c,u){return void 0===u&&(u={}),this._addRepresentation(c,this.surface,u)},r.prototype.getBoxUntransformed=function(){return this.surface.boundingBox},r.prototype.getCenterUntransformed=function(){return this.surface.center},r.prototype.dispose=function(){this.surface.dispose(),n.prototype.dispose.call(this)},Object.defineProperties(r.prototype,i),r}(_n);rm.add("surface",I5);var SO=function(n){function r(s,c,u){void 0===u&&(u={}),n.call(this,s,c,Object.assign({name:c.name},u)),this.volume=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"volume"},r.prototype.addRepresentation=function(c,u){return void 0===u&&(u={}),this._addRepresentation(c,this.volume,u)},r.prototype.getBoxUntransformed=function(){return this.volume.boundingBox},r.prototype.getCenterUntransformed=function(){return this.volume.center},r.prototype.dispose=function(){this.volume.dispose(),n.prototype.dispose.call(this)},Object.defineProperties(r.prototype,i),r}(_n);rm.add("volume",SO);var Pr=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.addRepresentation=function(s,c){return this.forEach(function(u){return u.addRepresentation(s,c)})},r.prototype.autoView=function(s){return this.forEach(function(c){return c.autoView(s)})},r}(Ua);function YM(n,r){return n instanceof RegExp?null!==r.name.match(n):r.name===n}var Np=new J,R5={impostor:!0,quality:"medium",workerDefault:!0,sampleLevel:0,backgroundColor:"black",rotateSpeed:2,zoomSpeed:1.2,panSpeed:1,clipNear:0,clipFar:100,clipDist:10,fogNear:50,fogFar:100,cameraFov:40,cameraType:"perspective",lightColor:14540253,lightIntensity:1,ambientColor:14540253,ambientIntensity:.2,hoverTimeout:0,tooltip:!0,mousePreset:"default"},Wi=function(r,i){void 0===i&&(i={}),this.signals={parametersChanged:new Br,fullscreenChanged:new Br,componentAdded:new Br,componentRemoved:new Br,clicked:new Br,hovered:new Br},this.tasks=new Ed,this.compList=[],this.defaultFileParams={},this.logList=[],this.viewer=new Li(r),this.viewer.renderer&&(this.tooltip=document.createElement("div"),Object.assign(this.tooltip.style,{display:"none",position:"fixed",zIndex:2+parseInt(this.viewer.container.style.zIndex||"0"),pointerEvents:"none",backgroundColor:"rgba( 0, 0, 0, 0.6 )",color:"lightgrey",padding:"8px",fontFamily:"sans-serif"}),document.body.appendChild(this.tooltip),this.mouseObserver=new rc(this.viewer.renderer.domElement),this.viewerControls=new ic(this),this.trackballControls=new _l(this),this.pickingControls=new cM(this),this.animationControls=new Bo(this),this.mouseControls=new Fa(this),this.keyControls=new Vu(this),this.pickingBehavior=new zu(this),this.mouseBehavior=new Na(this),this.animationBehavior=new ky(this),this.keyBehavior=new kd(this),this.spinAnimation=this.animationControls.spin([0,1,0],.005),this.spinAnimation.pause(!0),this.rockAnimation=this.animationControls.rock([0,1,0],.005),this.rockAnimation.pause(!0),this.parameters=ql(i,R5),this.setParameters(this.parameters),this.viewer.animate())};Wi.prototype.setParameters=function(r){void 0===r&&(r={}),Qg(this.parameters,r);var i=r,s=this.parameters,c=this.viewer,u=this.trackballControls;return void 0!==i.quality&&this.setQuality(s.quality),void 0!==i.impostor&&this.setImpostor(s.impostor),void 0!==i.rotateSpeed&&(u.rotateSpeed=s.rotateSpeed),void 0!==i.zoomSpeed&&(u.zoomSpeed=s.zoomSpeed),void 0!==i.panSpeed&&(u.panSpeed=s.panSpeed),void 0!==i.mousePreset&&this.mouseControls.preset(s.mousePreset),this.mouseObserver.setParameters({hoverTimeout:s.hoverTimeout}),c.setClip(s.clipNear,s.clipFar,s.clipDist),c.setFog(void 0,s.fogNear,s.fogFar),c.setCamera(s.cameraType,s.cameraFov),c.setSampling(s.sampleLevel),c.setBackground(s.backgroundColor),c.setLight(s.lightColor,s.lightIntensity,s.ambientColor,s.ambientIntensity),this.signals.parametersChanged.dispatch(this.getParameters()),this},Wi.prototype.log=function(r){console.log("STAGE LOG",r),this.logList.push(r)},Wi.prototype.getParameters=function(){return Object.assign({},this.parameters)},Wi.prototype.defaultFileRepresentation=function(r){if(r instanceof e0){r.setSelection("/0");var i,s,c,u=r.structure;if(u.biomolDict.BU1){var f=u.biomolDict.BU1;i=f.getAtomCount(u),s=f.getResidueCount(u),c=f.getInstanceCount(),r.setDefaultAssembly("BU1")}else i=u.getModelProxy(0).atomCount,s=u.getModelProxy(0).residueCount,c=1;var v=i;xS&&(v*=4);var _=u.atomStore.count/u.residueStore.count<2;_&&(v*=10);var y="chainname",C="RdYlBu",P=!1;if(1===u.getChainnameCount(new Fo("polymer and /0"))&&(y="residueindex",C="spectral",P=!0),Le&&console.log(v,i,c,_),s/c<4)r.addRepresentation("ball+stick",{colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"});else if(c>5&&v>15e3||v>7e5){var w=Math.min(1.5,Math.max(.1,2e3/(v/c)));_&&(w=Math.min(w,.15)),r.addRepresentation("surface",{colorScheme:y,colorScale:C,colorReverse:P,sele:"polymer",surfaceType:"sas",probeRadius:1.4,scaleFactor:w,useWorker:!1})}else v>25e4?r.addRepresentation("backbone",{colorScheme:y,colorScale:C,colorReverse:P,lineOnly:!0}):v>1e5?r.addRepresentation("backbone",{colorScheme:y,colorScale:C,colorReverse:P,quality:"low",disableImpostor:!0,radiusScale:2}):v>8e4?r.addRepresentation("backbone",{colorScheme:y,colorScale:C,colorReverse:P,radiusScale:2}):(r.addRepresentation("cartoon",{colorScheme:y,colorScale:C,colorReverse:P,radiusScale:.7,aspectRatio:5,quality:"auto"}),v<5e4&&r.addRepresentation("base",{colorScheme:y,colorScale:C,colorReverse:P,quality:"auto"}),r.addRepresentation("ball+stick",{sele:"ligand",colorScheme:"element",radiusScale:2,aspectRatio:1.5,bondScale:.3,bondSpacing:.75,quality:"auto"}));r.structure.frames.length&&r.addTrajectory()}else(r instanceof I5||r instanceof SO)&&r.addRepresentation("surface");this.tasks.onZeroOnce(this.autoView,this)},Wi.prototype.loadFile=function(r,i){var s=this;void 0===i&&(i={});var c=Object.assign({},this.defaultFileParams,i),u=ia(r).name;this.tasks.increment(),this.log("loading file '"+u+"'");var _=it(c.ext,ia(r).ext);return(Gn.isTrajectory(_)?Promise.reject(new Error("loadFile: ext '"+_+"' is a trajectory and must be loaded into a structure component")):d_(r,c)).then(function(C){s.log("loaded '"+u+"'");var P=s.addComponentFromObject(C,c);return c.defaultRepresentation&&s.defaultFileRepresentation(P),s.tasks.decrement(),P},function(C){s.tasks.decrement();var P="error loading file: '"+C+"'";throw s.log(P),P})},Wi.prototype.loadScript=function(r){var i=this,s=ia(r).name;return this.log("loading script '"+s+"'"),d_(r).then(function(c){i.tasks.increment(),i.log("running script '"+s+"'"),c.run(i).then(function(){i.tasks.decrement(),i.log("finished script '"+s+"'")}),i.log("called script '"+s+"'")},function(c){i.tasks.decrement();var u="errored script '"+s+"' \""+c+'"';throw i.log(u),u})},Wi.prototype.addComponent=function(r){r?(this.compList.push(r),this.signals.componentAdded.dispatch(r)):xe.warn("Stage.addComponent: no component given")},Wi.prototype.addComponentFromObject=function(r,i){void 0===i&&(i={});var s=rm.get(r.type);if(s){var c=new s(this,r,i);return this.addComponent(c),c}xe.warn("no component for object type",r.type)},Wi.prototype.removeComponent=function(r){var i=this.compList.indexOf(r);-1!==i&&(this.compList.splice(i,1),r.dispose(),this.signals.componentRemoved.dispatch(r))},Wi.prototype.removeAllComponents=function(){var r=this;this.compList.slice().forEach(function(i){return r.removeComponent(i)})},Wi.prototype.handleResize=function(){this.viewer.handleResize()},Wi.prototype.setSize=function(r,i){var s=this.viewer.container;s!==document.body&&(void 0!==r&&(s.style.width=r),void 0!==i&&(s.style.height=i),this.handleResize())},Wi.prototype.toggleFullscreen=function(r){if(document.fullscreenEnabled||document.mozFullScreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled){var i=this;this.lastFullscreenElement=r=r||this.viewer.container,s()?document.exitFullscreen?document.exitFullscreen():document.msExitFullscreen?document.msExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen&&document.webkitExitFullscreen():(r.dataset.normalWidth=r.style.width||"",r.dataset.normalHeight=r.style.height||"",r.style.width=window.screen.width+"px",r.style.height=window.screen.height+"px",r.requestFullscreen?r.requestFullscreen():r.msRequestFullscreen?r.msRequestFullscreen():r.mozRequestFullScreen?r.mozRequestFullScreen():r.webkitRequestFullscreen&&r.webkitRequestFullscreen(),document.addEventListener("fullscreenchange",c),document.addEventListener("mozfullscreenchange",c),document.addEventListener("webkitfullscreenchange",c),document.addEventListener("MSFullscreenChange",c),this.handleResize(),this.signals.fullscreenChanged.dispatch(!0),setTimeout(function(){i.handleResize()},100))}else xe.log("fullscreen mode (currently) not possible");function s(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement}function c(){if(!s()&&i.lastFullscreenElement){var u=i.lastFullscreenElement;u.style.width=u.dataset.normalWidth||"",u.style.height=u.dataset.normalHeight||"",document.removeEventListener("fullscreenchange",c),document.removeEventListener("mozfullscreenchange",c),document.removeEventListener("webkitfullscreenchange",c),document.removeEventListener("MSFullscreenChange",c),i.handleResize(),i.signals.fullscreenChanged.dispatch(!1)}}},Wi.prototype.setSpin=function(r){r?(this.spinAnimation.resume(!0),this.rockAnimation.pause(!0)):this.spinAnimation.pause(!0)},Wi.prototype.setRock=function(r){r?(this.rockAnimation.resume(!0),this.spinAnimation.pause(!0)):this.rockAnimation.pause(!0)},Wi.prototype.toggleSpin=function(){this.setSpin(this.spinAnimation.paused)},Wi.prototype.toggleRock=function(){this.setRock(this.rockAnimation.paused)},Wi.prototype.setFocus=function(r){var i=pS(r/2,0,49.9),s=100-i,c=(s-i)/2;this.setParameters({clipNear:i,clipFar:s,fogNear:hS(s-c),fogFar:hS(s+c)})},Wi.prototype.getZoomForBox=function(r){var i=r.getSize(Np),s=Math.max(i.x,i.y,i.z),c=Math.min(i.x,i.y,i.z),u=s+Math.sqrt(c),f=Lo(this.viewer.perspectiveCamera.fov),v=this.viewer.width,_=this.viewer.height;return u=Math.abs(.5*u/(_<v?1:v/_)/Math.sin(f/2)),-(u+=this.parameters.clipDist)},Wi.prototype.getBox=function(){return this.viewer.boundingBox},Wi.prototype.getZoom=function(){return this.getZoomForBox(this.getBox())},Wi.prototype.getCenter=function(r){return this.getBox().getCenter(r)},Wi.prototype.autoView=function(r){this.animationControls.zoomMove(this.getCenter(),this.getZoom(),it(r,0))},Wi.prototype.makeImage=function(r){var i=this;return void 0===r&&(r={}),new Promise(function(s,c){i.tasks.onZeroOnce(function(){i.tasks.increment(),i.viewer.makeImage(r).then(function(u){i.tasks.decrement(),s(u)}).catch(function(u){i.tasks.decrement(),c(u)})})})},Wi.prototype.setImpostor=function(r){this.parameters.impostor=r;var i=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(s){if(i.includes(s.getType())){var c=s.getParameters();c.disableImpostor=!r,s.build(c)}})},Wi.prototype.setQuality=function(r){this.parameters.quality=r;var i=["tube","cartoon","ribbon","trace","rope"],s=["spacefill","ball+stick","licorice","hyperball","backbone","rocket","helixorient","contact","distance","dot"];this.eachRepresentation(function(c){var u=c.getParameters();if(!i.includes(c.getType())){if(!s.includes(c.getType()))return;if(!u.disableImpostor)return void(c.repr.quality=r)}u.quality=r,c.build(u)})},Wi.prototype.eachComponent=function(r,i){this.compList.slice().forEach(function(s){(void 0===i||i===s.type)&&r(s)})},Wi.prototype.eachRepresentation=function(r,i){this.eachComponent(function(s){s.reprList.slice().forEach(function(c){(void 0===i||i===c.getType())&&r(c,s)})})},Wi.prototype.getComponentsByName=function(r){var i=[];return this.eachComponent(function(s){(void 0===r||YM(r,s))&&i.push(s)}),new Pr(i)},Wi.prototype.getComponentsByObject=function(r){var i=[];return this.eachComponent(function(s){s.object===r&&i.push(s)}),new Pr(i)},Wi.prototype.getRepresentationsByName=function(r){var i=[];return this.eachRepresentation(function(s,c){(void 0===r||YM(r,s))&&i.push(s)}),new Hf(i)},Wi.prototype.measureClear=function(){this.eachComponent(function(r){return r.measureClear()},"structure")},Wi.prototype.measureUpdate=function(){this.eachComponent(function(r){return r.measureUpdate()},"structure")},Wi.prototype.dispose=function(){this.tasks.dispose()};var Rh=function(n){function r(i){var s=this;n.call(this,i),i.scale||(this.parameters.scale="rainbow",this.parameters.reverse=it(i.reverse,!0)),this.scalePerModel={},i.structure.eachModel(function(c){s.parameters.domain=[c.atomOffset,c.atomEnd],s.scalePerModel[c.index]=s.getScale()})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.scalePerModel[s.modelIndex](s.index)},r}(Ai);Xr.add("atomindex",Rh);var AO=function(n){function r(i){if(n.call(this,i),i.scale||(this.parameters.scale="OrRd"),!i.domain){var s,c=1/0,u=-1/0;i.sele&&(s=new Fo(i.sele)),i.structure.eachAtom(function(f){var v=f.bfactor;c=Math.min(c,v),u=Math.max(u,v)},s),this.parameters.domain=[c,u]}this.bfactorScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.bfactorScale(s.bfactor)},r}(Ai);Xr.add("bfactor",AO);var Qy=function(n){function r(i){var s=this;n.call(this,i),this.chainidDictPerModel={},this.scalePerModel={},i.scale||(this.parameters.scale="Spectral"),i.structure.eachModel(function(c){var u=0,f={};c.eachChain(function(v){void 0===f[v.chainid]&&(f[v.chainid]=u,u+=1)}),s.parameters.domain=[0,u-1],s.chainidDictPerModel[c.index]=f,s.scalePerModel[c.index]=s.getScale()})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.scalePerModel[s.modelIndex](this.chainidDictPerModel[s.modelIndex][s.chainid])},r}(Ai);Xr.add("chainid",Qy);var kh=function(n){function r(i){var s=this;n.call(this,i),this.scalePerModel={},i.scale||(this.parameters.scale="Spectral"),i.structure.eachModel(function(c){s.parameters.domain=[c.chainOffset,c.chainEnd],s.scalePerModel[c.index]=s.getScale()})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.scalePerModel[s.modelIndex](s.chainIndex)},r}(Ai);Xr.add("chainindex",kh);var Ms=function(n){function r(i){var s=this;n.call(this,i),this.chainnameDictPerModel={},this.scalePerModel={},i.scale||(this.parameters.scale="Spectral"),i.structure.eachModel(function(c){var u=0,f={};c.eachChain(function(v){void 0===f[v.chainname]&&(f[v.chainname]=u,u+=1)}),s.parameters.domain=[0,u-1],s.chainnameDictPerModel[c.index]=f,s.scalePerModel[c.index]=s.getScale()})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.scalePerModel[s.modelIndex](this.chainnameDictPerModel[s.modelIndex][s.chainname])},r}(Ai);Xr.add("chainname",Ms);var Lh=function(n){function r(i){n.call(this,i),this.rsrzDict={},this.rsccDict={},i.scale||(this.parameters.scale="RdYlBu"),this.rsrzScale=this.getScale({domain:[2,0]}),this.rsccScale=this.getScale({domain:[.678,1]});var s=i.structure.validation;s&&(this.rsrzDict=s.rsrzDict,this.rsccDict=s.rsccDict)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){var c=s.resno+"";s.inscode&&(c+="^"+s.inscode),s.chainname&&(c+=":"+s.chainname);var u=this.rsrzDict[c+="/"+s.modelIndex];if(void 0!==u)return this.rsrzScale(u);var f=this.rsccDict[c];return void 0!==f?this.rsccScale(f):9474192},r}(Ai);Xr.add("densityfit",Lh);var jf={ARG:{CD:.1,CZ:.5,NE:-.1},ASN:{CG:.55,OD1:-.55},ASP:{CB:-.16,CG:.36,OD1:-.6,OD2:-.6},CYS:{CB:.19,SG:-.19},GLN:{CD:.55,OE1:-.55},GLU:{CD:.36,CG:-.16,OE1:-.6,OE2:-.6},HIS:{CB:.1,CD2:.2,CE1:.45,CG:.15,ND1:.05,NE2:.05},LYS:{CE:.25,NZ:.75},MET:{CE:.06,CG:.06,SD:-.12},PTR:{C:.55,CA:.1,CZ:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SEP:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,O1P:-.85,O2P:-.85,O3P:-.85,OG1:-1.1,P:1.4},SER:{CB:.25,OG:-.25},THR:{CB:.25,OG1:-.25},TPO:{C:.55,CA:.1,CB:.25,N:-.35,O:-.55,OG1:-1.1,O1P:-.85,O2P:-.85,O3P:-.85,P:1.4},TRP:{CD1:.06,CD2:.1,CE2:-.04,CE3:-.03,CG:-.03,NE1:-.06},TYR:{CZ:.25,OH:-.25},backbone:{C:.55,O:-.55,N:-.35,CA:.1}},IO=function(n){function r(i){var s=this;n.call(this,i),this.delta=new J,this.hCharges=[],i.scale||(this.parameters.scale="rwb"),i.domain||(this.parameters.domain=[-.5,0,.5]),this.scale=this.getScale(),this.charges=new Float32Array(i.structure.atomCount);var c=[];i.structure.eachAtom(function(f){if(s.charges[f.index]=function(n){return n.isProtein()&&(jf[n.resname]&&jf[n.resname][n.atomname]||jf.backbone[n.atomname])||0}(f)*f.occupancy,"N"===f.atomname){var v=function(n,r){void 0===r&&(r=new J);var i=!1,s=!1,c=!1;return r.set(2*n.x,2*n.y,2*n.z),n.eachBondedAtom(function(u){if(!i){if("H"===u.atomname)return r.set(u.x,u.y,u.z),void(i=!0);s||"CA"!==u.atomname?!c&&"C"===u.atomname&&(c=!0,r.sub(u)):(r.sub(u),s=!0)}}),i?r:s&&c?(r.normalize(),r.multiplyScalar(1.04),r.add(n),r):void 0}(f);void 0!==v&&(c.push(v),s.hCharges.push(.25*f.occupancy))}});var u=i.structure.getBoundingBox();u.expandByScalar(1.04),this.hStore=function(n){for(var r=n.length,i=new Float32Array(r),s=new Float32Array(r),c=new Float32Array(r),u=0;u<n.length;u++){var f=n[u];i[u]=f.x,s[u]=f.y,c[u]=f.z}return{x:i,y:s,z:c,count:r}}(c),this.hHash=new xp(this.hStore,u),this.hash=new xp(i.structure.atomStore,u)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.positionColor=function(s){for(var c=this,u=0,f=this.hash.within(s.x,s.y,s.z,12),v=0;v<f.length;v++){var _=f[v],y=c.charges[_];if(0!==y){c.atomProxy.index=_,c.delta.x=s.x-c.atomProxy.x,c.delta.y=s.y-c.atomProxy.y,c.delta.z=s.z-c.atomProxy.z;var C=c.delta.lengthSq();C<144&&(u+=y/C)}}for(var P=this.hHash.within(s.x,s.y,s.z,12),w=0;w<P.length;w++){var E=P[w];c.delta.x=s.x-c.hStore.x[E],c.delta.y=s.y-c.hStore.y[E],c.delta.z=s.z-c.hStore.z[E];var S=c.delta.lengthSq();S<144&&(u+=c.hCharges[E]/S)}return this.scale(u)},r}(Ai);Xr.add("electrostatic",IO);var MA={H:16777215,HE:14286847,LI:13402367,BE:12779264,B:16758197,C:9474192,N:3166456,O:16715021,F:9494608,NE:11789301,NA:11230450,MG:9109248,AL:12560038,SI:1578e4,P:16744448,S:16777008,CL:2093087,AR:8442339,K:9388244,CA:4062976,SC:15132390,TI:12567239,V:10921643,CR:9083335,MN:10255047,FE:14706227,CO:15765664,NI:5296208,CU:13140019,ZN:8224944,GA:12750735,GE:6721423,AS:12419299,SE:16752896,BR:10889513,KR:6076625,RB:7351984,SR:65280,Y:9764863,ZR:9756896,NB:7586505,MO:5551541,TC:3907230,RU:2396047,RH:687500,PD:27013,AG:12632256,CD:16767375,IN:10909043,SN:6717568,SB:10380213,TE:13924864,I:9699476,XE:9699476,CS:5707663,BA:51456,LA:7394559,CE:16777159,PR:14286791,ND:13107143,PM:10747847,SM:9437127,EU:6422471,GD:4587463,TB:3211207,DY:2097095,HO:65436,ER:58997,TM:54354,YB:48952,LU:43812,HF:5096191,TA:5089023,W:2200790,RE:2522539,OS:2516630,IR:1528967,PT:13684960,AU:16765219,HG:12105936,TL:10900557,PB:5724513,BI:10375093,PO:11230208,AT:7688005,RN:4358806,FR:4325478,RA:32e3,AC:7384058,TH:47871,PA:41471,U:36863,NP:33023,PU:27647,AM:5528818,CM:7888099,BK:9064419,CF:10565332,ES:11739092,FM:11739066,MD:11734438,NO:12389767,LR:13041766,RF:13369433,DB:13697103,SG:14221381,BH:14680120,HS:15073326,MT:15400998,DS:16777215,RG:16777215,CN:16777215,UUT:16777215,FL:16777215,UUP:16777215,LV:16777215,UUH:16777215,D:16777152,T:16777120},Jy=function(n){function r(i){i.value=it(i.value,MA.C),n.call(this,i)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){var c=s.element;return"C"===c?this.parameters.value:MA[c]||16777215},r}(Ai);Xr.add("element",Jy);var Vm=function(n){function r(i){n.call(this,i),i.scale||(this.parameters.scale="Spectral"),i.domain||(this.parameters.domain=[0,i.structure.entityList.length-1]),this.entityindexScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.entityindexScale(s.entityIndex)},r}(Ai);Xr.add("entityindex",Vm);var PA=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){var c=s.entity;switch(c?c.entityType:void 0){case 1:return 8374655;case 2:return 16629894;case 3:return 12496596;case 4:return 3697840;default:return 16777113}},r}(Ai);Xr.add("entitytype",PA);var XM=function(n){function r(i){n.call(this,i),this.geoAtomDict={},this.geoDict={};var s=i.structure.validation;s&&(this.geoAtomDict=s.geoAtomDict,this.geoDict=s.geoDict)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){var c=s.resno+"";s.inscode&&(c+="^"+s.inscode),s.chainname&&(c+=":"+s.chainname);var u,f=this.geoAtomDict[c+="/"+s.modelIndex];return 0===(u=void 0!==f?function(n){return 16843009*((n=(858993459&(n-=n>>1&1431655765))+(n>>2&858993459))+(n>>4)&252645135)>>24}(f[s.atomname]||0):this.geoDict[c]||0)?2188972:1===u?16703627:2===u?16018755:u>=3?10813478:9474192},r}(Ai);Xr.add("geoquality",XM);var F5=function(n){function r(i){var s=this;for(var u in n.call(this,i),this.resHF={},i.scale||(this.parameters.scale="RdYlGn"),_h)s.resHF[u]=_h[u][0];if(this.defaultResidueHydrophobicity=Df[0],!i.domain){var f=1/0,v=-1/0;for(var _ in s.resHF){var y=s.resHF[_];f=Math.min(f,y),v=Math.max(v,y)}this.parameters.domain=[f,0,v]}this.hfScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.hfScale(this.resHF[s.resname]||this.defaultResidueHydrophobicity)},r}(Ai);Xr.add("hydrophobicity",F5);var RO=function(n){function r(i){n.call(this,i),i.scale||(this.parameters.scale="rainbow"),i.domain||(this.parameters.domain=[0,i.structure.modelStore.count]),this.modelindexScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.modelindexScale(s.modelIndex)},r}(Ai);Xr.add("modelindex",RO);var zm=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){switch(s.residueType.moleculeType){case 1:return 3697840;case 2:return 15729279;case 3:return 12496596;case 4:return 16629894;case 5:return 12540695;case 6:return 8374655;default:return 16777113}},r}(Ai);Xr.add("moleculetype",zm);var N5=function(n){function r(i){n.call(this,i),i.scale||(this.parameters.scale="PuBu"),i.domain||(this.parameters.domain=[0,1]),this.occupancyScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.occupancyScale(s.occupancy)},r}(Ai);Xr.add("occupancy",N5);var B5=function(n){function r(i){n.call(this,i),i.scale||(this.parameters.scale="rwb"),i.domain||(this.parameters.domain=[-1,1]),this.partialchargeScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.partialchargeScale(s.partialCharge||0)},r}(Ai);function tx(){return 16777215*Math.random()}Xr.add("partialcharge",B5);var r0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(){return tx()},r.prototype.volumeColor=function(){return tx()},r.prototype.positionColor=function(){return tx()},r}(Ai);Xr.add("random",r0);var wA=function(n){function r(i){var s=this;n.call(this,i),this.scalePerChain={},i.scale||(this.parameters.scale="rainbow",this.parameters.reverse=it(i.reverse,!0)),i.structure.eachChain(function(c){s.parameters.domain=[c.residueOffset,c.residueEnd],s.scalePerChain[c.index]=s.getScale()})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return this.scalePerChain[s.chainIndex](s.residueIndex)},r}(Ai);Xr.add("residueindex",wA);var OA={ALA:9240460,ARG:124,ASN:16743536,ASP:10485826,CYS:16777072,GLN:16731212,GLU:6684672,GLY:16777215,HIS:7368959,ILE:19456,LEU:4546117,LYS:4671416,MET:12099650,PHE:5459026,PRO:5395026,SER:16740418,THR:12078080,TRP:5195264,TYR:9203788,VAL:16747775,ASX:16711935,GLX:16711935,ASH:16711935,GLH:16711935,A:10526975,G:16740464,I:8454143,C:16747595,T:10551200,U:16744576,DA:10526975,DG:16740464,DI:8454143,DC:16747595,DT:10551200,DU:16744576},i0=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){return OA[s.resname]||16711935},r}(Ai);Xr.add("resname",i0);var Wf=function(n){function r(i){n.call(this,i),this.residueProxy=i.structure.getResidueProxy()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(s){var c=s.sstruc,u=this.residueProxy;return"h"===c?16711808:"g"===c?10485888:"i"===c?6291584:"e"===c||"b"===c?16762880:"t"===c?6324479:(u.index=s.residueIndex,u.isDna()?11403518:u.isRna()?16580962:u.isSaccharide()?10921722:u.isProtein()||"s"===c||"l"===c?16777215:8421504)},r}(Ai);Xr.add("sstruc",Wf);var EA=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.atomColor=function(){return this.parameters.value},r.prototype.bondColor=function(){return this.parameters.value},r.prototype.valueColor=function(){return this.parameters.value},r.prototype.volumeColor=function(){return this.parameters.value},r}(Ai);Xr.add("uniform",EA);var Bp=function(n){function r(i){n.call(this,i),this.valueScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.volumeColor=function(s){return this.valueScale(this.parameters.volume.data[s])},r}(Ai);Xr.add("value",Bp);var SA=function(n){function r(i){n.call(this,i),this.vec=new J,this.valueScale=this.getScale()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.positionColor=function(s){var c=this.parameters.volume;if(!c||!c.inverseMatrix)return this.parameters.value;var u=this.vec,f=c.data,v=c.nx,_=c.ny,y=v*_;u.copy(s),u.applyMatrix4(c.inverseMatrix);var C=Math.floor(u.x),P=Math.floor(u.y),w=Math.floor(u.z),E=(w*_+P)*v+C,I=E+v,L=E+y,N=I+y,q=f[I],Y=f[L],X=f[I+1],$=f[L+1],tt=f[N],ot=f[N+1],nt=u.x-C,et=u.y-P,vt=u.z-w,dt=Ws(f[E],f[E+1],nt),Dt=Ws(Y,$,nt),Et=Ws(q,X,nt),Mt=Ws(tt,ot,nt),st=Ws(dt,Et,et),ht=Ws(Dt,Mt,et),Ft=Ws(st,ht,vt);return this.valueScale(Ft)},r}(Ai);Xr.add("volume",SA);var $R=function(n){function r(s,c,u){void 0===u&&(u={}),n.call(this,s,c,Object.assign({name:c.name},u)),this.shape=c}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"shape"},r.prototype.addRepresentation=function(c,u){return void 0===u&&(u={}),this._addRepresentation(c,this.shape,u)},r.prototype.getBoxUntransformed=function(){return this.shape.boundingBox},r.prototype.getCenterUntransformed=function(){return this.shape.center},r.prototype.dispose=function(){this.shape.dispose(),n.prototype.dispose.call(this)},Object.defineProperties(r.prototype,i),r}(_n);rm.add("shape",$R);var Ic=function(n){function r(s,c,u){var f=u||{};if(n.call(this,s,c,f),this.type="structure",this.parameters=Object.assign({radiusType:{type:"select",options:Hu.types},radiusData:{type:"hidden",rebuild:!0},radiusSize:{type:"number",precision:3,max:10,min:.001},radiusScale:{type:"number",precision:3,max:10,min:.001},assembly:null,defaultAssembly:{type:"hidden"}},this.parameters),this.selection=new Fo(f.sele),this.dataList=[],this.structure=s,this.structureView=this.structure.getView(this.selection),s.biomolDict){var v={default:"default","":s.unitcell?"AU":"FULL"};Object.keys(s.biomolDict).forEach(function(_){v[_]=_}),this.parameters.assembly={type:"select",options:v,rebuild:!0}}else this.parameters.assembly=null}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultScale:{configurable:!0}};return i.defaultScale.get=function(){return{vdw:1,covalent:1,bfactor:.01,sstruc:1}},r.prototype.init=function(c){var u=c||{};u.colorScheme=it(u.colorScheme,"element"),this.setRadius(u.radius,u),this.radiusType=it(u.radiusType,"vdw"),this.radiusData=it(u.radiusData,{}),this.radiusSize=it(u.radiusSize,1),this.radiusScale=it(u.radiusScale,1),this.assembly=it(u.assembly,"default"),this.defaultAssembly=it(u.defaultAssembly,""),"auto"===u.quality&&(u.quality=this.getQuality()),n.prototype.init.call(this,u),this.selection.signals.stringChanged.add(function(){this.build()},this),this.build()},r.prototype.setRadius=function(c,u){var f=Object.keys(FM);return"string"==typeof c&&f.includes(c.toLowerCase())?u.radiusType=c:void 0!==c&&(u.radiusType="size",u.radiusSize=c),this},r.prototype.getAssembly=function(){return this.structure.biomolDict["default"===this.assembly?this.defaultAssembly:this.assembly]},r.prototype.getQuality=function(){var c,u=this.structureView,f=this.getAssembly();return c=f?f.getAtomCount(u):u.atomCount,xS&&(c*=4),u.atomStore.count/u.residueStore.count<2&&(c*=10),c<15e3?"high":c<8e4?"medium":"low"},r.prototype.create=function(){if(0!==this.structureView.atomCount){if(!this.structureView.hasCoords())return void(this.needsBuild=!0);this.needsBuild=!1;var c=this.getAssembly();if(c)c.partList.forEach(function(f,v){var _=f.getView(this.structureView);if(0!==_.atomCount){var y=this.createData(_,v);y&&(y.sview=_,y.instanceList=f.getInstanceList(),this.dataList.push(y))}},this);else{var u=this.createData(this.structureView,0);u&&(u.sview=this.structureView,this.dataList.push(u))}}},r.prototype.createData=function(){console.error("createData not implemented")},r.prototype.update=function(c){!this.lazy||this.visible?this.needsBuild?this.build():this.dataList.forEach(function(u){u.bufferList.length>0&&this.updateData(c,u)},this):Object.assign(this.lazyProps.what,c)},r.prototype.updateData=function(){this.build()},r.prototype.getColorParams=function(){var c=n.prototype.getColorParams.call(this);return c.structure=this.structure,c},r.prototype.getRadiusParams=function(){return{type:this.radiusType,scale:this.radiusScale,size:this.radiusSize,data:this.radiusData}},r.prototype.getAtomParams=function(c,u){return Object.assign({what:c,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},u)},r.prototype.getBondParams=function(c,u){return Object.assign({what:c,colorParams:this.getColorParams(),radiusParams:this.getRadiusParams()},u)},r.prototype.getAtomRadius=function(c){return this.structureView.atomSet.isSet(c.index)?new Hu(this.getRadiusParams()).atomRadius(c):0},r.prototype.setSelection=function(c,u){return this.selection.setString(c,u),this},r.prototype.setParameters=function(c,u,f){void 0===u&&(u={}),void 0===f&&(f=!1);var v=c||{};return this.setRadius(v.radius,v),(void 0!==v.radiusData||void 0!==v.radiusSize||void 0!==v.radiusScale)&&(u.radius=!0,(!wc||this.disableImpostor)&&(f=!0)),void 0!==v.defaultAssembly&&(f=!0),n.prototype.setParameters.call(this,v,u,f),this},r.prototype.getParameters=function(){return Object.assign(n.prototype.getParameters.call(this),{sele:this.selection?this.selection.string:void 0,defaultAssembly:this.defaultAssembly})},r.prototype.attach=function(c){var u=this.viewer,f=this.bufferList;this.dataList.forEach(function(v){v.bufferList.forEach(function(_){f.push(_),u.add(_,v.instanceList)})}),this.setVisibility(this.visible),c()},r.prototype.clear=function(){this.dataList.length=0,n.prototype.clear.call(this)},r.prototype.dispose=function(){this.structureView.dispose(),delete this.structure,delete this.structureView,n.prototype.dispose.call(this)},Object.defineProperties(r.prototype,i),r}(cs),AA=function(n){function r(i,s,c){n.call(this,i,s,c),this.n=0,this.parameters=Object.assign({labelVisible:{type:"boolean"},labelSize:{type:"number",precision:3,max:10,min:.001},labelColor:{type:"color"},labelFontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:"fontFamily"},labelFontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:"fontStyle"},labelFontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:"fontWeight"},labelsdf:{type:"boolean",buffer:"sdf"},labelXOffset:{type:"number",precision:1,max:20,min:-20,buffer:"xOffset"},labelYOffset:{type:"number",precision:1,max:20,min:-20,buffer:"yOffset"},labelZOffset:{type:"number",precision:1,max:20,min:-20,buffer:"zOffset"},labelAttachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},labelBorder:{type:"boolean",buffer:"showBorder"},labelBorderColor:{type:"color",buffer:"borderColor"},labelBorderWidth:{type:"number",precision:2,max:.3,min:0,buffer:"borderWidth"},labelBackground:{type:"boolean",rebuild:!0},labelBackgroundColor:{type:"color",buffer:"backgroundColor"},labelBackgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},labelBackgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:"backgroundOpacity"},lineOpacity:{type:"range",min:0,max:1,step:.01},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters,{flatShaded:null,assembly:null})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};this.labelVisible=it(c.labelVisible,!0),this.labelSize=it(c.labelSize,2),this.labelColor=it(c.labelColor,16777215),this.labelFontFamily=it(c.labelFontFamily,"sans-serif"),this.labelFontStyle=it(c.labelFontstyle,"normal"),this.labelFontWeight=it(c.labelFontWeight,"bold"),this.labelsdf=it(c.labelsdf,"Chrome"===mw),this.labelXOffset=it(c.labelXOffset,0),this.labelYOffset=it(c.labelYOffset,0),this.labelZOffset=it(c.labelZOffset,.5),this.labelAttachment=it(c.labelAttachment,"bottom-left"),this.labelBorder=it(c.labelBorder,!1),this.labelBorderColor=it(c.labelBorderColor,"lightgrey"),this.labelBorderWidth=it(c.labelBorderWidth,.15),this.labelBackground=it(c.labelBackground,!1),this.labelBackgroundColor=it(c.labelBackgroundColor,"lightgrey"),this.labelBackgroundMargin=it(c.labelBackgroundMargin,.5),this.labelBackgroundOpacity=it(c.labelBackgroundOpacity,1),this.lineOpacity=it(c.lineOpacity,1),this.linewidth=it(c.linewidth,2),n.prototype.init.call(this,c)},r.prototype.update=function(s){s.position?this.build():n.prototype.update.call(this,s)},r.prototype.updateData=function(s,c){var u={};if(s.labelSize&&(u.size=Xl(this.n,this.labelSize)),s.labelColor){var f=new cn(this.labelColor);u.color=$o(this.n,f.r,f.g,f.b)}this.textBuffer.setAttributes(u)},r.prototype.setParameters=function(s){var u={};return s&&s.labelSize&&(u.labelSize=!0),s&&(s.labelColor||0===s.labelColor)&&(u.labelColor=!0),n.prototype.setParameters.call(this,s,u,!1),s&&void 0!==s.opacity&&this.textBuffer.setParameters({opacity:1}),s&&void 0!==s.labelVisible&&this.setVisibility(this.visible),this},r.prototype.setVisibility=function(s,c){return n.prototype.setVisibility.call(this,s,!0),this.textBuffer&&this.textBuffer.setVisibility(this.labelVisible&&this.visible),c||this.viewer.requestRender(),this},r.prototype.getLabelBufferParams=function(s){return n.prototype.getBufferParams.call(this,Object.assign({fontFamily:this.labelFontFamily,fontStyle:this.labelFontStyle,fontWeight:this.labelFontWeight,sdf:this.labelsdf,xOffset:this.labelXOffset,yOffset:this.labelYOffset,zOffset:this.labelZOffset,attachment:this.labelAttachment,showBorder:this.labelBorder,borderColor:this.labelBorderColor,borderWidth:this.labelBorderWidth,showBackground:this.labelBackground,backgroundColor:this.labelBackgroundColor,backgroundMargin:this.labelBackgroundMargin,backgroundOpacity:this.labelBackgroundOpacity,disablePicking:!0,visible:this.labelVisible},s,{opacity:1}))},r.prototype.getAtomRadius=function(){return 0},r}(Ic);function TA(n,r){var i=n.getAtomProxy(),s=new Fo,c=r.length;if(0===c)return new Float32Array(0);var u=r[0].length,f=!Number.isInteger(r[0][0]),v=new Float32Array(c*u*3),_=0;return r.forEach(function(y){for(var C=!1,P=0;P<u;P++){if(f){s.setString(y[P]);var w=n.getAtomIndices(s);if(!w.length){C=!0;break}i.index=w[0]}else i.index=y[P];var E=_+3*P;v[E++]=i.x,v[E++]=i.y,v[E++]=i.z}C||(_+=3*u)}),v.subarray(0,_)}function ex(n,r,i,s,c){var u=Math.cos(c),f=Math.sin(c);n[0]=r[0]+i[0]*u+s[0]*f,n[1]=r[1]+i[1]*u+s[1]*f,n[2]=r[2]+i[2]*u+s[2]*f}Hi.add("shader/SDFFont.vert","uniform float clipNear;\nuniform float clipRadius;\nuniform vec3 clipCenter;\nuniform float xOffset;\nuniform float yOffset;\nuniform float zOffset;\nuniform bool ortho;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvarying vec3 vViewPosition;\n#endif\nvarying vec2 texCoord;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\n#endif\nattribute vec2 mapping;\nattribute vec2 inputTexCoord;\nattribute float inputSize;\n#include matrix_scale\n#include common\nvoid main(void){\n#if defined( PICKING )\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#endif\ntexCoord = inputTexCoord;\nfloat scale = matrixScale( modelViewMatrix );\nfloat _zOffset = zOffset * scale;\nif( texCoord.x == 10.0 ){\n_zOffset -= 0.001;\n}\nvec3 pos = position;\nif( ortho ){\npos += normalize( cameraPosition ) * _zOffset;\n}\nvec4 cameraPos = modelViewMatrix * vec4( pos, 1.0 );\nvec4 cameraCornerPos = vec4( cameraPos.xyz, 1.0 );\ncameraCornerPos.xy += mapping * inputSize * 0.01 * scale;\ncameraCornerPos.x += xOffset * scale;\ncameraCornerPos.y += yOffset * scale;\nif( !ortho ){\ncameraCornerPos.xyz += normalize( -cameraCornerPos.xyz ) * _zOffset;\n}\ngl_Position = projectionMatrix * cameraCornerPos;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || ( !defined( PICKING ) && !defined( NOLIGHT ) )\nvViewPosition = -cameraCornerPos.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n#include radiusclip_vertex\n}"),Hi.add("shader/SDFFont.frag","uniform sampler2D fontTexture;\nuniform float opacity;\nuniform bool showBorder;\nuniform vec3 borderColor;\nuniform float borderWidth;\nuniform vec3 backgroundColor;\nuniform float backgroundOpacity;\nuniform float clipNear;\nuniform float clipRadius;\nvarying vec3 vViewPosition;\nvarying vec2 texCoord;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#if defined( PICKING )\nuniform float objectId;\nvarying vec3 vPickingColor;\nconst vec3 vColor = vec3( 0.0 );\n#else\n#include common\n#include color_pars_fragment\n#include fog_pars_fragment\n#endif\n#ifdef SDF\nconst float smoothness = 16.0;\n#else\nconst float smoothness = 256.0;\n#endif\nconst float gamma = 2.2;\nvoid main(){\n#include nearclip_fragment\n#include radiusclip_fragment\nif( texCoord.x > 1.0 ){\ngl_FragColor = vec4( backgroundColor, backgroundOpacity );\n}else{\nfloat sdf = texture2D( fontTexture, texCoord ).a;\nif( showBorder ) sdf += borderWidth;\nfloat w = clamp(\nsmoothness * ( abs( dFdx( texCoord.x ) ) + abs( dFdy( texCoord.y ) ) ),\n0.0,\n0.5\n);\nfloat a = smoothstep( 0.5 - w, 0.5 + w, sdf );\na = pow( a, 1.0 / gamma );\nif( a < 0.2 ) discard;\na *= opacity;\nvec3 outgoingLight = vColor;\nif( showBorder && sdf < ( 0.5 + borderWidth ) ){\noutgoingLight = borderColor;\n}\ngl_FragColor = vec4( outgoingLight, a );\n}\n#if defined( PICKING )\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var Bh={},LO={font:"sans-serif",size:36,style:"normal",variant:"normal",weight:"normal",outline:0,width:2048,height:2048},Hm=function(r){if(void 0===r&&(r={}),this.gamma=1,this.mapped={},this.scratchW=0,this.scratchH=0,this.currentX=0,this.currentY=0,this.parameters=ql(r,LO),"undefined"!=typeof navigator){var i=navigator.userAgent;i.match(/Chrome/)&&i.match(/OS X/)&&(this.gamma=.5)}this.build(),this.populate(),this.texture=new Ev(this.canvas2),this.texture.flipY=!1,this.texture.needsUpdate=!0};Hm.prototype.build=function(){var r=this.parameters,i=r.size+2*r.outline+Math.round(r.size/4),s=r.width/4,c=document.createElement("canvas");c.width=s,c.height=i;var u=c.getContext("2d");u.font=r.style+" "+r.variant+" "+r.weight+" "+r.size+"px "+r.font,u.fillStyle="#FF0000",u.textAlign="left",u.textBaseline="bottom",u.lineJoin="round";for(var f=[],v=3*r.outline,_=0;_<v;++_){var C=("00"+Math.max(0,8*-_+128-8*_).toString(16)).slice(-2);f.push("#"+C+C+C)}var P=new Uint8Array(s*i*2);this.canvas=c,this.context=u,this.lineHeight=i,this.maxWidth=s,this.colors=f,this.scratch=P,this.data=new Uint8Array(r.width*r.height*4),this.canvas2=document.createElement("canvas"),this.canvas2.width=r.width,this.canvas2.height=r.height,this.context2=this.canvas2.getContext("2d")},Hm.prototype.map=function(r){var i=this.parameters;return void 0===this.mapped[r]&&(this.draw(r),this.currentX+this.scratchW>i.width&&(this.currentX=0,this.currentY+=this.scratchH),this.currentY+this.scratchH>i.height&&console.warn("canvas to small"),this.mapped[r]={x:this.currentX,y:this.currentY,w:this.scratchW,h:this.scratchH},this.context2.drawImage(this.canvas,0,0,this.scratchW,this.scratchH,this.currentX,this.currentY,this.scratchW,this.scratchH),this.currentX+=this.scratchW),this.mapped[r]},Hm.prototype.get=function(r){return this.mapped[r]||this.placeholder},Hm.prototype.draw=function(r){var E,S,I,L,B,i=this.parameters,s=this.lineHeight,c=i.outline,u=this.context,f=this.scratch,v=this.maxWidth,_=this.colors,y=c,C=s-i.outline,P=u.measureText(r),w=Math.min(v,Math.ceil(P.width+2*y+1));if(u.clearRect(0,0,w,s),0===i.outline)for(u.fillText(r,y,C),I=3,E=0,S=(B=(L=u.getImageData(0,0,w,s)).data).length/4;E<S;++E)f[E]=B[I],I+=4;else{for(u.globalCompositeOperation="source-over",E=c+1;E>0;--E)u.strokeStyle=_[(I=E>1?2*E-2:E)-1],u.lineWidth=I,u.strokeText(r,y,C);u.globalCompositeOperation="multiply",u.fillStyle="#FF00FF",u.fillText(r,y,C),L=u.getImageData(0,0,w,s),I=0;var V=this.gamma;for(E=0,S=(B=L.data).length/4;E<S;++E){var N=B[I],F=N?B[I+1]/N:1;.5===V&&(F=Math.sqrt(F)),F=Math.min(1,Math.max(0,F));var z=256-N;f[E]=Math.max(0,Math.min(255,z+(N-z)*F+2)),B[I+3]=f[E],I+=4}}u.putImageData(L,0,0),this.scratchW=w,this.scratchH=s},Hm.prototype.populate=function(){var r=this;this.placeholder=this.map(String.fromCharCode(65533));for(var i=0;i<127;++i)r.map(String.fromCharCode(i));for(var s=128;s<255;++s)r.map(String.fromCharCode(s));for(var c=880;c<1023;++c)r.map(String.fromCharCode(c));for(var u=1024;u<1279;++u)r.map(String.fromCharCode(u));this.map(String.fromCharCode(8491))};var IA=Object.assign({fontFamily:"sans-serif",fontStyle:"normal",fontWeight:"bold",fontSize:48,sdf:"Chrome"===mw,xOffset:0,yOffset:0,zOffset:.5,attachment:"bottom-left",showBorder:!1,borderColor:"lightgrey",borderWidth:.15,showBackground:!1,backgroundColor:"lightgrey",backgroundMargin:.5,backgroundOpacity:1,forceTransparent:!0},Kc),RA=Object.assign({fontFamily:{uniform:!0},fontStyle:{uniform:!0},fontWeight:{uniform:!0},fontSize:{uniform:!0},sdf:{updateShader:!0,uniform:!0},xOffset:{uniform:!0},yOffset:{uniform:!0},zOffset:{uniform:!0},showBorder:{uniform:!0},borderColor:{uniform:!0},borderWidth:{uniform:!0},backgroundColor:{uniform:!0},backgroundOpacity:{uniform:!0}},Dp);function Up(n,r){for(var i=n.position.length/3,s=0,c=0;c<i;++c)s+=n.text[c].length;return r.showBackground&&(s+=i),s}var Uh=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,{position:new Float32Array(3*Up(s,c)),color:new Float32Array(3*Up(s,c)),picking:new ks},c),this.parameterTypes=RA,this.alwaysTransparent=!0,this.hasWireframe=!1,this.isText=!0,this.vertexShader="SDFFont.vert",this.fragmentShader="SDFFont.frag",this.text=s.text,this.positionCount=s.position.length/3,this.addUniforms({fontTexture:{value:null},xOffset:{value:this.parameters.xOffset},yOffset:{value:this.parameters.yOffset},zOffset:{value:this.parameters.zOffset},ortho:{value:!1},showBorder:{value:this.parameters.showBorder},borderColor:{value:new cn(this.parameters.borderColor)},borderWidth:{value:this.parameters.borderWidth},backgroundColor:{value:new cn(this.parameters.backgroundColor)},backgroundOpacity:{value:this.parameters.backgroundOpacity}}),this.addAttributes({inputTexCoord:{type:"v2",value:null},inputSize:{type:"f",value:null}}),this.setAttributes(s),this.makeTexture(),this.makeMapping()}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return IA},r.prototype.makeMaterial=function(){n.prototype.makeMaterial.call(this);var c=this.texture,u=this.material;u.transparent=!0,u.extensions.derivatives=!0,u.lights=!1,u.uniforms.fontTexture.value=c,u.needsUpdate=!0;var f=this.wireframeMaterial;f.transparent=!0,f.extensions.derivatives=!0,f.lights=!1,f.uniforms.fontTexture.value=c,f.needsUpdate=!0;var v=this.pickingMaterial;v.extensions.derivatives=!0,v.lights=!1,v.uniforms.fontTexture.value=c,v.needsUpdate=!0},r.prototype.setAttributes=function(c){void 0===c&&(c={});var f,v,_,y,C,P,w=this.text,E=this.geometry.attributes;c.position&&(f=c.position,y=E.position.array,E.position.needsUpdate=!0),c.size&&(v=c.size,C=E.inputSize.array,E.inputSize.needsUpdate=!0),c.color&&(_=c.color,P=E.color.array,E.color.needsUpdate=!0);for(var I,L,N,F,S=this.positionCount,B=0,z=0;z<S;++z)for(L=3*z,F=w[z].length,this.parameters.showBackground&&(F+=1),N=0;N<F;++N,++B)for(var G=0;G<4;G++)I=4*B*3+3*G,f&&(y[I]=f[L],y[I+1]=f[L+1],y[I+2]=f[L+2]),v&&(C[4*B+G]=v[z]),_&&(P[I]=_[L],P[I+1]=_[L+1],P[I+2]=_[L+2])},r.prototype.makeTexture=function(){this.textAtlas=function(n){var r=JSON.stringify(n);return void 0===Bh[r]&&(Bh[r]=new Hm(n)),Bh[r]}({font:this.parameters.fontFamily,style:this.parameters.fontStyle,weight:this.parameters.fontWeight,size:this.parameters.fontSize,outline:this.parameters.sdf?5:0}),this.texture=this.textAtlas.texture},r.prototype.makeMapping=function(){for(var S,I,L,B,V,N,F,z,u=this.textAtlas,f=this.text,v=this.parameters.attachment,_=u.lineHeight*this.parameters.backgroundMargin*.1-10,y=this.geometry.attributes,C=y.inputTexCoord.array,P=y.mapping.array,w=this.positionCount,E=0,G=0;G<w;++G){for(B=0,N=(L=f[G]).length,V=0;V<N;++V)B+=(S=u.get(L[V])).w-2*u.parameters.outline;for(z=v.startsWith("top")?u.lineHeight/1.25:v.startsWith("middle")?u.lineHeight/2.5:0,F=v.endsWith("right")?B:v.endsWith("center")?B/2:0,F+=u.parameters.outline,z+=u.parameters.outline,this.parameters.showBackground&&(P[0+(I=2*E*4)]=-u.lineHeight/6-F-_,P[I+1]=u.lineHeight-z+_,P[I+2]=-u.lineHeight/6-F-_,P[I+3]=0-z-_,P[I+4]=B+u.lineHeight/6-F+2*u.parameters.outline+_,P[I+5]=u.lineHeight-z+_,P[I+6]=B+u.lineHeight/6-F+2*u.parameters.outline+_,P[I+7]=0-z-_,C[I+0]=10,C[I+2]=10,C[I+4]=10,C[I+6]=10,E+=1),B=0,V=0;V<N;++V,++E){S=u.get(L[V]),P[0+(I=2*E*4)]=B-F,P[I+1]=S.h-z,P[I+2]=B-F,P[I+3]=0-z,P[I+4]=B+S.w-F,P[I+5]=S.h-z,P[I+6]=B+S.w-F,P[I+7]=0-z;var q=u.parameters.width,Y=u.parameters.height;C.set([S.x/q,S.y/Y,S.x/q,(S.y+S.h)/Y,(S.x+S.w)/q,S.y/Y,(S.x+S.w)/q,(S.y+S.h)/Y],I),B+=S.w-2*u.parameters.outline}}y.inputTexCoord.needsUpdate=!0,y.mapping.needsUpdate=!0},r.prototype.getDefines=function(c){var u=n.prototype.getDefines.call(this,c);return this.parameters.sdf&&(u.SDF=1),u},r.prototype.setUniforms=function(c){c&&(void 0!==c.fontFamily||void 0!==c.fontStyle||void 0!==c.fontWeight||void 0!==c.fontSize||void 0!==c.sdf)&&(this.makeTexture(),this.makeMapping(),this.texture.needsUpdate=!0,c.fontTexture=this.texture),n.prototype.setUniforms.call(this,c)},Object.defineProperties(r.prototype,i),r}($u);Od.add("text",Uh),Hi.add("shader/WideLine.vert","\nuniform float clipNear;\nuniform vec3 clipCenter;\nuniform float linewidth;\nuniform vec2 resolution;\nuniform mat4 projectionMatrixInverse;\nattribute vec2 mapping;\nattribute vec3 position1;\nattribute vec3 position2;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\nattribute vec3 color2;\nvarying vec3 vColor;\nvarying vec3 vColor2;\nvarying float flag;\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\nvoid trimSegment( const in vec4 start, inout vec4 end ) {\nfloat a = projectionMatrix[ 2 ][ 2 ]; float b = projectionMatrix[ 3 ][ 2 ]; float nearEstimate = - 0.5 * b / a;\nfloat alpha = ( nearEstimate - start.z ) / ( end.z - start.z );\nend.xyz = mix( start.xyz, end.xyz, alpha );\n}\nvoid main() {\nfloat aspect = resolution.x / resolution.y;\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\nflag = mapping.y;\nvColor = color;\nvColor2 = color2;\n#endif\nvec4 start = modelViewMatrix * vec4( position1, 1.0 );\nvec4 end = modelViewMatrix * vec4( position2, 1.0 );\nbool perspective = ( projectionMatrix[ 2 ][ 3 ] == -1.0 ); if ( perspective ) {\nif ( start.z < 0.0 && end.z >= 0.0 ) {\ntrimSegment( start, end );\n} else if ( end.z < 0.0 && start.z >= 0.0 ) {\ntrimSegment( end, start );\n}\n}\nvec4 clipStart = projectionMatrix * start;\nvec4 clipEnd = projectionMatrix * end;\nvec2 ndcStart = clipStart.xy / clipStart.w;\nvec2 ndcEnd = clipEnd.xy / clipEnd.w;\nvec2 dir = ndcEnd - ndcStart;\ndir.x *= aspect;\ndir = normalize( dir );\nvec2 offset = vec2( dir.y, - dir.x );\ndir.x /= aspect;\noffset.x /= aspect;\nif ( mapping.x < 0.0 ) offset *= - 1.0;\noffset *= linewidth;\noffset /= resolution.y;\nvec4 clip = ( mapping.y < 0.5 ) ? clipStart : clipEnd;\noffset *= clip.w;\nclip.xy += offset;\ngl_Position = clip;\n#ifndef PICKING\nvViewPosition = ( projectionMatrixInverse * clip ).xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}"),Hi.add("shader/WideLine.frag","uniform vec3 diffuse;\nuniform float opacity;\nuniform float clipNear;\nuniform float clipRadius;\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\n#include common\n#include fog_pars_fragment\nvarying vec3 vViewPosition;\nvarying vec3 vColor;\nvarying vec3 vColor2;\nvarying float flag;\n#endif\nvoid main() {\n#include nearclip_fragment\n#include radiusclip_fragment\n#if defined( PICKING )\nif( opacity < 0.7 )\ndiscard;\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 outgoingLight = vec3( 0.0 );\nvec4 diffuseColor = vec4( diffuse, 1.0 );\nif ( flag < 0.0 ) {\ndiffuseColor.rgb *= vColor;\n} else {\ndiffuseColor.rgb *= vColor2;\n}\n#include alphatest_fragment\noutgoingLight = diffuseColor.rgb;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a * opacity );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var _a=Object.assign({linewidth:2},Kc),ba=Object.assign({linewidth:{uniform:!0}},Dp),wl=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c),this.parameterTypes=ba,this.vertexShader="WideLine.vert",this.fragmentShader="WideLine.frag",this.addUniforms({linewidth:{value:this.parameters.linewidth},resolution:{value:new ce},projectionMatrixInverse:{value:new ye}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null}}),this.setAttributes(s),this.makeMapping()}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return _a},Object.defineProperties(r.prototype,i),r}($u);function br(n,r){void 0===r&&(r=.1);for(var i=f_(n.position1,n.position2),s=[],c=[],u=[],f=n.radius?[]:void 0,v=n.picking?[]:void 0,_=n.primitiveId?[]:void 0,y=new J,C=n.position1.length/3,P=r,w=!0,E=0,S=0,I=0,L=0;L<C;++L){var B=3*L,V=n.position1[B],N=n.position1[B+1],F=n.position1[B+2];y.set(i[B],i[B+1],i[B+2]);var z=y.length();w&&(s[S]=V,s[S+1]=N,s[S+2]=F);for(var G=P,q=1/z;G<z;){var Y=w?c:s;Y[S]=V+y.x*G*q,Y[S+1]=N+y.y*G*q,Y[S+2]=F+y.z*G*q,w&&(S=3*++E),w=!w,P=r,G+=r}w&&(c[S]=n.position2[B],c[S+1]=n.position2[B+1],c[S+2]=n.position2[B+2],S=3*++E),P=G-z;for(var X=I;X<E;X++){if(n.color){var $=3*X;u[$]=n.color[B],u[$+1]=n.color[B+1],u[$+2]=n.color[B+2]}f&&(f[X]=n.radius[L]),v&&(v[X]=n.picking.array[L]),_&&(_[X]=n.primitiveId[L])}I=E}if(!w&&C>0){var tt=3*E;c[tt]=n.position2[3*C-3],c[tt+1]=n.position2[3*C-2],c[tt+1]=n.position2[3*C-1]}var ot=new Float32Array(s),nt=new Float32Array(c),et=nc(ot,nt),vt=new Float32Array(u),Dt={position:et,position1:ot,position2:nt,color:vt,color2:vt};return f&&(Dt.radius=new Float32Array(f)),v&&n.picking&&(n.picking.array=new Float32Array(v),Dt.picking=n.picking),_&&(Dt.primitiveId=new Float32Array(_)),Dt}var FO=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="angle",this.parameters=Object.assign({atomTriple:{type:"hidden",rebuild:!0},vectorVisible:{type:"boolean",default:!0},arcVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.side=it(c.side,"double"),c.opacity=it(c.opacity,.5),this.atomTriple=it(c.atomTriple,[]),this.arcVisible=it(c.arcVisible,!0),this.sectorVisible=it(c.sectorVisible,!0),this.vectorVisible=it(c.vectorVisible,!0),n.prototype.init.call(this,c)},r.prototype.create=function(){if(0!==this.structureView.atomCount){var c=function(n,r){for(var i=it((r=r||{}).angleStep,Math.PI/90),s=n.length/9,c=new Float32Array(s),u=new Float32Array(3*s),f=new Array(s),v=new Float32Array(6*s),_=new Float32Array(6*s),y=new Array(s),C=new Array(s),P=new Array(s),w=0,E=eo(),S=eo(),I=eo(),L=eo(),B=eo(),V=eo(),N=eo(),F=eo(),z=eo(),G=function(Mt){var st=9*Mt;yl(E,n,st),yl(S,n,st+3),yl(I,n,st+6);var ht=6*Mt;lo(E,v,ht),lo(S,_,ht),lo(S,v,ht+3),lo(I,_,ht+3),Ra(L,E,S),Ra(B,I,S),qc(L,L),qc(B,B),ku(V,L,B);var Ft=w_(V),Lt=Ql(L,B),$t=c[Mt]=Math.atan2(Ft,Lt);f[Mt]=(iy*$t).toFixed(1)+String.fromCharCode(176),0===w_(V)&&(V[0]=1,V[1]=0,V[2]=0),ku(N,V,L),qc(N,N),ex(F,S,L,N,$t/2),lo(F,u,3*Mt);var ft=Math.ceil($t/i),Zt=new Float32Array(9*ft);P[Mt]=Zt;var bt=new Float32Array(3*ft),Gt=new Float32Array(3*ft);y[Mt]=bt,C[Mt]=Gt,vm(z,S,L);for(var Nt=function(tn,ge){var pe=9*ge,he=3*ge;lo(S,Zt,pe),lo(z,Zt,pe+3),lo(z,bt,he),ex(z,S,L,N,tn),lo(z,Zt,pe+6),lo(z,Gt,he)},le=0,Oe=i;Oe<$t;Oe+=i)Nt(Oe,le),le++;Nt($t,le),w+=ft},q=0;q<s;q++)G(q);for(var Y=3*w,X=9*w,$=new Float32Array(Y),tt=new Float32Array(Y),ot=new Float32Array(X),nt=0,et=0,vt=0;vt<s;vt++){var dt=y[vt],Dt=C[vt];Zl(dt,$,0,et,dt.length),Zl(Dt,tt,0,et,Dt.length),et+=dt.length;var Et=P[vt];Zl(Et,ot,0,nt,Et.length),nt+=Et.length}return{labelPosition:u,labelText:f,vectorPosition1:v,vectorPosition2:_,arcPosition1:$,arcPosition2:tt,sectorPosition:ot}}(function(n,r){return function(n){for(var r=[],i=n.length/9,s=0;s<i;s++){for(var c=!0,u=s;u<s+3;u+=3)n[u]===n[u+3]&&n[u+1]===n[u+4]&&n[u+2]===n[u+5]&&(c=!1);c&&r.push(s)}var f=new Float32Array(9*r.length),v=0;return r.forEach(function(_){Zl(n,f,9*_,9*v,9),v++}),f}(TA(n,r))}(this.structureView,this.atomTriple)),u=this.n=c.labelPosition.length/3,f=new cn(this.labelColor);this.textBuffer=new Uh({position:c.labelPosition,size:Xl(u,this.labelSize),color:$o(u,f.r,f.g,f.b),text:c.labelText},this.getLabelBufferParams());var v=new cn(this.colorValue);this.vectorBuffer=new wl(br({position1:c.vectorPosition1,position2:c.vectorPosition2,color:$o(2*u,v.r,v.g,v.b),color2:$o(2*u,v.r,v.g,v.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.vectorVisible,opacity:this.lineOpacity})),this.arcLength=c.arcPosition1.length/3,this.arcBuffer=new wl(br({position1:c.arcPosition1,position2:c.arcPosition2,color:$o(this.arcLength,v.r,v.g,v.b),color2:$o(this.arcLength,v.r,v.g,v.b)}),this.getBufferParams({linewidth:this.linewidth,visible:this.arcVisible,opacity:this.lineOpacity})),this.sectorLength=c.sectorPosition.length/3,this.sectorBuffer=new Ip({position:c.sectorPosition,color:$o(this.sectorLength,v.r,v.g,v.b)},this.getBufferParams({visible:this.sectorVisible})),this.dataList.push({sview:this.structureView,bufferList:[this.textBuffer,this.vectorBuffer,this.arcBuffer,this.sectorBuffer]})}},r.prototype.updateData=function(s,c){n.prototype.updateData.call(this,s,c);var u={},f={},v={};if(s.color){var _=new cn(this.colorValue);u.color=u.color2=$o(2*this.n,_.r,_.g,_.b),f.color=f.color2=$o(this.arcLength,_.r,_.g,_.b),v.color=$o(this.sectorLength,_.r,_.g,_.b)}this.vectorBuffer.setAttributes(u),this.arcBuffer.setAttributes(f),this.sectorBuffer.setAttributes(v)},r.prototype.setParameters=function(s){return n.prototype.setParameters.call(this,s,{},!1),s&&(void 0!==s.vectorVisible||void 0!==s.arcVisible||void 0!==s.sectorVisible)&&this.setVisibility(this.visible),s&&s.lineOpacity&&(this.vectorBuffer.setParameters({opacity:s.lineOpacity}),this.arcBuffer.setParameters({opacity:s.lineOpacity})),s&&void 0!==s.opacity&&(this.vectorBuffer.setParameters({opacity:this.lineOpacity}),this.arcBuffer.setParameters({opacity:this.lineOpacity})),s&&s.linewidth&&(this.vectorBuffer.setParameters({linewidth:s.linewidth}),this.arcBuffer.setParameters({linewidth:s.linewidth})),this},r.prototype.setVisibility=function(s,c){return n.prototype.setVisibility.call(this,s,!0),this.vectorBuffer&&this.vectorBuffer.setVisibility(this.vectorVisible&&this.visible),this.arcBuffer&&this.arcBuffer.setVisibility(this.arcVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),c||this.viewer.requestRender(),this},r}(AA);mi.add("angle",FO);var NO=new J,ss=new J,nx=new J,Gm=new J(0,1,0),ZM=Object.assign({radialSegments:1,openEnded:!0},Kc);function a0(n){void 0===n&&(n={});var r=it(n.radialSegments,10),i=it(n.openEnded,!0),s=(new ye).makeRotationX(Math.PI/2),c=new Ou(1,1,1,r,1,i);return c.applyMatrix(s),c}var LA=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,function(n,r){void 0===r&&(r={});var i=a0(r),s=n.position1.length,c=i.attributes.position.array.length/3,u=s/3,f=new Float32Array(2*u*c);return Ow(u,c,0,f),Ow(u,c,u*c,f),{position:new Float32Array(2*s),color:new Float32Array(2*s),primitiveId:f,picking:n.picking}}(s,c),c,a0(c)),this.updateNormals=!0;var u=s.position1.length,f=s.radius.length;this.__center=new Float32Array(u),this._position=new Float32Array(2*u),this._color=new Float32Array(2*u),this._from=new Float32Array(2*u),this._to=new Float32Array(2*u),this._radius=new Float32Array(2*f),this.setAttributes(s,!0)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return ZM},r.prototype.applyPositionTransform=function(c,u,f){ss.fromArray(this._from,f),nx.fromArray(this._to,f),c.lookAt(ss,nx,Gm);var v=this._radius[u];NO.set(v,v,ss.distanceTo(nx)),c.scale(NO)},r.prototype.setAttributes=function(c,u){void 0===c&&(c={});var f={};c.position1&&c.position2&&(nc(c.position1,c.position2,this.__center),nc(c.position1,this.__center,this._position),nc(this.__center,c.position2,this._position,c.position1.length),this._from.set(c.position1),this._from.set(this.__center,c.position1.length),this._to.set(this.__center),this._to.set(c.position2,this.__center.length),f.position=this._position),c.color&&c.color2&&(this._color.set(c.color),this._color.set(c.color2,c.color.length),f.color=this._color),c.radius&&(this._radius.set(c.radius),this._radius.set(c.radius,c.radius.length),f.radius=this._radius),n.prototype.setAttributes.call(this,f,u)},Object.defineProperties(r.prototype,i),r}(Vf);Hi.add("shader/CylinderImpostor.vert","\nattribute vec3 mapping;\nattribute vec3 position1;\nattribute vec3 position2;\nattribute float radius;\nvarying vec3 axis;\nvarying vec4 base_radius;\nvarying vec4 end_b;\nvarying vec3 U;\nvarying vec3 V;\nvarying vec4 w;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\nattribute vec3 color2;\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#endif\nuniform mat4 modelViewMatrixInverse;\nuniform float ortho;\n#include matrix_scale\nvoid main(){\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\nvColor1 = color;\nvColor2 = color2;\n#endif\nbase_radius.w = radius * matrixScale( modelViewMatrix );\nvec3 center = position;\nvec3 dir = normalize( position2 - position1 );\nfloat ext = length( position2 - position1 ) / 2.0;\nvec3 cam_dir;\nif( ortho == 0.0 ){\ncam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 0, 1 ) ).xyz - center;\n}else{\ncam_dir = ( modelViewMatrixInverse * vec4( 0, 0, 1, 0 ) ).xyz;\n}\ncam_dir = normalize( cam_dir );\nvec3 ldir;\nfloat b = dot( cam_dir, dir );\nend_b.w = b;\nif( b < 0.0 )\nldir = -ext * dir;\nelse\nldir = ext * dir;\nvec3 left = normalize( cross( cam_dir, ldir ) );\nleft = radius * left;\nvec3 up = radius * normalize( cross( left, ldir ) );\naxis = normalize( normalMatrix * ldir );\nU = normalize( normalMatrix * up );\nV = normalize( normalMatrix * left );\nvec4 base4 = modelViewMatrix * vec4( center - ldir, 1.0 );\nbase_radius.xyz = base4.xyz / base4.w;\nvec4 top_position = modelViewMatrix * vec4( center + ldir, 1.0 );\nvec4 end4 = top_position;\nend_b.xyz = end4.xyz / end4.w;\nw = modelViewMatrix * vec4(\ncenter + mapping.x*ldir + mapping.y*left + mapping.z*up, 1.0\n);\ngl_Position = projectionMatrix * w;\ngl_Position.z = 0.99;\n}"),Hi.add("shader/CylinderImpostor.frag","#define STANDARD\n#define IMPOSTOR\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform mat4 projectionMatrix;\nuniform float ortho;\nvarying vec3 axis;\nvarying vec4 base_radius;\nvarying vec4 end_b;\nvarying vec3 U;\nvarying vec3 V;\nvarying vec4 w;\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#include common\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars\n#include lights_physical_pars_fragment\n#endif\nbool interior = false;\nfloat distSq3( vec3 v3a, vec3 v3b ){\nreturn (\n( v3a.x - v3b.x ) * ( v3a.x - v3b.x ) +\n( v3a.y - v3b.y ) * ( v3a.y - v3b.y ) +\n( v3a.z - v3b.z ) * ( v3a.z - v3b.z )\n);\n}\nfloat calcDepth( in vec3 cameraPos ){\nvec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;\nreturn 0.5 + 0.5 * clipZW.x / clipZW.y;\n}\nfloat calcClip( vec3 cameraPos ){\nreturn dot( vec4( cameraPos, 1.0 ), vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );\n}\nvoid main(){\nvec3 point = w.xyz / w.w;\nvec3 base = base_radius.xyz;\nfloat vRadius = base_radius.w;\nvec3 end = end_b.xyz;\nfloat b = end_b.w;\nvec3 end_cyl = end;\nvec3 surface_point = point;\nvec3 ray_target = surface_point;\nvec3 ray_origin = vec3(0.0);\nvec3 ray_direction = mix(normalize(ray_origin - ray_target), vec3(0.0, 0.0, 1.0), ortho);\nmat3 basis = mat3( U, V, axis );\nvec3 diff = ray_target - 0.5 * (base + end_cyl);\nvec3 P = diff * basis;\nfloat dz = dot( axis, ray_direction );\nfloat radius2 = vRadius*vRadius;\nvec3 D = vec3(dot(U, ray_direction),\ndot(V, ray_direction),\ndz);\nfloat a0 = P.x*P.x + P.y*P.y - radius2;\nfloat a1 = P.x*D.x + P.y*D.y;\nfloat a2 = D.x*D.x + D.y*D.y;\nfloat d = a1*a1 - a0*a2;\nif (d < 0.0)\ndiscard;\nfloat dist = (-a1 + sqrt(d)) / a2;\nvec3 new_point = ray_target + dist * ray_direction;\nvec3 tmp_point = new_point - base;\nvec3 _normal = normalize( tmp_point - axis * dot(tmp_point, axis) );\nray_origin = mix( ray_origin, surface_point, ortho );\nfloat front_cap_test = dot( tmp_point, axis );\nfloat end_cap_test = dot((new_point - end_cyl), axis);\n#ifndef CAP\nvec3 new_point2 = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;\nvec3 tmp_point2 = new_point2 - base;\n#endif\nif (front_cap_test < 0.0)\n{\nfloat dNV = dot(-axis, ray_direction);\nif (dNV < 0.0)\ndiscard;\nfloat near = dot(-axis, (base)) / dNV;\nvec3 front_point = ray_direction * near + ray_origin;\nif (dot(front_point - base, front_point-base) > radius2)\ndiscard;\n#ifdef CAP\nnew_point = front_point;\n_normal = axis;\n#else\nnew_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;\ndNV = dot(-axis, ray_direction);\nnear = dot(axis, end_cyl) / dNV;\nnew_point2 = ray_direction * near + ray_origin;\nif (dot(new_point2 - end_cyl, new_point2-base) < radius2)\ndiscard;\ninterior = true;\n#endif\n}\nif( end_cap_test > 0.0 )\n{\nfloat dNV = dot(axis, ray_direction);\nif (dNV < 0.0)\ndiscard;\nfloat near = dot(axis, end_cyl) / dNV;\nvec3 end_point = ray_direction * near + ray_origin;\nif( dot(end_point - end_cyl, end_point-base) > radius2 )\ndiscard;\n#ifdef CAP\nnew_point = end_point;\n_normal = axis;\n#else\nnew_point = ray_target + ( (-a1 - sqrt(d)) / a2 ) * ray_direction;\ndNV = dot(-axis, ray_direction);\nnear = dot(-axis, (base)) / dNV;\nnew_point2 = ray_direction * near + ray_origin;\nif (dot(new_point2 - base, new_point2-base) < radius2)\ndiscard;\ninterior = true;\n#endif\n}\ngl_FragDepthEXT = calcDepth( new_point );\n#ifdef NEAR_CLIP\nif( calcClip( new_point ) > 0.0 ){\ndist = (-a1 - sqrt(d)) / a2;\nnew_point = ray_target + dist * ray_direction;\nif( calcClip( new_point ) > 0.0 )\ndiscard;\ninterior = true;\ngl_FragDepthEXT = calcDepth( new_point );\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / vRadius ) );\n}\n}else if( gl_FragDepthEXT <= 0.0 ){\ndist = (-a1 - sqrt(d)) / a2;\nnew_point = ray_target + dist * ray_direction;\ninterior = true;\ngl_FragDepthEXT = calcDepth( new_point );\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n}\n#else\nif( gl_FragDepthEXT <= 0.0 ){\ndist = (-a1 - sqrt(d)) / a2;\nnew_point = ray_target + dist * ray_direction;\ninterior = true;\ngl_FragDepthEXT = calcDepth( new_point );\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / vRadius );\n}\n}\n#endif\nif (gl_FragDepthEXT < 0.0)\ndiscard;\nif (gl_FragDepthEXT > 1.0)\ndiscard;\n#ifdef PICKING\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 vViewPosition = -new_point;\nvec3 vNormal = _normal;\nvec3 vColor;\nif( distSq3( new_point, end_cyl ) < distSq3( new_point, base ) ){\nif( b < 0.0 ){\nvColor = vColor1;\n}else{\nvColor = vColor2;\n}\n}else{\nif( b > 0.0 ){\nvColor = vColor1;\n}else{\nvColor = vColor2;\n}\n}\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\nvec3 normal = normalize( vNormal );\nif( interior ){\nnormal = vec3( 0.0, 0.0, 0.4 );\n}\n#include lights_physical_fragment\n#include lights_template\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var XR=new Float32Array([-1,1,-1,-1,-1,-1,1,1,-1,1,1,1,1,-1,-1,1,-1,1]),FA=new Uint16Array([0,1,2,1,4,2,2,4,3,4,5,3]),z5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingType:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return i.mapping.get=function(){return XR},i.mappingIndices.get=function(){return FA},i.mappingIndicesSize.get=function(){return 12},i.mappingType.get=function(){return"v3"},i.mappingSize.get=function(){return 6},i.mappingItemSize.get=function(){return 3},Object.defineProperties(r.prototype,i),r}(Gy),jm=Object.assign({openEnded:!1},Kc),ZR=Object.assign({openEnded:{updateShader:!0}},Dp),BO=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c),this.parameterTypes=ZR,this.isImpostor=!0,this.vertexShader="CylinderImpostor.vert",this.fragmentShader="CylinderImpostor.frag",this.addUniforms({modelViewMatrixInverse:{value:new ye},ortho:{value:0}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null}}),this.setAttributes(s),this.makeMapping()}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return jm},r.prototype.getDefines=function(c){var u=n.prototype.getDefines.call(this,c);return this.parameters.openEnded||(u.CAP=1),u},Object.defineProperties(r.prototype,i),r}(z5),qf=(Object.assign({disableImpostor:!1},ZM,jm),function(r,i){return void 0===i&&(i={}),!r.color2&&r.color&&(r.color2=r.color),!wc||i&&i.disableImpostor?new LA(r,i):new BO(r,i)});Od.add("cylinder",qf);var NA=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="axes",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0,showAxes:{type:"boolean",rebuild:!0},showBox:{type:"boolean",rebuild:!0}},this.parameters,{assembly:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.radiusSize=it(c.radiusSize,.5),c.colorValue=it(c.colorValue,"lightgreen"),this.showAxes=it(c.showAxes,!0),this.showBox=it(c.showBox,!1),n.prototype.init.call(this,c)},r.prototype.getPrincipalAxes=function(){var s,c=this.getAssembly();return c&&(s=c.partList[0].getSelection()),this.structureView.getPrincipalAxes(s)},r.prototype.getAxesData=function(s){var c=this.getPrincipalAxes(s),u=new cn(this.colorValue),f=0,v=0;this.showAxes&&(f+=6,v+=3),this.showBox&&(f+=8,v+=12);var _=new Float32Array(3*f),y=$o(f,u.r,u.g,u.b),C=Xl(f,this.radiusSize),P=new Float32Array(3*v),w=new Float32Array(3*v),E=$o(v,u.r,u.g,u.b),S=Xl(v,this.radiusSize),I=0;if(this.showAxes){var L=function(et,vt){et.toArray(_,2*I),vt.toArray(_,2*I+3),et.toArray(P,I),vt.toArray(w,I),I+=3};L(c.begA,c.endA),L(c.begB,c.endB),L(c.begC,c.endC)}if(this.showBox){var B=new J,V=c.getProjectedScaleForAtoms(s),N=V.d1a,F=V.d2a,z=V.d3a,G=V.d1b,q=V.d2b,Y=V.d3b;console.log(N,F,z,G,q,Y);var X=2*I,$=function(et,vt,dt){B.copy(c.center).addScaledVector(c.normVecA,et).addScaledVector(c.normVecB,vt).addScaledVector(c.normVecC,dt),B.toArray(_,X),X+=3};$(N,F,z),$(N,F,Y),$(N,q,Y),$(N,q,z),$(G,q,Y),$(G,q,z),$(G,F,z),$(G,F,Y);var tt=I,ot=function(et,vt){B.fromArray(_,2*I+3*et).toArray(P,tt),B.fromArray(_,2*I+3*vt).toArray(w,tt),tt+=3};ot(0,1),ot(0,3),ot(0,6),ot(1,2),ot(1,7),ot(2,3),ot(2,4),ot(3,5),ot(4,5),ot(4,7),ot(5,6),ot(6,7)}var nt=new iO(c);return{vertex:{position:_,color:y,radius:C,picking:nt},edge:{position1:P,position2:w,color:E,color2:E,radius:S,picking:nt}}},r.prototype.create=function(){var s=this.getAxesData(this.structureView);this.sphereBuffer=new zf(s.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new qf(s.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})},r.prototype.updateData=function(s,c){var u=this.getAxesData(c.sview),f={},v={};(!s||s.position)&&(f.position=u.vertex.position,v.position1=u.edge.position1,v.position2=u.edge.position2),(!s||s.color)&&(f.color=u.vertex.color,v.color=u.edge.color,v.color2=u.edge.color),(!s||s.radius)&&(f.radius=u.vertex.radius,v.radius=u.edge.radius),this.sphereBuffer.setAttributes(f),this.cylinderBuffer.setAttributes(v)},r}(Ic);mi.add("axes",NA);var KM=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="ball+stick",this.parameters=Object.assign({sphereDetail:!0,radialSegments:!0,openEnded:!0,disableImpostor:!0,aspectRatio:{type:"number",precision:1,max:10,min:1},lineOnly:{type:"boolean",rebuild:!0},cylinderOnly:{type:"boolean",rebuild:!0},multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondScale:{type:"number",precision:2,max:1,min:.01},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0}},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.radiusType=it(c.radiusType,"size"),c.radiusSize=it(c.radiusSize,.15),this.aspectRatio=it(c.aspectRatio,2),this.lineOnly=it(c.lineOnly,!1),this.cylinderOnly=it(c.cylinderOnly,!1),this.multipleBond=it(c.multipleBond,"off"),this.bondSpacing=it(c.bondSpacing,1),this.bondScale=it(c.bondScale,.4),this.linewidth=it(c.linewidth,2),n.prototype.init.call(this,c)},r.prototype.getAtomRadius=function(s){return this.aspectRatio*n.prototype.getAtomRadius.call(this,s)},r.prototype.getAtomParams=function(s,c){var u=n.prototype.getAtomParams.call(this,s,c);return u.radiusParams.scale*=this.aspectRatio,u},r.prototype.getAtomData=function(s,c,u){return s.getAtomData(this.getAtomParams(c,u))},r.prototype.getBondParams=function(s,c){return c=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,bondScale:this.bondScale},c),n.prototype.getBondParams.call(this,s,c)},r.prototype.getBondData=function(s,c,u){return s.getBondData(this.getBondParams(c,u))},r.prototype.createData=function(s){var c=[];if(this.lineOnly)this.lineBuffer=new wl(this.getBondData(s,{position:!0,color:!0,picking:!0}),this.getBufferParams({linewidth:this.linewidth})),c.push(this.lineBuffer);else{var u=new qf(this.getBondData(s),this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}));if(c.push(u),!this.cylinderOnly){var f=new zf(this.getAtomData(s),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));c.push(f)}}return{bufferList:c}},r.prototype.updateData=function(s,c){"off"!==this.multipleBond&&s&&s.radius&&(s.position=!0);var u=this.getBondData(c.sview,s);if(this.lineOnly){var f={};(!s||s.position)&&(f.position1=u.position1,f.position2=u.position2),(!s||s.color)&&(f.color=u.color,f.color2=u.color2),c.bufferList[0].setAttributes(f)}else{var v={};if((!s||s.position)&&(v.position1=u.position1,v.position2=u.position2),(!s||s.color)&&(v.color=u.color,v.color2=u.color2),(!s||s.radius)&&(v.radius=u.radius),c.bufferList[0].setAttributes(v),!this.cylinderOnly){var _=this.getAtomData(c.sview,s),y={};(!s||s.position)&&(y.position=_.position),(!s||s.color)&&(y.color=_.color),(!s||s.radius)&&(y.radius=_.radius),c.bufferList[1].setAttributes(y)}}},r.prototype.setParameters=function(s){void 0===s&&(s={});var c=!1,u={};return(s.aspectRatio||s.bondSpacing||s.bondScale)&&(u.radius=!0,(!wc||this.disableImpostor)&&(c=!0)),n.prototype.setParameters.call(this,s,u,c),this},r}(Ic);mi.add("ball+stick",KM);var QM=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="backbone",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.aspectRatio=it(c.aspectRatio,1),c.radiusSize=it(c.radiusSize,.25),n.prototype.init.call(this,c)},r.prototype.getAtomRadius=function(s){return s.isTrace()?n.prototype.getAtomRadius.call(this,s):0},r.prototype.getAtomData=function(s,c,u){return s.getBackboneAtomData(this.getAtomParams(c,u))},r.prototype.getBondData=function(s,c,u){return s.getBackboneBondData(this.getBondParams(c,u))},r}(KM);mi.add("backbone",QM);var G5=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="base",this.parameters=Object.assign({},this.parameters,{multipleBond:null,bondSpacing:null})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.aspectRatio=it(c.aspectRatio,1),c.radiusSize=it(c.radiusSize,.3),n.prototype.init.call(this,c)},r.prototype.getAtomData=function(s,c,u){return s.getRungAtomData(this.getAtomParams(c,u))},r.prototype.getBondData=function(s,c,u){var f=this.getBondParams(c,u);return f.colorParams.rung=!0,s.getRungBondData(f)},r}(KM);function JM(n,r){var i=1/n,s=1e-4,c=new J,u=new J;function f(z,G,q,Y,X,$,tt){$[tt+0]=yf(z.x,G.x,q.x,Y.x,X,r),$[tt+1]=yf(z.y,G.y,q.y,Y.y,X,r),$[tt+2]=yf(z.z,G.z,q.z,Y.z,X,r)}function v(z,G,q,Y,X,$){$.x=yf(z.x,G.x,q.x,Y.x,X,r),$.y=yf(z.y,G.y,q.y,Y.y,X,r),$.z=yf(z.z,G.z,q.z,Y.z,X,r)}function _(z,G,q,Y,X,$){for(var tt=0;tt<n;++tt)f(z,G,q,Y,i*tt,X,$+3*tt)}function y(z,G,q,Y,X,$){for(var tt=0;tt<n;++tt){var ot=i*tt,nt=ot-s,et=ot+s,vt=$+3*tt;nt<0&&(nt=0),et>1&&(et=1),v(z,G,q,Y,nt,c),v(z,G,q,Y,et,u),u.sub(c).normalize(),u.toArray(X,vt)}}function C(z,G,q,Y,X){for(var tt=G.next(),ot=G.next(),nt=G.next(),et=G.size,vt=et-1,dt=Y||0,Dt=0;Dt<vt;++Dt)z(tt,tt=ot,ot=nt,nt=G.next(),q,dt),dt+=3*n;X&&(z(G.get(et-2),tt=G.get(et-1),ot=G.get(0),nt=G.get(1),q,dt),dt+=3*n)}this.getPosition=function(z,G,q,Y){z.reset(),C(_,z,G,q,Y);var X=z.size-1,$=X*n*3;Y&&($+=3*n);var tt=z.get(Y?0:X);G[$]=tt.x,G[$+1]=tt.y,G[$+2]=tt.z},this.getTangent=function(z,G,q,Y){z.reset(),C(y,z,G,q,Y);var $=(z.size-1)*n*3;Y&&($+=3*n),Zl(G,G,$-3,$,3)};var P=new J,w=new J,E=new J,S=new J,I=Math.ceil(n/2);function L(z,G,q,Y,X,$,tt,ot,nt,et,vt,dt,Dt){for(var Et=0;Et<n;++Et){var Mt=dt+3*Et;Dt&&(Mt+=3*I);var st=i*Et;v(z,G,q,Y,st,c),v(X,$,tt,ot,st,u),P.subVectors(u,c).normalize(),w.fromArray(nt,Mt),S.crossVectors(P,w).normalize(),S.toArray(vt,Mt),E.crossVectors(w,S).normalize(),E.toArray(et,Mt)}}function B(z,G,q,Y,X){for(var $=0;$<n;++$){var tt=X+3*$;z.copy(E),w.fromArray(G,tt),S.crossVectors(z,w).normalize(),S.toArray(Y,tt),E.crossVectors(w,S).normalize(),E.toArray(q,tt)}}function V(z,G,q,Y,X){var $;for($=0;$<I;++$)q(z,Y,X+3*$);for($=I;$<n;++$)q(G,Y,X+3*$)}function N(z,G,q,Y,X){var $;for($=0;$<I;++$)Y[X+$]=q(z);for($=I;$<n;++$)Y[X+$]=q(G)}function F(z,G,q,Y,X){for(var $=q(z),tt=q(G),ot=0;ot<n;++ot){var nt=ot/n;Y[X+ot]=(1-nt)*$+nt*tt}}this.getNormal=function(z,G,q,Y,X,$){E.set(0,0,1);for(var ot=z-1,nt=X||0,et=0;et<ot;++et)B(P,G,q,Y,nt),nt+=3*n;$&&(B(P,G,q,Y,nt),nt+=3*n),S.toArray(Y,nt),E.toArray(q,nt)},this.getNormalDir=function(z,G,q,Y,X,$,tt,ot){z.reset(),G.reset();var nt=new J,et=new J,vt=new J,dt=new J,Dt=new J,Et=(new J).copy(z.next()),Mt=(new J).copy(z.next()),st=(new J).copy(z.next()),ht=new J,Ft=(new J).copy(G.next()),Lt=(new J).copy(G.next()),$t=(new J).copy(G.next());E.set(0,0,1);for(var ft=z.size,Zt=ft-1,bt=$||0,Gt=0;Gt<Zt;++Gt)Dt.copy(Et),Et.copy(Mt),Mt.copy(st),st.copy(z.next()),ht.copy(Ft),Ft.copy(Lt),Lt.copy($t),$t.copy(G.next()),0===Gt?(nt.subVectors(ht,Dt),et.subVectors(Ft,Et),nt.dot(et)<0&&(et.multiplyScalar(-1),Ft.addVectors(Et,et)),vt.subVectors(Lt,Mt),et.dot(vt)<0&&(vt.multiplyScalar(-1),Lt.addVectors(Mt,vt))):vt.copy(dt),dt.subVectors($t,st),vt.dot(dt)<0&&(dt.multiplyScalar(-1),$t.addVectors(st,dt)),L(Dt,Et,Mt,st,ht,Ft,Lt,$t,q,Y,X,bt,ot),bt+=3*n;if(tt&&(Dt.copy(z.get(ft-2)),Et.copy(z.get(ft-1)),Mt.copy(z.get(0)),st.copy(z.get(1)),ht.copy(G.get(ft-2)),Ft.copy(G.get(ft-1)),Lt.copy(G.get(0)),$t.copy(G.get(1)),vt.copy(dt),dt.subVectors($t,st),vt.dot(dt)<0&&(dt.multiplyScalar(-1),$t.addVectors(st,dt)),L(Dt,Et,Mt,st,ht,Ft,Lt,$t,q,Y,X,bt,ot),bt+=3*n),ot){S.fromArray(X,3*I),E.fromArray(Y,3*I);for(var Nt=0;Nt<I;++Nt)S.toArray(X,3*Nt),E.toArray(Y,3*Nt)}else S.toArray(X,bt),E.toArray(Y,bt)},this.getColor=function(z,G,q,Y,X){z.reset(),z.next();for(var tt=z.next(),ot=z.size,nt=ot-1,et=Y||0,vt=0;vt<nt;++vt)V(tt,tt=z.next(),G,q,et),et+=3*n;X&&(V(z.get(ot-1),tt=z.get(0),G,q,et),et+=3*n),q[et]=q[et-3],q[et+1]=q[et-2],q[et+2]=q[et-1]},this.getPicking=function(z,G,q,Y,X){z.reset(),z.next();for(var tt=z.next(),ot=z.size,nt=ot-1,et=Y||0,vt=0;vt<nt;++vt)N(tt,tt=z.next(),G,q,et),et+=n;X&&(N(z.get(ot-1),tt=z.get(0),G,q,et),et+=n),q[et]=q[et-1]},this.getSize=function(z,G,q,Y,X){z.reset(),z.next();for(var tt=z.next(),ot=z.size,nt=ot-1,et=Y||0,vt=0;vt<nt;++vt)F(tt,tt=z.next(),G,q,et),et+=n;X&&(F(z.get(ot-1),tt=z.get(0),G,q,et),et+=n),q[et]=q[et-1]}}function Vp(n,r){this.polymer=n,this.size=n.residueCount;var i=r||{};this.directional=i.directional||!1,this.positionIterator=i.positionIterator||!1,this.subdiv=i.subdiv||1,this.smoothSheet=i.smoothSheet||!1,this.tension=i.tension?i.tension:this.polymer.isNucleic()?.5:.9,this.interpolator=new JM(this.subdiv,this.tension)}mi.add("base",G5),Vp.prototype={constructor:Vp,getAtomIterator:function(n,r){var i=this.polymer,s=i.structure,c=i.residueCount,u=0,f=-1,v=[s.getAtomProxy(),s.getAtomProxy(),s.getAtomProxy(),s.getAtomProxy()],_=[new J,new J,new J,new J],C=s.getAtomProxy(),P=s.getAtomProxy();return{size:c,next:function(){var S=this.get(f);return f+=1,S},get:function(S){var I=v[u%4];if(I.index=i.getAtomIndexByType(S,n),r&&S>0&&S<c&&"e"===I.sstruc){var L=_[u%4];return C.index=i.getAtomIndexByType(S+1,n),P.index=i.getAtomIndexByType(S-1,n),L.addVectors(C,P).add(I).add(I).multiplyScalar(.25),u+=1,L}return u+=1,I},reset:function(){u=0,f=-1}}},getSubdividedColor:function(n){var r=this.subdiv,i=this.polymer,u=(i.residueCount-1)*r*3+3;i.isCyclic&&(u+=3*r);var f=new Float32Array(u),v=this.getAtomIterator("trace"),_=n||{};_.structure=i.structure;var y=Xr.getScheme(_);return this.interpolator.getColor(v,function(P,w,E){y.atomColorToArray(P,w,E)},f,0,i.isCyclic),{color:f}},getSubdividedPicking:function(){var n=this.subdiv,r=this.polymer,c=(r.residueCount-1)*n+1;r.isCyclic&&(c+=n);var u=r.structure,f=this.getAtomIterator("trace"),v=new Float32Array(c);return this.interpolator.getPicking(f,function(y){return y.index},v,0,r.isCyclic),{picking:new Ph(v,u)}},getSubdividedPosition:function(){return{position:this.getPosition()}},getSubdividedOrientation:function(){var n=this.getTangent(),r=this.getNormals(n);return{tangent:n,normal:r.normal,binormal:r.binormal}},getSubdividedSize:function(n){var r=this.subdiv,i=this.polymer,u=(i.residueCount-1)*r+1;i.isCyclic&&(u+=r);var f=new Float32Array(u),v=this.getAtomIterator("trace"),_=new Hu(n);return this.interpolator.getSize(v,function(C){return _.atomRadius(C)},f,0,i.isCyclic),{size:f}},getPosition:function(){var n=this.subdiv,r=this.polymer,c=(r.residueCount-1)*n*3+3;r.isCyclic&&(c+=3*n);var u=new Float32Array(c),f=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getPosition(f,u,0,r.isCyclic),u},getTangent:function(){var n=this.subdiv,r=this.polymer,c=(this.size-1)*n*3+3;r.isCyclic&&(c+=3*n);var u=new Float32Array(c),f=this.positionIterator||this.getAtomIterator("trace",this.smoothSheet);return this.interpolator.getTangent(f,u,0,r.isCyclic),u},getNormals:function(n){var r=this.subdiv,i=this.polymer,s=i.isProtein(),c=this.size,f=(c-1)*r*3+3;i.isCyclic&&(f+=3*r);var v=new Float32Array(f),_=new Float32Array(f);if(this.directional&&!this.polymer.isCg()){var y=this.getAtomIterator("direction1"),C=this.getAtomIterator("direction2");this.interpolator.getNormalDir(y,C,n,v,_,0,i.isCyclic,s)}else this.interpolator.getNormal(c,n,v,_,0,i.isCyclic,s);return{normal:v,binormal:_}}};var UO=new J,c0=new J,l0=Object.assign({radialSegments:4,capped:!1,aspectRatio:1},Kc),u0=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,function(n,r){void 0===r&&(r={});var i=it(r.radialSegments,4),s=it(r.capped,!1),f=n.position.length/3,_=f*i*3+2*(s?i:0)*3,y=2*(f-1)*i*3+2*(s?i-2:0)*3;return{position:new Float32Array(_),color:new Float32Array(_),index:fa(y,_/3),normal:new Float32Array(_),picking:n.picking}}(s,c),c),this.capVertices=this.parameters.capped?this.parameters.radialSegments:0,this.capTriangles=this.parameters.capped?this.parameters.radialSegments-2:0,this.size2=s.position.length/3,s.primitiveId=oy(this.size2),this.setAttributes(s),this.makeIndex()}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return l0},r.prototype.setAttributes=function(c){void 0===c&&(c={});var C,P,w,E,S,I,L,B,V,N,F,u=this.parameters.aspectRatio,f=this.size2,v=f-1,_=this.parameters.radialSegments,y=this.geometry.attributes;c.position&&(C=c.position,P=c.normal,w=c.binormal,E=c.tangent,I=c.size,B=y.position.array,N=y.normal.array,y.position.needsUpdate=!0,y.normal.needsUpdate=!0),c.color&&(S=c.color,V=y.color.array,y.color.needsUpdate=!0),c.primitiveId&&(L=c.primitiveId,F=y.primitiveId.array,y.primitiveId.needsUpdate=!0);var z,G,q=0,Y=0,X=0,$=0,tt=0,ot=0,nt=0,et=0,vt=0,dt=0,Dt=[],Et=[],Mt=[],st=[],ht=[],Ft=[];if(C)for(var Lt=0;Lt<_;++Lt){var $t=Lt/_*2*Math.PI;Dt[Lt]=u*Math.cos($t),Et[Lt]=Math.sin($t),Mt[Lt]=u*Math.cos($t-.01),st[Lt]=Math.sin($t-.01),ht[Lt]=u*Math.cos($t+.01),Ft[Lt]=Math.sin($t+.01)}for(var ft=0;ft<f;++ft){G=(z=3*ft)*_,C&&E&&P&&w&&I&&(UO.set(E[z],E[z+1],E[z+2]),Y=P[z],X=P[z+1],$=P[z+2],tt=w[z],ot=w[z+1],nt=w[z+2],et=C[z],vt=C[z+1],dt=C[z+2],q=I[ft]);for(var Zt=0;Zt<_;++Zt){var bt=G+3*Zt;if(C){var Gt=-q*Dt[Zt],Nt=q*Et[Zt],le=-q*Mt[Zt],Oe=q*st[Zt],tn=-q*ht[Zt],ge=q*Ft[Zt];B[bt]=et+Gt*Y+Nt*tt,B[bt+1]=vt+Gt*X+Nt*ot,B[bt+2]=dt+Gt*$+Nt*nt,c0.set(tn*Y+ge*tt-(le*Y+Oe*tt),tn*X+ge*ot-(le*X+Oe*ot),tn*$+ge*nt-(le*$+Oe*nt)).cross(UO),N[bt]=c0.x,N[bt+1]=c0.y,N[bt+2]=c0.z}S&&(V[bt]=S[z],V[bt+1]=S[z+1],V[bt+2]=S[z+2]),L&&(F[ft*_+Zt]=L[ft])}}z=0,G=3*f*_;for(var pe=0;pe<_;++pe){var he=z+3*pe,Ze=G+3*pe;C&&E&&(B[Ze]=B[he],B[Ze+1]=B[he+1],B[Ze+2]=B[he+2],N[Ze]=E[z],N[Ze+1]=E[z+1],N[Ze+2]=E[z+2]),S&&(V[Ze]=V[he],V[Ze+1]=V[he+1],V[Ze+2]=V[he+2]),L&&(F[f*_+pe]=F[0+pe])}z=3*(f-1)*_,G=3*(f+1)*_;for(var $e=0;$e<_;++$e){var Pe=z+3*$e,Ue=G+3*$e;C&&E&&(B[Ue]=B[Pe],B[Ue+1]=B[Pe+1],B[Ue+2]=B[Pe+2],N[Ue]=E[3*v],N[Ue+1]=E[3*v+1],N[Ue+2]=E[3*v+2]),S&&(V[Ue]=V[Pe],V[Ue+1]=V[Pe+1],V[Ue+2]=V[Pe+2]),L&&(F[(f+1)*_+$e]=F[(f-1)*_+$e])}},r.prototype.makeIndex=function(){for(var C,P,c=this.geometry.getIndex().array,u=this.size2,f=u-1,v=this.capTriangles,_=this.parameters.radialSegments,y=this.parameters.radialSegments+1,w=0;w<f;++w)for(var E=w*_*3*2,S=w*_,I=(w+1)*_,L=0;L<_;++L)c[P=E+3*L*2]=S+L,c[P+1]=S+(L+1)%_,c[P+2]=I+L,c[P+3]=I+L,c[P+4]=S+(L+1)%_,c[P+5]=I+(L+1)%_;for(var B=[0],V=1;V<y/2;++V)B.push(V),_-V!==V&&B.push(_-V);P=f*_*3*2,C=u*_;for(var N=0;N<B.length-2;++N)N%2==0?(c[P+3*N+0]=C+B[N+0],c[P+3*N+1]=C+B[N+1],c[P+3*N+2]=C+B[N+2]):(c[P+3*N+0]=C+B[N+2],c[P+3*N+1]=C+B[N+1],c[P+3*N+2]=C+B[N+0]);P=f*_*3*2+3*v,C=u*_+_;for(var F=0;F<B.length-2;++F)F%2==0?(c[P+3*F+0]=C+B[F+0],c[P+3*F+1]=C+B[F+1],c[P+3*F+2]=C+B[F+2]):(c[P+3*F+0]=C+B[F+2],c[P+3*F+1]=C+B[F+1],c[P+3*F+2]=C+B[F+0])},Object.defineProperties(r.prototype,i),r}(Ip),t1=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="cartoon",this.parameters=Object.assign({aspectRatio:{type:"number",precision:1,max:10,min:1,rebuild:!0},subdiv:{type:"integer",max:50,min:1,rebuild:!0},radialSegments:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},capped:{type:"boolean",rebuild:!0},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"chainname"),c.colorScale=it(c.colorScale,"RdYlBu"),c.radiusType=it(c.radiusType,"sstruc"),c.radiusScale=it(c.radiusScale,.7),this.aspectRatio=it(c.aspectRatio,5),this.tension=it(c.tension,NaN),this.capped=it(c.capped,!0),this.smoothSheet=it(c.smoothSheet,!1),"low"===c.quality?(this.subdiv=3,this.radialSegments=6):this.subdiv="medium"===c.quality?6:"high"===c.quality?12:it(c.subdiv,6),n.prototype.init.call(this,c)},r.prototype.getSplineParams=function(s){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:1!==this.aspectRatio,smoothSheet:this.smoothSheet},s)},r.prototype.getSpline=function(s){return new Vp(s,this.getSplineParams())},r.prototype.getAspectRatio=function(s){return s.isCg()?1:this.aspectRatio},r.prototype.getAtomRadius=function(s){return s.isTrace()?n.prototype.getAtomRadius.call(this,s):0},r.prototype.createData=function(s){var c=this,u=[],f=[];return this.structure.eachPolymer(function(v){if(!(v.residueCount<4)){f.push(v);var _=c.getSpline(v),y=c.getAspectRatio(v),C=_.getSubdividedPosition(),P=_.getSubdividedOrientation(),w=_.getSubdividedColor(c.getColorParams()),E=_.getSubdividedPicking(),S=_.getSubdividedSize(c.getRadiusParams());u.push(new u0(Object.assign({},C,P,w,E,S),c.getBufferParams({radialSegments:c.radialSegments,aspectRatio:y,capped:c.capped,dullInterior:!0})))}},s.getSelection()),{bufferList:u,polymerList:f}},r.prototype.updateData=function(s,c){var u=this;Le&&xe.time(this.type+" repr update"),s=s||{};for(var f=0,v=c.polymerList.length;f<v;++f){var _={},y=c.polymerList[f],C=u.getSpline(y),P=u.getAspectRatio(y);if(c.bufferList[f].aspectRatio=P,s.position||s.radius){var w=C.getSubdividedPosition(),E=C.getSubdividedOrientation(),S=C.getSubdividedSize(u.getRadiusParams(P));_.position=w.position,_.normal=E.normal,_.binormal=E.binormal,_.tangent=E.tangent,_.size=S.size}if(s.color){var I=C.getSubdividedColor(u.getColorParams());_.color=I.color}if(s.picking){var L=C.getSubdividedPicking();_.picking=L.picking}c.bufferList[f].setAttributes(_)}Le&&xe.timeEnd(this.type+" repr update")},r.prototype.setParameters=function(s){var u={};return s&&s.aspectRatio&&(u.radius=!0),s&&s.tension&&(u.position=!0),n.prototype.setParameters.call(this,s,u,!1),this},r}(Ic);mi.add("cartoon",t1);var zd=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="contact",this.parameters=Object.assign({hydrogenBond:{type:"boolean",rebuild:!0},weakHydrogenBond:{type:"boolean",rebuild:!0},waterHydrogenBond:{type:"boolean",rebuild:!0},backboneHydrogenBond:{type:"boolean",rebuild:!0},hydrophobic:{type:"boolean",rebuild:!0},halogenBond:{type:"boolean",rebuild:!0},saltBridge:{type:"boolean",rebuild:!0},metalComplex:{type:"boolean",rebuild:!0},cationPi:{type:"boolean",rebuild:!0},piStacking:{type:"boolean",rebuild:!0},maxHydrophobicDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondSulfurDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHbondAccAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondDonAngle:{type:"integer",max:180,min:0,rebuild:!0},maxHbondAccDihedral:{type:"integer",max:90,min:0,rebuild:!0},maxHbondDonDihedral:{type:"integer",max:90,min:0,rebuild:!0},maxPiStackingDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxPiStackingAngle:{type:"integer",max:180,min:0,rebuild:!0},maxCationPiDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxCationPiOffset:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxSaltbridgeDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},maxHalogenBondAngle:{type:"integer",max:180,min:0,rebuild:!0},maxMetalDist:{type:"number",precision:1,max:10,min:.1,rebuild:!0},refineSaltBridges:{type:"boolean",rebuild:!0},radialSegments:!0,disableImpostor:!0},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.radiusSize=it(c.radiusSize,.05),this.hydrogenBond=it(c.hydrogenBond,!0),this.weakHydrogenBond=it(c.weakHydrogenBond,!1),this.waterHydrogenBond=it(c.waterHydrogenBond,!1),this.backboneHydrogenBond=it(c.backboneHydrogenBond,!1),this.hydrophobic=it(c.hydrophobic,!1),this.halogenBond=it(c.halogenBond,!0),this.saltBridge=it(c.saltBridge,!0),this.metalComplex=it(c.metalComplex,!0),this.cationPi=it(c.cationPi,!0),this.piStacking=it(c.piStacking,!0),this.maxHydrophobicDist=it(c.maxHydrophobicDist,4),this.maxHbondDist=it(c.maxHbondDist,3.5),this.maxHbondSulfurDist=it(c.maxHbondSulfurDist,4.1),this.maxHbondAccAngle=it(c.maxHbondAccAngle,60),this.maxHbondDonAngle=it(c.maxHbondDonAngle,45),this.maxHbondAccDihedral=it(c.maxHbondAccDihedral,45),this.maxHbondDonDihedral=it(c.maxHbondDonDihedral,45),this.maxPiStackingDist=it(c.maxPiStackingDist,5.5),this.maxPiStackingOffset=it(c.maxPiStackingOffset,2),this.maxPiStackingAngle=it(c.maxPiStackingAngle,30),this.maxCationPiDist=it(c.maxCationPiDist,6),this.maxCationPiOffset=it(c.maxCationPiOffset,1.5),this.maxSaltbridgeDist=it(c.maxSaltbridgeDist,4),this.maxHalogenBondDist=it(c.maxHalogenBondDist,3.5),this.maxHalogenBondAngle=it(c.maxHalogenBondAngle,30),this.maxMetalDist=it(c.maxMetalDist,3),this.refineSaltBridges=it(c.refineSaltBridges,!0),n.prototype.init.call(this,c)},r.prototype.getAtomRadius=function(){return 0},r.prototype.getContactData=function(s){var u={hydrogenBond:this.hydrogenBond,weakHydrogenBond:this.weakHydrogenBond,waterHydrogenBond:this.waterHydrogenBond,backboneHydrogenBond:this.backboneHydrogenBond,hydrophobic:this.hydrophobic,halogenBond:this.halogenBond,saltBridge:this.saltBridge,metalComplex:this.metalComplex,cationPi:this.cationPi,piStacking:this.piStacking,radius:this.radiusSize*this.radiusScale};return function(n,r){void 0===r&&(r=9);for(var i=Math.floor(r/2),s=n.position1.length/3,u=i*s*3,f=1/r,v=f_(n.position1,n.position2),_=new Float32Array(u),y=new Float32Array(u),C=new J,P=0;P<s;++P){var w=3*P;C.set(v[w],v[w+1],v[w+2]);for(var E=n.position1[w],S=n.position1[w+1],I=n.position1[w+2],L=0;L<i;++L){var B=i*w+3*L,V=f*(2*L+1),N=f*(2*L+2);_[B]=E+C.x*V,_[B+1]=S+C.y*V,_[B+2]=I+C.z*V,y[B]=E+C.x*N,y[B+1]=S+C.y*N,y[B+2]=I+C.z*N}}var F=nc(_,y),z=function(n,r){for(var i=n.length/3,s=new Float32Array(i*r*3),c=0;c<i;++c)for(var u=3*c,f=c*r*3,v=n[u+0],_=n[u+1],y=n[u+2],C=0;C<r;++C){var P=f+3*C;s[P+0]=v,s[P+1]=_,s[P+2]=y}return s}(n.color,i),q={position:F,position1:_,position2:y,color:z,color2:z};return n.radius&&(q.radius=sy(n.radius,i)),n.picking&&(n.picking.array=sy(n.picking.array,i),q.picking=n.picking),n.primitiveId&&(q.primitiveId=sy(n.primitiveId,i)),q}(function(n,r,i){var s=ql(i,OM),c=[];s.hydrogenBond&&c.push(4),s.hydrophobic&&c.push(6),s.halogenBond&&c.push(5),s.saltBridge&&c.push(1),s.metalComplex&&c.push(7),s.cationPi&&c.push(2),s.piStacking&&c.push(3),s.weakHydrogenBond&&c.push(8),s.waterHydrogenBond&&c.push(9),s.backboneHydrogenBond&&c.push(10);var v=n.contactStore,_=n.features.centers,y=_.x,C=_.y,P=_.z,w=v.index1,E=v.index2,S=v.type,I=[],L=[],B=[],V=[],N=[];return n.contactSet.forEach(function(F){var z=S[F];if(c.includes(z)){var G=w[F],q=E[F];I.push(y[G],C[G],P[G]),L.push(y[q],C[q],P[q]),B.push.apply(B,function(n){switch(n){case 4:case 9:case 10:return Ch.setHex(2851770).toArray();case 6:return Ch.setHex(8421504).toArray();case 5:return Ch.setHex(4259775).toArray();case 1:return Ch.setHex(15779860).toArray();case 7:return Ch.setHex(9191577).toArray();case 2:return Ch.setHex(16744448).toArray();case 3:return Ch.setHex(9220966).toArray();case 8:return Ch.setHex(12967404).toArray();default:return Ch.setHex(13421772).toArray()}}(z)),V.push(s.radius),N.push(F)}}),{position1:new Float32Array(I),position2:new Float32Array(L),color:new Float32Array(B),radius:new Float32Array(V),picking:new qS(N,n,r)}}(wM(s,{maxHydrophobicDist:this.maxHydrophobicDist,maxHbondDist:this.maxHbondDist,maxHbondSulfurDist:this.maxHbondSulfurDist,maxHbondAccAngle:this.maxHbondAccAngle,maxHbondDonAngle:this.maxHbondDonAngle,maxHbondAccDihedral:this.maxHbondAccDihedral,maxHbondDonDihedral:this.maxHbondDonDihedral,maxPiStackingDist:this.maxPiStackingDist,maxPiStackingOffset:this.maxPiStackingOffset,maxPiStackingAngle:this.maxPiStackingAngle,maxCationPiDist:this.maxCationPiDist,maxCationPiOffset:this.maxCationPiOffset,maxSaltBridgeDist:this.maxSaltbridgeDist,maxHalogenBondDist:this.maxHalogenBondDist,maxHalogenBondAngle:this.maxHalogenBondAngle,maxMetalDist:this.maxMetalDist,refineSaltBridges:this.refineSaltBridges}),s,u))},r.prototype.createData=function(s){return{bufferList:[new qf(this.getContactData(s),this.getBufferParams({sphereDetail:1,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},r}(Ic);mi.add("contact",zd);var zp=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="dihedral",this.parameters=Object.assign({atomQuad:{type:"hidden",rebuild:!0},lineVisible:{type:"boolean",default:!0},planeVisible:{type:"boolean",default:!0},sectorVisible:{type:"boolean",default:!0}},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.side=it(c.side,"double"),c.opacity=it(c.opacity,.5),this.atomQuad=it(c.atomQuad,[]),this.lineVisible=it(c.lineVisible,!0),this.planeVisible=it(c.planeVisible,!0),this.sectorVisible=it(c.sectorVisible,!0),n.prototype.init.call(this,c)},r.prototype.create=function(){if(0!==this.structureView.atomCount){var c=function(n,r){for(var i=it((r=r||{}).angleStep,Math.PI/90),s=n.length,c=n.length/12,u=new Float32Array(c),f=new Float32Array(3*c),v=new Array(c),_=new Array(c),y=new Array(c),C=new Array(c),P=new Array(c),w=0,E=0,S=0,I=eo(),L=eo(),B=eo(),V=eo(),N=eo(),F=eo(),z=eo(),G=eo(),q=eo(),Y=eo(),X=eo(),$=eo(),tt=eo(),ot=eo(),nt=eo(),et=0,vt=function(le){if(yl(I,n,le),yl(L,n,le+3),yl(B,n,le+6),yl(V,n,le+9),Ra(N,I,L),Ra(F,B,L),0!==w_(F)){Ra(z,V,B),Ds(G,F,.5),vm(q,L,G),qc(N,N),qc(F,F),qc(z,z),Ra(G,I,q);var Oe=Ql(G,F)>0;Ra(G,V,q);var tn=Ql(G,F)<0;if(Ds(G,F,Ql(F,N)),Ra(Y,N,G),Ds(G,F,Ql(F,z)),Ra(X,z,G),0!==w_(Y)&&0!==w_(X)){qc(Y,Y),qc(X,X);var ge=u[et]=Math.acos(Ql(Y,X));v[et]=(iy*ge).toFixed(1)+String.fromCharCode(176),ku(ot,Y,F),qc(ot,ot),Ql(ot,X)<0&&Bw(ot,ot),ex(G,q,Y,ot,ge/2),lo(G,f,3*et);var pe=Math.ceil(ge/i),he=pe+2,Ze=new Float32Array(3*he),$e=new Float32Array(3*he),Pe=new Float32Array(9*pe),Ue=new Float32Array(36);_[et]=Ze,y[et]=$e,C[et]=Pe,P[et]=Ue,Oe?(Ra(G,I,B),qc(G,G),Ds($,G,1/Ql(Y,G)),vm($,$,B)):(Ds($,N,1/Ql(Y,N)),vm($,$,L)),tn?(Ra(G,V,L),qc(G,G),Ds(tt,G,1/Ql(X,G)),vm(tt,tt,L)):(Ds(tt,z,1/Ql(X,z)),vm(tt,tt,B)),vm(nt,q,Y),lo($,Ze,0),lo(nt,$e,0),lo($,Ue,0),lo(nt,Ue,3),lo(Oe?B:L,Ue,6),lo(Oe?B:L,Ue,9),lo(nt,Ue,12),lo(q,Ue,15);for(var en=function(Rn,Xt){var Fe=9*Xt,nn=3*(Xt+1);lo(q,Pe,Fe),lo(nt,Pe,Fe+3),lo(nt,Ze,nn),ex(nt,q,Y,ot,Rn),lo(nt,Pe,Fe+6),lo(nt,$e,nn)},Yn=0,yr=i;yr<ge;yr+=i)en(yr,Yn++);en(ge,Yn++),lo(nt,Ze,3*(he-1)),lo(tt,$e,3*(he-1)),lo(tt,Ue,18),lo(nt,Ue,21),lo(tn?L:B,Ue,24),lo(tn?L:B,Ue,27),lo(nt,Ue,30),lo(q,Ue,33),w+=3*he,E+=9*pe,S+=36,et+=1}}},dt=0;dt<s;dt+=12)vt(dt);for(var Dt=et,Et=new Float32Array(w),Mt=new Float32Array(w),st=new Float32Array(E),ht=new Float32Array(S),Ft=0,Lt=0,$t=0,ft=0;ft<Dt;ft++){var Zt=_[ft],bt=y[ft],Gt=C[ft],Nt=P[ft];Zl(Zt,Et,0,Ft,Zt.length),Zl(bt,Mt,0,Ft,bt.length),Zl(Gt,st,0,Lt,Gt.length),Zl(Nt,ht,0,$t,Nt.length),Ft+=Zt.length,Lt+=Gt.length,$t+=Nt.length}return{labelPosition:f.subarray(0,3*Dt),labelText:v.slice(0,Dt),linePosition1:Et,linePosition2:Mt,planePosition:ht,sectorPosition:st}}(TA(this.structureView,this.atomQuad),{planeVisible:this.planeVisible}),u=this.n=c.labelText.length,f=new cn(this.labelColor);this.textBuffer=new Uh({position:c.labelPosition,size:Xl(u,this.labelSize),color:$o(u,f.r,f.g,f.b),text:c.labelText},this.getLabelBufferParams());var v=new cn(this.colorValue);this.lineLength=c.linePosition1.length/3;var _=$o(this.lineLength,v.r,v.g,v.b);this.lineBuffer=new wl(br({position1:c.linePosition1,position2:c.linePosition2,color:_,color2:_}),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.planeLength=c.planePosition.length/3,this.planeBuffer=new Ip({position:c.planePosition,color:$o(this.planeLength,v.r,v.g,v.b)},this.getBufferParams({visible:!1})),this.sectorLength=c.sectorPosition.length/3,this.sectorBuffer=new Ip({position:c.sectorPosition,color:$o(this.sectorLength,v.r,v.g,v.b)},this.getBufferParams({visible:this.sectorVisible})),this.dataList.push({sview:this.structureView,bufferList:[this.textBuffer,this.lineBuffer,this.planeBuffer,this.sectorBuffer]})}},r.prototype.updateData=function(s,c){n.prototype.updateData.call(this,s,c);var u={},f={},v={};if(s.color){var _=new cn(this.colorValue);u.color=u.color2=$o(this.lineLength,_.r,_.g,_.b),f.color=$o(this.planeLength,_.r,_.g,_.b),v.color=$o(this.sectorLength,_.r,_.g,_.b)}this.lineBuffer.setAttributes(u),this.planeBuffer.setAttributes(f),this.sectorBuffer.setAttributes(v)},r.prototype.setParameters=function(s){return n.prototype.setParameters.call(this,s,{},!1),s&&(void 0!==s.lineVisible||void 0!==s.sectorVisible)&&this.setVisibility(this.visible),s&&s.lineOpacity&&this.lineBuffer.setParameters({opacity:s.lineOpacity}),s&&void 0!==s.opacity&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),s&&s.linewidth&&this.lineBuffer.setParameters({linewidth:s.linewidth}),this},r.prototype.setVisibility=function(s,c){return n.prototype.setVisibility.call(this,s,!0),this.lineBuffer&&this.lineBuffer.setVisibility(this.lineVisible&&this.visible),this.planeBuffer&&this.planeBuffer.setVisibility(this.planeVisible&&this.visible),this.sectorBuffer&&this.sectorBuffer.setVisibility(this.sectorVisible&&this.visible),c||this.viewer.requestRender(),this},r}(AA);mi.add("dihedral",zp);var n1=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="distance",this.parameters=Object.assign({labelUnit:{type:"select",rebuild:!0,options:{"":"",angstrom:"angstrom",nm:"nm"}},atomPair:{type:"hidden",rebuild:!0}},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.linewidth=it(c.linewidth,5),this.labelUnit=it(c.labelUnit,""),this.atomPair=it(c.atomPair,[]),n.prototype.init.call(this,c)},r.prototype.getDistanceData=function(s,c){var u=c.length,f=new Array(u),v=new Float32Array(3*u),_=new Fo,y=new Fo,C=new NM,P=s.getAtomProxy(),w=s.getAtomProxy(),E=0;c.forEach(function(I,L){var B=I[0],V=I[1];if(Number.isInteger(B)&&Number.isInteger(V))P.index=B,w.index=V;else{_.setString(B),y.setString(V);var N=s.getAtomIndices(_),F=s.getAtomIndices(y);if(!N.length||!F.length)return void(E+=1);P.index=N[0],w.index=F[0]}C.addBond(P,w,1),L-=E;var z=P.distanceTo(w);switch(this.labelUnit){case"angstrom":f[L]=z.toFixed(2)+" "+String.fromCharCode(8491);break;case"nm":f[L]=(z/10).toFixed(2)+" nm";break;default:f[L]=z.toFixed(2)}var G=3*L;v[G+0]=(P.x+w.x)/2,v[G+1]=(P.y+w.y)/2,v[G+2]=(P.z+w.z)/2},this),E>0&&(v=v.subarray(0,3*(u-=E)));var S=new qr(C.count,!0);return{text:f,position:v,bondSet:S,bondStore:C}},r.prototype.getBondData=function(s,c,u){var f=s.getBondData(this.getBondParams(c,u));return f.picking&&(f.picking=new Iy(f.picking.array,f.picking.structure,u.bondStore)),f},r.prototype.create=function(){if(0!==this.structureView.atomCount){var s=this.atomPair.length;if(0!==s){var c=this.getDistanceData(this.structureView,this.atomPair),u=new cn(this.labelColor);this.textBuffer=new Uh({position:c.position,size:Xl(s,this.labelSize),color:$o(s,u.r,u.g,u.b),text:c.text},this.getLabelBufferParams());var v=this.getBondData(this.structureView,{position:!0,color:!0,picking:!0},{bondSet:c.bondSet,bondStore:c.bondStore});this.lineBuffer=new wl(function(n,r){void 0===r&&(r=.1);for(var i=f_(n.position1,n.position2),s=[],c=[],u=[],f=n.radius?[]:void 0,v=n.picking?[]:void 0,_=n.primitiveId?[]:void 0,y=new J,C=n.position1.length/3,P=0,w=0;w<C;++w){var E=3*w;y.set(i[E],i[E+1],i[E+2]);for(var I=y.length()/r,L=Math.floor(I/2),B=1/I,V=n.position1[E],N=n.position1[E+1],F=n.position1[E+2],z=0;z<L;++z){var G=3*P+3*z,q=B*(2*z+1),Y=B*(2*z+2);s[G]=V+y.x*q,s[G+1]=N+y.y*q,s[G+2]=F+y.z*q,c[G]=V+y.x*Y,c[G+1]=N+y.y*Y,c[G+2]=F+y.z*Y,n.color&&(u[G]=n.color[E],u[G+1]=n.color[E+1],u[G+2]=n.color[E+2]),f&&(f[P*w+z]=n.radius[w]),v&&(v[P*w+z]=n.picking.array[w]),_&&(_[P*w+z]=n.primitiveId[w])}P+=L}var X=new Float32Array(s),$=new Float32Array(c),tt=nc(X,$),ot=new Float32Array(u),et={position:tt,position1:X,position2:$,color:ot,color2:ot};return f&&(et.radius=new Float32Array(f)),v&&n.picking&&(n.picking.array=new Float32Array(v),et.picking=n.picking),_&&(et.primitiveId=new Float32Array(_)),et}(v),this.getBufferParams({linewidth:this.linewidth,visible:this.lineVisible,opacity:this.lineOpacity})),this.dataList.push({sview:this.structureView,bondSet:c.bondSet,bondStore:c.bondStore,position:c.position,bufferList:[this.textBuffer,this.lineBuffer]})}}},r.prototype.updateData=function(s,c){var f=this.getBondData(c.sview,s,{bondSet:c.bondSet,bondStore:c.bondStore}),v={},_={},y=this.atomPair.length;if(s.labelSize&&(_.size=Xl(y,this.labelSize)),s.labelColor){var C=new cn(this.labelColor);_.color=$o(y,C.r,C.g,C.b)}s.color&&(v.color=f.color,v.color2=f.color2),(s.radius||s.scale)&&(v.radius=f.radius),this.textBuffer.setAttributes(_),this.lineBuffer.setAttributes(v)},r.prototype.setParameters=function(s){return n.prototype.setParameters.call(this,s,{},!1),s&&s.lineOpacity&&this.lineBuffer.setParameters({opacity:s.lineOpacity}),s&&void 0!==s.opacity&&this.lineBuffer.setParameters({opacity:this.lineOpacity}),s&&s.linewidth&&this.lineBuffer.setParameters({linewidth:s.linewidth}),this},r}(AA);function d0(n){return n.position.length/3*2*3}mi.add("distance",n1);var $f=Object.assign({scale:1,color:"grey"},Kc),rx=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,{position:new Float32Array(d0(s)),color:new Float32Array(d0(s))},c),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag";var u=new cn(this.parameters.color),f=this.geometry.attributes;$o(d0(s)/3,u.r,u.g,u.b,f.color.array),this.setAttributes(s)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return $f},r.prototype.setAttributes=function(c){void 0===c&&(c={});var f,v,_,u=this.geometry.attributes;c.position&&c.vector&&(f=c.position,v=c.vector,_=u.position.array,u.position.needsUpdate=!0);var y=this.size/2,C=this.parameters.scale;if(f&&v)for(var P=0;P<y;P++){var w=2*P*3,E=3*P;_[w+0]=f[E+0],_[w+1]=f[E+1],_[w+2]=f[E+2],_[w+3]=f[E+0]+v[E+0]*C,_[w+4]=f[E+1]+v[E+1]*C,_[w+5]=f[E+2]+v[E+2]*C}},Object.defineProperties(r.prototype,i),r}(Ti),r1=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="helixorient",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"sstruc"),c.radiusType=it(c.radiusType,"size"),c.radiusSize=it(c.radiusSize,.15),c.radiusScale=it(c.radiusScale,1),n.prototype.init.call(this,c)},r.prototype.createData=function(s){var c=this,u=[],f=[];return this.structure.eachPolymer(function(v){if(!(v.residueCount<4)){f.push(v);var _=new xs(v),y=_.getPosition(),C=_.getColor(c.getColorParams()),P=_.getSize(c.getRadiusParams()),w=_.getPicking();u.push(new zf({position:y.center,color:C.color,radius:P.size,picking:w.picking},c.getBufferParams({sphereDetail:c.sphereDetail,disableImpostor:c.disableImpostor,dullInterior:!0})),new rx({position:y.center,vector:y.axis},c.getBufferParams({color:"skyblue",scale:1})),new rx({position:y.center,vector:y.resdir},c.getBufferParams({color:"lightgreen",scale:1})))}},s.getSelection()),{bufferList:u,polymerList:f}},r.prototype.updateData=function(s,c){Le&&xe.time(this.type+" repr update"),s=s||{};for(var u=0,f=c.polymerList.length;u<f;++u){var v=3*u,_={},C=new xs(c.polymerList[u]);if(s.position){var P=C.getPosition();_.position=P.center,c.bufferList[v+1].setAttributes({position:P.center,vector:P.axis}),c.bufferList[v+2].setAttributes({position:P.center,vector:P.resdir})}c.bufferList[v].setAttributes(_)}Le&&xe.timeEnd(this.type+" repr update")},r}(Ic);mi.add("helixorient",r1);var ix=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="licorice",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.aspectRatio=1,n.prototype.init.call(this,c)},r}(KM);mi.add("licorice",ix),Hi.add("shader/HyperballStickImpostor.vert","\nattribute vec3 mapping;\nattribute float radius;\nattribute float radius2;\nattribute vec3 position1;\nattribute vec3 position2;\nvarying mat4 matrix_near;\nvarying vec4 prime1;\nvarying vec4 prime2;\nvarying float vRadius;\nvarying float vRadius2;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\nattribute vec3 color2;\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#endif\nuniform float shrink;\nuniform mat4 modelViewProjectionMatrix;\nuniform mat4 modelViewProjectionMatrixInverse;\nvoid main(){\nvRadius = radius;\nvRadius2 = radius2;\nvec4 spaceposition;\nvec3 position_atom1;\nvec3 position_atom2;\nvec4 vertex_position;\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\nvColor1 = color;\nvColor2 = color2;\n#endif\nfloat radius1 = radius;\nposition_atom1 = position1;\nposition_atom2 = position2;\nfloat distance = distance( position_atom1, position_atom2 );\nspaceposition.z = mapping.z * distance;\nif (radius1 > radius2) {\nspaceposition.y = mapping.y * 1.5 * radius1;\nspaceposition.x = mapping.x * 1.5 * radius1;\n} else {\nspaceposition.y = mapping.y * 1.5 * radius2;\nspaceposition.x = mapping.x * 1.5 * radius2;\n}\nspaceposition.w = 1.0;\nvec4 e3 = vec4( 1.0 );\nvec3 e1, e1_temp, e2, e2_temp;\ne3.xyz = normalize(position_atom1-position_atom2);\nif (e3.z == 0.0) { e3.z = 0.0000000000001;}\nif ( (position_atom1.x - position_atom2.x) == 0.0) { position_atom1.x += 0.001;}\nif ( (position_atom1.y - position_atom2.y) == 0.0) { position_atom1.y += 0.001;}\nif ( (position_atom1.z - position_atom2.z) == 0.0) { position_atom1.z += 0.001;}\nvec4 focus = vec4( 1.0 );\nfocus.x = ( position_atom1.x*position_atom1.x - position_atom2.x*position_atom2.x +\n( radius2*radius2 - radius1*radius1 )*e3.x*e3.x/shrink )/(2.0*(position_atom1.x - position_atom2.x));\nfocus.y = ( position_atom1.y*position_atom1.y - position_atom2.y*position_atom2.y +\n( radius2*radius2 - radius1*radius1 )*e3.y*e3.y/shrink )/(2.0*(position_atom1.y - position_atom2.y));\nfocus.z = ( position_atom1.z*position_atom1.z - position_atom2.z*position_atom2.z +\n( radius2*radius2 - radius1*radius1 )*e3.z*e3.z/shrink )/(2.0*(position_atom1.z - position_atom2.z));\ne1.x = 1.0;\ne1.y = 1.0;\ne1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;\ne1_temp = e1 - focus.xyz;\ne1 = normalize(e1_temp);\ne2_temp = e1.yzx * e3.zxy - e1.zxy * e3.yzx;\ne2 = normalize(e2_temp);\nmat3 R= mat3( e1.xyz, e2.xyz, e3.xyz );\nvertex_position.xyz = R * spaceposition.xyz;\nvertex_position.w = 1.0;\nvertex_position.x += (position_atom1.x+position_atom2.x) / 2.0;\nvertex_position.y += (position_atom1.y+position_atom2.y) / 2.0;\nvertex_position.z += (position_atom1.z+position_atom2.z) / 2.0;\ngl_Position = modelViewProjectionMatrix * vertex_position;\nvec4 i_near, i_far;\nvec4 near = gl_Position;\nnear.z = 0.0 ;\nnear = modelViewProjectionMatrixInverse * near;\ni_near = near;\nvec4 far = gl_Position;\nfar.z = far.w ;\ni_far = modelViewProjectionMatrixInverse * far;\nprime1 = vec4( position_atom1 - (position_atom1 - focus.xyz)*shrink, 1.0 );\nprime2 = vec4( position_atom2 - (position_atom2 - focus.xyz)*shrink, 1.0 );\nfloat Rsquare = (radius1*radius1/shrink) - (\n(position_atom1.x - focus.x)*(position_atom1.x - focus.x) +\n(position_atom1.y - focus.y)*(position_atom1.y - focus.y) +\n(position_atom1.z - focus.z)*(position_atom1.z - focus.z)\n);\nfocus.w = Rsquare;\nmatrix_near = mat4( i_near, i_far, focus, e3 );\ngl_Position.z = 1.0;\n}"),Hi.add("shader/HyperballStickImpostor.frag","#define STANDARD\n#define IMPOSTOR\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\nuniform float clipNear;\nuniform float shrink;\nuniform mat4 modelViewMatrix;\nuniform mat4 modelViewProjectionMatrix;\nuniform mat4 modelViewMatrixInverseTranspose;\nuniform mat4 projectionMatrix;\nvarying mat4 matrix_near;\nvarying vec4 prime1;\nvarying vec4 prime2;\nvarying float vRadius;\nvarying float vRadius2;\n#ifdef PICKING\nuniform float objectId;\nvarying vec3 vPickingColor;\n#else\nvarying vec3 vColor1;\nvarying vec3 vColor2;\n#include common\n#include fog_pars_fragment\n#include bsdfs\n#include lights_pars\n#include lights_physical_pars_fragment\n#endif\nbool interior = false;\nfloat calcClip( vec4 cameraPos ){\nreturn dot( cameraPos, vec4( 0.0, 0.0, 1.0, clipNear - 0.5 ) );\n}\nfloat calcClip( vec3 cameraPos ){\nreturn calcClip( vec4( cameraPos, 1.0 ) );\n}\nfloat calcDepth( in vec3 cameraPos ){\nvec2 clipZW = cameraPos.z * projectionMatrix[2].zw + projectionMatrix[3].zw;\nreturn 0.5 + 0.5 * clipZW.x / clipZW.y;\n}\nstruct Ray {\nvec3 origin ;\nvec3 direction ;\n};\nbool cutoff_plane (vec3 M, vec3 cutoff, vec3 x3){\nfloat a = x3.x;\nfloat b = x3.y;\nfloat c = x3.z;\nfloat d = -x3.x*cutoff.x-x3.y*cutoff.y-x3.z*cutoff.z;\nfloat l = a*M.x+b*M.y+c*M.z+d;\nif (l<0.0) {return true;}\nelse{return false;}\n}\nvec3 isect_surf(Ray r, mat4 matrix_coef){\nvec4 direction = vec4(r.direction, 0.0);\nvec4 origin = vec4(r.origin, 1.0);\nfloat a = dot(direction,(matrix_coef*direction));\nfloat b = dot(origin,(matrix_coef*direction));\nfloat c = dot(origin,(matrix_coef*origin));\nfloat delta =b*b-a*c;\ngl_FragColor.a = 1.0;\nif (delta<0.0){\ndiscard;\n}\nfloat t1 =(-b-sqrt(delta))/a;\nreturn r.origin+t1*r.direction;\n}\nvec3 isect_surf2(Ray r, mat4 matrix_coef){\nvec4 direction = vec4(r.direction, 0.0);\nvec4 origin = vec4(r.origin, 1.0);\nfloat a = dot(direction,(matrix_coef*direction));\nfloat b = dot(origin,(matrix_coef*direction));\nfloat c = dot(origin,(matrix_coef*origin));\nfloat delta =b*b-a*c;\ngl_FragColor.a = 1.0;\nif (delta<0.0){\ndiscard;\n}\nfloat t2 =(-b+sqrt(delta))/a;\nreturn r.origin+t2*r.direction;\n}\nRay primary_ray(vec4 near1, vec4 far1){\nvec3 near=near1.xyz/near1.w;\nvec3 far=far1.xyz/far1.w;\nreturn Ray(near,far-near);\n}\nfloat update_z_buffer(vec3 M, mat4 ModelViewP){\nfloat depth1;\nvec4 Ms=(ModelViewP*vec4(M,1.0));\nreturn depth1=(1.0+Ms.z/Ms.w)/2.0;\n}\nvoid main(){\nfloat radius = max( vRadius, vRadius2 );\nvec4 i_near, i_far, focus;\nvec3 e3, e1, e1_temp, e2;\ni_near = vec4(matrix_near[0][0],matrix_near[0][1],matrix_near[0][2],matrix_near[0][3]);\ni_far = vec4(matrix_near[1][0],matrix_near[1][1],matrix_near[1][2],matrix_near[1][3]);\nfocus = vec4(matrix_near[2][0],matrix_near[2][1],matrix_near[2][2],matrix_near[2][3]);\ne3 = vec3(matrix_near[3][0],matrix_near[3][1],matrix_near[3][2]);\ne1.x = 1.0;\ne1.y = 1.0;\ne1.z = ( (e3.x*focus.x + e3.y*focus.y + e3.z*focus.z) - e1.x*e3.x - e1.y*e3.y)/e3.z;\ne1_temp = e1 - focus.xyz;\ne1 = normalize(e1_temp);\ne2 = normalize(cross(e1,e3));\nvec4 equation = focus;\nfloat shrinkfactor = shrink;\nfloat t1 = -1.0/(1.0-shrinkfactor);\nfloat t2 = 1.0/(shrinkfactor);\nvec4 colonne1, colonne2, colonne3, colonne4;\nmat4 mat;\nvec3 equation1 = vec3(t2,t2,t1);\nfloat A1 = - e1.x*equation.x - e1.y*equation.y - e1.z*equation.z;\nfloat A2 = - e2.x*equation.x - e2.y*equation.y - e2.z*equation.z;\nfloat A3 = - e3.x*equation.x - e3.y*equation.y - e3.z*equation.z;\nfloat A11 = equation1.x*e1.x*e1.x + equation1.y*e2.x*e2.x + equation1.z*e3.x*e3.x;\nfloat A21 = equation1.x*e1.x*e1.y + equation1.y*e2.x*e2.y + equation1.z*e3.x*e3.y;\nfloat A31 = equation1.x*e1.x*e1.z + equation1.y*e2.x*e2.z + equation1.z*e3.x*e3.z;\nfloat A41 = equation1.x*e1.x*A1 + equation1.y*e2.x*A2 + equation1.z*e3.x*A3;\nfloat A22 = equation1.x*e1.y*e1.y + equation1.y*e2.y*e2.y + equation1.z*e3.y*e3.y;\nfloat A32 = equation1.x*e1.y*e1.z + equation1.y*e2.y*e2.z + equation1.z*e3.y*e3.z;\nfloat A42 = equation1.x*e1.y*A1 + equation1.y*e2.y*A2 + equation1.z*e3.y*A3;\nfloat A33 = equation1.x*e1.z*e1.z + equation1.y*e2.z*e2.z + equation1.z*e3.z*e3.z;\nfloat A43 = equation1.x*e1.z*A1 + equation1.y*e2.z*A2 + equation1.z*e3.z*A3;\nfloat A44 = equation1.x*A1*A1 + equation1.y*A2*A2 + equation1.z*A3*A3 - equation.w;\ncolonne1 = vec4(A11,A21,A31,A41);\ncolonne2 = vec4(A21,A22,A32,A42);\ncolonne3 = vec4(A31,A32,A33,A43);\ncolonne4 = vec4(A41,A42,A43,A44);\nmat = mat4(colonne1,colonne2,colonne3,colonne4);\nRay ray = primary_ray(i_near,i_far) ;\nvec3 M;\nM = isect_surf(ray, mat);\nif (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }\nvec4 M1 = vec4(M,1.0);\nvec4 M2 = mat*M1;\nvec3 _normal = ( modelViewMatrixInverseTranspose * M2 ).xyz;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;\n#ifdef NEAR_CLIP\nif( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 ){\nM = isect_surf2(ray, mat);\nif( calcClip( modelViewMatrix * vec4( M, 1.0 ) ) > 0.0 )\ndiscard;\ninterior = true;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = max( 0.0, calcDepth( vec3( - ( clipNear - 0.5 ) ) ) + ( 0.0000001 / radius ) );\n}\n}else if( gl_FragDepthEXT <= 0.0 ){\nM = isect_surf2(ray, mat);\ninterior = true;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix);\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );\n}\n}\n#else\nif( gl_FragDepthEXT <= 0.0 ){\nM = isect_surf2(ray, mat);\ninterior = true;\ngl_FragDepthEXT = update_z_buffer(M, modelViewProjectionMatrix) ;\nif( gl_FragDepthEXT >= 0.0 ){\ngl_FragDepthEXT = 0.0 + ( 0.0000001 / radius );\n}\n}\n#endif\nif (cutoff_plane(M, prime1.xyz, -e3) || cutoff_plane(M, prime2.xyz, e3)){ discard; }\nif (gl_FragDepthEXT < 0.0)\ndiscard;\nif (gl_FragDepthEXT > 1.0)\ndiscard;\nfloat distance_ratio = ((M.x-prime2.x)*e3.x + (M.y-prime2.y)*e3.y +(M.z-prime2.z)*e3.z) /\ndistance(prime2.xyz,prime1.xyz);\n#ifdef PICKING\ngl_FragColor = vec4( vPickingColor, objectId );\n#else\nvec3 vViewPosition = -( modelViewMatrix * vec4( M, 1.0 ) ).xyz;\nvec3 vNormal = _normal;\nvec3 vColor;\nif( distance_ratio>0.5 ){\nvColor = vColor1;\n}else{\nvColor = vColor2;\n}\nvec4 diffuseColor = vec4( diffuse, opacity );\nReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\nvec3 totalEmissiveLight = emissive;\n#include color_fragment\n#include roughnessmap_fragment\n#include metalnessmap_fragment\nvec3 normal = normalize( vNormal );\nif( interior ){\nnormal = vec3( 0.0, 0.0, 0.4 );\n}\n#include lights_physical_fragment\n#include lights_template\nvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveLight;\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );\n#include premultiplied_alpha_fragment\n#include tonemapping_fragment\n#include encodings_fragment\n#include fog_fragment\n#endif\n}");var ox=new Float32Array([-1,-1,-1,1,-1,-1,1,-1,1,-1,-1,1,-1,1,-1,1,1,-1,1,1,1,-1,1,1]),VO=new Uint16Array([0,1,2,0,2,3,1,5,6,1,6,2,4,6,5,4,7,6,0,7,4,0,3,7,0,5,1,0,4,5,3,2,6,3,6,7]),i1=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={mapping:{configurable:!0},mappingIndices:{configurable:!0},mappingIndicesSize:{configurable:!0},mappingType:{configurable:!0},mappingSize:{configurable:!0},mappingItemSize:{configurable:!0}};return i.mapping.get=function(){return ox},i.mappingIndices.get=function(){return VO},i.mappingIndicesSize.get=function(){return 36},i.mappingType.get=function(){return"v3"},i.mappingSize.get=function(){return 8},i.mappingItemSize.get=function(){return 3},Object.defineProperties(r.prototype,i),r}(Gy),Ol=Object.assign({shrink:.14},Kc),o1=Object.assign({shrink:{uniform:!0}},Dp),Wm=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c),this.parameterTypes=o1,this.isImpostor=!0,this.vertexShader="HyperballStickImpostor.vert",this.fragmentShader="HyperballStickImpostor.frag",this.addUniforms({modelViewProjectionMatrix:{value:new ye},modelViewProjectionMatrixInverse:{value:new ye},modelViewMatrixInverseTranspose:{value:new ye},shrink:{value:this.parameters.shrink}}),this.addAttributes({position1:{type:"v3",value:null},position2:{type:"v3",value:null},color2:{type:"c",value:null},radius:{type:"f",value:null},radius2:{type:"f",value:null}}),this.setAttributes(s),this.makeMapping()}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return Ol},Object.defineProperties(r.prototype,i),r}(i1),Hp=(Object.assign({disableImpostor:!1},ZM,Ol),function(r,i){return void 0===i&&(i={}),!wc||i&&i.disableImpostor?(r.radius=function(n,r){for(var i=n.length,s=new Float32Array(i),c=0;c<i;c++)s[c]=Math.min(n[c],r[c]);return s}(r.radius,r.radius2),new LA(r,i)):new Wm(r,i)}),Hd=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="hyperball",this.parameters=Object.assign({shrink:{type:"number",precision:3,max:1,min:.001,buffer:!0}},this.parameters,{multipleBond:null,bondSpacing:null})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.radiusScale=it(c.radiusScale,.2),c.radiusType=it(c.radiusType,"vdw"),this.shrink=it(c.shrink,.12),n.prototype.init.call(this,c)},r.prototype.getBondParams=function(s,c){return(!s||s.radius)&&(c=Object.assign({radius2:!0},c)),n.prototype.getBondParams.call(this,s,c)},r.prototype.createData=function(s){var c=new zf(s.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0}));return this.__center=new Float32Array(3*s.bondCount),{bufferList:[c,new Hp(s.getBondData(this.getBondParams()),this.getBufferParams({shrink:this.shrink,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))]}},r.prototype.updateData=function(s,c){var u=c.sview.getAtomData(this.getAtomParams()),f=c.sview.getBondData(this.getBondParams()),v={},_={};if(!s||s.position){v.position=u.position;var y=f.position1,C=f.position2;_.position=nc(y,C,this.__center),_.position1=y,_.position2=C}(!s||s.color)&&(v.color=u.color,_.color=f.color,_.color2=f.color2),(!s||s.radius)&&(v.radius=u.radius,_.radius=f.radius,_.radius2=f.radius2),c.bufferList[0].setAttributes(v),c.bufferList[1].setAttributes(_)},r}(ix);mi.add("hyperball",Hd);var p0=function(r,i){void 0===i&&(i={}),this.type=r,this.text=i};p0.prototype.atomLabel=function(r){var s;switch(this.type){case"atomname":s=r.atomname;break;case"atomindex":s=""+r.index;break;case"occupancy":s=r.occupancy.toFixed(2);break;case"bfactor":s=r.bfactor.toFixed(2);break;case"serial":s=""+r.serial;break;case"element":s=r.element;break;case"atom":s=r.atomname+"|"+r.index;break;case"resname":s=r.resname;break;case"resno":s=""+r.resno;break;case"res":var c=r.resname.toUpperCase();s=(_M[c]||c)+r.resno;break;case"text":s=this.text[r.index];break;default:s=r.qualifiedName()}return void 0===s?"":s},p0.types={"":"",atomname:"atom name",atomindex:"atom index",occupancy:"occupancy",bfactor:"b-factor",serial:"serial",element:"element",atom:"atom name + index",resname:"residue name",resno:"residue no",res:"residue name + no",text:"text",qualified:"qualified name"};var qm=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="label",this.parameters=Object.assign({labelType:{type:"select",options:p0.types,rebuild:!0},labelText:{type:"hidden",rebuild:!0},fontFamily:{type:"select",options:{"sans-serif":"sans-serif",monospace:"monospace",serif:"serif"},buffer:!0},fontStyle:{type:"select",options:{normal:"normal",italic:"italic"},buffer:!0},fontWeight:{type:"select",options:{normal:"normal",bold:"bold"},buffer:!0},sdf:{type:"boolean",buffer:!0},xOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},yOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},zOffset:{type:"number",precision:1,max:20,min:-20,buffer:!0},attachment:{type:"select",options:{"bottom-left":"bottom-left","bottom-center":"bottom-center","bottom-right":"bottom-right","middle-left":"middle-left","middle-center":"middle-center","middle-right":"middle-right","top-left":"top-left","top-center":"top-center","top-right":"top-right"},rebuild:!0},showBorder:{type:"boolean",buffer:!0},borderColor:{type:"color",buffer:!0},borderWidth:{type:"number",precision:2,max:.3,min:0,buffer:!0},showBackground:{type:"boolean",rebuild:!0},backgroundColor:{type:"color",buffer:!0},backgroundMargin:{type:"number",precision:2,max:2,min:0,rebuild:!0},backgroundOpacity:{type:"range",step:.01,max:1,min:0,buffer:!0}},this.parameters,{side:null,flatShaded:null,wireframe:null,linewidth:null,roughness:null,metalness:null,diffuse:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};this.labelType=it(c.labelType,"res"),this.labelText=it(c.labelText,{}),this.fontFamily=it(c.fontFamily,"sans-serif"),this.fontStyle=it(c.fontStyle,"normal"),this.fontWeight=it(c.fontWeight,"bold"),this.sdf=it(c.sdf,"Chrome"===mw),this.xOffset=it(c.xOffset,0),this.yOffset=it(c.yOffset,0),this.zOffset=it(c.zOffset,.5),this.attachment=it(c.attachment,"bottom-left"),this.showBorder=it(c.showBorder,!1),this.borderColor=it(c.borderColor,"lightgrey"),this.borderWidth=it(c.borderWidth,.15),this.showBackground=it(c.showBackground,!1),this.backgroundColor=it(c.backgroundColor,"lightgrey"),this.backgroundMargin=it(c.backgroundMargin,.5),this.backgroundOpacity=it(c.backgroundOpacity,1),n.prototype.init.call(this,c)},r.prototype.createData=function(s){var u=s.getAtomData(this.getAtomParams({position:!0,color:!0,radius:!0})),f=[],v=new p0(this.labelType,this.labelText);return s.eachAtom(function(y){f.push(v.atomLabel(y))}),{bufferList:[new Uh({position:u.position,size:u.radius,color:u.color,text:f},this.getBufferParams({fontFamily:this.fontFamily,fontStyle:this.fontStyle,fontWeight:this.fontWeight,sdf:this.sdf,xOffset:this.xOffset,yOffset:this.yOffset,zOffset:this.zOffset,attachment:this.attachment,showBorder:this.showBorder,borderColor:this.borderColor,borderWidth:this.borderWidth,showBackground:this.showBackground,backgroundColor:this.backgroundColor,backgroundMargin:this.backgroundMargin,backgroundOpacity:this.backgroundOpacity}))]}},r.prototype.updateData=function(s,c){var u=c.sview.getAtomData(this.getAtomParams(s)),f={};(!s||s.position)&&(f.position=u.position),(!s||s.radius)&&(f.size=u.radius),(!s||s.color)&&(f.color=u.color),c.bufferList[0].setAttributes(f)},r}(Ic);mi.add("label",qm);var sx=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="line",this.parameters=Object.assign({multipleBond:{type:"select",rebuild:!0,options:{off:"off",symmetric:"symmetric",offset:"offset"}},bondSpacing:{type:"number",precision:2,max:2,min:.5},linewidth:{type:"integer",max:50,min:1,buffer:!0},lines:{type:"boolean",rebuild:!0},crosses:{type:"select",rebuild:!0,options:{off:"off",lone:"lone",all:"all"}},crossSize:{type:"number",precision:2,max:2,min:.1}},this.parameters,{flatShaded:null,side:null,wireframe:null,roughness:null,metalness:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};this.multipleBond=it(c.multipleBond,"off"),this.bondSpacing=it(c.bondSpacing,1),this.linewidth=it(c.linewidth,2),this.lines=it(c.lines,!0),this.crosses=it(c.crosses,"lone"),this.crossSize=it(c.crossSize,.4),n.prototype.init.call(this,c)},r.prototype.getAtomRadius=function(s){return.1},r.prototype.getBondParams=function(s,c){return c=Object.assign({multipleBond:this.multipleBond,bondSpacing:this.bondSpacing,radiusParams:{type:"size",size:.1,scale:1}},c),n.prototype.getBondParams.call(this,s,c)},r.prototype._crossData=function(s,c){if(!s||s.position||s.color){var u={};"lone"===this.crosses&&(u.atomSet=function(n){var r=n.getAtomSet(),i=n.getBondSet(),s=n.getBondProxy();return i.forEach(function(c){s.index=c,r.clear(s.atomIndex1),r.clear(s.atomIndex2)}),r}(c));var E,S,I,L,B,V,f=c.getAtomData(this.getAtomParams(s,u)),v={},_=f.position,y=f.color,C=f.picking,P=(_||y).length,w=3*P;(!s||s.position)&&(E=v.position1=new Float32Array(w),S=v.position2=new Float32Array(w),B=this.crossSize/2),(!s||s.color)&&(I=v.color=new Float32Array(w),L=v.color2=new Float32Array(w)),(!s||s.picking)&&(V=new Float32Array(3*f.picking.array.length));for(var N=0;N<P;N++){var F=3*N,z=3*F;if(!s||s.position){var G=_[F],q=_[F+1],Y=_[F+2];E[z]=G-B,E[z+1]=q,E[z+2]=Y,S[z]=G+B,S[z+1]=q,S[z+2]=Y,E[z+3]=G,E[z+4]=q-B,E[z+5]=Y,S[z+3]=G,S[z+4]=q+B,S[z+5]=Y,E[z+6]=G,E[z+7]=q,E[z+8]=Y-B,S[z+6]=G,S[z+7]=q,S[z+8]=Y+B}if(!s||s.color)for(var X=z+9,$=z;$<X;$+=3)I[$]=L[$]=y[F],I[$+1]=L[$+1]=y[F+1],I[$+2]=L[$+2]=y[F+2];(!s||s.picking)&&(V[F]=V[F+1]=V[F+2]=C.array[N])}return(!s||s.picking)&&(v.picking=new Ph(V,f.picking.structure)),v}},r.prototype.createData=function(s){var c={position:!0,color:!0,picking:!0},u=[];if(this.lines){var f=s.getBondData(this.getBondParams(c)),v=new wl(f,this.getBufferParams({linewidth:this.linewidth}));u.push(v)}if("off"!==this.crosses){var _=new wl(this._crossData(c,s),this.getBufferParams({linewidth:this.linewidth}));u.push(_)}return{bufferList:u}},r.prototype.updateData=function(s,c){var u=0;if(this.lines){var f=c.sview.getBondData(this.getBondParams(s)),v={};(!s||s.position)&&(v.position1=f.position1,v.position2=f.position2),(!s||s.color)&&(v.color=f.color,v.color2=f.color2),c.bufferList[u++].setAttributes(v)}if("off"!==this.crosses){var _=this._crossData(s,c.sview),y={};(!s||s.position)&&(y.position1=_.position1,y.position2=_.position2),(!s||s.color)&&(y.color=_.color,y.color2=_.color2),c.bufferList[u++].setAttributes(y)}},r.prototype.setParameters=function(s){var u={};return s&&(s.bondSpacing||s.crossSize)&&(u.position=!0),n.prototype.setParameters.call(this,s,u,!1),this},r}(Ic);function Ku(n,r,i,s,c){var u,f=new(s=s||Int32Array)(n*r*i*(c=c||1));function v(_,y,C){return((_*r+y)*i+C)*c}this.data=f,this.index=v,this.set=function(_,y,C){var P=arguments,w=v(_,y,C);for(u=0;u<c;++u)f[w+u]=P[3+u]},this.toArray=function(_,y,C,P,w){var E=v(_,y,C);for(void 0===P&&(P=[]),void 0===w&&(w=0),u=0;u<c;++u)P[w+u]=f[E+u]},this.fromArray=function(_,y,C,P,w){var E=v(_,y,C);for(void 0===w&&(w=0),u=0;u<c;++u)f[E+u]=P[w+u]},this.copy=function(_){this.data.set(_.data)},this.clone=function(){return new Ku(n,r,i,s,c).copy(this)}}function El(n,r,i){var s=Xs(r),c=mm(n);0===n.length&&(c[0].set([0,0,0]),c[1].set([0,0,0]));var v,_,y,C,P,w,E,S,I,L,B,V,N,F,z,u=c[0],f=c[1],$=[new Int32Array([1,0,0]),new Int32Array([-1,0,0]),new Int32Array([0,1,0]),new Int32Array([0,-1,0]),new Int32Array([0,0,1]),new Int32Array([0,0,-1]),new Int32Array([1,1,0]),new Int32Array([1,-1,0]),new Int32Array([-1,1,0]),new Int32Array([-1,-1,0]),new Int32Array([1,0,1]),new Int32Array([1,0,-1]),new Int32Array([-1,0,1]),new Int32Array([-1,0,-1]),new Int32Array([0,1,1]),new Int32Array([0,1,-1]),new Int32Array([0,-1,1]),new Int32Array([0,-1,-1]),new Int32Array([1,1,1]),new Int32Array([1,1,-1]),new Int32Array([1,-1,1]),new Int32Array([-1,1,1]),new Int32Array([1,-1,-1]),new Int32Array([-1,-1,1]),new Int32Array([-1,1,-1]),new Int32Array([-1,-1,-1])];function tt(st){var ht,Ft,Lt,$t,ft,Zt,bt,Gt,Nt,le;for(var Oe in s)if(ht=s[Oe],!I[Oe]){for(Zt=(bt=st?(ht+v)*_+.5:ht*_+.5)*bt,Gt=Math.floor(bt)+1,Nt=new Int32Array(Gt*Gt),le=0,Ft=0;Ft<Gt;++Ft)for(Lt=0;Lt<Gt;++Lt)($t=Ft*Ft+Lt*Lt)>Zt?Nt[le]=-1:(ft=Math.sqrt(Zt-$t),Nt[le]=Math.floor(ft)),++le;L[Oe]=Gt,I[Oe]=Nt}}function ot(st){var Lt,$t,ft,Zt,bt,Gt,Nt,le,Oe,tn,ge,pe,he,Ze,$e,Pe,Ue,en,ht=3*st,Ft=st;Lt=Math.floor(.5+_*(n[ht]+S[0])),$t=Math.floor(.5+_*(n[ht+1]+S[1])),ft=Math.floor(.5+_*(n[ht+2]+S[2]));var nn,Yn=r[Ft],yr=I[Yn],Rn=0,Xt=P*w,Fe=L[Yn];for(tn=0;tn<Fe;++tn)for(ge=0;ge<Fe;++ge){if(-1!==(nn=yr[Rn]))for(Pe=-1;Pe<2;++Pe)for(Ue=-1;Ue<2;++Ue)for(en=-1;en<2;++en)if(0!==Pe&&0!==Ue&&0!==en)for(Nt=Pe*tn,Oe=en*ge,pe=0;pe<=nn;++pe)if(Ze=$t+(le=pe*Ue),$e=ft+Oe,!((he=Lt+Nt)<0||Ze<0||$e<0||he>=C||Ze>=P||$e>=w)){var An=he*Xt+Ze*w+$e;if(V)if(1&N[An]){if(1&N[An]){var yn=z[An];yn!==ht&&Nt*Nt+le*le+Oe*Oe<(Zt=Lt+Nt-Math.floor(.5+_*(n[yn]+S[0])))*Zt+(bt=$t+le-Math.floor(.5+_*(n[yn+1]+S[1])))*bt+(Gt=ft+Oe-Math.floor(.5+_*(n[yn+2]+S[2])))*Gt&&(z[An]=st)}}else N[An]|=1,z[An]=st;else N[An]|=1}Rn++}}function et(st){var Lt,$t,ft,Zt,bt,Gt,le,Oe,tn,ge,pe,he,Ze,$e,Pe,Ue,en,Yn,yr,ht=3*st,Ft=st,Nt=0;Lt=Math.floor(.5+_*(n[ht]+S[0])),$t=Math.floor(.5+_*(n[ht+1]+S[1])),ft=Math.floor(.5+_*(n[ht+2]+S[2]));var Rn=r[Ft],Xt=P*w;for(Ze=0,yr=L[Rn];Ze<yr;++Ze)for($e=0;$e<yr;++$e){if(-1!==I[Rn][Nt])for(Ue=-1;Ue<2;++Ue)for(en=-1;en<2;++en)for(Yn=-1;Yn<2;++Yn)if(0!==Ue&&0!==en&&0!==Yn)for(le=Ue*Ze,tn=Yn*$e,Pe=0;Pe<=I[Rn][Nt];++Pe)if(pe=$t+(Oe=Pe*en),he=ft+tn,!((ge=Lt+le)<0||pe<0||he<0||ge>=C||pe>=P||he>=w)){var Fe=ge*Xt+pe*w+he;if(2&N[Fe]){if(V){var nn=z[Fe];le*le+Oe*Oe+tn*tn<(Zt=Math.floor(.5+_*(n[nn]+S[0])))*Zt+(bt=Math.floor(.5+_*(n[nn+1]+S[1])))*bt+(Gt=Math.floor(.5+_*(n[nn+2]+S[2])))*Gt&&(z[Fe]=st)}}else N[Fe]|=2,V&&(z[Fe]=st)}Nt++}}function Et(st,ht,Ft,Lt){var $t,ft,Zt,bt,Gt,Nt,le,Oe,tn,ge,pe,he,Ze=new Uint16Array(3),$e=0;if(0===Ft)return $e;var Pe=-1,Ue=-1,en=-1,Yn=P*w;for(le=0,tn=Ft;le<tn;le+=3)for(ht.toArray($t=st[le],ft=st[le+1],Zt=st[le+2],Ze),Oe=0;Oe<6;++Oe)Ue=ft+(he=$[Oe])[1],en=Zt+he[2],(Pe=$t+he[0])<C&&Pe>-1&&Ue<P&&Ue>-1&&en<w&&en>-1&&(1&N[pe=Pe*Yn+w*Ue+en]&&!(2&N[pe])?(ht.fromArray(Pe,Ue,en,Ze),F[pe]=ge=(bt=Pe-Ze[0])*bt+(Gt=Ue-Ze[1])*Gt+(Nt=en-Ze[2])*Nt,N[pe]|=2,N[pe]|=4,Lt[$e]=Pe,Lt[$e+1]=Ue,Lt[$e+2]=en,$e+=3):1&N[pe]&&2&N[pe]&&(ge=(bt=Pe-Ze[0])*bt+(Gt=Ue-Ze[1])*Gt+(Nt=en-Ze[2])*Nt)<F[pe]&&(ht.fromArray(Pe,Ue,en,Ze),F[pe]=ge,4&N[pe]||(N[pe]|=4,Lt[$e]=Pe,Lt[$e+1]=Ue,Lt[$e+2]=en,$e+=3)));for(le=0,tn=Ft;le<tn;le+=3)for(ht.toArray($t=st[le],ft=st[le+1],Zt=st[le+2],Ze),Oe=6;Oe<18;Oe++)Ue=ft+(he=$[Oe])[1],en=Zt+he[2],(Pe=$t+he[0])<C&&Pe>-1&&Ue<P&&Ue>-1&&en<w&&en>-1&&(1&N[pe=Pe*Yn+w*Ue+en]&&!(2&N[pe])?(ht.fromArray(Pe,Ue,en,Ze),F[pe]=ge=(bt=Pe-Ze[0])*bt+(Gt=Ue-Ze[1])*Gt+(Nt=en-Ze[2])*Nt,N[pe]|=2,N[pe]|=4,Lt[$e]=Pe,Lt[$e+1]=Ue,Lt[$e+2]=en,$e+=3):1&N[pe]&&2&N[pe]&&(ge=(bt=Pe-Ze[0])*bt+(Gt=Ue-Ze[1])*Gt+(Nt=en-Ze[2])*Nt)<F[pe]&&(ht.fromArray(Pe,Ue,en,Ze),F[pe]=ge,4&N[pe]||(N[pe]|=4,Lt[$e]=Pe,Lt[$e+1]=Ue,Lt[$e+2]=en,$e+=3)));for(le=0,tn=Ft;le<tn;le+=3)for(ht.toArray($t=st[le],ft=st[le+1],Zt=st[le+2],Ze),Oe=18;Oe<26;Oe++)Ue=ft+(he=$[Oe])[1],en=Zt+he[2],(Pe=$t+he[0])<C&&Pe>-1&&Ue<P&&Ue>-1&&en<w&&en>-1&&(1&N[pe=Pe*Yn+w*Ue+en]&&!(2&N[pe])?(ht.fromArray(Pe,Ue,en,Ze),F[pe]=ge=(bt=Pe-Ze[0])*bt+(Gt=Ue-Ze[1])*Gt+(Nt=en-Ze[2])*Nt,N[pe]|=2,N[pe]|=4,Lt[$e]=Pe,Lt[$e+1]=Ue,Lt[$e+2]=en,$e+=3):1&N[pe]&&2&N[pe]&&(ge=(bt=Pe-Ze[0])*bt+(Gt=Ue-Ze[1])*Gt+(Nt=en-Ze[2])*Nt)<F[pe]&&(ht.fromArray(Pe,Ue,en,Ze),F[pe]=ge,4&N[pe]||(N[pe]|=4,Lt[$e]=Pe,Lt[$e+1]=Ue,Lt[$e+2]=en,$e+=3)));return $e}this.getVolume=function(st,ht,Ft,Lt,$t){console.time("EDTSurface.getVolume");var ft="vws"!==st;(function(st,ht,Ft,Lt,$t){v=ht||1.4,_=Ft||2,V=$t||!0;var ft=0;for(var Zt in s)ft=Math.max(ft,Zt);var bt=Zs(u,f,ft,_,st?v:0);C=bt.dim[0],P=bt.dim[1],w=bt.dim[2],E=bt.matrix,S=bt.tran,_=bt.scaleFactor,I={},L={},tt(st),B=v*_,y=Lt||v/_,N=new Uint8Array(C*P*w),st&&(F=new Float64Array(C*P*w)),V&&(z=new Int32Array(C*P*w))})(ft,ht,Ft,Lt,$t),function(st){var ht,Ft;for(console.time("EDTSurface fillvoxels"),ht=0,Ft=N.length;ht<Ft;++ht)N[ht]=0,st&&(F[ht]=-1),V&&(z[ht]=-1);for(ht=0,Ft=n.length/3;ht<Ft;++ht)ot(ht);for(ht=0,Ft=N.length;ht<Ft;++ht)1&N[ht]&&(N[ht]|=2);console.timeEnd("EDTSurface fillvoxels")}(ft),function(){var st,ht,Ft,Lt=P*w;for(st=0;st<C;++st)for(ht=0;ht<w;++ht)for(Ft=0;Ft<P;++Ft){var $t=st*Lt+Ft*w+ht;if(1&N[$t])for(var ft=0;ft<26;){var Zt=st+$[ft][0],bt=ht+$[ft][2],Gt=Ft+$[ft][1];if(Zt>-1&&Zt<C&&Gt>-1&&Gt<P&&bt>-1&&bt<w&&!(1&N[Zt*Lt+Gt*w+bt])){N[$t]|=4;break}ft++}}}(),("ms"===st||"ses"===st)&&function(){console.time("EDTSurface fastdistancemap");var st,ht,Ft,Lt,Gt,$t=new Ku(C,P,w,Uint16Array,3),ft=P*w,Zt=B*B,bt=0;for(st=0;st<C;++st)for(ht=0;ht<P;++ht)for(Ft=0;Ft<w;++Ft)N[Gt=st*ft+ht*w+Ft]&=-3,1&N[Gt]&&4&N[Gt]&&($t.set(st,ht,Ft,st,ht,Ft),F[Gt]=0,N[Gt]|=2,bt+=1);var Nt=new Int32Array(3*bt),le=0,Oe=new Int32Array(3*bt),tn=0;for(st=0;st<C;++st)for(ht=0;ht<P;++ht)for(Ft=0;Ft<w;++Ft)4&N[Gt=st*ft+ht*w+Ft]&&(Nt[le]=st,Nt[le+1]=ht,Nt[le+2]=Ft,le+=3,N[Gt]&=-5);do{for(tn=Et(Nt,$t,le,Oe),le=0,st=0,Lt=tn;st<Lt;st+=3)N[Gt=ft*Oe[st]+w*Oe[st+1]+Oe[st+2]]&=-5,F[Gt]<=1.0404*Zt&&(Nt[le]=Oe[st],Nt[le+1]=Oe[st+1],Nt[le+2]=Oe[st+2],le+=3)}while(le>0);var ge=y*y,he=new Uint16Array(3);for(st=0;st<C;++st)for(ht=0;ht<P;++ht)for(Ft=0;Ft<w;++Ft)N[Gt=st*ft+ht*w+Ft]&=-5,1&N[Gt]&&(!(2&N[Gt])||2&N[Gt]&&F[Gt]>=ge)&&(N[Gt]|=4,V&&2&N[Gt]&&($t.toArray(st,ht,Ft,he),z[Gt]=z[he[0]*ft+he[1]*w+he[2]]));console.timeEnd("EDTSurface fastdistancemap")}(),"ses"===st&&(tt(!1),function(){var st,ht;for(st=0,ht=N.length;st<ht;++st)N[st]&=-3;for(st=0,ht=n.length/3;st<ht;++st)et(st)}()),function(st){var ht,Ft=N.length;if("vws"===st)for(ht=0;ht<Ft;++ht)N[ht]&=-5,N[ht]=2&N[ht]?1:0;else if("ms"===st)for(ht=0;ht<Ft;++ht)N[ht]&=-3,4&N[ht]&&(N[ht]|=2),N[ht]&=-5,N[ht]=2&N[ht]?1:0;else if("ses"===st)for(ht=0;ht<Ft;++ht)4&N[ht]&&2&N[ht]?N[ht]&=-5:4&N[ht]&&!(2&N[ht])&&(N[ht]|=2),N[ht]=2&N[ht]?1:0;else if("sas"===st)for(ht=0;ht<Ft;++ht)N[ht]&=-5,N[ht]=2&N[ht]?1:0}(st);for(var Zt=0,bt=z.length;Zt<bt;++Zt)z[Zt]=i[z[Zt]];return console.timeEnd("EDTSurface.getVolume"),{data:N,nx:w,ny:P,nz:C,atomindex:z}},this.getSurface=function(st,ht,Ft,Lt,$t,ft,Zt){var bt=this.getVolume(st,ht,Ft,Lt,$t);return new Rf(bt.data,bt.nx,bt.ny,bt.nz,bt.atomindex).getSurface(1,ft,void 0,E,Zt)}}function h0(n,r,i,s,c,u,f){var Et,Mt,v=n.length,_=c[0],y=c[1],C=c[2],w=u[1],E=u[2];function S(Dt,Et){return Math.floor((Dt-Et)/f)}for(var I=S(u[0],_)+1,L=S(w,y)+1,B=S(E,C)+1,V=I*L*B,N=L*B,z=[],G=0;G<v;G++){var q=(Et=r[G],Mt=i[G],(S(n[G],_)*L+S(Et,y))*B+S(Mt,C));void 0===z[q]?z[q]=[G]:z[q].push(G)}var Y=new Uint32Array(V),X=new Uint16Array(V),$=new Uint32Array(v),tt=0,ot=0;for(G=0;G<V;G++){var nt=Y[G]=tt,et=z[G];if(void 0!==et)for(var vt=0;vt<et.length;vt++)$[tt]=et[vt],tt++;var dt=tt-nt;X[G]=dt,dt>ot&&(ot=dt)}this.neighbourListLength=27*ot+1,this.withinRadii=function(Dt,Et,Mt,st,ht){for(var Ft=0,Lt=S(Dt,_),$t=S(Et,y),ft=S(Mt,C),Zt=Math.max(0,Lt-1),bt=Math.max(0,$t-1),Gt=Math.max(0,ft-1),Nt=Math.min(I,Lt+1),le=Math.min(L,$t+1),Oe=Math.min(B,ft+1),tn=Zt;tn<=Nt;++tn)for(var ge=tn*N,pe=bt;pe<=le;++pe)for(var he=pe*B,Ze=Gt;Ze<=Oe;++Ze)for(var $e=ge+he+Ze,Pe=Y[$e],Ue=Pe+X[$e],en=Pe;en<Ue;en++){var Yn=$[en],yr=n[Yn]-Dt,Rn=r[Yn]-Et,Xt=i[Yn]-Mt,Fe=s[Yn]+st;yr*yr+Rn*Rn+Xt*Xt<=Fe*Fe&&(ht[Ft++]=$[en])}ht[Ft]=-1}}function ax(n,r,i){for(var s=r.length,c=new Float32Array(s),u=new Float32Array(s),f=new Float32Array(s),v=0;v<s;v++){var _=3*v;c[v]=n[_],u[v]=n[_+1],f[v]=n[_+2]}var y=mm(n);0===n.length&&(y[0].set([0,0,0]),y[1].set([0,0,0]));var w,E,S,I,L,B,V,F,z,G,q,Y,X,$,tt,ot,nt,et,Et,C=y[0],P=y[1],N=-1,vt=new Float32Array([0,0,0]),dt=new Float32Array([0,0,0]),Dt=new Float32Array([0,0,0]);function st(ge,pe,he){for(var Ze=0;Ze<ge.length;Ze++)ge[Ze]=pe+he*Ze}function $t(ge,pe,he,Ze,$e){var Pe;if(-1!==N){if((Pe=N)!==Ze&&Pe!==$e&&ft(Pe,ge,pe,he))return Pe;N=-1}var Ue=0;for(Pe=et[Ue];Pe>=0;){if(Pe!==Ze&&Pe!==$e&&ft(Pe,ge,pe,he))return N=Pe,Pe;Pe=et[++Ue]}return N=-1,-1}function ft(ge,pe,he,Ze){var $e=3*ge,Ue=n[$e]-pe,en=n[$e+1]-he,Yn=n[$e+2]-Ze;return Ue*Ue+en*en+Yn*Yn<E[ge]}function Gt(ge,pe){var he=w[ge],Ze=w[pe],$e=vt[0]=c[pe]-c[ge],Pe=vt[1]=u[pe]-u[ge],Ue=vt[2]=f[pe]-f[ge],en=$e*$e+Pe*Pe+Ue*Ue,Yn=Math.sqrt(en),Rn=he*((he*he+Yn*Yn-Ze*Ze)/(2*he*Yn));qc(vt,vt),function(ge,pe){ge[0]=ge[1]=ge[2]=1,0!==pe[0]?ge[0]=(pe[1]+pe[2])/-pe[0]:0!==pe[1]?ge[1]=(pe[0]+pe[2])/-pe[1]:0!==pe[2]&&(ge[2]=(pe[0]+pe[1])/-pe[2])}(dt,vt),qc(dt,dt),ku(Dt,vt,dt),qc(Dt,Dt);var Xt=Math.sqrt(he*he-Rn*Rn);Ds(dt,dt,Xt),Ds(Dt,Dt,Xt),Ds(vt,vt,Rn),vt[0]+=c[ge],vt[1]+=u[ge],vt[2]+=f[ge],N=-1;for(var Fe=Et,nn=0;nn<V;nn++){var An=ot[nn],yn=tt[nn],lr=vt[0]+An*dt[0]+yn*Dt[0],En=vt[1]+An*dt[1]+yn*Dt[1],Gr=vt[2]+An*dt[2]+yn*Dt[2];if(-1===$t(lr,En,Gr,ge,pe))for(var Kr=Math.floor(L*(lr-C[0])),Kn=Math.floor(L*(En-C[1])),qi=Math.floor(L*(Gr-C[2])),ho=Math.max(0,Kr-Fe),ws=Math.max(0,Kn-Fe),xo=Math.max(0,qi-Fe),Ks=Math.min(F[0],Kr+Fe+2),Co=Math.min(F[1],Kn+Fe+2),Mo=Math.min(F[2],qi+Fe+2),ui=ho;ui<Ks;ui++){$e=lr-Y[ui];for(var kr=F[1]*F[2]*ui,hr=ws;hr<Co;hr++)for(var Ki=$e*$e+(Pe=En-X[hr])*Pe,ca=kr+F[2]*hr,la=xo;la<Mo;la++){en=Ki+(Ue=Gr-$[la])*Ue;var ps=la+ca,K=G[ps];K>0&&en<K*K&&(G[ps]=Math.sqrt(en),B&&(q[ps]=ge))}}}}function tn(ge,pe,he){console.time("AVSurface.getVolume"),console.time("AVSurface.init"),function(ge,pe,he,Ze){I=it(ge,1.4),L=it(pe,2),B=it(he,!0),V=it(Ze,30),w=new Float32Array(s),E=new Float32Array(s);for(var $e=0;$e<w.length;++$e){var Pe=r[$e]+I;w[$e]=Pe,E[$e]=Pe*Pe}S=0;for(var Ue=0;Ue<w.length;++Ue)w[Ue]>S&&(S=w[Ue]);(function(){var ge=Zs(C,P,S,L,0);L=ge.scaleFactor,F=ge.dim,z=ge.matrix,Et=Math.min(5,2+Math.floor(I*L)),G=Xl(F[0]*F[1]*F[2],-1001),q=new Int32Array(G.length),Y=new Float32Array(F[0]),X=new Float32Array(F[1]),$=new Float32Array(F[2]),st(Y,C[0],1/L),st(X,C[1],1/L),st($,C[2],1/L)})(),function(){var ge=0,pe=2*Math.PI/V;ot=new Float32Array(V),tt=new Float32Array(V);for(var he=0;he<V;he++)ot[he]=Math.cos(ge),tt[he]=Math.sin(ge),ge+=pe}(),nt=new h0(c,u,f,w,C,P,2.01*S),et=new Int32Array(nt.neighbourListLength),N=-1}(ge,pe,he),console.timeEnd("AVSurface.init"),console.time("AVSurface.projectPoints"),function(){for(var ge=0;ge<s;ge++){var pe=c[ge],he=u[ge],Ze=f[ge],$e=w[ge],Pe=E[ge];nt.withinRadii(pe,he,Ze,$e,et);for(var Ue=Math.ceil($e*L),en=Math.floor(L*(pe-C[0])),Yn=Math.floor(L*(he-C[1])),yr=Math.floor(L*(Ze-C[2])),Rn=Math.max(0,en-Ue),Xt=Math.max(0,Yn-Ue),Fe=Math.max(0,yr-Ue),nn=Math.min(F[0],en+Ue+2),An=Math.min(F[1],Yn+Ue+2),yn=Math.min(F[2],yr+Ue+2),lr=Rn;lr<nn;lr++)for(var En=Y[lr]-pe,Gr=F[1]*F[2]*lr,Kr=Xt;Kr<An;Kr++)for(var Kn=X[Kr]-he,qi=En*En+Kn*Kn,ho=Gr+F[2]*Kr,ws=Fe;ws<yn;ws++){var xo=$[ws]-Ze,Ks=qi+xo*xo;if(Ks<Pe){var Co=ws+ho;G[Co]<0&&(G[Co]=-G[Co]);var Mo=Math.sqrt(Ks),ui=$e/Mo,kr=En*ui,hr=Kn*ui,Ki=xo*ui;if(-1===$t(kr+=pe,hr+=he,Ki+=Ze,ge,-1)){var ca=$e-Mo;ca<G[Co]&&(G[Co]=ca,B&&(q[Co]=ge))}}}}}(),console.timeEnd("AVSurface.projectPoints"),console.time("AVSurface.projectTorii"),function(){for(var ge=0;ge<s;ge++){nt.withinRadii(c[ge],u[ge],f[ge],w[ge],et);for(var pe=0,he=et[pe];he>=0;)ge<he&&Gt(ge,he),he=et[++pe]}}(),console.timeEnd("AVSurface.projectTorii"),function(){for(var ge=0;ge<G.length;ge++)G[ge]<0&&(G[ge]=0)}(),function(){for(var ge=0;ge<q.length;ge++)q[ge]=i[q[ge]]}(),console.timeEnd("AVSurface.getVolume")}this.getSurface=function(ge,pe,he,Ze,$e,Pe,Ue){return tn(pe,he,$e),new Rf(G,F[2],F[1],F[0],q).getSurface(pe,!1,void 0,z,Ue)}}mi.add("line",sx),El.__deps=[Zs,Xs,Rf,mm,Ku],ax.__deps=[Zs,Rf,Xl,mm,Ds,ku,qc,h0,it],xf.add("molsurf",function(r,i){var s=r.data.args,c=r.data.params;if(s&&c){var v=new("av"===c.type?ax:El)(s.coordList,s.radiusList,s.indexList).getSurface(c.type,c.probeRadius,c.scaleFactor,c.cutoff,!0,c.smooth,c.contour),_=[v.position.buffer,v.index.buffer];v.normal&&_.push(v.normal.buffer),v.atomindex&&_.push(v.atomindex.buffer),i({sd:v,p:c},_)}},[El,ax]);var Gp=function(r){this.structure=r};Gp.prototype._getAtomData=function(){return this.structure.getAtomData({what:{position:!0,radius:!0,index:!0},radiusParams:{type:"vdw",scale:1}})},Gp.prototype._makeSurface=function(r,i){var s=new va(i.name,"",r);return s.info.type=i.type,s.info.probeRadius=i.probeRadius,s.info.scaleFactor=i.scaleFactor,s.info.smooth=i.smooth,s.info.cutoff=i.cutoff,s},Gp.prototype.getSurface=function(r){var i=r||{},s=this._getAtomData(),y=new("av"===i.type?ax:El)(s.position,s.radius,s.index).getSurface(i.type,i.probeRadius,i.scaleFactor,i.cutoff,!0,i.smooth,i.contour);return this._makeSurface(y,i)},Gp.prototype.getSurfaceWorker=function(r,i){var s=this,c=Object.assign({},r);if(window.Worker){void 0===this.worker&&(this.worker=new hy("molsurf"));var u=this._getAtomData(),f=u.position,v=u.radius,_=u.index;this.worker.post({args:{coordList:f,radiusList:v,indexList:_},params:c},[f.buffer,v.buffer,_.buffer],function(w){i(s._makeSurface(w.data.sd,c))},function(w){console.warn("MolecularSurface.getSurfaceWorker error - trying without worker",w),s.worker.terminate(),s.worker=void 0;var E=s.getSurface(c);i(E)})}else{var P=this.getSurface(c);i(P)}},Gp.prototype.dispose=function(){this.worker&&this.worker.terminate()};var zO=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="surface",this.parameters=Object.assign({surfaceType:{type:"select",rebuild:!0,options:{vws:"vws",sas:"sas",ms:"ms",ses:"ses",av:"av"}},probeRadius:{type:"number",precision:1,max:20,min:0,rebuild:!0},smooth:{type:"integer",precision:1,max:10,min:0,rebuild:!0},scaleFactor:{type:"number",precision:1,max:5,min:0,rebuild:!0},cutoff:{type:"number",precision:2,max:50,min:0,rebuild:!0},contour:{type:"boolean",rebuild:!0},background:{type:"boolean",rebuild:!0},opaqueBack:{type:"boolean",buffer:!0},filterSele:{type:"text",rebuild:!0},colorVolume:{type:"hidden"},useWorker:{type:"boolean",rebuild:!0}},this.parameters,{radiusType:null,radius:null,scale:null}),this.__infoList=[],this.structure.signals.refreshed.add(function(){this.__forceNewMolsurf=!0},this),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"uniform"),c.colorValue=it(c.colorValue,14540253),c.disablePicking=it(c.disablePicking,!0),this.surfaceType=it(c.surfaceType,"ms"),this.probeRadius=it(c.probeRadius,1.4),this.smooth=it(c.smooth,2),this.scaleFactor=it(c.scaleFactor,2),this.cutoff=it(c.cutoff,0),this.contour=it(c.contour,!1),this.background=it(c.background,!1),this.opaqueBack=it(c.opaqueBack,!0),this.filterSele=it(c.filterSele,""),this.colorVolume=it(c.colorVolume,void 0),this.useWorker=it(c.useWorker,!0),n.prototype.init.call(this,s)},r.prototype.prepareData=function(s,c,u){var f=this.__infoList[c];if(f||(this.__infoList[c]=f={}),f.molsurf&&f.sele===s.selection.string)u(c);else{if(this.filterSele){var v=s.structure.getView(new Fo(this.filterSele)),_=v.boundingBox.getSize(),y=Math.max(_.x,_.y,_.z),C=s.getAtomSetWithinPoint(v.center,y/2+6);s=s.getView(new Fo(s.getAtomSetWithinSelection(C,3).toSeleString()))}f.sele=s.selection.string,f.molsurf=new Gp(s);var P=this.getSurfaceParams(),w=function(E){f.surface=E,u(c)};this.useWorker?f.molsurf.getSurfaceWorker(P,w):w(f.molsurf.getSurface(P))}},r.prototype.prepare=function(s){var c=this;if((this.__forceNewMolsurf||this.__sele!==this.selection.string||this.__surfaceParams!==JSON.stringify(this.getSurfaceParams()))&&(this.__infoList.forEach(function(_){_.molsurf.dispose()}),this.__infoList.length=0),0!==this.structureView.atomCount){var u=function(){this.__sele=this.selection.string,this.__surfaceParams=JSON.stringify(this.getSurfaceParams()),this.__forceNewMolsurf=!1,s()}.bind(this),v=this.structure.biomolDict["default"===this.assembly?this.defaultAssembly:this.assembly];v?v.partList.forEach(function(_,y){var C=_.getView(c.structureView);c.prepareData(C,y,function(P){P===v.partList.length-1&&u()})}):this.prepareData(this.structureView,0,u)}else s()},r.prototype.createData=function(s,c){var u=this.__infoList[c],f=u.surface,v={position:f.getPosition(),color:f.getColor(this.getColorParams()),index:f.getFilteredIndex(this.filterSele,s)},_=[];if(f.contour){var y=new cO(v,this.getBufferParams({wireframe:!1}));_.push(y)}else{v.normal=f.getNormal(),v.picking=f.getPicking(s.getStructure());var C=new kM(v,this.getBufferParams({background:this.background,opaqueBack:this.opaqueBack,dullInterior:!1})),P=new Id(C);_.push(P)}return{bufferList:_,info:u}},r.prototype.updateData=function(s,c){var u={};if(s.position)return this.__forceNewMolsurf=!0,void this.build();s.color&&(u.color=c.info.surface.getColor(this.getColorParams())),s.index&&(u.index=c.info.surface.getFilteredIndex(this.filterSele,c.sview)),c.bufferList[0].setAttributes(u)},r.prototype.setParameters=function(s,c,u){return c=c||{},s&&s.filterSele&&(c.index=!0),s&&void 0!==s.colorVolume&&(c.color=!0),s&&s.wireframe&&(s.contour||void 0===s.contour&&this.contour)&&(s.wireframe=!1),n.prototype.setParameters.call(this,s,c,u),this},r.prototype.getSurfaceParams=function(s){return Object.assign({type:this.surfaceType,probeRadius:this.probeRadius,scaleFactor:this.scaleFactor,smooth:this.smooth&&!this.contour,cutoff:this.cutoff,contour:this.contour,useWorker:this.useWorker},s)},r.prototype.getColorParams=function(){var s=n.prototype.getColorParams.call(this);return s.volume=this.colorVolume,s},r.prototype.clear=function(){n.prototype.clear.call(this)},r.prototype.dispose=function(){this.__infoList.forEach(function(s){s.molsurf.dispose()}),this.__infoList.length=0,n.prototype.dispose.call(this)},r}(Ic);mi.add("surface",zO);var j5=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="point",this.parameters=Object.assign({pointSize:{type:"number",precision:1,max:100,min:0,buffer:!0},sizeAttenuation:{type:"boolean",buffer:!0},sortParticles:{type:"boolean",rebuild:!0},useTexture:{type:"boolean",buffer:!0},alphaTest:{type:"range",step:.001,max:1,min:0,buffer:!0},forceTransparent:{type:"boolean",buffer:!0},edgeBleach:{type:"range",step:.001,max:1,min:0,buffer:!0}},this.parameters,{flatShaded:null,wireframe:null,linewidth:null,side:null,roughness:null,metalness:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};this.pointSize=it(c.pointSize,1),this.sizeAttenuation=it(c.sizeAttenuation,!0),this.sortParticles=it(c.sortParticles,!1),this.useTexture=it(c.useTexture,!1),this.alphaTest=it(c.alphaTest,.5),this.forceTransparent=it(c.forceTransparent,!1),this.edgeBleach=it(c.edgeBleach,0),n.prototype.init.call(this,c)},r.prototype.createData=function(s){var u=s.getAtomData(this.getAtomParams({position:!0,color:!0,picking:!0}));return{bufferList:[new bO(u,this.getBufferParams({pointSize:this.pointSize,sizeAttenuation:this.sizeAttenuation,sortParticles:this.sortParticles,useTexture:this.useTexture,alphaTest:this.alphaTest,forceTransparent:this.forceTransparent,edgeBleach:this.edgeBleach}))]}},r.prototype.updateData=function(s,c){var u=c.sview.getAtomData(this.getAtomParams(s)),f={};(!s||s.position)&&(f.position=u.position),(!s||s.color)&&(f.color=u.color),c.bufferList[0].setAttributes(f)},r}(Ic);mi.add("point",j5),Hi.add("shader/Ribbon.vert","#define STANDARD\nuniform float clipNear;\nuniform vec3 clipCenter;\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvarying vec3 vViewPosition;\n#endif\n#if defined( RADIUS_CLIP )\nvarying vec3 vClipCenter;\n#endif\nattribute vec3 dir;\nattribute float size;\n#ifdef PICKING\n#include unpack_color\nattribute float primitiveId;\nvarying vec3 vPickingColor;\n#else\n#include color_pars_vertex\n#ifndef FLAT_SHADED\nvarying vec3 vNormal;\n#endif\n#endif\n#include common\nvoid main(void){\n#ifdef PICKING\nvPickingColor = unpackColor( primitiveId );\n#else\n#include color_vertex\n#include beginnormal_vertex\n#include defaultnormal_vertex\n#ifndef FLAT_SHADED\nvNormal = normalize( transformedNormal );\n#endif\n#endif\n#include begin_vertex\ntransformed += normalize( dir ) * size;\n#include project_vertex\n#if defined( NEAR_CLIP ) || defined( RADIUS_CLIP ) || !defined( PICKING )\nvViewPosition = -mvPosition.xyz;\n#endif\n#if defined( RADIUS_CLIP )\nvClipCenter = -( modelViewMatrix * vec4( clipCenter, 1.0 ) ).xyz;\n#endif\n#include nearclip_vertex\n}");var HO=new Uint16Array([0,1,2,1,3,2]);function Va(n){return 4*(n.position.length/3-1)*3}var BA=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,{position:new Float32Array(Va(i)),color:new Float32Array(Va(i)),index:fa(Va(i),Va(i)/3),normal:new Float32Array(Va(i)),picking:i.picking},s),this.vertexShader="Ribbon.vert";var c=i.position.length/3-1,u=4*c;this.addAttributes({dir:{type:"v3",value:new Float32Array(3*u)}}),this.addAttributes({size:{type:"f",value:new Float32Array(u)}}),i.primitiveId=oy(c),this.setAttributes(i),this.makeIndex()}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.setAttributes=function(s){void 0===s&&(s={});var v,_,y,C,P,w,E,S,I,L,B,V,u=this.size/4,f=this.geometry.attributes;s.position&&(v=s.position,E=f.position.array,f.position.needsUpdate=!0),s.normal&&(_=s.normal,S=f.normal.array,f.normal.needsUpdate=!0),s.size&&(y=s.size,I=f.size.array,f.size.needsUpdate=!0),s.dir&&(C=s.dir,L=f.dir.array,f.dir.needsUpdate=!0),s.color&&(P=s.color,B=f.color.array,f.color.needsUpdate=!0),s.primitiveId&&(w=s.primitiveId,V=f.primitiveId.array,f.primitiveId.needsUpdate=!0);var N,F,z,G,q,Y,X,$=y?y[0]:null;for(N=0;N<u;++N){for(Y=3*N,z=3*N*4,q=4*N,v&&(E[z]=E[z+3]=v[Y],E[z+1]=E[z+4]=v[Y+1],E[z+2]=E[z+5]=v[Y+2],E[z+6]=E[z+9]=v[Y+3],E[z+7]=E[z+10]=v[Y+4],E[z+8]=E[z+11]=v[Y+5]),_&&(S[z]=S[z+3]=-_[Y],S[z+1]=S[z+4]=-_[Y+1],S[z+2]=S[z+5]=-_[Y+2],S[z+6]=S[z+9]=-_[Y+3],S[z+7]=S[z+10]=-_[Y+4],S[z+8]=S[z+11]=-_[Y+5]),F=0;F<4;++F)G=z+3*F,P&&(B[G]=P[Y],B[G+1]=P[Y+1],B[G+2]=P[Y+2]),w&&(V[q+F]=w[N]);y&&(X=y[N],$!==y[N]?(I[q]=$,I[q+1]=$,I[q+2]=X,I[q+3]=X):(I[q]=X,I[q+1]=X,I[q+2]=X,I[q+3]=X),$=X),C&&(L[z]=C[Y],L[z+1]=C[Y+1],L[z+2]=C[Y+2],L[z+3]=-C[Y],L[z+4]=-C[Y+1],L[z+5]=-C[Y+2],L[z+6]=C[Y+3],L[z+7]=C[Y+4],L[z+8]=C[Y+5],L[z+9]=-C[Y+3],L[z+10]=-C[Y+4],L[z+11]=-C[Y+5])}},r.prototype.makeIndex=function(){for(var s=this.geometry.getIndex().array,c=s.length/4/3,u=0;u<c;++u){var f=6*u,v=4*u;s.set(HO,f);for(var _=0;_<6;++_)s[f+_]+=v}},r}(Ip),UA=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="ribbon",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{side:null,wireframe:null,linewidth:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"chainname"),c.colorScale=it(c.colorScale,"RdYlBu"),c.radiusType=it(c.radiusType,"sstruc"),c.radiusScale=it(c.radiusScale,4),this.subdiv="low"===c.quality?3:"medium"===c.quality?6:"high"===c.quality?12:it(c.subdiv,6),this.tension=it(c.tension,NaN),this.smoothSheet=it(c.smoothSheet,!1),n.prototype.init.call(this,c)},r.prototype.getSplineParams=function(s){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!0,smoothSheet:this.smoothSheet},s)},r.prototype.getAtomRadius=function(s){return s.isTrace()?n.prototype.getAtomRadius.call(this,s):0},r.prototype.createData=function(s){var c=this,u=[],f=[];return this.structure.eachPolymer(function(v){if(!(v.residueCount<4)){f.push(v);var _=new Vp(v,c.getSplineParams()),y=_.getSubdividedPosition(),C=_.getSubdividedOrientation(),P=_.getSubdividedColor(c.getColorParams()),w=_.getSubdividedPicking(),E=_.getSubdividedSize(c.getRadiusParams());u.push(new BA({position:y.position,normal:C.binormal,dir:C.normal,color:P.color,size:E.size,picking:w.picking},c.getBufferParams()))}},s.getSelection()),{bufferList:u,polymerList:f}},r.prototype.updateData=function(s,c){var u=this;s=s||{};var f=0,v=c.polymerList.length;for(f=0;f<v;++f){var _={},y=new Vp(c.polymerList[f],u.getSplineParams());if(s.position){var C=y.getSubdividedPosition(),P=y.getSubdividedOrientation();_.position=C.position,_.normal=P.binormal,_.dir=P.normal}if(s.radius||s.scale){var w=y.getSubdividedSize(u.getRadiusParams());_.size=w.size}if(s.color){var E=y.getSubdividedColor(u.getColorParams());_.color=E.color}c.bufferList[f].setAttributes(_)}},r.prototype.setParameters=function(s){var u={};return s&&s.tension&&(u.position=!0),n.prototype.setParameters.call(this,s,u,!1),this},r}(Ic);mi.add("ribbon",UA);var a1=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="rocket",this.parameters=Object.assign({localAngle:{type:"integer",max:180,min:0,rebuild:!0},centerDist:{type:"number",precision:1,max:10,min:0,rebuild:!0},ssBorder:{type:"boolean",rebuild:!0},radialSegments:!0,openEnded:!0,disableImpostor:!0},this.parameters),this.helixbundleList=[],this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"sstruc"),c.radiusSize=it(c.radiusSize,1.5),c.radiusScale=it(c.radiusScale,1),c.openEnded=it(c.openEnded,!1),this.localAngle=it(c.localAngle,30),this.centerDist=it(c.centerDist,2.5),this.ssBorder=it(c.ssBorder,!1),n.prototype.init.call(this,c)},r.prototype.createData=function(s){var c=this,u=0,f=[],v=[];this.structure.eachPolymer(function(P){if(!(P.residueCount<4||P.isNucleic())){var w=new oc(P),E=w.getAxis(c.localAngle,c.centerDist,c.ssBorder,c.getColorParams(),c.getRadiusParams());u+=E.size.length,f.push(E),v.push(w)}},s.getSelection());var _={begin:new Float32Array(3*u),end:new Float32Array(3*u),size:new Float32Array(u),color:new Float32Array(3*u),picking:new Float32Array(u)},y=0;return f.forEach(function(P){_.begin.set(P.begin,3*y),_.end.set(P.end,3*y),_.size.set(P.size,y),_.color.set(P.color,3*y),_.picking.set(P.picking.array,y),y+=P.size.length}),u&&(_.picking=new Ph(_.picking,s.getStructure())),{bufferList:[new qf({position1:_.begin,position2:_.end,color:_.color,color2:_.color,radius:_.size,picking:_.picking},this.getBufferParams({openEnded:this.openEnded,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0}))],axisList:f,helixbundleList:v,axisData:_}},r.prototype.updateData=function(s,c){var u=this;if((s=s||{}).position)this.build();else{var f={};if(s.color||s.radius){var v=0;c.helixbundleList.forEach(function(_){var y=_.getAxis(u.localAngle,u.centerDist,u.ssBorder,u.getColorParams(),u.getRadiusParams());s.color&&c.axisData.color.set(y.color,3*v),(s.radius||s.scale)&&c.axisData.size.set(y.size,v),v+=y.size.length}),s.color&&(f.color=c.axisData.color,f.color2=c.axisData.color),(s.radius||s.scale)&&(f.radius=c.axisData.size)}c.bufferList[0].setAttributes(f)}},r}(Ic);mi.add("rocket",a1);var Ir=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="rope",this.parameters=Object.assign({smooth:{type:"integer",max:15,min:0,rebuild:!0}},this.parameters,{aspectRatio:null,smoothSheet:null})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.aspectRatio=1,c.tension=it(c.tension,.5),c.radiusScale=it(c.radiusScale,5),c.smoothSheet=!1,this.smooth=it(c.smooth,2),n.prototype.init.call(this,c)},r.prototype.getSpline=function(s){var c=new xs(s);return new Vp(s,this.getSplineParams({directional:!1,positionIterator:c.getCenterIterator(this.smooth)}))},r}(t1);mi.add("rope",Ir);var Zn=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="spacefill",this.parameters=Object.assign({sphereDetail:!0,disableImpostor:!0},this.parameters),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){n.prototype.init.call(this,s||{})},r.prototype.createData=function(s){return{bufferList:[new zf(s.getAtomData(this.getAtomParams()),this.getBufferParams({sphereDetail:this.sphereDetail,dullInterior:!0,disableImpostor:this.disableImpostor}))]}},r.prototype.updateData=function(s,c){var u=c.sview.getAtomData(this.getAtomParams(s)),f={};(!s||s.position)&&(f.position=u.position),(!s||s.color)&&(f.color=u.color),(!s||s.radius)&&(f.radius=u.radius),c.bufferList[0].setAttributes(f)},r}(Ic);function c1(n){return 3*(n.position.length/3-1)*2}mi.add("spacefill",Zn);var Vh=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,{position:new Float32Array(c1(i)),color:new Float32Array(c1(i))},s),this.isLine=!0,this.vertexShader="Line.vert",this.fragmentShader="Line.frag",this.setAttributes(i)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.setAttributes=function(s){var c,u,f,v,_=this.geometry.attributes;if(s.position&&(c=s.position,f=_.position.array,_.position.needsUpdate=!0),s.color&&(u=s.color,v=_.color.array,_.color.needsUpdate=!0),c||u)for(var y,C,w=this.size-1,E=0;E<w;++E)y=3*E,C=3*E*2,c&&(f[C]=c[y],f[C+1]=c[y+1],f[C+2]=c[y+2],f[C+3]=c[y+3],f[C+4]=c[y+4],f[C+5]=c[y+5]),u&&(v[C]=u[y],v[C+1]=u[y+1],v[C+2]=u[y+2],v[C+3]=u[y+3],v[C+4]=u[y+4],v[C+5]=u[y+5]);else xe.warn("TraceBuffer.prototype.setAttributes no data")},r}(Ti),Yf=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="trace",this.parameters=Object.assign({subdiv:{type:"integer",max:50,min:1,rebuild:!0},tension:{type:"number",precision:1,max:1,min:.1},smoothSheet:{type:"boolean",rebuild:!0}},this.parameters,{flatShaded:null,side:null,wireframe:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorScheme=it(c.colorScheme,"chainname"),c.colorScale=it(c.colorScale,"RdYlBu"),this.subdiv="low"===c.quality?3:"medium"===c.quality?6:"high"===c.quality?12:it(c.subdiv,6),this.tension=it(c.tension,NaN),this.smoothSheet=it(c.smoothSheet,!1),n.prototype.init.call(this,c)},r.prototype.getSplineParams=function(s){return Object.assign({subdiv:this.subdiv,tension:this.tension,directional:!1,smoothSheet:this.smoothSheet},s)},r.prototype.getAtomRadius=function(s){return s.isTrace()?.1:0},r.prototype.createData=function(s){var c=this,u=[],f=[];return this.structure.eachPolymer(function(v){if(!(v.residueCount<4)){f.push(v);var _=new Vp(v,c.getSplineParams()),y=_.getSubdividedPosition(),C=_.getSubdividedColor(c.getColorParams());u.push(new Vh(Object.assign({},y,C),c.getBufferParams()))}},s.getSelection()),{bufferList:u,polymerList:f}},r.prototype.updateData=function(s,c){s=s||{};var f=0,v=c.polymerList.length;for(f=0;f<v;++f){var _={},y=new Vp(c.polymerList[f],this.getSplineParams());if(s.position){var C=y.getSubdividedPosition();_.position=C.position}if(s.color){var P=y.getSubdividedColor(this.getColorParams());_.color=P.color}c.bufferList[f].setAttributes(_)}},r.prototype.setParameters=function(s){var u={};return s&&s.tension&&(u.position=!0),n.prototype.setParameters.call(this,s,u,!1),this},r}(Ic);mi.add("trace",Yf);var VA=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="tube",this.parameters=Object.assign({},this.parameters,{aspectRatio:null})}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.aspectRatio=1,c.radiusScale=it(c.radiusScale,2),"low"===c.quality&&(this.radialSegments=5),n.prototype.init.call(this,c)},r.prototype.getSplineParams=function(){return n.prototype.getSplineParams.call(this,{directional:!1})},r}(t1);mi.add("tube",VA);var l1=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="unitcell",this.parameters=Object.assign({radiusSize:{type:"number",precision:3,max:10,min:.001},sphereDetail:!0,radialSegments:!0,disableImpostor:!0},this.parameters,{assembly:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{},u=.5;this.structure.unitcell&&(u=Math.cbrt(this.structure.unitcell.volume)/200),c.radiusSize=it(c.radiusSize,u),c.colorValue=it(c.colorValue,"orange"),n.prototype.init.call(this,c)},r.prototype.getUnitcellData=function(s){return s.unitcell.getData(s)},r.prototype.create=function(){var s=this.structureView.getStructure();if(s.unitcell){var c=this.getUnitcellData(s);this.sphereBuffer=new zf(c.vertex,this.getBufferParams({sphereDetail:this.sphereDetail,disableImpostor:this.disableImpostor,dullInterior:!0})),this.cylinderBuffer=new qf(c.edge,this.getBufferParams({openEnded:!0,radialSegments:this.radialSegments,disableImpostor:this.disableImpostor,dullInterior:!0})),this.dataList.push({sview:this.structureView,bufferList:[this.sphereBuffer,this.cylinderBuffer]})}},r.prototype.updateData=function(s,c){var u=c.sview.getStructure(),f=this.getUnitcellData(u),v={},_={};(!s||s.position)&&(v.position=f.vertexPosition,_.position1=f.edgePosition1,_.position2=f.edgePosition2),(!s||s.color)&&(v.color=f.vertexColor,_.color=f.edgeColor,_.color2=f.edgeColor),(!s||s.radius)&&(v.radius=f.vertexRadius,_.radius=f.edgeRadius),this.sphereBuffer.setAttributes(v),this.cylinderBuffer.setAttributes(_)},r}(Ic);mi.add("unitcell",l1);var GO=function(n){function r(i,s,c){n.call(this,i,s,c),this.type="validation",this.parameters=Object.assign({},this.parameters,{radiusType:null,radiusSize:null,radiusScale:null}),this.init(c)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.init=function(s){var c=s||{};c.colorValue=it(c.colorValue,"#f0027f"),n.prototype.init.call(this,c)},r.prototype.createData=function(s){if(s.validation){var c=s.validation.getClashData({structure:s,color:this.colorValue});return{bufferList:[new qf(c,this.getBufferParams({openEnded:!1}))]}}},r}(Ic);mi.add("validation",GO);var cx=new J,Ca=new J,f0=new J,Jc=new J(0,1,0),W5=Object.assign({radialSegments:60,openEnded:!1},Kc),lx=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,{position:new Float32Array(s.position1.length),color:s.color,picking:s.picking},c,function(n){void 0===n&&(n={});var r=new Ob(1,1,it(n.radialSegments,60),1,it(n.openEnded,!1));return r.applyMatrix((new ye).makeRotationX(-Math.PI/2)),r}(c)),this.updateNormals=!0,this._position=new Float32Array(s.position1.length),this.setAttributes(s,!0)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return W5},r.prototype.applyPositionTransform=function(c,u,f){Ca.fromArray(this._position1,f),f0.fromArray(this._position2,f),c.lookAt(Ca,f0,Jc);var v=this._radius[u];cx.set(v,v,Ca.distanceTo(f0)),c.scale(cx)},r.prototype.setAttributes=function(c,u){void 0===c&&(c={}),c.position1&&c.position2&&(nc(c.position1,c.position2,this._position),this._position1=c.position1,this._position2=c.position2,c.position=this._position),c.radius&&(this._radius=c.radius),n.prototype.setAttributes.call(this,c,u)},Object.defineProperties(r.prototype,i),r}(Vf);Od.add("cone",lx);var zA=function(r){void 0===r&&(r=[]),this.geometryList=r};zA.prototype.computeBoundingBox=function(){var r=this;this.boundingBox?this.boundingBox.empty():this.boundingBox=new to,this.geometryList.forEach(function(i){i.boundingBox||i.computeBoundingBox(),r.boundingBox.union(i.boundingBox)})};var ux=Object.assign({aspectRatio:1.5,radialSegments:50,openEnded:!1,disableImpostor:!1},Kc),Vr=function(r,i){void 0===i&&(i={}),this.group=new ko,this.wireframeGroup=new ko,this.pickingGroup=new ko,this.visible=!0,this.parameters=ql(i,this.defaultParameters),this.splitPosition=new Float32Array(r.position1.length),this.cylinderRadius=new Float32Array(r.radius.length);var s=this.makeAttributes(r),c={radialSegments:this.parameters.radialSegments,openEnded:this.parameters.openEnded,disableImpostor:this.parameters.disableImpostor};this.cylinderBuffer=new qf(s.cylinder,c),this.coneBuffer=new lx(s.cone,c),this.geometry=new zA([this.cylinderBuffer.geometry,this.coneBuffer.geometry]),this.matrix=it(i.matrix,new ye),this.picking=r.picking},Ym={defaultParameters:{configurable:!0},matrix:{configurable:!0},pickable:{configurable:!0}};Ym.defaultParameters.get=function(){return ux},Ym.matrix.set=function(n){Ti.prototype.setMatrix.call(this,n)},Ym.matrix.get=function(){return this.group.matrix.clone()},Ym.pickable.get=function(){return!!this.picking},Vr.prototype.makeAttributes=function(r){void 0===r&&(r={});var u,f,i=this.splitPosition,s=this.cylinderRadius,c=this.parameters.aspectRatio,v={},_={};if(r.radius){for(u=0,f=s.length;u<f;++u)s[u]=r.radius[u]/c;v.radius=s,_.radius=r.radius}if(r.position1&&r.position2){var y=new J,C=new J,P=new J,w=new J;for(u=0,f=i.length;u<f;u+=3){y.fromArray(r.position1,u),C.fromArray(r.position2,u),P.subVectors(y,C);var E=P.length(),I=Math.min(E,s[u/3]*c*2);P.setLength(I),w.copy(C).add(P),w.toArray(i,u)}v.position1=r.position1,v.position2=i,_.position1=i,_.position2=r.position2}return r.color&&(v.color=r.color,v.color2=r.color,_.color=r.color),{cylinder:v,cone:_}},Vr.prototype.getMesh=function(){return(new ko).add(this.cylinderBuffer.getMesh(),this.coneBuffer.getMesh())},Vr.prototype.getWireframeMesh=function(){return(new ko).add(this.cylinderBuffer.getWireframeMesh(),this.coneBuffer.getWireframeMesh())},Vr.prototype.getPickingMesh=function(){return(new ko).add(this.cylinderBuffer.getPickingMesh(),this.coneBuffer.getPickingMesh())},Vr.prototype.setAttributes=function(r){void 0===r&&(r={});var i=this.makeAttributes(r);this.cylinderBuffer.setAttributes(i.cylinder),this.coneBuffer.setAttributes(i.cone)},Vr.prototype.setParameters=function(r){void 0===r&&(r={}),(r=Object.assign({},r))&&void 0!==r.matrix&&(this.matrix=r.matrix),delete r.matrix,r&&void 0!==r.wireframe&&(this.parameters.wireframe=r.wireframe,this.setVisibility(this.visible)),this.cylinderBuffer.setParameters(r),this.coneBuffer.setParameters(r)},Vr.prototype.setVisibility=function(r){Ti.prototype.setVisibility.call(this,r)},Vr.prototype.dispose=function(){this.cylinderBuffer.dispose(),this.coneBuffer.dispose()},Object.defineProperties(Vr.prototype,Ym),Od.add("arrow",Vr);var jO=new J,lc=new J,WO=new J,qO=new J(0,0,0),dx=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,i,s,new yc(1,1,1)),this.updateNormals=!0,this.setAttributes(i,!0)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.applyPositionTransform=function(s,c,u){lc.fromArray(this._heightAxis,u),WO.fromArray(this._depthAxis,u),s.lookAt(qO,lc,WO),jO.set(this._size[c],WO.length(),lc.length()),s.scale(jO)},r.prototype.setAttributes=function(s,c){void 0===s&&(s={}),s.size&&(this._size=s.size),s.heightAxis&&(this._heightAxis=s.heightAxis),s.depthAxis&&(this._depthAxis=s.depthAxis),n.prototype.setAttributes.call(this,s,c)},r}(Vf);Od.add("box",dx);var u1=new J,d1=new J,g0=new J,$O=new J(0,0,0),px=Object.assign({sphereDetail:2},Kc),p1=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c,new rh(1,it(c.sphereDetail,2))),this.updateNormals=!0,this.setAttributes(s,!0)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return px},r.prototype.applyPositionTransform=function(c,u,f){d1.fromArray(this._majorAxis,f),g0.fromArray(this._minorAxis,f),c.lookAt($O,d1,g0),u1.set(this._radius[u],g0.length(),d1.length()),c.scale(u1)},r.prototype.setAttributes=function(c,u){void 0===c&&(c={}),c.radius&&(this._radius=c.radius),c.majorAxis&&(this._majorAxis=c.majorAxis),c.minorAxis&&(this._minorAxis=c.minorAxis),n.prototype.setAttributes.call(this,c,u)},Object.defineProperties(r.prototype,i),r}(Vf);Od.add("ellipsoid",p1);var HA=new J,h1=new J,m0=new J,YO=new J(0,0,0),hx=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,i,s,new Hl(1,0)),this.updateNormals=!0,this.setAttributes(i,!0)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.applyPositionTransform=function(s,c,u){h1.fromArray(this._heightAxis,u),m0.fromArray(this._depthAxis,u),s.lookAt(YO,h1,m0),HA.set(this._size[c],m0.length(),h1.length()),s.scale(HA)},r.prototype.setAttributes=function(s,c){void 0===s&&(s={}),s.size&&(this._size=s.size),s.heightAxis&&(this._heightAxis=s.heightAxis),s.depthAxis&&(this._depthAxis=s.depthAxis),n.prototype.setAttributes.call(this,s,c)},r}(Vf);Od.add("octahedron",hx);var v0=new J,Xm=new J,XO=new J,q5=new J(0,0,0),ZO=function(n){function r(i,s){void 0===s&&(s={}),n.call(this,i,s,new Tg(1,0)),this.updateNormals=!0,this.setAttributes(i,!0)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.applyPositionTransform=function(s,c,u){Xm.fromArray(this._heightAxis,u),XO.fromArray(this._depthAxis,u),s.lookAt(q5,Xm,XO),v0.set(this._size[c],XO.length(),Xm.length()),s.scale(v0)},r.prototype.setAttributes=function(s,c){void 0===s&&(s={}),s.size&&(this._size=s.size),s.heightAxis&&(this._heightAxis=s.heightAxis),s.depthAxis&&(this._depthAxis=s.depthAxis),n.prototype.setAttributes.call(this,s,c)},r}(Vf);Od.add("tetrahedron",ZO);var zh=new J,f1=new J,GA=new J,KO=new J(0,0,0),jA=Object.assign({radiusRatio:.2,radialSegments:16,tubularSegments:32},Kc),Zm=function(n){function r(s,c){void 0===c&&(c={}),n.call(this,s,c,new Dg(1,it(c.radiusRatio,.2),it(c.radialSegments,16),it(c.tubularSegments,32))),this.updateNormals=!0,this.setAttributes(s,!0)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={defaultParameters:{configurable:!0}};return i.defaultParameters.get=function(){return jA},r.prototype.applyPositionTransform=function(c,u,f){f1.fromArray(this._majorAxis,f),GA.fromArray(this._minorAxis,f),c.lookAt(KO,f1,GA);var v=this._radius[u];zh.set(v,v,v),c.scale(zh)},r.prototype.setAttributes=function(c,u){void 0===c&&(c={}),c.radius&&(this._radius=c.radius),c.majorAxis&&(this._majorAxis=c.majorAxis),c.minorAxis&&(this._minorAxis=c.minorAxis),n.prototype.setAttributes.call(this,c,u)},Object.defineProperties(r.prototype,i),r}(Vf);Od.add("torus",Zm);var tl=function(r,i){var s=i||{};this.streamer=r,this.name=it(s.name,""),this.path=it(s.path,"")},Km={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0},isJson:{configurable:!0},isXml:{configurable:!0}};Km.type.get=function(){return""},Km.__objName.get=function(){return""},Km.isBinary.get=function(){return!1},Km.isJson.get=function(){return!1},Km.isXml.get=function(){return!1},tl.prototype.parse=function(){var r=this;return this.streamer.read().then(function(){return r._beforeParse(),r._parse(),r._afterParse(),r[r.__objName]})},tl.prototype._parse=function(){},tl.prototype._beforeParse=function(){},tl.prototype._afterParse=function(){Le&&xe.log(this[this.__objName])},Object.defineProperties(tl.prototype,Km);var g1=function(r){this.structure=r,this.currentModelindex=null,this.currentChainid=null,this.currentResname=null,this.currentResno=null,this.currentInscode=null,this.currentHetero=null,this.previousResname="",this.previousHetero=null,this.ai=-1,this.ri=-1,this.ci=-1,this.mi=-1};g1.prototype.addResidueType=function(r){for(var i=this.structure.atomStore,s=this.structure.residueStore,c=this.structure.residueMap,u=s.atomCount[r],f=s.atomOffset[r],v=new Array(u),_=0;_<u;++_)v[_]=i.atomTypeId[f+_];s.residueTypeId[r]=c.add(this.previousResname,v,this.previousHetero)},g1.prototype.addAtom=function(r,i,s,c,u,f,v,_){var y=this.structure.atomStore,C=this.structure.residueStore,P=this.structure.chainStore,w=this.structure.modelStore,E=!1,S=!1,I=!1;this.currentModelindex!==r?(E=!0,S=!0,I=!0,this.mi+=1,this.ci+=1,this.ri+=1):this.currentChainid!==s?(S=!0,I=!0,this.ci+=1,this.ri+=1):(this.currentResno!==u||this.currentResname!==c||this.currentInscode!==_)&&(I=!0,this.ri+=1),this.ai+=1,E&&(w.growIfFull(),w.chainOffset[this.mi]=this.ci,w.chainCount[this.mi]=0,w.count+=1,P.modelIndex[this.ci]=this.mi),S&&(P.growIfFull(),P.setChainname(this.ci,i),P.setChainid(this.ci,s),P.residueOffset[this.ci]=this.ri,P.residueCount[this.ci]=0,P.count+=1,P.modelIndex[this.ci]=this.mi,w.chainCount[this.mi]+=1,C.chainIndex[this.ri]=this.ci),I&&(this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>0&&this.addResidueType(this.ri-1),C.growIfFull(),C.resno[this.ri]=u,void 0!==v&&(C.sstruc[this.ri]=v.charCodeAt(0)),void 0!==_&&(C.inscode[this.ri]=_.charCodeAt(0)),C.atomOffset[this.ri]=this.ai,C.atomCount[this.ri]=0,C.count+=1,C.chainIndex[this.ri]=this.ci,P.residueCount[this.ci]+=1),y.count+=1,y.residueIndex[this.ai]=this.ri,C.atomCount[this.ri]+=1,this.currentModelindex=r,this.currentChainid=s,this.currentResname=c,this.currentResno=u,this.currentInscode=_,this.currentHetero=f},g1.prototype.finalize=function(){this.previousResname=this.currentResname,this.previousHetero=this.currentHetero,this.ri>-1&&this.addResidueType(this.ri)};var jp=function(n){function r(s,c){var u=c||{};n.call(this,s,u),this.firstModelOnly=it(u.firstModelOnly,!1),this.asTrajectory=it(u.asTrajectory,!1),this.cAlphaOnly=it(u.cAlphaOnly,!1),this.structure=new _r(this.name,this.path),this.structureBuilder=new g1(this.structure)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"structure"},i.__objName.get=function(){return"structure"},Object.defineProperties(r.prototype,i),r}(tl),Qu=function(r,i,s,c,u){void 0===s&&(s=""),void 0===u&&(u=[]),this.structure=r,this.index=i,this.description=s,this.entityType=function(n){switch(n=n.toLowerCase()){case"polymer":return 1;case"non-polymer":return 2;case"macrolide":return 3;case"water":return 4;default:return 0}}(c||""),this.chainIndexList=u,u.forEach(function(f){r.chainStore.entityIndex[f]=i})},fx={type:{configurable:!0}};fx.type.get=function(){return"Entity"},Qu.prototype.getEntityType=function(){return this.entityType},Qu.prototype.isPolymer=function(){return 1===this.entityType},Qu.prototype.isNonPolymer=function(){return 2===this.entityType},Qu.prototype.isMacrolide=function(){return 3===this.entityType},Qu.prototype.isWater=function(){return 4===this.entityType},Qu.prototype.eachChain=function(r){var i=this.structure.getChainProxy();this.chainIndexList.forEach(function(s){i.index=s,r(i)})},Object.defineProperties(Qu.prototype,fx);var $5={a:1,b:1,c:1,alpha:90,beta:90,gamma:90,spacegroup:"P 1"},Qm=function(r){void 0===r&&(r=$5),this.fracToCart=new ye,this.a=r.a,this.b=r.b,this.c=r.c,this.alpha=r.alpha,this.beta=r.beta,this.gamma=r.gamma,this.spacegroup=r.spacegroup;var i=Lo(this.alpha),s=Lo(this.beta),c=Lo(this.gamma),u=Math.cos(i),f=Math.cos(s),v=Math.cos(c),_=Math.sin(s),y=Math.sin(c);this.volume=this.a*this.b*this.c*Math.sqrt(1-u*u-f*f-v*v+2*u*f*v),void 0===r.cartToFrac?(this.fracToCart.set(this.a,0,0,0,this.b*v,this.b*y,0,0,this.c*f,-this.c*_*((f*v-u)/(_*y)),1/(this.a*this.b*y/this.volume),0,0,0,0,1).transpose(),this.cartToFrac=(new ye).getInverse(this.fracToCart)):(this.cartToFrac=r.cartToFrac,this.fracToCart.getInverse(this.cartToFrac))};Qm.prototype.getPosition=function(r){var i=new Float32Array(24);if(r.unitcell){var s=r.unitcell,c=r.center.clone().applyMatrix4(s.cartToFrac).floor().multiplyScalar(2).addScalar(1),u=new J,f=0,v=function(_,y,C){u.set(_,y,C).multiply(c).applyMatrix4(s.fracToCart).toArray(i,f),f+=3};v(0,0,0),v(1,0,0),v(0,1,0),v(0,0,1),v(1,1,0),v(1,0,1),v(0,1,1),v(1,1,1)}return i},Qm.prototype.getCenter=function(r){return function(n,r){void 0===r&&(r=new J);for(var i=n.length,s=0;s<i;s+=3)r.x+=n[s],r.y+=n[s+1],r.z+=n[s+2];return r.divideScalar(i/3),r}(this.getPosition(r))},Qm.prototype.getData=function(r,i){void 0===i&&(i={});var s=it(i.colorValue,"orange"),c=it(i.radius,Math.cbrt(this.volume)/200),u=new cn(s),f=new J,v=this.getPosition(r),_=$o(8,u.r,u.g,u.b),y=Xl(8,c),C=new Float32Array(36),P=new Float32Array(36),w=$o(12,u.r,u.g,u.b),E=Xl(12,c),S=0;function I(B,V){f.fromArray(v,3*B).toArray(C,S),f.fromArray(v,3*V).toArray(P,S),S+=3}I(0,1),I(0,2),I(0,3),I(1,4),I(1,5),I(2,6),I(3,5),I(4,7),I(5,7),I(2,4),I(7,6),I(3,6);var L=new h5(this,r);return{vertex:{position:v,color:_,radius:y,picking:L},edge:{position1:C,position2:P,color:w,color2:w,radius:E,picking:L}}};var m1={1:"h",2:"h",3:"i",4:"h",5:"g",6:"h",7:"h",8:"h",9:"h",10:"h","":"h"},qA=["DAL","DAR","DSG","DAS","DCY","DGL","DGN","DHI","DIL","DLE","DLY","MED","DPN","DPR","DSN","DTH","DTR","DTY","DVA","DNE"],KR=["MOL_ID","MOLECULE","CHAIN","FRAGMENT","SYNONYM","EC","ENGINEERED","MUTATION","OTHER_DETAILS"],QO=/\s+/;function $A(n,r,i){var s=""+n;return r&&(s+=":"+r),i&&(s+="^"+i),s}var JO=function(n){function r(s,c){var u=c||{};n.call(this,s,u),this.hex=it(u.hex,!1)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"pdb"},r.prototype._parse=function(){Le&&xe.time("PdbParser._parse "+this.name);var c=!1,u=this.streamer.peekLines(1)[0],f=u.substr(62,4),v=u.substr(72,4);f===v&&v.trim()&&(c=!0);var F,z,q,Y,X,$,tt,ot,nt,et,vt,dt,Dt,Et,Mt,st,ht,Ft,Lt,$t,ft,Zt,bt,tn,ge,$e,Pe,Ue,en,Yn,yr,Rn,Fe,_="pqr"===this.type,y=this.structure,C=this.structureBuilder,P=this.hex,w=10,E=10,S=this.firstModelOnly,I=this.asTrajectory,L=this.cAlphaOnly,B=y.frames,V=y.boxes,N=!1,G=y.biomolDict,Gt={},Nt={},le={},Oe=[],pe={},he={},Ze={},Xt={},nn={helices:[],sheets:[]},An=nn.helices,yn=nn.sheets,lr=y.atomMap,En=y.atomStore;En.resize(Math.round(this.streamer.data.length/80)),_&&(En.addField("partialCharge",1,"float32"),En.addField("radius",1,"float32"));var Gr=y.getAtomProxy(),Kr=y.getAtomProxy(),Kn=0,qi=0,ho=!0;this.streamer.eachChunkOfLines(function(ui){!function(ui,kr,hr){for(var Ki=0;Ki<kr;++Ki)if("ATOM  "===(tt=($=hr[Ki]).substr(0,6))||"HETATM"===tt){if(ho&&(I?(N?(F=new Float32Array(3*En.count),B.push(F)):F=[],z=0):S||(Gt={}),Pe=($e=1).toString(),Ue=!0,ho=!1),S&&qi>0)continue;var ca=void 0,la=void 0,ps=void 0,K=void 0,at=void 0;if(_){if(at=10===(K=$.split(QO)).length?1:0,Et=K[2],L&&"CA"!==Et)continue;ca=parseFloat(K[6-at]),la=parseFloat(K[7-at]),ps=parseFloat(K[8-at])}else{if(Et=$.substr(12,4).trim(),L&&"CA"!==Et)continue;ca=parseFloat($.substr(30,8)),la=parseFloat($.substr(38,8)),ps=parseFloat($.substr(46,8))}if(I){var pt=3*z;if(F[pt+0]=ca,F[pt+1]=la,F[pt+2]=ps,z+=1,N)continue}var _t=void 0;_?(ot=parseInt(K[1]),_t="",Mt="H"===$[0]?1:0,nt=at?"":K[4],et=parseInt(K[5-at]),Dt="",vt=K[3],ht="",dt=0):(ot=parseInt($.substr(6,5),w),P&&99999===ot&&(w=16),Mt="H"===$[0]?1:0,nt=$[21].trim(),et=parseInt($.substr(22,4),E),P&&9999===et&&(E=16),Dt=$[26].trim(),vt=$.substr(17,4).trim()||"MOL",st=parseFloat($.substr(60,6)),ht=$[16].trim(),dt=parseFloat($.substr(54,6)),c||(_t=$.substr(76,2).trim(),nt||(nt=$.substr(72,4).trim()))),En.growIfFull(),En.atomTypeId[Kn]=lr.add(Et,_t),En.x[Kn]=ca,En.y[Kn]=la,En.z[Kn]=ps,En.serial[Kn]=ot,En.altloc[Kn]=ht.charCodeAt(0),En.occupancy[Kn]=isNaN(dt)?0:dt,_?(En.partialCharge[Kn]=parseFloat(K[9-at]),En.radius[Kn]=parseFloat(K[10-at])):En.bfactor[Kn]=isNaN(st)?0:st;var wt=$A(et,nt,Dt);!Mt||he[wt]||qA.includes(vt)?!Ue&&en!==nt&&(Pe=($e+=1).toString()):(en!==nt||yr!==vt||!bh.includes(vt)&&(Yn!==et||Rn!==Dt))&&(Pe=($e+=1).toString(),Yn=et,yr=vt,Rn=Dt),C.addAtom(qi,nt,Pe,vt,et,Mt,void 0,Dt),Gt[ot]=Kn,Kn+=1,Ue=!1,en=nt}else if("CONECT"===tt){var Ut=Gt[parseInt($.substr(6,5))],Kt=[11,16,21,26],ne={};if(void 0===Ut)continue;for(var Re=0;Re<4;++Re){var Ye=parseInt($.substr(Kt[Re],5));if(!Number.isNaN(Ye)&&void 0!==(Ye=Gt[Ye]))if(Ut<Ye?(Gr.index=Ut,Kr.index=Ye):(Gr.index=Ye,Kr.index=Ut),void 0!==ne[Ye])y.bondStore.bondOrder[ne[Ye]]+=1;else{var wn=Gr.index+"|"+Kr.index;void 0===le[wn]&&(le[wn]=!0,ne[Ye]=y.bondStore.count,y.bondStore.addBond(Gr,Kr,1))}}}else if("HELIX "===tt){Ft=$[19].trim(),Lt=parseInt($.substr(21,4)),$t=$[25].trim(),ft=$[31].trim(),Zt=parseInt($.substr(33,4)),bt=$[37].trim();var lt=parseInt($.substr(39,1));lt=(m1[lt]||m1[""]).charCodeAt(0),An.push([Ft,Lt,$t,ft,Zt,bt,lt])}else if("SHEET "===tt)Ft=$[21].trim(),Lt=parseInt($.substr(22,4)),$t=$[26].trim(),ft=$[32].trim(),Zt=parseInt($.substr(33,4)),bt=$[37].trim(),yn.push([Ft,Lt,$t,ft,Zt,bt]);else if("HETNAM"===tt)pe[$.substr(11,3)]=$.substr(15).trim();else if("SEQRES"===tt){var mt=$[11].trim();mt!==Fe&&(Xt[mt]=[],Fe=mt),(q0=Xt[mt]).push.apply(q0,$.substr(19).trim().split(QO))}else if("MODRES"===tt){var Pt=$.substr(12,3).trim(),ve=$[16].trim(),He=$[22].trim(),rn=parseInt($.substr(18,4).trim()),Vn=$A(rn,ve,He);he[Vn]={resname:Pt,chainname:ve,inscode:He,resno:rn}}else if("COMPND"===tt){var gn=$.substr(10,70).trim(),jn=gn.indexOf(":"),ur=gn.substring(0,jn),Qn=void 0;KR.includes(ur)?(ge=ur,Qn=gn.substring(jn+2)):Qn=gn,Qn=Qn.replace(/;$/,""),"MOL_ID"===ge?Oe.push(tn={chainList:[],name:""}):"MOLECULE"===ge?(tn.name&&(tn.name+=" "),tn.name+=Qn):"CHAIN"===ge&&Array.prototype.push.apply(tn.chainList,Qn.split(/\s*,\s*/))}else if($.startsWith("TER")){var dn=y.getChainProxy(y.chainStore.count-1);Ze[dn.chainname]=dn.index,Pe=($e+=1).toString(),Ue=!0}else if("REMARK"===tt&&"350"===$.substr(7,3)){if("BIOMOLECULE:"===$.substr(11,12)){var or=$.substr(23).trim();/^(0|[1-9][0-9]*)$/.test(or)&&(or="BU"+or),q=new sc(or),G[or]=q}else if("BIOMT"===$.substr(13,5)){var Ge=$.split(/\s+/),bn=parseInt($[18])-1;0===bn&&(X=new ye,Y.matrixList.push(X));var Dr=X.elements;Dr[0+bn]=parseFloat(Ge[4]),Dr[4+bn]=parseFloat(Ge[5]),Dr[8+bn]=parseFloat(Ge[6]),Dr[12+bn]=parseFloat(Ge[7])}else if("APPLY THE FOLLOWING TO CHAINS:"===$.substr(11,30)||"                   AND CHAINS:"===$.substr(11,30)){"APPLY"===$.substr(11,5)&&(Y=q.addPart());for(var tr=$.substr(41,30).split(","),jr=0,Ni=tr.length;jr<Ni;++jr){var wr=tr[jr].trim();wr&&Y.chainList.push(wr)}}}else if("HEADER"===tt)y.id=$.substr(62,4);else if("TITLE "===tt)y.title+=(y.title?" ":"")+$.substr(10,70).trim();else if("MODEL "===tt)ho=!0;else if("ENDMDL"===tt||$.startsWith("END")){if(ho)continue;I&&!N&&(B.push(new Float32Array(F)),N=!0),qi+=1,ho=!0}else if("MTRIX"===$.substr(0,5)){if("1"===$[59])continue;q&&"NCS"===q.name||(q=new sc("NCS"),G.NCS=q,Y=q.addPart());var Xo=$.split(/\s+/),si=parseInt($[5])-1;0===si&&(X=new ye,Y.matrixList.push(X));var ja=X.elements;ja[0+si]=parseFloat(Xo[2]),ja[4+si]=parseFloat(Xo[3]),ja[8+si]=parseFloat(Xo[4]),ja[12+si]=parseFloat(Xo[5])}else if("ORIGX"===$.substr(0,5)){Nt.origx||(Nt.origx=new ye);var Ns=$.split(/\s+/),od=parseInt($[5])-1,$h=Nt.origx.elements;$h[0+od]=parseFloat(Ns[1]),$h[4+od]=parseFloat(Ns[2]),$h[8+od]=parseFloat(Ns[3]),$h[12+od]=parseFloat(Ns[4])}else if("SCALE"===$.substr(0,5)){Nt.scale||(Nt.scale=new ye);var sd=$.split(/\s+/),ig=parseInt($[5])-1,og=Nt.scale.elements;og[0+ig]=parseFloat(sd[1]),og[4+ig]=parseFloat(sd[2]),og[8+ig]=parseFloat(sd[3]),og[12+ig]=parseFloat(sd[4])}else if("CRYST1"===tt){var j0=parseFloat($.substr(6,9)),lv=parseFloat($.substr(15,9)),z2=parseFloat($.substr(24,9)),Bx=parseFloat($.substr(33,7)),Ux=parseFloat($.substr(40,7)),su=parseFloat($.substr(47,7)),W0=$.substr(55,11).trim(),sg=new Float32Array(9);sg[0]=j0,sg[4]=lv,sg[8]=z2,V.push(sg),0===qi&&(Nt.a=j0,Nt.b=lv,Nt.c=z2,Nt.alpha=Bx,Nt.beta=Ux,Nt.gamma=su,Nt.spacegroup=W0)}var q0}(0,ui.length,ui)});var xo=Oe.length;if(xo){y.eachChain(function(ui){ui.entityIndex=xo}),Oe.forEach(function(ui,kr){var hr=ui.chainList.map(function(Ki){return Ze[Ki]});y.entityList.push(new Qu(y,kr,ui.name,"polymer",hr))});var Ks=Oe.length,Co=y.getResidueProxy(),Mo={};y.eachChain(function(ui){ui.entityIndex===xo&&(Co.index=ui.residueOffset,Mo[Co.resname]||(Mo[Co.resname]=[]),Mo[Co.resname].push(ui.index))}),Object.keys(Mo).forEach(function(ui){var kr=Mo[ui],hr="non-polymer",Ki=pe[ui]||ui;bh.includes(ui)&&(Ki="water",hr="water"),y.entityList.push(new Qu(y,Ks,Ki,hr,kr)),Ks+=1})}y.unitcell=void 0!==Nt.a?new Qm(Nt):void 0,(An.length||yn.length)&&Ny(y,nn),C.finalize(),y.finalizeAtoms(),c||uo(y),Di(y),y.finalizeBonds(),!An.length&&!yn.length&&q_(y),Th(y),Le&&xe.timeEnd("PdbParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("pdb",JO),Gn.add("pdb1",JO),Gn.add("ent",JO);var Y5=/\s+/,X5=/'((?:(?!'\s).)*)'|"((?:(?!"\s).)*)"|(\S+)/g,v1=/"/g,_1=/^['"]+|['"]+$/g;function YA(n){return!n||n[0]!==n[n.length-1]||"'"!==n[0]&&'"'!==n[0]?n:n.substring(1,n.length-1)}function Ju(n,r){Array.isArray(n[r])||Object.keys(n).forEach(function(i){n[i]=[n[i]]})}function td(n){return"?"!==n}function b1(n,r){return td(n)?n:r}function Ps(n){switch(n.toLowerCase()){case"?":case"sing":return 1;case"doub":return 2;case"trip":return 3;case"quad":return 4}return 0}var ZA=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"cif"},r.prototype._parse=function(){xe.time("CifParser._parse "+this.name);var C,P,w,E,ot,nt,et,vt,dt,Dt,Et,Mt,st,ht,Ft,Lt,$t,ft,Zt,bt,Gt,c=this.structure,u=this.structureBuilder,f=this.firstModelOnly,v=this.asTrajectory,_=this.cAlphaOnly,y=c.frames,S={},I={},L={},B=!1,V=null,N=!1,F=!1,z=!1,G=[],q=null,Y=null,X=null,$=null,tt=[],Nt=c.atomMap,le=c.atomStore;le.resize(this.streamer.data.length/100);var ge,Oe=0,tn=0;if(this.streamer.eachChunkOfLines(function(en){!function(en,Yn,yr){for(var Rn=0;Rn<Yn;++Rn)if(((E=(w=yr[Rn]).trim())||B||F)&&"#"!==E[0])if("data_"===E.substring(0,5))S.data=E.substring(5).trim();else if(";"===E[0])B?(F?(q===G.length&&(q=0),G[q].push(V),q+=1):!1===X?S[Y]=V:S[Y][X]=V,B=!1,V=null):(B=!0,V=E.substring(1));else if("loop_"===E)F=!0,z=!0,G.length=0,tt.length=0,q=0;else if("_"===E[0]){var Xt,Fe,nn;if(F&&!z&&(F=!1),F)Fe=(Xt=E.split("."))[0].substring(1),nn=Xt[1],1===Xt.length?(nn=!1,S[Fe]||(S[Fe]=[]),G.push(S[Fe])):(S[Fe]||(S[Fe]={}),S[Fe][nn]?Le&&xe.warn(Fe,nn,"already exists"):(S[Fe][nn]=[],G.push(S[Fe][nn]),tt.push(nn))),Y=Fe,X=nn,$=!0;else{var An=E.match(X5),lr=An[1];Fe=(Xt=An[0].split("."))[0].substring(1),nn=Xt[1],1===Xt.length?(nn=!1,S[Fe]=lr):(S[Fe]||(S[Fe]={}),S[Fe][nn]?Le&&xe.warn(Fe,nn,"already exists"):S[Fe][nn]=lr),lr||(N=!0),Y=Fe,X=nn}}else if(B)V+=w;else if(F){if(!E)continue;if("atom_site"===Y){var En=E.split(Y5);$&&(ot=tt.indexOf("auth_asym_id"),nt=tt.indexOf("auth_seq_id"),et=tt.indexOf("label_atom_id"),vt=tt.indexOf("label_comp_id"),dt=tt.indexOf("label_asym_id"),Dt=tt.indexOf("label_entity_id"),Et=tt.indexOf("label_alt_id"),$t=tt.indexOf("Cartn_x"),ft=tt.indexOf("Cartn_y"),Zt=tt.indexOf("Cartn_z"),st=tt.indexOf("id"),ht=tt.indexOf("type_symbol"),Mt=tt.indexOf("group_PDB"),bt=tt.indexOf("B_iso_or_equiv"),Ft=tt.indexOf("pdbx_PDB_model_num"),Lt=tt.indexOf("pdbx_PDB_ins_code"),Gt=tt.indexOf("occupancy"),$=!1,ge=parseInt(En[Ft]),v&&(C=[],P=0));var Gr=parseInt(En[Ft]);if(ge!==Gr&&(v&&(0===tn&&y.push(new Float32Array(C)),C=new Float32Array(3*le.count),y.push(C),P=0),tn+=1),ge=Gr,f&&tn>0)continue;var Kr=En[et].replace(v1,"");if(_&&"CA"!==Kr)continue;var Kn=parseFloat(En[$t]),qi=parseFloat(En[ft]),ho=parseFloat(En[Zt]);if(v){var ws=3*P;if(C[ws+0]=Kn,C[ws+1]=qi,C[ws+2]=ho,P+=1,tn>0)continue}var xo=En[vt],Ks=parseInt(En[nt]),Co=En[Lt];Co="?"===Co?"":Co;var Mo=En[ot],ui=En[dt],kr="H"===En[Mt][0]?1:0,hr=En[ht],Ki=parseFloat(En[bt]),ca=parseFloat(En[Gt]),la=En[Et];if(la="."===la?"":la,le.growIfFull(),le.atomTypeId[Oe]=Nt.add(Kr,hr),le.x[Oe]=Kn,le.y[Oe]=qi,le.z[Oe]=ho,le.serial[Oe]=parseInt(En[st]),le.bfactor[Oe]=isNaN(Ki)?0:Ki,le.occupancy[Oe]=isNaN(ca)?0:ca,le.altloc[Oe]=la.charCodeAt(0),u.addAtom(tn,Mo,ui,xo,Ks,kr,void 0,Co),Le){var ps=I[ui];void 0!==ps&&ps!==Mo&&Le&&xe.warn(ps,Mo)}I[ui]=Mo;var K=En[Dt];L[K]||(L[K]=new Set),L[K].add(c.chainStore.count-1),Oe+=1}else{var at=E.match(X5),pt=at.length;q===G.length&&(q=0);for(var _t=0;_t<pt;++_t)G[q+_t].push(at[_t]);q+=pt}z=!1}else if("'"===E[0]&&"'"===E[E.length-1]){var wt=E.substring(1,E.length-1);!1===X?S[Y]=wt:S[Y][X]=wt}else N?!1===X?S[Y]=E:S[Y][X]=E:Le&&xe.log("CifParser._parse: unknown state",E);else B=!1,F=!1,N=!1,G.length=0,q=null,Y=null,X=null,$=null,tt.length=0}(0,en.length,en)}),S.chem_comp&&S.chem_comp_atom)(function(n,r,i){var u,f,s=r.atomStore,c=r.atomMap,v=n.chem_comp,_=n.chem_comp_atom,y=n.chem_comp_bond;v&&(v.name&&(r.title=v.name.trim().replace(_1,"")),v.id&&(r.id=v.id.trim().replace(_1,"")));var C={};if(_){var P,w;for(f=_.comp_id.length,u=0;u<f;++u)s.growIfFull(),P=_.atom_id[u].replace(v1,""),w=_.type_symbol[u],C[P]=u,s.atomTypeId[u]=c.add(P,w),s.x[u]=_.model_Cartn_x[u],s.y[u]=_.model_Cartn_y[u],s.z[u]=_.model_Cartn_z[u],s.serial[u]=u,i.addAtom(0,"","",_.pdbx_component_comp_id[u],_.pdbx_residue_numbering?_.pdbx_residue_numbering[u]:1,1);for(u=0;u<f;++u){var I=u+f;s.growIfFull(),P=_.atom_id[u].replace(v1,""),s.atomTypeId[I]=c.add(P,w=_.type_symbol[u]),s.x[I]=_.pdbx_model_Cartn_x_ideal[u],s.y[I]=_.pdbx_model_Cartn_y_ideal[u],s.z[I]=_.pdbx_model_Cartn_z_ideal[u],s.serial[I]=I,i.addAtom(1,"","",_.pdbx_component_comp_id[u],_.pdbx_residue_numbering?_.pdbx_residue_numbering[u]:1,1)}}if(_&&y){var L,B,V;f=y.comp_id.length;var N=_.comp_id.length,F=r.getAtomProxy(),z=r.getAtomProxy();for(u=0;u<f;++u)L=y.atom_id_1[u].replace(v1,""),B=y.atom_id_2[u].replace(v1,""),V=Ps(y.value_order[u]),F.index=C[L],z.index=C[B],r.bondStore.growIfFull(),r.bondStore.addBond(F,z,V),F.index+=N,z.index+=N,r.bondStore.growIfFull(),r.bondStore.addBond(F,z,V)}})(S,c,u),u.finalize(),c.finalizeAtoms(),c.finalizeBonds(),ac(c);else if(S.atom_site_type_symbol&&S.atom_site_label&&S.atom_site_fract_x)(function(n,r,i){var s=r.atomStore,c=r.atomMap;n.data&&(r.id=n.data,r.name=n.data),r.unitcell=new Qm({a:parseFloat(n.cell_length_a),b:parseFloat(n.cell_length_b),c:parseFloat(n.cell_length_c),alpha:parseFloat(n.cell_angle_alpha),beta:parseFloat(n.cell_angle_beta),gamma:parseFloat(n.cell_angle_gamma),spacegroup:YA(n.symmetry_space_group_name_H)});for(var u=new J,f=new J,v=n.atom_site_type_symbol.length,_=0;_<v;++_)s.growIfFull(),s.atomTypeId[_]=c.add(n.atom_site_label[_],n.atom_site_type_symbol[_]),u.set(n.atom_site_fract_x[_],n.atom_site_fract_y[_],n.atom_site_fract_z[_]),u.applyMatrix4(r.unitcell.fracToCart),f.add(u),s.x[_]=u.x,s.y[_]=u.y,s.z[_]=u.z,n.atom_site_occupancy&&(s.occupancy[_]=parseFloat(n.atom_site_occupancy[_])),s.serial[_]=_,i.addAtom(0,"","","HET",1,1);f.divideScalar(v),r.center=f,Th(r);var P=new J,w=new J,E=r.biomolDict.SUPERCELL.partList[0].matrixList,S=v;function I(N){return c.get(s.atomTypeId[N]).covalent}for(var L=new ye,B=function(N){var F=I(N);u.set(s.x[N],s.y[N],s.z[N]),E.forEach(function(z){if(!L.equals(z)){P.copy(u),P.applyMatrix4(z);for(var G=0;G<v;++G){w.set(s.x[G],s.y[G],s.z[G]);var q=P.distanceToSquared(w),Y=I(G)+F,X=Y+.3,$=Y-.5;if(q<X*X&&q>$*$)return s.growIfFull(),s.atomTypeId[S]=s.atomTypeId[N],s.x[S]=P.x,s.y[S]=P.y,s.z[S]=P.z,s.occupancy[S]=s.occupancy[N],s.serial[S]=S,s.altloc[S]="A".charCodeAt(0),i.addAtom(0,"","","HET",1,1),void(S+=1)}}})},V=0;V<v;++V)B(V)})(S,c,u),u.finalize(),c.finalizeAtoms(),Di(c),c.finalizeBonds();else{var he=function(n,r,i){var u,f,v,_,s=[],c=[],y=n.struct_conf;if(y)for(Ju(y,"id"),u=0,f=y.beg_auth_seq_id.length;u<f;++u){var C=parseInt(y.pdbx_PDB_helix_class[u]);Number.isNaN(C)||(v=y.pdbx_beg_PDB_ins_code[u],_=y.pdbx_end_PDB_ins_code[u],s.push([i[y.beg_label_asym_id[u]],parseInt(y.beg_auth_seq_id[u]),b1(v,""),i[y.end_label_asym_id[u]],parseInt(y.end_auth_seq_id[u]),b1(_,""),(m1[C]||m1[""]).charCodeAt(0)]))}var P=n.struct_sheet_range;if(P)for(Ju(P,"id"),u=0,f=P.beg_auth_seq_id.length;u<f;++u)v=P.pdbx_beg_PDB_ins_code[u],_=P.pdbx_end_PDB_ins_code[u],c.push([i[P.beg_label_asym_id[u]],parseInt(P.beg_auth_seq_id[u]),b1(v,""),i[P.end_label_asym_id[u]],parseInt(P.end_auth_seq_id[u]),b1(_,"")]);return!(!y&&!P)&&{helices:s,sheets:c}}(S,0,I);if(function(n,r,i){var s={},c=r.biomolDict;if(n.pdbx_struct_oper_list){var u=n.pdbx_struct_oper_list;Ju(u,"id"),u.id.forEach(function(q,Y){var X=new ye,$=X.elements;$[0]=parseFloat(u["matrix[1][1]"][Y]),$[1]=parseFloat(u["matrix[1][2]"][Y]),$[2]=parseFloat(u["matrix[1][3]"][Y]),$[4]=parseFloat(u["matrix[2][1]"][Y]),$[5]=parseFloat(u["matrix[2][2]"][Y]),$[6]=parseFloat(u["matrix[2][3]"][Y]),$[8]=parseFloat(u["matrix[3][1]"][Y]),$[9]=parseFloat(u["matrix[3][2]"][Y]),$[10]=parseFloat(u["matrix[3][3]"][Y]),$[3]=parseFloat(u["vector[1]"][Y]),$[7]=parseFloat(u["vector[2]"][Y]),$[11]=parseFloat(u["vector[3]"][Y]),X.transpose(),s[q]=X})}if(n.pdbx_struct_assembly_gen){var f=n.pdbx_struct_assembly_gen;Ju(f,"assembly_id");var v=function(q){var Y={};return q.replace(/[()']/g,"").split(",").forEach(function($){if($.includes("-"))for(var tt=$.split("-"),ot=parseInt(tt[0]),nt=parseInt(tt[1]);ot<=nt;++ot)Y[ot]=s[ot];else Y[$]=s[$]}),Y};f.assembly_id.forEach(function(q,Y){var X={},$=f.oper_expression[Y].replace(/['"]\(|['"]/g,"");if($.includes(")(")||$.indexOf("(")>0){$=$.split("(");var tt=v($[0]),ot=v($[1]);Object.keys(tt).forEach(function(Mt){Object.keys(ot).forEach(function(st){var ht=new ye;ht.multiplyMatrices(tt[Mt],ot[st]),X[Mt+"x"+st]=ht})})}else X=v($);var nt=[];for(var et in X)nt.push(X[et]);var vt=q;/^(0|[1-9][0-9]*)$/.test(vt)&&(vt="BU"+vt);for(var dt=f.asym_id_list[Y].split(","),Dt=0,Et=dt.length;Dt<Et;++Dt)dt[Dt]=i[dt[Dt]];void 0===c[vt]&&(c[vt]=new sc(vt)),c[vt].addPart(nt,dt)})}if(n.struct_ncs_oper){var _=n.struct_ncs_oper;Ju(_,"id");var y="NCS";c[y]=new sc(y);var C=c[y].addPart();_.id.forEach(function(q,Y){if("given"!==_.code[Y]){var X=new ye,$=X.elements;$[0]=parseFloat(_["matrix[1][1]"][Y]),$[1]=parseFloat(_["matrix[1][2]"][Y]),$[2]=parseFloat(_["matrix[1][3]"][Y]),$[4]=parseFloat(_["matrix[2][1]"][Y]),$[5]=parseFloat(_["matrix[2][2]"][Y]),$[6]=parseFloat(_["matrix[2][3]"][Y]),$[8]=parseFloat(_["matrix[3][1]"][Y]),$[9]=parseFloat(_["matrix[3][2]"][Y]),$[10]=parseFloat(_["matrix[3][3]"][Y]),$[3]=parseFloat(_["vector[1]"][Y]),$[7]=parseFloat(_["vector[2]"][Y]),$[11]=parseFloat(_["vector[3]"][Y]),X.transpose(),C.matrixList.push(X)}}),0===C.matrixList.length&&delete c[y]}var P={};if(n.cell){var w=n.cell,E=parseFloat(w.length_a),S=parseFloat(w.length_b),I=parseFloat(w.length_c),L=new Float32Array(9);L[0]=E,L[4]=S,L[8]=I,r.boxes.push(L),P.a=E,P.b=S,P.c=I,P.alpha=parseFloat(w.angle_alpha),P.beta=parseFloat(w.angle_beta),P.gamma=parseFloat(w.angle_gamma)}n.symmetry&&(P.spacegroup=YA(n.symmetry["space_group_name_H-M"]));var B=new ye;if(n.database_PDB_matrix){var V=n.database_PDB_matrix,N=B.elements;N[0]=parseFloat(V["origx[1][1]"]),N[1]=parseFloat(V["origx[1][2]"]),N[2]=parseFloat(V["origx[1][3]"]),N[4]=parseFloat(V["origx[2][1]"]),N[5]=parseFloat(V["origx[2][2]"]),N[6]=parseFloat(V["origx[2][3]"]),N[8]=parseFloat(V["origx[3][1]"]),N[9]=parseFloat(V["origx[3][2]"]),N[10]=parseFloat(V["origx[3][3]"]),N[3]=parseFloat(V["origx_vector[1]"]),N[7]=parseFloat(V["origx_vector[2]"]),N[11]=parseFloat(V["origx_vector[3]"]),B.transpose(),P.origx=B}var F=new ye;if(n.atom_sites){var z=n.atom_sites,G=F.elements;G[0]=parseFloat(z["fract_transf_matrix[1][1]"]),G[1]=parseFloat(z["fract_transf_matrix[1][2]"]),G[2]=parseFloat(z["fract_transf_matrix[1][3]"]),G[4]=parseFloat(z["fract_transf_matrix[2][1]"]),G[5]=parseFloat(z["fract_transf_matrix[2][2]"]),G[6]=parseFloat(z["fract_transf_matrix[2][3]"]),G[8]=parseFloat(z["fract_transf_matrix[3][1]"]),G[9]=parseFloat(z["fract_transf_matrix[3][2]"]),G[10]=parseFloat(z["fract_transf_matrix[3][3]"]),G[3]=parseFloat(z["fract_transf_vector[1]"]),G[7]=parseFloat(z["fract_transf_vector[2]"]),G[11]=parseFloat(z["fract_transf_vector[3]"]),F.transpose(),P.scale=F}r.unitcell=void 0!==P.a?new Qm(P):void 0}(S,c,I),function(n,r,i){var s=n.struct_conn;if(s){Ju(s,"id");for(var c=/"/g,u=r.getAtomProxy(),f=r.getAtomProxy(),v={},_=0,y=s.id.length;_<y;++_){var C=s.conn_type_id[_];if("hydrog"!==C&&"mismat"!==C&&"saltbr"!==C&&"1_555"===s.ptnr1_symmetry[_]&&"1_555"===s.ptnr2_symmetry[_]){var P=s.pdbx_ptnr1_PDB_ins_code[_],w=s.pdbx_ptnr1_label_alt_id[_],E=s.ptnr1_auth_seq_id[_]+(td(P)?"^"+P:"")+":"+i[s.ptnr1_label_asym_id[_]]+"."+s.ptnr1_label_atom_id[_].replace(c,"")+(td(w)?"%"+w:""),S=v[E];if(!S){var I=new Fo(E);if(I.selection.error){Le&&xe.warn("invalid selection for connection",E);continue}S=r.getAtomIndices(I),v[E]=S}var L=s.pdbx_ptnr2_PDB_ins_code[_],B=s.pdbx_ptnr2_label_alt_id[_],V=s.ptnr2_auth_seq_id[_]+(td(L)?"^"+L:"")+":"+i[s.ptnr2_label_asym_id[_]]+"."+s.ptnr2_label_atom_id[_].replace(c,"")+(td(B)?"%"+B:""),N=v[V];if(!N){var F=new Fo(V);if(F.selection.error){Le&&xe.warn("invalid selection for connection",V);continue}N=r.getAtomIndices(F),v[V]=N}var z=S.length,G=N.length;if(z>G){var q=z;z=G,G=q;var Y=S;S=N,N=Y}if(0===z||0===G){Le&&xe.warn("no atoms found for",E,V);continue}for(var X=0;X<G;++X)u.index=S[X%z],f.index=N[X],u&&f?r.bondStore.addBond(u,f,Ps(s.pdbx_value_order[_])):xe.log("atoms for connection not found")}}}}(S,c,I),function(n,r,i){if(n.entity){Ju(n.entity,"id");for(var s=n.entity,c=s.id.length,u=0;u<c;++u){var f=s.pdbx_description[u],v=s.type[u],_=Array.from(i[s.id[u]]);r.entityList[u]=new Qu(r,u,f,v,_)}}}(S,c,L),S.struct&&S.struct.title&&(c.title=S.struct.title.trim().replace(_1,"")),S.entry&&S.entry.id&&(c.id=S.entry.id.trim().replace(_1,"")),S.pdbx_audit_revision_history){if(S.pdbx_audit_revision_history.revision_date){Ju(S.pdbx_audit_revision_history,"revision_date");var Ze=S.pdbx_audit_revision_history.revision_date.filter(td);Ze.length&&(c.header.releaseDate=Ze[0])}if(S.pdbx_database_status.recvd_initial_deposition_date){Ju(S.pdbx_database_status,"recvd_initial_deposition_date");var $e=S.pdbx_database_status.recvd_initial_deposition_date.filter(td);$e.length&&(c.header.depositionDate=$e[0])}}else if(S.database_PDB_rev){if(S.database_PDB_rev.date){Ju(S.database_PDB_rev,"date");var Pe=S.database_PDB_rev.date.filter(td);Pe.length&&(c.header.releaseDate=Pe[0])}if(S.database_PDB_rev.date_original){Ju(S.database_PDB_rev,"date_original");var Ue=S.database_PDB_rev.date_original.filter(td);Ue.length&&(c.header.depositionDate=Ue[0])}}S.reflns&&S.reflns.d_resolution_high?td(S.reflns.d_resolution_high)&&(c.header.resolution=parseFloat(S.reflns.d_resolution_high)):S.refine&&S.refine.ls_d_res_high&&td(S.refine.ls_d_res_high)&&(c.header.resolution=parseFloat(S.refine.ls_d_res_high)),S.refine&&S.refine.ls_R_factor_R_free&&td(S.refine.ls_R_factor_R_free)&&(c.header.rFree=parseFloat(S.refine.ls_R_factor_R_free)),S.refine&&S.refine.ls_R_factor_R_work&&td(S.refine.ls_R_factor_R_work)&&(c.header.rWork=parseFloat(S.refine.ls_R_factor_R_work)),S.exptl&&S.exptl.method&&(Ju(S.exptl,"method"),c.header.experimentalMethods=S.exptl.method.map(function(en){return en.replace(_1,"")})),u.finalize(),c.finalizeAtoms(),Di(c),c.finalizeBonds(),he?Ny(c,he):q_(c),Th(c),c.extraData.cif=S}Le&&xe.timeEnd("CifParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("cif",ZA),Gn.add("mcif",ZA),Gn.add("mmcif",ZA);var K5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"gro"},r.prototype._parse=function(){Le&&xe.time("GroParser._parse "+this.name);var P,w,c=this.structure,u=this.structureBuilder,f=this.firstModelOnly,v=this.asTrajectory,_=this.cAlphaOnly,y=c.frames,C=c.boxes,E=this.streamer.peekLines(3);c.title=E[0].trim();var N,F,z,G,I=E[2].length-E[2].lastIndexOf(".")-1+5,B=20+I,V=20+2*I,q=parseInt(E[1]),Y=q+3,X=c.atomMap,$=c.atomStore;$.resize(q);var tt=0,ot=0,nt=0;this.streamer.eachChunkOfLines(function(vt){!function(vt,dt,Dt){for(var Et=0;Et<dt;++Et){var Mt=++nt-1,st=Dt[Et];if(st)if(Mt%Y==0)v&&(P=new Float32Array(3*q),y.push(P),w=0);else if(Mt%Y!=1)if(Mt%Y==Y-1){var ht=st.trim().split(/\s+/),Ft=new Float32Array(9);if(Ft[0]=10*parseFloat(ht[0]),Ft[4]=10*parseFloat(ht[1]),Ft[8]=10*parseFloat(ht[2]),C.push(Ft),f)return!0;ot+=1}else{if(N=st.substr(10,5).trim(),_&&"CA"!==N)continue;var Lt=10*parseFloat(st.substr(20,I)),$t=10*parseFloat(st.substr(B,I)),ft=10*parseFloat(st.substr(V,I));if(v){var Zt=3*w;if(P[Zt+0]=Lt,P[Zt+1]=$t,P[Zt+2]=ft,w+=1,Mt>Y)continue}F=st.substr(5,5).trim(),z=parseInt(st.substr(0,5)),G=parseInt(st.substr(15,5)),$.growIfFull(),$.atomTypeId[tt]=X.add(N),$.x[tt]=Lt,$.y[tt]=$t,$.z[tt]=ft,$.serial[tt]=G,u.addAtom(ot,"","",F,z,0,"l"),tt+=1}}}(0,vt.length,vt)}),u.finalize(),c.finalizeAtoms(),uo(c),Di(c),c.finalizeBonds(),q_(c),Le&&xe.timeEnd("GroParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("gro",K5);var KA=["mmtfVersion","mmtfProducer","unitCell","spaceGroup","structureId","title","depositionDate","releaseDate","experimentalMethods","resolution","rFree","rWork","bioAssemblyList","ncsOperatorList","entityList","groupList","numBonds","numAtoms","numGroups","numChains","numModels","groupsPerChain","chainsPerModel"].concat(["xCoordList","yCoordList","zCoordList","groupIdList","groupTypeList","chainIdList","bFactorList","atomIdList","altLocList","occupancyList","secStructList","insCodeList","sequenceIndexList","chainNameList","bondAtomList","bondOrderList"]);function Xf(n,r,i){return r?new n(r.buffer,r.byteOffset,r.byteLength/(i||1)):void 0}function b0(n){return Xf(DataView,n)}function JA(n){return Xf(Int8Array,n)}function e2(n){return Xf(Int32Array,n,4)}function y0(n,r){var i=n.length/2;r||(r=new Int16Array(i));for(var s=0,c=0;s<i;++s,c+=2)r[s]=n[c]<<8^n[c+1]<<0;return r}function Wp(n,r){var i=n.length/4;r||(r=new Int32Array(i));for(var s=0,c=0;s<i;++s,c+=4)r[s]=n[c]<<24^n[c+1]<<16^n[c+2]<<8^n[c+3]<<0;return r}function x0(n,r,i){var s=n.length,c=1/r;i||(i=new Float32Array(s));for(var u=0;u<s;++u)i[u]=n[u]*c;return i}function Hh(n,r){var i,s;if(!r){var c=0;for(i=0,s=n.length;i<s;i+=2)c+=n[i+1];r=new n.constructor(c)}var u=0;for(i=0,s=n.length;i<s;i+=2)for(var f=n[i],v=n[i+1],_=0;_<v;++_)r[u]=f,++u;return r}function n2(n,r){var i=n.length;r||(r=new n.constructor(i)),i&&(r[0]=n[0]);for(var s=1;s<i;++s)r[s]=n[s]+r[s-1];return r}function mx(n,r){var u,f,i=n instanceof Int8Array?127:32767,s=-i-1,c=n.length;if(!r){var v=0;for(u=0;u<c;++u)n[u]<i&&n[u]>s&&++v;r=new Int32Array(v)}for(u=0,f=0;u<c;){for(var _=0;n[u]===i||n[u]===s;)_+=n[u],++u;_+=n[u],++u,r[f]=_,++f}return r}function tv(n,r,i){return x0(mx(n,e2(i)),r,i)}function Sl(n){var r=0,i=new DataView(n.buffer);function s(_){for(var y={},C=0;C<_;C++)y[v()]=v();return y}function c(_){var y=n.subarray(r,r+_);return r+=_,y}function u(_){var y=n.subarray(r,r+_);r+=_;var C=65535;if(_>C){for(var P=[],w=0;w<y.length;w+=C)P.push(String.fromCharCode.apply(null,y.subarray(w,w+C)));return P.join("")}return String.fromCharCode.apply(null,y)}function f(_){for(var y=new Array(_),C=0;C<_;C++)y[C]=v();return y}function v(){var y,C,_=n[r];if(0==(128&_))return r++,_;if(128==(240&_))return r++,s(C=15&_);if(144==(240&_))return r++,f(C=15&_);if(160==(224&_))return r++,u(C=31&_);if(224==(224&_))return y=i.getInt8(r),r++,y;switch(_){case 192:return r++,null;case 194:return r++,!1;case 195:return r++,!0;case 196:return C=i.getUint8(r+1),r+=2,c(C);case 197:return C=i.getUint16(r+1),r+=3,c(C);case 198:return C=i.getUint32(r+1),r+=5,c(C);case 202:return y=i.getFloat32(r+1),r+=5,y;case 203:return y=i.getFloat64(r+1),r+=9,y;case 204:return y=n[r+1],r+=2,y;case 205:return y=i.getUint16(r+1),r+=3,y;case 206:return y=i.getUint32(r+1),r+=5,y;case 208:return y=i.getInt8(r+1),r+=2,y;case 209:return y=i.getInt16(r+1),r+=3,y;case 210:return y=i.getInt32(r+1),r+=5,y;case 217:return C=i.getUint8(r+1),r+=2,u(C);case 218:return C=i.getUint16(r+1),r+=3,u(C);case 219:return C=i.getUint32(r+1),r+=5,u(C);case 220:return C=i.getUint16(r+1),r+=3,f(C);case 221:return C=i.getUint32(r+1),r+=5,f(C);case 222:return C=i.getUint16(r+1),r+=3,s(C);case 223:return C=i.getUint32(r+1),r+=5,s(C)}throw new Error("Unknown type 0x"+_.toString(16))}return v()}function Qf(n,r,i,s){switch(n){case 1:return function(n,r){var i=n.length;r||(r=new Float32Array(i/4));for(var s=b0(r),c=b0(n),u=0,f=0,v=i/4;u<v;++u,f+=4)s.setFloat32(f,c.getFloat32(f),!0);return r}(r);case 2:return JA(r);case 3:return y0(r);case 4:return Wp(r);case 5:return function(n){return Xf(Uint8Array,n)}(r);case 6:return Hh(Wp(r),new Uint8Array(i));case 7:return Hh(Wp(r));case 8:return function(n,r){return n2(Hh(n),void 0)}(Wp(r));case 9:return function(n,r,i){return x0(Hh(n,e2(i)),r,i)}(Wp(r),Wp(s)[0]);case 10:return function(n,r,i){var s=mx(n,e2(i));return function(n,r,i){return x0(n2(n,e2(i)),r,i)}(s,r,function(n){return Xf(Float32Array,n,4)}(s))}(y0(r),Wp(s)[0]);case 11:return x0(y0(r),Wp(s)[0]);case 12:return tv(y0(r),Wp(s)[0]);case 13:return tv(JA(r),Wp(s)[0]);case 14:return mx(y0(r));case 15:return mx(JA(r))}}var tk={0:"i".charCodeAt(0),1:"s".charCodeAt(0),2:"h".charCodeAt(0),3:"e".charCodeAt(0),4:"g".charCodeAt(0),5:"b".charCodeAt(0),6:"t".charCodeAt(0),7:"l".charCodeAt(0),"-1":"".charCodeAt(0)},J5=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"mmtf"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("MmtfParser._parse "+this.name);var c,u,f,v,_,w,E,S,I,L,B,y=this.structure,C=function(n,r){var i=(r=r||{}).ignoreFields,s={};return KA.forEach(function(c){var u=!!i&&-1!==i.indexOf(c),f=n[c];!u&&void 0!==f&&(s[c]=f instanceof Uint8Array?Qf.apply(null,function(n){var r=b0(n),i=r.getInt32(0),s=r.getInt32(4),c=n.subarray(8,12);return[i,n=n.subarray(12),s,c]}(f)):f)}),s}(Sl(this.streamer.data));if(["depositionDate","releaseDate","resolution","rFree","rWork","experimentalMethods"].forEach(function(Kn){void 0!==C[Kn]&&(y.header[Kn]=C[Kn])}),y.id=C.structureId,y.title=C.title,y.atomStore.addField("formalCharge",1,"int8"),this.firstModelOnly||this.asTrajectory){for(L=1,S=0,c=0,u=I=C.chainsPerModel[0];c<u;++c)S+=C.groupsPerChain[c];for(E=0,c=0,u=S;c<u;++c)E+=(_=C.groupList[C.groupTypeList[c]]).atomNameList.length;w=C.numBonds,B=[I]}else w=C.numBonds,E=C.numAtoms,S=C.numGroups,I=C.numChains,L=C.numModels,B=C.chainsPerModel;if(w+=S,this.asTrajectory)for(c=0,u=C.numModels;c<u;++c){var V=new Float32Array(3*E),N=E*c;for(f=0;f<E;++f){var F=3*f,z=f+N;V[F]=C.xCoordList[z],V[F+1]=C.yCoordList[z],V[F+2]=C.zCoordList[z]}y.frames.push(V)}var G=new Uint32Array(w),q=new Uint32Array(w),Y=new Uint8Array(w),X=new Uint32Array(E),$=new Int8Array(E),tt=new Uint32Array(S),ot=new Uint32Array(S),nt=new Uint16Array(S),et=new Uint16Array(I),vt=new Uint32Array(I),dt=new Uint32Array(I),Dt=new Uint32Array(L),Et=new Uint32Array(L),Mt=0;for(c=0,u=L;c<u;++c){var st=B[c];for(Dt[c]=Mt,Et[c]=st,f=0;f<st;++f)et[f+Mt]=c;Mt+=st}var ht=C.groupsPerChain,Ft=0;for(c=0,u=I;c<u;++c){var Lt=ht[c];for(vt[c]=Ft,dt[c]=Lt,f=0;f<Lt;++f)tt[f+Ft]=c;Ft+=Lt}var $t=0,ft=0;for(c=0,u=S;c<u;++c){var Zt=(_=C.groupList[C.groupTypeList[c]]).atomNameList.length,bt=_.formalChargeList,Gt=_.bondAtomList,Nt=_.bondOrderList;for(f=0,v=Nt.length;f<v;++f)G[ft]=$t+Gt[2*f],q[ft]=$t+Gt[2*f+1],Y[ft]=Nt[f],ft+=1;for(ot[c]=$t,nt[c]=Zt,f=0;f<Zt;++f)X[$t]=c,$[$t]=bt[f],$t+=1}var le=C.bondAtomList;if(le)for(C.bondOrderList&&Y.set(C.bondOrderList,ft),c=0,u=le.length;c<u;c+=2){var Oe=le[c],tn=le[c+1];Oe<E&&tn<E&&(G[ft]=Oe,q[ft]=tn,ft+=1)}y.bondStore.length=Y.length,y.bondStore.count=ft,y.bondStore.atomIndex1=G,y.bondStore.atomIndex2=q,y.bondStore.bondOrder=Y,y.atomStore.length=E,y.atomStore.count=E,y.atomStore.residueIndex=X,y.atomStore.atomTypeId=new Uint16Array(E),y.atomStore.x=C.xCoordList.subarray(0,E),y.atomStore.y=C.yCoordList.subarray(0,E),y.atomStore.z=C.zCoordList.subarray(0,E),y.atomStore.serial=C.atomIdList.subarray(0,E),y.atomStore.bfactor=C.bFactorList.subarray(0,E),y.atomStore.altloc=C.altLocList.subarray(0,E),y.atomStore.occupancy=C.occupancyList.subarray(0,E),y.atomStore.formalCharge=$,y.residueStore.length=S,y.residueStore.count=S,y.residueStore.chainIndex=tt,y.residueStore.residueTypeId=C.groupTypeList,y.residueStore.atomOffset=ot,y.residueStore.atomCount=nt,y.residueStore.resno=C.groupIdList.subarray(0,S),y.residueStore.sstruc=C.secStructList.subarray(0,S),y.residueStore.inscode=C.insCodeList.subarray(0,S),y.chainStore.length=I,y.chainStore.count=I,y.chainStore.entityIndex=new Uint16Array(I),y.chainStore.modelIndex=et,y.chainStore.residueOffset=vt,y.chainStore.residueCount=dt,y.chainStore.chainname=C.chainNameList.subarray(0,4*I),y.chainStore.chainid=C.chainIdList.subarray(0,4*I),y.modelStore.length=L,y.modelStore.count=L,y.modelStore.chainOffset=Dt,y.modelStore.chainCount=Et;var ge={};for(c=0,u=C.groupList.length;c<u;++c){var pe=C.groupList[c],he=[];for(f=0,v=pe.atomNameList.length;f<v;++f){var Ze=pe.elementList[f].toUpperCase();he.push(y.atomMap.add(pe.atomNameList[f],Ze))}var Pe=pe.chemCompType.toUpperCase(),Ue=I_.includes(Pe),en=pe.bondOrderList.length,Yn=new Array(en),yr=new Array(en);for(f=0;f<en;++f)Yn[f]=pe.bondAtomList[2*f],yr[f]=pe.bondAtomList[2*f+1];ge[c]=y.residueMap.add(pe.groupName,he,Ue,Pe,{atomIndices1:Yn,atomIndices2:yr,bondOrders:pe.bondOrderList})}for(c=0,u=S;c<u;++c)y.residueStore.residueTypeId[c]=ge[y.residueStore.residueTypeId[c]];for(c=0,u=y.atomStore.count;c<u;++c){var Xt=y.atomStore.residueIndex[c];y.atomStore.atomTypeId[c]=y.residueMap.list[y.residueStore.residueTypeId[Xt]].atomTypeIdList[c-y.residueStore.atomOffset[Xt]]}if(C.secStructList){var An=C.secStructList.length;for(c=0,u=y.residueStore.count;c<u;++c){var yn=tk[y.residueStore.sstruc[c%An]];void 0!==yn&&(y.residueStore.sstruc[c]=yn)}}if(C.entityList&&C.entityList.forEach(function(Kn,qi){y.entityList[qi]=new Qu(y,qi,Kn.description,Kn.type,Kn.chainIndexList)}),C.bioAssemblyList&&C.bioAssemblyList.forEach(function(Kn,qi){var ho=qi+1,ws=new sc(ho);y.biomolDict["BU"+ho]=ws;var xo={};Kn.transformList.forEach(function(Ks){var Co=(new ye).fromArray(Ks.matrix).transpose(),Mo=Ks.chainIndexList.map(function(kr){for(var hr="",Ki=0;Ki<4;++Ki){var ca=C.chainNameList[4*kr+Ki];if(!ca)break;hr+=String.fromCharCode(ca)}return hr}),ui=xo[Mo];ui?ui.matrixList.push(Co):xo[Mo]=ws.addPart([Co],Mo)})}),C.ncsOperatorList){var En=new sc("NCS"),Gr=En.addPart();C.ncsOperatorList.forEach(function(Kn){var qi=(new ye).fromArray(Kn).transpose();Gr.matrixList.push(qi)}),Gr.matrixList.length>0&&(y.biomolDict.NCS=En)}var Kr=C.unitCell;y.unitcell=Kr&&Array.isArray(Kr)&&Kr[0]?new Qm({a:Kr[0],b:Kr[1],c:Kr[2],alpha:Kr[3],beta:Kr[4],gamma:Kr[5],spacegroup:C.spaceGroup}):void 0,Lp(y,!0),nu(y,!0),y.finalizeAtoms(),y.finalizeBonds(),Th(y),Le&&xe.timeEnd("MmtfParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("mmtf",J5);var tI=/\s+/,e3={1:1,2:2,3:3,am:1,ar:1,du:1,un:1,nc:0},eI=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"mol2"},r.prototype._parse=function(){Le&&xe.time("Mol2Parser._parse "+this.name);var C,P,c=this.structure,u=this.structureBuilder,f=this.firstModelOnly,v=this.asTrajectory,_=c.frames,y=!1,w=c.atomMap,E=c.atomStore;E.resize(Math.round(this.streamer.data.length/60)),E.addField("partialCharge",1,"float32");var S=0,I=0,L=0,B=-1,V=0,N=0,q=c.getAtomProxy(),Y=c.getAtomProxy();this.streamer.eachChunkOfLines(function($){!function($,tt,ot){for(var nt=0;nt<tt;++nt){var et=ot[nt].trim();if(""!==et&&"#"!==et[0])if("@"===et[0])"@<TRIPOS>MOLECULE"===et?(N=1,I=0,++B):"@<TRIPOS>ATOM"===et?(N=2,L=E.count,v&&(P=0,C=new Float32Array(3*V),_.push(C),B>0&&(y=!0))):N="@<TRIPOS>BOND"===et?3:0;else if(1===N){if(0===I)c.title=et,c.id=et;else if(1===I){var vt=et.split(tI);V=parseInt(vt[0])}++I}else if(2===N){var dt=et.split(tI);if(f&&B>0)continue;var Dt=parseFloat(dt[2]),Et=parseFloat(dt[3]),Mt=parseFloat(dt[4]);if(v){var st=3*P;if(C[st+0]=Dt,C[st+1]=Et,C[st+2]=Mt,P+=1,y)continue}var ht=dt[0],Ft=dt[1],Lt=dt[5].split(".")[0],$t=dt[6]?parseInt(dt[6]):1,ft=dt[7]?dt[7]:"",Zt=dt[8]?parseFloat(dt[8]):0;E.growIfFull(),E.atomTypeId[S]=w.add(Ft,Lt),E.x[S]=Dt,E.y[S]=Et,E.z[S]=Mt,E.serial[S]=ht,E.partialCharge[S]=Zt,u.addAtom(B,"","",ft,$t,1),S+=1}else if(3===N){if(f&&B>0||v&&B>0)continue;var bt=et.split(tI);q.index=parseInt(bt[1])-1+L,Y.index=parseInt(bt[2])-1+L,c.bondStore.addBond(q,Y,e3[bt[3]])}}}(0,$.length,$)}),u.finalize(),c.finalizeAtoms(),uo(c),nu(c,!0),Lp(c,!0),c.finalizeBonds(),ac(c),q_(c),Le&&xe.timeEnd("Mol2Parser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("mol2",eI);var Ne=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"pqr"},Object.defineProperties(r.prototype,i),r}(JO);Gn.add("pqr",Ne);var n3=/> <(.+)>/,i2=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"sdf"},r.prototype._parse=function(){Le&&xe.time("SdfParser._parse "+this.name);var c=this.structure,u=this.structureBuilder,f=this.firstModelOnly,v=this.asTrajectory,_=this.streamer.peekLines(2);c.id=_[0].trim(),c.title=_[1].trim();var P,w,y=c.frames,C=!1,E=c.atomMap,S=c.atomStore;S.resize(Math.round(this.streamer.data.length/50)),S.addField("formalCharge",1,"int8");var Y,X,$,tt,ot,nt,et,I=c.getAtomProxy(),L=c.getAtomProxy(),B=0,V=0,N=0,F=0,z=[],G=!1,q={};c.extraData.sdf=z,this.streamer.eachChunkOfLines(function(dt){!function(dt,Dt,Et){for(var Mt=0;Mt<Dt;++Mt){var st=Et[Mt];if("$$$$"===st.substr(0,4))V=-1,++N,F=S.count,z.push(q),q={},G=!1;else if(3===V)X=parseInt(st.substr(0,3)),$=parseInt(st.substr(3,3)),et=(nt=ot=(tt=4)+X)+$,v&&(w=0,P=new Float32Array(3*X),y.push(P),N>0&&(C=!0));else if(V>=tt&&V<ot){if(f&&N>0)continue;var ht=parseFloat(st.substr(0,10)),Ft=parseFloat(st.substr(10,10)),Lt=parseFloat(st.substr(20,10));if(v){var $t=3*w;if(P[$t+0]=ht,P[$t+1]=Ft,P[$t+2]=Lt,w+=1,C)continue}var ft=st.substr(31,3).trim(),Zt=ft+(B+1);S.growIfFull(),S.atomTypeId[B]=E.add(Zt,ft),S.x[B]=ht,S.y[B]=Ft,S.z[B]=Lt,S.serial[B]=B,S.formalCharge[B]=0,u.addAtom(N,"","","HET",1,1),B+=1}else if(V>=nt&&V<et){if(f&&N>0||v&&N>0)continue;I.index=parseInt(st.substr(0,3))-1+F,L.index=parseInt(st.substr(3,3))-1+F;var bt=parseInt(st.substr(6,3));c.bondStore.addBond(I,L,bt)}else if(st.match(/M {2}CHG/))for(var Gt=parseInt(st.substr(6,3)),Nt=0,le=10;Nt<Gt;++Nt,le+=8){var tn=parseInt(st.substr(le,3))-1+F,ge=parseInt(st.substr(le+4,3));S.formalCharge[tn]=ge}else(Y=st.match(n3))?q[G=Y[1]]=[]:!1!==G&&st&&q[G].push(st);++V}}(0,dt.length,dt)}),u.finalize(),c.finalizeAtoms(),c.finalizeBonds(),ac(c),Le&&xe.timeEnd("SdfParser._parse "+this.name)},r.prototype._postProcess=function(){ac(this.structure)},Object.defineProperties(r.prototype,i),r}(jp);function bx(n,r,i){return parseInt(n.substr(r,i).trim())}Gn.add("sdf",i2),Gn.add("sd",i2);var C0=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"prmtop"},r.prototype._parse=function(){Le&&xe.time("PrmtopParser._parse "+this.name);var c=this.structure,u=this.structureBuilder,f=c.atomMap,v=c.atomStore;v.addField("partialCharge",1,"float32"),v.addField("radius",1,"float32");var P,w,E,S,I,L,B,V,N,F,z,_=[],y={},C=["NATOM","NTYPES","NBONH","MBONA","NTHETH","MTHETA","NPHIH","MPHIA","NHPARM","NPARM","NNB","NRES","NBONA","NTHETA","NPHIA","NUMBND","NUMANG","NPTRA","NATYP","NPHB","IFPERT","NBPER","NGPER","NDPER","MBPER","MGPER","MDPER","IFBOX","NMXRS","IFCAP","NUMEXTRA","NCOPY"];C.forEach(function(ot){y[ot]=0}),this.streamer.eachChunkOfLines(function(ot){!function(ot,nt,et){for(var vt=0;vt<nt;++vt){var dt=et[vt],Dt=dt.trim();if(Dt&&!dt.startsWith("%FORMAT"))if(dt.startsWith("%FLAG")){var Et=dt.substr(5).trim();F=0,"TITLE"===Et?N=1:"POINTERS"===Et?N=2:"ATOM_NAME"===Et?N=3:"CHARGE"===Et?N=4:"MASS"===Et?N=5:"RESIDUE_LABEL"===Et?N=6:"RESIDUE_POINTER"===Et?N=7:"BONDS_INC_HYDROGEN"===Et?(z=0,N=8):"BONDS_WITHOUT_HYDROGEN"===Et?(z=y.NBONH,N=9):N="RADII"===Et?10:void 0}else if(1===N)_.push(Dt);else if(2===N){for(var Mt=Math.min(F+10,32),st=0;F<Mt;++st,++F)y[C[F]]=parseInt(dt.substr(8*st,8).trim());P=new Array(y.NATOM),w=new Float32Array(y.NATOM),E=new Float32Array(y.NATOM),v.resize(y.NATOM);var ht=y.NBONH+y.MBONA;S=new Uint32Array(ht),I=new Uint32Array(ht),L=new Uint8Array(ht),B=new Array(y.NRES),V=new Uint32Array(y.NRES)}else if(3===N)for(var Ft=Math.min(F+20,y.NATOM),Lt=0;F<Ft;++Lt,++F)P[F]=dt.substr(4*Lt,4).trim();else if(4===N)for(var $t=Math.min(F+5,y.NATOM),ft=0;F<$t;++ft,++F)w[F]=parseFloat(dt.substr(16*ft,16))/18.2223;else if(5!==N)if(6===N)for(var Zt=Math.min(F+20,y.NRES),bt=0;F<Zt;++bt,++F)B[F]=dt.substr(4*bt,4).trim();else if(7===N)for(var Gt=Math.min(F+10,y.NRES),Nt=0;F<Gt;++Nt,++F)V[F]=bx(dt,8*Nt,8);else if(8===N)for(var le=Math.min(F+10,3*y.NBONH),Oe=0;F<le;++Oe,++F){var tn=F%3;0===tn&&(S[z]=bx(dt,8*Oe,8)/3),1===tn&&(I[z]=bx(dt,8*Oe,8)/3,L[z]=1,++z)}else if(9===N)for(var ge=Math.min(F+10,3*y.MBONA),pe=0;F<ge;++pe,++F){var he=F%3;0===he&&(S[z]=bx(dt,8*pe,8)/3),1===he&&(I[z]=bx(dt,8*pe,8)/3,L[z]=1,++z)}else if(10===N)for(var Ze=Math.min(F+5,y.NATOM),$e=0;F<Ze;++$e,++F)E[F]=parseFloat(dt.substr(16*$e,16))}}(0,ot.length,ot)}),c.title=_.join(" ");for(var q=y.NATOM,Y=0,X=B[0],$=1,tt=0;tt<q;++tt)tt+1===V[Y+1]&&(++Y,X=B[Y],$=Y+1),v.atomTypeId[tt]=f.add(P[tt]),v.serial[tt]=tt+1,u.addAtom(0,"","",X,$);v.partialCharge.set(w),v.radius.set(E),c.bondStore.length=L.length,c.bondStore.count=L.length,c.bondStore.atomIndex1=S,c.bondStore.atomIndex2=I,c.bondStore.bondOrder=L,u.finalize(),c.finalizeAtoms(),c.finalizeBonds(),nu(c,!0),Lp(c,!0,!0),uo(c,!0),ac(c),Le&&xe.timeEnd("PrmtopParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("prmtop",C0),Gn.add("parm7",C0);var nv=/\s+/,xx=/(^\*|REMARK)*/,Gd=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"psf"},r.prototype._parse=function(){Le&&xe.time("PsfParser._parse "+this.name);var c=this.structure,u=this.structureBuilder,f=c.atomMap,v=c.atomStore;v.addField("partialCharge",1,"float32");var y,C,P,I,L,B,_=[],w=0,E=0,S=0;this.streamer.eachChunkOfLines(function(N){!function(N,F,z){for(var G=0;G<F;++G){var q=z[G].trim();if(q){if(2===y){var Y=q.split(nv),X=parseInt(Y[0]),$=Y[1],tt=parseInt(Y[2]),ot=Y[3],nt=Y[4],et=parseFloat(Y[6]);$!==P&&(C=ri(E),++E),v.growIfFull(),v.atomTypeId[w]=f.add(nt),v.serial[w]=X,v.partialCharge[w]=et,u.addAtom(0,C,C,ot,tt),w+=1,P=$}else if(3===y)for(var vt=q.split(nv),dt=0,Dt=vt.length;dt<Dt;dt+=2)I[S]=parseInt(vt[dt])-1,L[S]=parseInt(vt[dt+1])-1,B[S]=1,S+=1;else if(1===y)_.push(q.replace(xx,"").trim());else if(4!==y&&5!==y&&6!==y)if(q.includes("!NATOM")){y=2;var Et=parseInt(q.split(nv)[0]);v.resize(Et)}else if(q.includes("!NBOND")){y=3;var Mt=parseInt(q.split(nv)[0]);I=new Uint32Array(Mt),L=new Uint32Array(Mt),B=new Uint8Array(Mt)}else q.includes("!NTITLE")?y=1:q.includes("!NTHETA")?y=4:q.includes("!NPHI")?y=5:q.includes("!NIMPHI")&&(y=6)}else y=void 0}}(0,N.length,N)}),c.title=_.join(" "),c.bondStore.length=B.length,c.bondStore.count=S,c.bondStore.atomIndex1=I,c.bondStore.atomIndex2=L,c.bondStore.bondOrder=B,u.finalize(),c.finalizeAtoms(),c.finalizeBonds(),nu(c,!0),Lp(c,!0,!0),ac(c),Le&&xe.timeEnd("PsfParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("psf",Gd);var o2=/\[ (.+) \]/,Px=/\s+/,p3=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"top"},r.prototype._parse=function(){Le&&xe.time("TopParser._parse "+this.name);var c=this.structure,u=this.structureBuilder,f=c.atomMap,v=c.bondStore,_=c.atomStore;_.addField("partialCharge",1,"float32");var P,w,y=[],C={};this.streamer.eachChunkOfLines(function(q){!function(q,Y,X){for(var $=0;$<Y;++$){var tt=X[$],ot=tt.trim();if(ot&&"*"!==ot[0]&&";"!==ot[0]){if(ot.startsWith("#include"))throw new Error("TopParser: #include statements not allowed");var nt=tt.match(o2);if(null!==nt){var et=nt[1];"moleculetype"===et?(w=3,P={atoms:[],bonds:[]}):w="atoms"===et?4:"bonds"===et?5:"system"===et?1:"molecules"===et?2:void 0;continue}var vt=ot.indexOf(";");if(-1!==vt&&(ot=ot.substring(0,vt).trim()),3===w){var dt=ot.split(Px)[0];C[dt]=P}else if(4===w){var Dt=ot.split(Px);P.atoms.push([parseInt(Dt[2]),Dt[3],Dt[4],parseFloat(Dt[6])])}else if(5===w){var Et=ot.split(Px);P.bonds.push([parseInt(Et[0]),parseInt(Et[1])])}else if(1===w)c.title=ot;else if(2===w){var Mt=ot.split(Px);y.push([Mt[0],parseInt(Mt[1])])}}}}(0,q.length,q)});var S=0,I=0;y.forEach(function(q){var X=q[1],$=C[q[0]];S+=X*$.atoms.length,I+=X*$.bonds.length}),_.resize(S),v.resize(I);var G,L=0,B=0,V=0,N=0,F=0,z=0;y.forEach(function(q){for(var Y=q[0],X=q[1],$=C[Y],tt=ri(N),ot=function(et){G=-1;var vt=bh.includes(Y)?tt:ri(V);$.atoms.forEach(function(dt){var Dt=dt[0],Et=dt[1],st=dt[3];Dt!==G&&++B,_.atomTypeId[L]=f.add(dt[2]),_.serial[L]=L+1,_.partialCharge[L]=st,u.addAtom(0,tt,vt,Et,B+1),++L,G=Dt}),$.bonds.forEach(function(dt){v.atomIndex1[F]=z+dt[0]-1,v.atomIndex2[F]=z+dt[1]-1,++F}),++V,z+=$.atoms.length},nt=0;nt<X;++nt)ot();++N}),v.count=I,u.finalize(),c.finalizeAtoms(),c.finalizeBonds(),nu(c,!0),Lp(c,!0,!0),ac(c),Le&&xe.timeEnd("TopParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(jp);Gn.add("top",p3);var C1=function(n){function r(s,c){n.call(this,s,c),this.frames=new bA(this.name,this.path)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"trajectory"},i.__objName.get=function(){return"frames"},Object.defineProperties(r.prototype,i),r}(tl),h3=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dcd"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("DcdParser._parse "+this.name);var c=_f(this.streamer.data),u=new DataView(c),f=this.frames,v=f.coordinates,_=f.boxes,y={},C=0,P=new Int32Array(c,0,23),w=P[0]!==u.getInt32(0);if(84!==P[0])for(var E=c.byteLength,S=0;S<E;S+=4)u.setFloat32(S,u.getFloat32(S),!0);84!==P[0]&&xe.error("dcd bad format, header block start"),"CORD"!==String.fromCharCode(u.getUint8(4),u.getUint8(5),u.getUint8(6),u.getUint8(7))&&xe.error("dcd bad format, format string");var L=!1,B=!1,V=!1;0!==P[22]&&(L=!0,0!==P[12]&&(B=!0),1===P[13]&&(V=!0)),y.NSET=P[2],y.ISTART=P[3],y.NSAVC=P[4],y.NAMNF=P[10],y.DELTA=L?u.getFloat32(44,w):u.getFloat64(44,w),84!==P[22]&&xe.error("dcd bad format, header block end");var N=u.getInt32(C=C+84+8,w),F=C+1;if((N-4)%80!=0&&xe.error("dcd bad format, title block start"),y.TITLE=n_(new Uint8Array(c,F,N)),u.getInt32(F+N+4-1,w)!==N&&xe.error("dcd bad format, title block end"),4!==u.getInt32(C=C+N+8,w)&&xe.error("dcd bad format, natom block start"),y.NATOM=u.getInt32(C+4,w),4!==u.getInt32(C+8,w)&&xe.error("dcd bad format, natom block end"),C=C+4+8,y.NAMNF>0)xe.error("dcd format with fixed atoms unsupported, aborting");else{for(var z=y.NATOM,G=4*z,q=0,Y=y.NSET;q<Y;++q){if(B){C+=4;var X=new Float32Array(9);X[0]=u.getFloat64(C,w),X[4]=u.getFloat64(C+16,w),X[8]=u.getFloat64(C+40,w),_.push(X),C+=48,C+=4}for(var $=new Float32Array(3*z),tt=0;tt<3;++tt){u.getInt32(C,w)!==G&&xe.error("dcd bad format, coord block start",q,tt),C+=4;for(var ot=new Float32Array(c,C,z),nt=0;nt<z;++nt)$[3*nt+tt]=ot[nt];u.getInt32(C+=G,w)!==G&&xe.error("dcd bad format, coord block end",q,tt),C+=4}v.push($),V&&(C+=4+u.getInt32(C,w)+4)}y.DELTA&&(f.deltaTime=20.45482949774598*y.DELTA),y.ISTART>=1&&(f.timeOffset=(y.ISTART-1)*f.deltaTime),Le&&xe.timeEnd("DcdParser._parse "+this.name)}},Object.defineProperties(r.prototype,i),r}(C1);function Rc(n,r){if(n)throw new TypeError("Not a valid NetCDF v3.x file: "+r)}function wx(n){n.offset%4!=0&&n.skip(4-n.offset%4)}function a2(n){var r=n.readUint32(),i=n.readChars(r);return wx(n),i}Gn.add("dcd",h3);function c2(n){switch(Number(n)){case 1:return"byte";case 2:return"char";case 3:return"short";case 4:return"int";case 5:return"float";case 6:return"double";default:return"undefined"}}function l2(n){switch(Number(n)){case 1:case 2:return 1;case 3:return 2;case 4:case 5:return 4;case 6:return 8;default:return-1}}function f3(n){switch(String(n)){case"byte":return 1;case"char":return 2;case"short":return 3;case"int":return 4;case"float":return 5;case"double":return 6;default:return-1}}function u2(n,r){if(1!==n){for(var i=new Array(n),s=0;s<n;s++)i[s]=r();return i}return r()}function d2(n,r,i){switch(r){case 1:return n.readBytes(i);case 2:return function(n){return 0===n.charCodeAt(n.length-1)?n.substring(0,n.length-1):n}(n.readChars(i));case 3:return u2(i,n.readInt16.bind(n));case 4:return u2(i,n.readInt32.bind(n));case 5:return u2(i,n.readFloat32.bind(n));case 6:return u2(i,n.readFloat64.bind(n));default:return void Rc(!0,"non valid type "+r)}}function Ox(n){var r,i=n.readUint32();if(0===i)return Rc(0!==n.readUint32(),"wrong empty tag for list of attributes"),[];Rc(12!==i,"wrong tag for list of attributes");var s=n.readUint32();r=new Array(s);for(var c=0;c<s;c++){var u=a2(n),f=n.readUint32();Rc(f<1||f>6,"non valid type "+f);var v=n.readUint32(),_=d2(n,f,v);wx(n),r[c]={name:u,type:c2(f),value:_}}return r}var Jf=function(r){var i=new ai(r);i.setBigEndian(),Rc("CDF"!==i.readChars(3),"should start with CDF");var s=i.readByte();Rc(s>2,"unknown version"),this.header=function(n,r){var i={recordDimension:{length:n.readUint32()}};i.version=r;var s=function(n){var r,i,s,c=n.readUint32();if(0===c)return Rc(0!==n.readUint32(),"wrong empty tag for list of dimensions"),[];Rc(10!==c,"wrong tag for list of dimensions");var u=n.readUint32();r=new Array(u);for(var f=0;f<u;f++){var v=a2(n),_=n.readUint32();0===_&&(i=f,s=v),r[f]={name:v,size:_}}return{dimensions:r,recordId:i,recordName:s}}(n);i.recordDimension.id=s.recordId,i.recordDimension.name=s.recordName,i.dimensions=s.dimensions,i.globalAttributes=Ox(n);var c=function(n,r,i){var u,s=n.readUint32(),c=0;if(0===s)return Rc(0!==n.readUint32(),"wrong empty tag for list of variables"),[];Rc(11!==s,"wrong tag for list of variables");var f=n.readUint32();u=new Array(f);for(var v=0;v<f;v++){for(var _=a2(n),y=n.readUint32(),C=new Array(y),P=0;P<y;P++)C[P]=n.readUint32();var w=Ox(n),E=n.readUint32();Rc(E<1&&E>6,"non valid type "+E);var S=n.readUint32(),I=n.readUint32();2===i&&(Rc(I>0,"offsets larger than 4GB not supported"),I=n.readUint32()),C[0]===r&&(c+=S),u[v]={name:_,dimensions:C,attributes:w,type:c2(E),size:S,offset:I,record:C[0]===r}}return{variables:u,recordStep:c}}(n,s.recordId,r);return i.variables=c.variables,i.recordDimension.recordStep=c.recordStep,i}(i,s),this.buffer=i},w0={version:{configurable:!0},recordDimension:{configurable:!0},dimensions:{configurable:!0},globalAttributes:{configurable:!0},variables:{configurable:!0}};w0.version.get=function(){return 1===this.header.version?"classic format":"64-bit offset format"},w0.recordDimension.get=function(){return this.header.recordDimension},w0.dimensions.get=function(){return this.header.dimensions},w0.globalAttributes.get=function(){return this.header.globalAttributes},w0.variables.get=function(){return this.header.variables},Jf.prototype.hasDataVariable=function(r){return-1!==this.header.variables.findIndex(function(i){return i.name===r})},Jf.prototype.getDataVariable=function(r){var i;return Rc(void 0===(i="string"==typeof r?this.header.variables.find(function(s){return s.name===r}):r),"variable not found"),this.buffer.seek(i.offset),i.record?function(n,r,i){for(var s=f3(r.type),c=r.size?r.size/l2(s):1,u=i.length,f=new Array(u),v=i.recordStep,_=0;_<u;_++){var y=n.offset;f[_]=d2(n,s,c),n.seek(y+v)}return f}(this.buffer,i,this.header.recordDimension):function(n,r){for(var i=f3(r.type),s=r.size/l2(i),c=new Array(s),u=0;u<s;u++)c[u]=d2(n,i,1);return c}(this.buffer,i)},Object.defineProperties(Jf.prototype,w0);var h2=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"nctraj"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("NctrajParser._parse "+this.name);var c=new Jf(this.streamer.data),u=this.frames,f=u.coordinates,v=u.boxes,_=u.times;c.getDataVariable("coordinates").forEach(function(y){f.push(new Float32Array(y))}),c.hasDataVariable("cell_lengths")&&c.getDataVariable("cell_lengths").forEach(function(y){v.push(new Float32Array(y))}),c.hasDataVariable("time")&&c.getDataVariable("time").forEach(function(y){_.push(y)}),_.length>=1&&(u.timeOffset=_[0]),_.length>=2&&(u.deltaTime=_[1]-_[0]),Le&&xe.timeEnd("NctrajParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(C1);Gn.add("nctraj",h2),Gn.add("ncdf",h2),Gn.add("nc",h2);var f2=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"trr"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("TrrParser._parse "+this.name);for(var c=_f(this.streamer.data),u=new DataView(c),f=this.frames,v=f.coordinates,_=f.boxes,y=f.times,C=0;;){var P=u.getInt32(C+=8);C+=4;var w=u.getInt32((C+=P)+8),E=u.getInt32(C+12),S=u.getInt32(C+16),I=u.getInt32(C+28),L=u.getInt32(C+32),B=u.getInt32(C+36),V=u.getInt32(C+40);C+=52;var N=w/9,F=3*V;if(y.push(8===N?u.getFloat64(C):u.getFloat32(C)),C+=2*N,w){var z=new Float32Array(9);if(8===N)for(var G=0;G<9;++G)z[G]=10*u.getFloat64(C),C+=8;else for(var q=0;q<9;++q)z[q]=10*u.getFloat32(C),C+=4;_.push(z)}if(C+=E,C+=S,I){var Y=void 0;if(8===N){Y=new Float32Array(F);for(var X=0;X<F;++X)Y[X]=10*u.getFloat64(C),C+=8}else{for(var $=new Uint32Array(c,C,F),tt=0;tt<F;++tt){var ot=$[tt];$[tt]=(255&ot)<<24|(65280&ot)<<8|ot>>8&65280|ot>>24&255}Y=new Float32Array(c,C,F);for(var nt=0;nt<F;++nt)Y[nt]*=10,C+=4}v.push(Y)}if(C+=L,(C+=B)>=c.byteLength)break}y.length>=1&&(f.timeOffset=y[0]),y.length>=2&&(f.deltaTime=y[1]-y[0]),Le&&xe.timeEnd("TrrParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(C1);Gn.add("trr",f2);var Do=new Uint32Array([0,0,0,0,0,0,0,0,0,8,10,12,16,20,25,32,40,50,64,80,101,128,161,203,256,322,406,512,645,812,1024,1290,1625,2048,2580,3250,4096,5060,6501,8192,10321,13003,16384,20642,26007,32768,41285,52015,65536,82570,104031,131072,165140,208063,262144,330280,416127,524287,660561,832255,1048576,1321122,1664510,2097152,2642245,3329021,4194304,5284491,6658042,8388607,10568983,13316085,16777216]);function g2(n){for(var r=1,i=0;n>=r&&i<32;)i++,r<<=1;return i}var w1=new Uint8Array(32);function E0(n,r){var i=1,s=0;w1[0]=1;for(var c=0;c<n;c++){var u=void 0,f=0;for(u=0;u<i;u++)w1[u]=255&(f+=w1[u]*r[c]),f>>=8;for(;0!==f;)w1[u++]=255&f,f>>=8;i=u}var v=1;for(i--;w1[i]>=v;)s++,v*=2;return s+8*i}function Gh(n,r,i,s){for(var c=(1<<i)-1,u=s[1],f=s[2],v=n[0],_=0;i>=8;)_|=(f=f<<8|r[v++])>>u<<i-8,i-=8;return i>0&&(u<i&&(u+=8,f=f<<8|r[v++]),_|=f>>(u-=i)&(1<<i)-1),_&=c,n[0]=v,n[1]=u,n[2]=f,_}var qp=new Int32Array(32);function m3(n,r,i,s,c,u,f){var v=0;for(qp[1]=0,qp[2]=0,qp[3]=0;s>8;)qp[v++]=Gh(n,r,8,f),s-=8;s>0&&(qp[v++]=Gh(n,r,s,f));for(var _=i-1;_>0;_--){for(var y=0,C=v-1;C>=0;C--){var P=(y=y<<8|qp[C])/c[_]|0;qp[C]=P,y-=P*c[_]}u[_]=y}u[0]=qp[0]|qp[1]<<8|qp[2]<<16|qp[3]<<24}var v3=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"xtc"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("XtcParser._parse "+this.name);for(var c=_f(this.streamer.data),u=new DataView(c),f=this.frames,v=f.coordinates,_=f.boxes,y=f.times,C=new Int32Array(6),P=new Int32Array(3),w=new Int32Array(3),E=new Uint32Array(3),S=new Float32Array(3),I=new Float32Array(3),L=0,B=new Int32Array(3),V=new Uint32Array(B.buffer);;){var N=void 0,F=u.getInt32(L+4),z=3*F;y.push(u.getFloat32(L+=12)),L+=4;for(var G=new Float32Array(9),q=0;q<9;++q)G[q]=10*u.getFloat32(L),L+=4;if(_.push(G),F<=9)for(var Y=0;Y<F;++Y)N[Y]=u.getFloat32(L),L+=4;else{B[0]=B[1]=B[2]=0,P[0]=P[1]=P[2]=0,E[0]=E[1]=E[2]=0,w[0]=w[1]=w[2]=0,S[0]=S[1]=S[2]=0,I[0]=I[1]=I[2]=0,N=new Float32Array(z);var X=0,$=u.getInt32(L),tt=u.getFloat32(L+=4);C[0]=u.getInt32(L+=4),C[1]=u.getInt32(L+4),C[2]=u.getInt32(L+8),C[3]=u.getInt32(L+12),C[4]=u.getInt32(L+16),C[5]=u.getInt32(L+20),P[0]=C[3]-C[0]+1,P[1]=C[4]-C[1]+1,P[2]=C[5]-C[2]+1,L+=24;var ot=void 0;(P[0]|P[1]|P[2])>16777215?(w[0]=g2(P[0]),w[1]=g2(P[1]),w[2]=g2(P[2]),ot=0):ot=E0(3,P);var nt=u.getInt32(L);L+=4;var et=nt-1,vt=Do[et=9>et?9:et]/2|0,dt=Do[nt]/2|0;E[0]=E[1]=E[2]=Do[nt];var Dt=4*Math.ceil(u.getInt32(L)/4);L+=4;var Et=1/tt,Mt=0,st=0,ht=new Uint8Array(c,L);for(S[0]=S[1]=S[2]=0;st<$;){0===ot?(S[0]=Gh(B,ht,w[0],V),S[1]=Gh(B,ht,w[1],V),S[2]=Gh(B,ht,w[2],V)):m3(B,ht,3,ot,P,S,V),st++,S[0]+=C[0],S[1]+=C[1],S[2]+=C[2],I[0]=S[0],I[1]=S[1],I[2]=S[2];var Lt=0;if(1===Gh(B,ht,1,V)&&(Mt=Gh(B,ht,5,V),Mt-=Lt=Mt%3,Lt--),Mt>0){S[0]=S[1]=S[2]=0;for(var $t=0;$t<Mt;$t+=3){if(m3(B,ht,3,nt,E,S,V),st++,S[0]+=I[0]-dt,S[1]+=I[1]-dt,S[2]+=I[2]-dt,0===$t){var ft=S[0];S[0]=I[0],I[0]=ft,ft=S[1],S[1]=I[1],I[1]=ft,ft=S[2],S[2]=I[2],I[2]=ft,N[X++]=I[0]*Et,N[X++]=I[1]*Et,N[X++]=I[2]*Et}else I[0]=S[0],I[1]=S[1],I[2]=S[2];N[X++]=S[0]*Et,N[X++]=S[1]*Et,N[X++]=S[2]*Et}}else N[X++]=S[0]*Et,N[X++]=S[1]*Et,N[X++]=S[2]*Et;if(nt+=Lt,Lt<0?(dt=vt,vt=nt>9?Do[nt-1]/2|0:0):Lt>0&&(vt=dt,dt=Do[nt]/2|0),E[0]=E[1]=E[2]=Do[nt],0===E[0]||0===E[1]||0===E[2])return void console.error("(xdrfile error) Undefined error.")}L+=Dt}for(var Zt=0;Zt<z;Zt++)N[Zt]*=10;if(v.push(N),L>=c.byteLength)break}y.length>=1&&(f.timeOffset=y[0]),y.length>=2&&(f.deltaTime=y[1]-y[0]),Le&&xe.timeEnd("XtcParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(C1);Gn.add("xtc",v3);var ov=function(n){function r(s,c){var u=c||{};n.call(this,s,u),this.volume=new no(this.name,this.path),this.voxelSize=it(u.voxelSize,1)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"volume"},i.__objName.get=function(){return"volume"},r.prototype._afterParse=function(){this.volume.setMatrix(this.getMatrix()),n.prototype._afterParse.call(this)},r.prototype.getMatrix=function(){return new ye},Object.defineProperties(r.prototype,i),r}(tl),_3=/\s+/,sI=/-?\d+(?:\.\d*)?(?:[eE][+-]?\d+)?/g,tg=.529177210859,b3=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"cube"},r.prototype._parse=function(){Le&&xe.time("CubeParser._parse "+this.name);var c=this.volume,u=this.streamer.peekLines(6),f={},v=tg*this.voxelSize;function _(S,I){var L=u[S].trim().split(_3)[I];return parseFloat(L)}f.atomCount=Math.abs(_(2,0)),f.originX=_(2,1)*tg,f.originY=_(2,2)*tg,f.originZ=_(2,3)*tg,f.NVX=_(3,0),f.NVY=_(4,0),f.NVZ=_(5,0),f.basisX=new J(_(3,1),_(3,2),_(3,3)).multiplyScalar(v),f.basisY=new J(_(4,1),_(4,2),_(4,3)).multiplyScalar(v),f.basisZ=new J(_(5,1),_(5,2),_(5,3)).multiplyScalar(v);var y=new Float32Array(f.NVX*f.NVY*f.NVZ),C=0,P=0,w=_(2,0)>0?0:1;this.streamer.eachChunkOfLines(function(S){!function(S,I,L){for(var B=0;B<I;++B){var V=L[B].trim();if(""!==V&&P>=f.atomCount+6+w)for(var N=V.match(sI),F=0,z=N.length;F<z;++F)y[C]=parseFloat(N[F]),++C;++P}}(0,S.length,S)}),c.header=f,c.setData(y,f.NVZ,f.NVY,f.NVX),Le&&xe.timeEnd("CubeParser._parse "+this.name)},r.prototype.getMatrix=function(){var c=this.volume.header,u=new ye;return u.multiply((new ye).makeTranslation(c.originX,c.originY,c.originZ)),u.multiply((new ye).makeBasis(c.basisZ,c.basisY,c.basisX)),u},Object.defineProperties(r.prototype,i),r}(ov);Gn.add("cub",b3),Gn.add("cube",b3);var m2=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dsn6"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("Dsn6Parser._parse "+this.name);var f,v,c=this.volume,u={},_=_f(this.streamer.data),y=new Int16Array(_),C=new Uint8Array(_),P=String.fromCharCode.apply(null,C.subarray(0,512));if(P.startsWith(":-)"))u.xStart=parseInt(P.substr(10,5)),u.yStart=parseInt(P.substr(15,5)),u.zStart=parseInt(P.substr(20,5)),u.xExtent=parseInt(P.substr(32,5)),u.yExtent=parseInt(P.substr(38,5)),u.zExtent=parseInt(P.substr(42,5)),u.xRate=parseInt(P.substr(52,5)),u.yRate=parseInt(P.substr(58,5)),u.zRate=parseInt(P.substr(62,5)),u.xlen=parseFloat(P.substr(73,10))*this.voxelSize,u.ylen=parseFloat(P.substr(83,10))*this.voxelSize,u.zlen=parseFloat(P.substr(93,10))*this.voxelSize,u.alpha=parseFloat(P.substr(103,10)),u.beta=parseFloat(P.substr(113,10)),u.gamma=parseFloat(P.substr(123,10)),f=parseFloat(P.substr(138,12))/100,v=parseInt(P.substr(155,8)),u.sigma=100*parseFloat(P.substr(170,12));else{if(100!==y[18])for(var w=0,E=y.length;w<E;++w){var S=y[w];y[w]=(255&S)<<8|S>>8&255}u.xStart=y[0],u.yStart=y[1],u.zStart=y[2],u.xExtent=y[3],u.yExtent=y[4],u.zExtent=y[5],u.xRate=y[6],u.yRate=y[7],u.zRate=y[8];var I=1/y[17],L=I*this.voxelSize;u.xlen=y[9]*L,u.ylen=y[10]*L,u.zlen=y[11]*L,u.alpha=y[12]*I,u.beta=y[13]*I,u.gamma=y[14]*I,f=y[15]/100,v=y[16],u.gamma=y[14]*I}c.header=u,Le&&xe.log(u,f,v);for(var B=new Float32Array(u.xExtent*u.yExtent*u.zExtent),V=512,N=Math.ceil(u.xExtent/8),F=Math.ceil(u.yExtent/8),z=Math.ceil(u.zExtent/8),G=0;G<z;++G)for(var q=0;q<F;++q)for(var Y=0;Y<N;++Y)for(var X=0;X<8;++X)for(var $=8*G+X,tt=0;tt<8;++tt)for(var ot=8*q+tt,nt=0;nt<8;++nt){var et=8*Y+nt;if(!(et<u.xExtent&&ot<u.yExtent&&$<u.zExtent)){V+=8-nt;break}B[(et*u.yExtent+ot)*u.zExtent+$]=(C[V]-v)/f,++V}c.setData(B,u.zExtent,u.yExtent,u.xExtent),u.sigma&&c.setStats(void 0,void 0,void 0,u.sigma),Le&&xe.timeEnd("Dsn6Parser._parse "+this.name)},r.prototype.getMatrix=function(){var c=this.volume.header,u=[c.xlen,0,0],f=[c.ylen*Math.cos(Math.PI/180*c.gamma),c.ylen*Math.sin(Math.PI/180*c.gamma),0],v=[c.zlen*Math.cos(Math.PI/180*c.beta),c.zlen*(Math.cos(Math.PI/180*c.alpha)-Math.cos(Math.PI/180*c.gamma)*Math.cos(Math.PI/180*c.beta))/Math.sin(Math.PI/180*c.gamma),0];v[2]=Math.sqrt(c.zlen*c.zlen*Math.sin(Math.PI/180*c.beta)*Math.sin(Math.PI/180*c.beta)-v[1]*v[1]);var _=[0,u,f,v],y=[0,c.xRate,c.yRate,c.zRate],C=[0,1,2,3],P=new ye;return P.set(_[C[1]][0]/y[C[1]],_[C[2]][0]/y[C[2]],_[C[3]][0]/y[C[3]],0,_[C[1]][1]/y[C[1]],_[C[2]][1]/y[C[2]],_[C[3]][1]/y[C[3]],0,_[C[1]][2]/y[C[1]],_[C[2]][2]/y[C[2]],_[C[3]][2]/y[C[3]],0,0,0,0,1),P.multiply((new ye).makeRotationY(Lo(90))),P.multiply((new ye).makeTranslation(-c.zStart,c.yStart,c.xStart)),P.multiply((new ye).makeScale(-1,1,1)),P},Object.defineProperties(r.prototype,i),r}(ov);Gn.add("dsn6",m2),Gn.add("brix",m2);var O1=/\s+/,aI=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"dx"},r.prototype._parse=function(){Le&&xe.time("DxParser._parse "+this.name);var c=this.volume,u=this.streamer.peekLines(30),f=this.parseHeaderLines(u),v=this.volume.header,_=f.dataLineStart,y=v.nx*v.ny*v.nz,C=new Float32Array(y),P=0,w=0;this.streamer.eachChunkOfLines(function(S){!function(S,I,L){for(var B=0;B<I;++B){if(P<y&&w>_){var V=L[B].trim();if(""!==V)for(var N=V.split(O1),F=0,z=N.length;F<z;++F)C[P]=parseFloat(N[F]),++P}++w}}(0,S.length,S)}),c.setData(C,v.nz,v.ny,v.nx),Le&&xe.timeEnd("DxParser._parse "+this.name)},r.prototype.parseHeaderLines=function(c){for(var u=this,f={},v=c.length,_=0,y=0,C=0,P=0;P<v;++P){var w=void 0,E=c[P];if(E.startsWith("object 1"))w=E.split(O1),f.nx=parseInt(w[5]),f.ny=parseInt(w[6]),f.nz=parseInt(w[7]);else if(E.startsWith("origin"))w=E.split(O1),f.xmin=parseFloat(w[1]),f.ymin=parseFloat(w[2]),f.zmin=parseFloat(w[3]);else if(E.startsWith("delta"))w=E.split(O1),0===C?f.hx=parseFloat(w[1])*u.voxelSize:1===C?f.hy=parseFloat(w[2])*u.voxelSize:2===C&&(f.hz=parseFloat(w[3])*u.voxelSize),C+=1;else if(E.startsWith("object 3")){_=P,y+=E.length+1;break}y+=E.length+1}return this.volume.header=f,{dataLineStart:_,headerByteCount:y}},r.prototype.getMatrix=function(){var c=this.volume.header,u=new ye;return u.multiply((new ye).makeRotationY(Lo(90))),u.multiply((new ye).makeTranslation(-c.zmin,c.ymin,c.xmin)),u.multiply((new ye).makeScale(-c.hz,c.hy,c.hx)),u},Object.defineProperties(r.prototype,i),r}(ov);Gn.add("dx",aI);var E1=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"dxbin"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("DxbinParser._parse "+this.name);for(var c=_f(this.streamer.data),u=function(n,r,i){void 0===r&&(r=10485760),void 0===i&&(i="\n");for(var s="",c=[],u=0;u<n.length;u+=r){var f=n_(n.subarray(u,u+r)),v=f.lastIndexOf(i);if(-1===v)s+=f;else{var _=s+f.substr(0,v);c=c.concat(_.split(i)),s=v===f.length-i.length?"":f.substr(v+i.length)}}return""!==s&&c.push(s),c}(new Uint8Array(c,0,1e3)),f=this.parseHeaderLines(u),v=this.volume.header,_=f.headerByteCount,y=v.nx*v.ny*v.nz,C=new DataView(c),P=new Float32Array(y),w=0;w<y;++w)P[w]=C.getFloat64(8*w+_,!0);this.volume.setData(P,v.nz,v.ny,v.nx),Le&&xe.timeEnd("DxbinParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(aI);Gn.add("dxbin",E1);var Ex=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"mrc"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("MrcParser._parse "+this.name);var w,c=this.volume,u={},f=_f(this.streamer.data),v=new Int32Array(f,0,56),_=new Float32Array(f,0,56),y=new DataView(f);if(u.MAP=String.fromCharCode(y.getUint8(208),y.getUint8(209),y.getUint8(210),y.getUint8(211)),u.MACHST=[y.getUint8(212),y.getUint8(213)],17===u.MACHST[0]&&17===u.MACHST[1])for(var C=f.byteLength,P=0;P<C;P+=4)y.setFloat32(P,y.getFloat32(P),!0);if(u.NX=v[0],u.NY=v[1],u.NZ=v[2],u.MODE=v[3],u.NXSTART=v[4],u.NYSTART=v[5],u.NZSTART=v[6],u.MX=v[7],u.MY=v[8],u.MZ=v[9],u.xlen=_[10]*this.voxelSize,u.ylen=_[11]*this.voxelSize,u.zlen=_[12]*this.voxelSize,u.alpha=_[13],u.beta=_[14],u.gamma=_[15],u.MAPC=v[16],u.MAPR=v[17],u.MAPS=v[18],u.DMIN=_[19],u.DMAX=_[20],u.DMEAN=_[21],u.ISPG=v[22],u.NSYMBT=v[23],u.LSKFLG=v[24],u.originX=_[49],u.originY=_[50],u.originZ=_[51],u.ARMS=_[54],c.header=u,2===u.MODE)w=new Float32Array(f,1024+u.NSYMBT,u.NX*u.NY*u.NZ);else if(0===u.MODE){if(w=new Float32Array(new Int8Array(f,1024+u.NSYMBT,u.NX*u.NY*u.NZ)),-128===v[39]&&127===v[40])for(var E=(u.DMAX-u.DMIN)/255,S=.5*(u.DMIN+u.DMAX+E),I=0,L=w.length;I<L;++I)w[I]=E*w[I]+S}else xe.error("MrcParser unknown mode",u.MODE);c.setData(w,u.NX,u.NY,u.NZ),0!==u.ARMS&&c.setStats(u.DMIN,u.DMAX,u.DMEAN,u.ARMS),Le&&xe.timeEnd("MrcParser._parse "+this.name)},r.prototype.getMatrix=function(){var c=this.volume.header,u=[c.xlen,0,0],f=[c.ylen*Math.cos(Math.PI/180*c.gamma),c.ylen*Math.sin(Math.PI/180*c.gamma),0],v=[c.zlen*Math.cos(Math.PI/180*c.beta),c.zlen*(Math.cos(Math.PI/180*c.alpha)-Math.cos(Math.PI/180*c.gamma)*Math.cos(Math.PI/180*c.beta))/Math.sin(Math.PI/180*c.gamma),0];v[2]=Math.sqrt(c.zlen*c.zlen*Math.sin(Math.PI/180*c.beta)*Math.sin(Math.PI/180*c.beta)-v[1]*v[1]);var _=[0,u,f,v],y=[0,c.MX,c.MY,c.MZ],C=[0,c.MAPC,c.MAPR,c.MAPS],P=new ye;return P.set(_[C[1]][0]/y[C[1]],_[C[2]][0]/y[C[2]],_[C[3]][0]/y[C[3]],0,_[C[1]][1]/y[C[1]],_[C[2]][1]/y[C[2]],_[C[3]][1]/y[C[3]],0,_[C[1]][2]/y[C[1]],_[C[2]][2]/y[C[2]],_[C[3]][2]/y[C[3]],0,0,0,0,1),P.setPosition(new J(c.originX,c.originY,c.originZ)),P.multiply((new ye).makeTranslation(c.NXSTART,c.NYSTART,c.NZSTART)),P},Object.defineProperties(r.prototype,i),r}(ov);Gn.add("mrc",Ex),Gn.add("ccp4",Ex),Gn.add("map",Ex);var Ha=/\s+/;function y3(n){return n.trim().split(Ha).map(parseFloat)}var v2=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"xplor"},r.prototype._parse=function(){Le&&xe.time("XplorParser._parse "+this.name);var v,c=this.volume,u=this.streamer.peekLines(8),f={},_=(v=u[2].startsWith("REMARKS")?parseInt(u[1].substring(0,8))+2:5)+3,y=y3(u[v]);f.NA=y[0],f.AMIN=y[1],f.AMAX=y[2],f.NB=y[3],f.BMIN=y[4],f.BMAX=y[5],f.NC=y[6],f.CMIN=y[7],f.CMAX=y[8];var C=y3(u[v+1]);f.a=C[0]*this.voxelSize,f.b=C[1]*this.voxelSize,f.c=C[2]*this.voxelSize,f.alpha=C[3],f.beta=C[4],f.gamma=C[5];var P=f.AMAX-f.AMIN+1,w=f.BMAX-f.BMIN+1,E=f.CMAX-f.CMIN+1,S=P*w*E,I=new Float32Array(S),L=1+P*w/6,B=0,V=0;this.streamer.eachChunkOfLines(function(F){!function(F,z,G){for(var q=0;q<z;++q){var Y=G[q];if(V>=_&&(V-_)%L!=0&&B<S)for(var X=0;X<6;++X)I[B]=parseFloat(Y.substr(12*X,12)),++B;else if(B===S){var tt=Y.trim();if(tt&&"-9999"!==tt){var ot=y3(Y);f.RAVE=ot[0],f.RSIGMA=ot[1]}}++V}}(0,F.length,F)}),c.header=f,c.setData(I,P,w,E),0!==f.RAVE&&1!==f.RSIGMA&&c.setStats(void 0,void 0,f.RAVE,f.RSIGMA),Le&&xe.timeEnd("XplorParser._parse "+this.name)},r.prototype.getMatrix=function(){var c=this.volume.header,u=[c.a,0,0],f=[c.b*Math.cos(Math.PI/180*c.gamma),c.b*Math.sin(Math.PI/180*c.gamma),0],v=[c.c*Math.cos(Math.PI/180*c.beta),c.c*(Math.cos(Math.PI/180*c.alpha)-Math.cos(Math.PI/180*c.gamma)*Math.cos(Math.PI/180*c.beta))/Math.sin(Math.PI/180*c.gamma),0];v[2]=Math.sqrt(c.c*c.c*Math.sin(Math.PI/180*c.beta)*Math.sin(Math.PI/180*c.beta)-v[1]*v[1]);var _=[0,u,f,v],y=[0,c.NA,c.NB,c.NC],C=[0,1,2,3],P=new ye;return P.set(_[C[1]][0]/y[C[1]],_[C[2]][0]/y[C[2]],_[C[3]][0]/y[C[3]],0,_[C[1]][1]/y[C[1]],_[C[2]][1]/y[C[2]],_[C[3]][1]/y[C[3]],0,_[C[1]][2]/y[C[1]],_[C[2]][2]/y[C[2]],_[C[3]][2]/y[C[3]],0,0,0,0,1),P.multiply((new ye).makeTranslation(c.AMIN,c.BMIN,c.CMIN)),P},Object.defineProperties(r.prototype,i),r}(ov);Gn.add("xplor",v2),Gn.add("cns",v2);var S1=function(n){function r(s,c){n.call(this,s,c),this.loader=this.getLoader(),this.surface=new va(this.name,this.path)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"surface"},i.__objName.get=function(){return"surface"},r.prototype._parse=function(){var c=this.loader.parse(this.streamer.asText());this.surface.fromGeometry(c)},Object.defineProperties(r.prototype,i),r}(tl);function _2(){this.regexp={vertex_pattern:/^v\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,normal_pattern:/^vn\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,uv_pattern:/^vt\s+([\d.+\-eE]+)\s+([\d.+\-eE]+)/,face_vertex:/^f\s+(-?\d+)\s+(-?\d+)\s+(-?\d+)(?:\s+(-?\d+))?/,face_vertex_uv:/^f\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+))?/,face_vertex_uv_normal:/^f\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)\s+(-?\d+)\/(-?\d+)\/(-?\d+)(?:\s+(-?\d+)\/(-?\d+)\/(-?\d+))?/,face_vertex_normal:/^f\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)\s+(-?\d+)\/\/(-?\d+)(?:\s+(-?\d+)\/\/(-?\d+))?/,object_pattern:/^[og]\s*(.+)?/,smoothing_pattern:/^s\s+(\d+|on|off)/,material_library_pattern:/^mtllib /,material_use_pattern:/^usemtl /}}_2.prototype={constructor:_2,setPath:function(n){this.path=n},_createParserState:function(){var n={objects:[],object:{},vertices:[],normals:[],startObject:function(r,i){if(this.object&&!1===this.object.fromDeclaration)return this.object.name=r,void(this.object.fromDeclaration=!1!==i);this.object={name:r||"",geometry:{vertices:[],normals:[]},fromDeclaration:!1!==i},this.objects.push(this.object)},parseVertexIndex:function(r,i){var s=parseInt(r,10);return 3*(s>=0?s-1:s+i/3)},parseNormalIndex:function(r,i){var s=parseInt(r,10);return 3*(s>=0?s-1:s+i/3)},addVertex:function(r,i,s){var c=this.vertices,u=this.object.geometry.vertices;u.push(c[r+0]),u.push(c[r+1]),u.push(c[r+2]),u.push(c[i+0]),u.push(c[i+1]),u.push(c[i+2]),u.push(c[s+0]),u.push(c[s+1]),u.push(c[s+2])},addVertexLine:function(r){var i=this.vertices,s=this.object.geometry.vertices;s.push(i[r+0]),s.push(i[r+1]),s.push(i[r+2])},addNormal:function(r,i,s){var c=this.normals,u=this.object.geometry.normals;u.push(c[r+0]),u.push(c[r+1]),u.push(c[r+2]),u.push(c[i+0]),u.push(c[i+1]),u.push(c[i+2]),u.push(c[s+0]),u.push(c[s+1]),u.push(c[s+2])},addFace:function(r,i,s,c,u,f,v,_){var E,y=this.vertices.length,C=this.parseVertexIndex(r,y),P=this.parseVertexIndex(i,y),w=this.parseVertexIndex(s,y);if(void 0===c?this.addVertex(C,P,w):(E=this.parseVertexIndex(c,y),this.addVertex(C,P,E),this.addVertex(P,w,E)),void 0!==u){var S=this.normals.length;C=this.parseNormalIndex(u,S),P=u===f?C:this.parseNormalIndex(f,S),w=u===v?C:this.parseNormalIndex(v,S),void 0===c?this.addNormal(C,P,w):(E=this.parseNormalIndex(_,S),this.addNormal(C,P,E),this.addNormal(P,w,E))}},addLineGeometry:function(r){this.object.geometry.type="Line";for(var s=this.vertices.length,c=0,u=r.length;c<u;c++)this.addVertexLine(this.parseVertexIndex(r[c],s))}};return n.startObject("",!1),n},parse:function(n){var r=this,i=this._createParserState();-1!==n.indexOf("\r\n")&&(n=n.replace(/\r\n/g,"\n")),-1!==n.indexOf("\\\n")&&(n=n.replace(/\\\n/g,""));var s,c,u=n.split("\n"),f="",v="",_="",C=[],P="function"==typeof"".trimLeft;for(s=0,c=u.length;s<c;s++)if(f=u[s],0!==(f=P?f.trimLeft():f.trim()).length&&"#"!==(v=f.charAt(0)))if("v"===v){if(" "===(_=f.charAt(1))&&null!==(C=r.regexp.vertex_pattern.exec(f)))i.vertices.push(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));else if("n"===_&&null!==(C=r.regexp.normal_pattern.exec(f)))i.normals.push(parseFloat(C[1]),parseFloat(C[2]),parseFloat(C[3]));else if("t"!==_||null===r.regexp.uv_pattern.exec(f))throw new Error("Unexpected vertex/normal/uv line: '"+f+"'")}else if("f"===v){if(null!==(C=r.regexp.face_vertex_uv_normal.exec(f)))i.addFace(C[1],C[4],C[7],C[10],C[3],C[6],C[9],C[12]);else if(null===r.regexp.face_vertex_uv.exec(f))if(null!==(C=r.regexp.face_vertex_normal.exec(f)))i.addFace(C[1],C[3],C[5],C[7],C[2],C[4],C[6],C[8]);else{if(null===(C=r.regexp.face_vertex.exec(f)))throw new Error("Unexpected face line: '"+f+"'");i.addFace(C[1],C[2],C[3],C[4])}}else if("l"===v){var w=f.substring(1).trim().split(" "),E=[],S=[];if(-1===f.indexOf("/"))E=w;else for(var I=0,L=w.length;I<L;I++){var B=w[I].split("/");""!==B[0]&&E.push(B[0]),""!==B[1]&&S.push(B[1])}i.addLineGeometry(E,S)}else if(null!==(C=r.regexp.object_pattern.exec(f))){var V=C[0].substr(1).trim();i.startObject(V)}else if(!r.regexp.material_use_pattern.test(f)&&!r.regexp.material_library_pattern.test(f)&&null===r.regexp.smoothing_pattern.exec(f)){if("\0"===f)continue;throw new Error("Unexpected line: '"+f+"'")}var N=[];for(s=0,c=i.objects.length;s<c;s++){var z=i.objects[s].geometry;if(0!==z.vertices.length){var G=new On;G.addAttribute("position",new xr(new Float32Array(z.vertices),3)),z.normals.length>0?G.addAttribute("normal",new xr(new Float32Array(z.normals),3)):G.computeVertexNormals(),N.push(G)}}return N}};var A1=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"obj"},r.prototype.getLoader=function(){return new _2},Object.defineProperties(r.prototype,i),r}(S1);function b2(){this.propertyNameMapping={}}Gn.add("obj",A1),b2.prototype={constructor:b2,setPropertyNameMapping:function(n){this.propertyNameMapping=n},bin2str:function(n){for(var r=new Uint8Array(n),i="",s=0;s<n.byteLength;s++)i+=String.fromCharCode(r[s]);return i},isASCII:function(n){return"ascii"===this.parseHeader(this.bin2str(n)).format},parse:function(n){return n instanceof ArrayBuffer?this.isASCII(n)?this.parseASCII(this.bin2str(n)):this.parseBinary(n):this.parseASCII(n)},parseHeader:function(n){var s="",c=0,u=/ply([\s\S]*)end_header\s/.exec(n);null!==u&&(s=u[1],c=u[0].length);for(var _,y,C,S,I,L,f={comments:[],elements:[],headerLength:c},v=s.split("\n"),w=0;w<v.length;w++){var E=v[w];if(""!==(E=E.trim()))switch(C=E.split(/\s+/),y=C.shift(),E=C.join(" "),y){case"format":f.format=C[0],f.version=C[1];break;case"comment":f.comments.push(E);break;case"element":void 0!==_&&f.elements.push(_),(_={}).name=C[0],_.count=parseInt(C[1]),_.properties=[];break;case"property":_.properties.push((I=this.propertyNameMapping,L=void 0,"list"===(L={type:(S=C)[0]}).type?(L.name=S[3],L.countType=S[1],L.itemType=S[2]):L.name=S[1],L.name in I&&(L.name=I[L.name]),L));break;default:console.log("unhandled",y,C)}}return void 0!==_&&f.elements.push(_),f},parseASCIINumber:function(n,r){switch(r){case"char":case"uchar":case"short":case"ushort":case"int":case"uint":case"int8":case"uint8":case"int16":case"uint16":case"int32":case"uint32":return parseInt(n);case"float":case"double":case"float32":case"float64":return parseFloat(n)}},parseASCIIElement:function(n,r){for(var i=this,s=r.split(/\s+/),c={},u=0;u<n.length;u++)if("list"===n[u].type){for(var f=[],v=i.parseASCIINumber(s.shift(),n[u].countType),_=0;_<v;_++)f.push(i.parseASCIINumber(s.shift(),n[u].itemType));c[n[u].name]=f}else c[n[u].name]=i.parseASCIINumber(s.shift(),n[u].type);return c},parseASCII:function(n){var s,i=new Nr,c=this.parseHeader(n),f="";null!==(s=/end_header\s([\s\S]*)$/.exec(n))&&(f=s[1]);var v=f.split("\n"),_=0,y=0;i.useColor=!1;for(var C=0;C<v.length;C++){var P=v[C];if(""!==(P=P.trim())){y>=c.elements[_].count&&(_++,y=0);var w=this.parseASCIIElement(c.elements[_].properties,P);this.handleElement(i,c.elements[_].name,w),y++}}return this.postProcess(i)},postProcess:function(n){if(n.useColor){for(var r=0;r<n.faces.length;r++)n.faces[r].vertexColors=[n.colors[n.faces[r].a],n.colors[n.faces[r].b],n.colors[n.faces[r].c]];n.elementsNeedUpdate=!0}return n.computeBoundingSphere(),n},handleElement:function(n,r,i){if("vertex"===r){if(n.vertices.push(new J(i.x,i.y,i.z)),"red"in i&&"green"in i&&"blue"in i){n.useColor=!0;var s=new cn;s.setRGB(i.red/255,i.green/255,i.blue/255),n.colors.push(s)}}else if("face"===r){var c=i.vertex_indices;3===c.length?n.faces.push(new bc(c[0],c[1],c[2])):4===c.length&&n.faces.push(new bc(c[0],c[1],c[3]),new bc(c[1],c[2],c[3]))}},binaryRead:function(n,r,i,s){switch(i){case"int8":case"char":return[n.getInt8(r),1];case"uint8":case"uchar":return[n.getUint8(r),1];case"int16":case"short":return[n.getInt16(r,s),2];case"uint16":case"ushort":return[n.getUint16(r,s),2];case"int32":case"int":return[n.getInt32(r,s),4];case"uint32":case"uint":return[n.getUint32(r,s),4];case"float32":case"float":return[n.getFloat32(r,s),4];case"float64":case"double":return[n.getFloat64(r,s),8]}},binaryReadElement:function(n,r,i,s){for(var f,c=this,u={},v=0,_=0;_<i.length;_++)if("list"===i[_].type){var y=[],C=(f=c.binaryRead(n,r+v,i[_].countType,s))[0];v+=f[1];for(var P=0;P<C;P++)f=c.binaryRead(n,r+v,i[_].itemType,s),y.push(f[0]),v+=f[1];u[i[_].name]=y}else f=c.binaryRead(n,r+v,i[_].type,s),u[i[_].name]=f[0],v+=f[1];return[u,v]},parseBinary:function(n){for(var f,i=new Nr,s=this.parseHeader(this.bin2str(n)),c="binary_little_endian"===s.format,u=new DataView(n,s.headerLength),v=0,_=0;_<s.elements.length;_++)for(var y=0;y<s.elements[_].count;y++)v+=(f=this.binaryReadElement(u,v,s.elements[_].properties,c))[1],this.handleElement(i,s.elements[_].name,f[0]);return this.postProcess(i)}};var cI=function(n){function r(){n.apply(this,arguments)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0}};return i.type.get=function(){return"ply"},r.prototype.getLoader=function(){return new b2},Object.defineProperties(r.prototype,i),r}(S1);Gn.add("ply",cI);var T1=function(n){function r(s,c){var u=c||{};n.call(this,s,u),this.delimiter=it(u.delimiter,","),this.comment=it(u.comment,"#"),this.columnNames=it(u.columnNames,!1),this.table={name:this.name,path:this.path,columnNames:[],data:[]}}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"csv"},i.__objName.get=function(){return"table"},r.prototype._parse=function(){var c=this,u=this.table.data,f=new RegExp("\\s*"+this.delimiter+"\\s*"),v=0;this.streamer.eachChunkOfLines(function(_){for(var y=_.length,C=0;C<y;++C){var P=_[C].trim();if(!P.startsWith(c.comment)){var w=P.split(f);0===v?c.table.columnNames=w:P&&u.push(w),++v}}})},Object.defineProperties(r.prototype,i),r}(tl);Gn.add("csv",T1);var eg=function(n){function r(s,c){var u=c||{};n.call(this,s,u),this.string=it(u.string,!1),this.json={name:this.name,path:this.path,data:{}}}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0},isJson:{configurable:!0}};return i.type.get=function(){return"json"},i.__objName.get=function(){return"json"},i.isJson.get=function(){return!0},r.prototype._parse=function(){this.json.data=this.streamer.isBinary()||this.string?JSON.parse(this.streamer.asText()):this.streamer.data},Object.defineProperties(r.prototype,i),r}(tl);Gn.add("json",eg);var x3=function(n){function r(s,c){n.call(this,s,c||{}),this.msgpack={name:this.name,path:this.path,data:void 0}}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"msgpack"},i.__objName.get=function(){return"msgpack"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("MsgpackParser._parse "+this.name),this.msgpack.data=Sl(this.streamer.data),Le&&xe.timeEnd("MsgpackParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(tl);Gn.add("msgpack",x3);var Sx=function(n){function r(s,c){n.call(this,s,c||{}),this.netcdf={name:this.name,path:this.path,data:void 0}}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0},isBinary:{configurable:!0}};return i.type.get=function(){return"netcdf"},i.__objName.get=function(){return"netcdf"},i.isBinary.get=function(){return!0},r.prototype._parse=function(){Le&&xe.time("NetcdfParser._parse "+this.name),this.netcdf.data=new Jf(this.streamer.data),Le&&xe.timeEnd("NetcdfParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(tl);Gn.add("netcdf",Sx);var S0=function(n){function r(s,c){n.call(this,s,c),this.text={name:this.name,path:this.path,data:""}}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0}};return i.type.get=function(){return"text"},i.__objName.get=function(){return"text"},r.prototype._parse=function(){this.text.data=this.streamer.asText()},Object.defineProperties(r.prototype,i),r}(tl);Gn.add("txt",S0),Gn.add("text",S0);var ng=/^['"]|['"]$/g,D1=/^<([\w-:.]+)\s*/,lI=/^([^<]*)/,y2=/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/;function C3(n){return n.replace(ng,"")}var uI=function(n){function r(s,c){var u=c||{};n.call(this,s,u),this.useDomParser=it(u.useDomParser,!1),this.xml={name:this.name,path:this.path,data:{}}}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={type:{configurable:!0},__objName:{configurable:!0},isXml:{configurable:!0}};return i.type.get=function(){return"xml"},i.__objName.get=function(){return"xml"},i.isXml.get=function(){return!0},r.prototype.__xmlParser=function(c){return function(n){return n=n.trim().replace(/<!--[\s\S]*?-->/g,""),{declaration:function(){if(f(/^<\?xml\s*/)){for(var C={attributes:{}};!v()&&!_("?>");){var P=u();if(!P)return C;C.attributes[P.name]=P.value}return f(/\?>\s*/),C}}(),root:function s(){var y=f(D1);if(y){for(var C={name:y[1],attributes:{},children:[]};!(v()||_(">")||_("?>")||_("/>"));){var P=u();if(!P)return C;C.attributes[P.name]=P.value}if(f(/^\s*\/>\s*/))return C;f(/\??>\s*/),C.content=function(){var y=f(lI);return y?y[1]:""}();for(var w;w=s();)C.children.push(w);return f(/^<\/[\w-:.]+>\s*/),C}}()};function u(){var y=f(y2);if(y)return{name:y[1],value:C3(y[2])}}function f(y){var C=n.match(y);if(C)return n=n.slice(C[0].length),C}function v(){return 0===n.length}function _(y){return 0===n.indexOf(y)}}(c)},r.prototype.__domParser=function(c){return(new window.DOMParser).parseFromString(c,"text/xml")},r.prototype._parse=function(){Le&&xe.time("XmlParser._parse "+this.name),this.xml.data=this.useDomParser?this.streamer.data instanceof window.Document?this.streamer.data:this.__domParser(this.streamer.asText()):this.__xmlParser(this.streamer.asText()),Le&&xe.timeEnd("XmlParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(tl);function M3(n,r,i){void 0===i&&(i=!1);var s=n.getNamedItem("icode").value,c=n.getNamedItem("chain").value,u=n.getNamedItem("altcode").value,f=n.getNamedItem("resnum").value;return s.trim()&&(f+="^"+s),c.trim()&&(f+=":"+c),r&&(f+="."+r),i&&u.trim()&&(f+="%"+u),f+"/"+(parseInt(n.getNamedItem("model").value)-1)}function x2(n,r,i){void 0===n[r]?n[r]=i:n[r]|=i}function P3(n,r){return null!==n&&n.value===r}function Zi(n,r,i){for(var s=0,c=r.getElementsByTagName("clash"),u=0,f=c.length;u<f;++u)if(n[c[u].attributes.getNamedItem("cid").value]){s+=1;break}return r.getElementsByTagName("angle-outlier").length>0&&(s+=1),r.getElementsByTagName("bond-outlier").length>0&&(s+=1),r.getElementsByTagName("plane-outlier").length>0&&(s+=1),P3(i.getNamedItem("rota"),"OUTLIER")&&(s+=1),P3(i.getNamedItem("rama"),"OUTLIER")&&(s+=1),P3(i.getNamedItem("RNApucker"),"outlier")&&(s+=1),s}Gn.add("xml",uI);var C2=function(r,i){this.name=r,this.rsrzDict={},this.rsccDict={},this.clashDict={},this.clashArray=[],this.geoDict={},this.geoAtomDict={},this.atomDict={},this.clashSele="NONE"},dI={type:{configurable:!0}};dI.type.get=function(){return"validation"},C2.prototype.fromXml=function(r){Le&&xe.time("Validation.fromXml");var i=this.rsrzDict,s=this.rsccDict,c=this.clashDict,u=this.clashArray,f=this.geoDict,v=this.geoAtomDict,_=this.atomDict,y=r.getElementsByTagName("ModelledSubgroup"),C={},P=[];Le&&xe.time("Validation.fromXml#clashDict");for(var w=0,E=y.length;w<E;++w){var S=y[w],I=S.attributes,L=M3(I);null!==I.getNamedItem("rsrz")&&(i[L]=parseFloat(I.getNamedItem("rsrz").value)),null!==I.getNamedItem("rscc")&&(s[L]=parseFloat(I.getNamedItem("rscc").value));var B=r.createAttribute("sele");B.value=L,I.setNamedItem(B);for(var V=S.getElementsByTagName("clash"),N=0,F=V.length;N<F;++N){var z=V[N].attributes,G=z.getNamedItem("atom").value;if("H"!==VM(G)){var q=z.getNamedItem("cid").value,Y=M3(I,G,!0);if(_[Y]=!0,void 0===C[q])C[q]={sele1:Y,res1:L};else{var X=C[q];X.res1!==L&&(X.sele2=Y,X.res2=L,P.push(X.res1,L),c[q]=X,u.push(X))}}}}Le&&xe.timeEnd("Validation.fromXml#clashDict");for(var $=0,tt=y.length;$<tt;++$){var ot=y[$],nt=ot.attributes,et=nt.getNamedItem("sele").value;if("."!==nt.getNamedItem("seq").value){var dt=Zi(c,ot,nt);dt>0&&(f[et]=dt)}else{var Dt=ot.getElementsByTagName("clash"),Et=ot.getElementsByTagName("mog-bond-outlier"),Mt=ot.getElementsByTagName("mog-angle-outlier");if(Et.length>0||Mt.length>0||Dt.length>0){var st={};v[et]=st;for(var ht=0,Ft=Dt.length;ht<Ft;++ht){var Lt=Dt[ht].attributes;c[Lt.getNamedItem("cid").value]&&x2(st,Lt.getNamedItem("atom").value,1)}for(var $t=0,ft=Et.length;$t<ft;++$t)Et[$t].attributes.getNamedItem("atoms").value.split(",").forEach(function(le){x2(st,le,2)});for(var bt=0,Gt=Mt.length;bt<Gt;++bt)Mt[bt].attributes.getNamedItem("atoms").value.split(",").forEach(function(le){x2(st,le,4)})}}}this.clashSele=P.length?P.join(" OR "):"NONE",Le&&xe.timeEnd("Validation.fromXml")},C2.prototype.getClashData=function(r){Le&&xe.time("Validation.getClashData");var i=r||{},s=i.structure,c=s.atomSet,u=new cn(it(i.color,"#f0027f")),f=s.getAtomProxy(),v=s.getAtomProxy(),_=new J,y=new J,C=new J,P=this.clashArray,w=P.length,E=new Float32Array(3*w),S=new Float32Array(3*w),I=$o(w,u.r,u.g,u.b),L=new Float32Array(w),B=new Float32Array(w);Le&&xe.time("Validation.getClashData#atomDict");var V=this.atomDict;s.eachAtom(function(F){var z=function(n){var r=n.inscode,i=n.chainname,s=n.atomname,c=n.altloc,u=n.resno+"";return r&&(u+="^"+r),i&&(u+=":"+i),s&&(u+="."+s),c&&(u+="%"+c),u+"/"+n.modelIndex}(F);!0===V[z]&&(V[z]=F.index)}),Le&&xe.timeEnd("Validation.getClashData#atomDict");var N=0;return P.forEach(function(F,z){if(f.index=V[F.sele1],v.index=V[F.sele2],void 0!==f.index&&void 0!==v.index&&c.isSet(f.index,v.index)){_.subVectors(v,f).setLength(f.vdw),y.copy(f).add(_),_.subVectors(f,v).setLength(v.vdw),C.copy(v).add(_);var G=f.distanceTo(v)/2,q=Math.sqrt(f.vdw*f.vdw-G*G),Y=Math.sqrt(v.vdw*v.vdw-G*G);y.toArray(E,3*N),C.toArray(S,3*N),L[N]=(q+Y)/2,B[N]=z,++N}}),Le&&xe.timeEnd("Validation.getClashData"),{position1:E.subarray(0,3*N),position2:S.subarray(0,3*N),color:I.subarray(0,3*N),color2:I.subarray(0,3*N),radius:L.subarray(0,N),picking:new Je(B.subarray(0,N),this,s)}},Object.defineProperties(C2.prototype,dI);var nk=function(n){function r(s,c){n.call(this,s,c||{}),this.useDomParser=!0,this.validation=new C2(this.name,this.path)}n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r;var i={__objName:{configurable:!0},isXml:{configurable:!0}};return i.__objName.get=function(){return"validation"},i.isXml.get=function(){return!0},r.prototype._parse=function(){n.prototype._parse.call(this),Le&&xe.time("ValidationParser._parse "+this.name),this.validation.fromXml(this.xml.data),Le&&xe.timeEnd("ValidationParser._parse "+this.name)},Object.defineProperties(r.prototype,i),r}(uI);function w3(n,r){return n.length===r?n:n.subarray?n.subarray(0,r):(n.length=r,n)}function A0(n,r,i,s,c){if(r.subarray&&n.subarray)n.set(r.subarray(i,i+s),c);else for(var u=0;u<s;u++)n[c+u]=r[i+u]}function M2(n,r,i,s){for(var c=65535&n|0,u=n>>>16&65535|0,f=0;0!==i;){i-=f=i>2e3?2e3:i;do{u=u+(c=c+r[s++]|0)|0}while(--f);c%=65521,u%=65521}return c|u<<16|0}Gn.add("validation",nk);var T0=function(){for(var n,r=[],i=0;i<256;i++){n=i;for(var s=0;s<8;s++)n=1&n?3988292384^n>>>1:n>>>1;r[i]=n}return r}();function ed(n,r,i,s){var c=T0,u=s+i;n^=-1;for(var f=s;f<u;f++)n=n>>>8^c[255&(n^r[f])];return-1^n}function gI(n,r){var i,s,c,u,f,v,_,y,C,P,w,E,S,I,L,B,V,N,F,z,G,q,Y,X,$;X=n.input,c=(s=n.next_in)+(n.avail_in-5),$=n.output,f=(u=n.next_out)-(r-n.avail_out),v=u+(n.avail_out-257),_=(i=n.state).dmax,y=i.wsize,C=i.whave,P=i.wnext,w=i.window,E=i.hold,S=i.bits,I=i.lencode,L=i.distcode,B=(1<<i.lenbits)-1,V=(1<<i.distbits)-1;t:do{S<15&&(E+=X[s++]<<S,E+=X[s++]<<(S+=8),S+=8),N=I[E&B];e:for(;;){if(E>>>=F=N>>>24,S-=F,0==(F=N>>>16&255))$[u++]=65535&N;else{if(!(16&F)){if(0==(64&F)){N=I[(65535&N)+(E&(1<<F)-1)];continue e}if(32&F){i.mode=12;break t}n.msg="invalid literal/length code",i.mode=30;break t}z=65535&N,(F&=15)&&(S<F&&(E+=X[s++]<<S,S+=8),z+=E&(1<<F)-1,E>>>=F,S-=F),S<15&&(E+=X[s++]<<S,E+=X[s++]<<(S+=8),S+=8),N=L[E&V];n:for(;;){if(E>>>=F=N>>>24,S-=F,!(16&(F=N>>>16&255))){if(0==(64&F)){N=L[(65535&N)+(E&(1<<F)-1)];continue n}n.msg="invalid distance code",i.mode=30;break t}if(G=65535&N,S<(F&=15)&&(E+=X[s++]<<S,(S+=8)<F&&(E+=X[s++]<<S,S+=8)),(G+=E&(1<<F)-1)>_){n.msg="invalid distance too far back",i.mode=30;break t}if(E>>>=F,S-=F,G>(F=u-f)){if((F=G-F)>C&&i.sane){n.msg="invalid distance too far back",i.mode=30;break t}if(q=0,Y=w,0===P){if(q+=y-F,F<z){z-=F;do{$[u++]=w[q++]}while(--F);q=u-G,Y=$}}else if(P<F){if(q+=y+P-F,(F-=P)<z){z-=F;do{$[u++]=w[q++]}while(--F);if(q=0,P<z){z-=F=P;do{$[u++]=w[q++]}while(--F);q=u-G,Y=$}}}else if(q+=P-F,F<z){z-=F;do{$[u++]=w[q++]}while(--F);q=u-G,Y=$}for(;z>2;)$[u++]=Y[q++],$[u++]=Y[q++],$[u++]=Y[q++],z-=3;z&&($[u++]=Y[q++],z>1&&($[u++]=Y[q++]))}else{q=u-G;do{$[u++]=$[q++],$[u++]=$[q++],$[u++]=$[q++],z-=3}while(z>2);z&&($[u++]=$[q++],z>1&&($[u++]=$[q++]))}break}}break}}while(s<c&&u<v);E&=(1<<(S-=(z=S>>3)<<3))-1,n.next_in=s-=z,n.next_out=u,n.avail_in=s<c?c-s+5:5-(s-c),n.avail_out=u<v?v-u+257:257-(u-v),i.hold=E,i.bits=S}var mI=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],vI=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],_I=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],bI=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function k1(n,r,i,s,c,u,f,v){var N,F,z,G,q,$,vt,dt,Dt,_=v.bits,y=0,C=0,P=0,w=0,E=0,S=0,I=0,L=0,B=0,V=0,Y=null,X=0,tt=new Uint16Array(16),ot=new Uint16Array(16),nt=null,et=0;for(y=0;y<=15;y++)tt[y]=0;for(C=0;C<s;C++)tt[r[i+C]]++;for(E=_,w=15;w>=1&&0===tt[w];w--);if(E>w&&(E=w),0===w)return c[u++]=20971520,c[u++]=20971520,v.bits=1,0;for(P=1;P<w&&0===tt[P];P++);for(E<P&&(E=P),L=1,y=1;y<=15;y++)if(L<<=1,(L-=tt[y])<0)return-1;if(L>0&&(0===n||1!==w))return-1;for(ot[1]=0,y=1;y<15;y++)ot[y+1]=ot[y]+tt[y];for(C=0;C<s;C++)0!==r[i+C]&&(f[ot[r[i+C]]++]=C);if(0===n?(Y=nt=f,$=19):1===n?(Y=mI,X-=257,nt=vI,et-=257,$=256):(Y=_I,nt=bI,$=-1),V=0,C=0,y=P,q=u,S=E,I=0,z=-1,G=(B=1<<E)-1,1===n&&B>852||2===n&&B>592)return 1;for(;;){vt=y-I,f[C]<$?(dt=0,Dt=f[C]):f[C]>$?(dt=nt[et+f[C]],Dt=Y[X+f[C]]):(dt=96,Dt=0),N=1<<y-I,P=F=1<<S;do{c[q+(V>>I)+(F-=N)]=vt<<24|dt<<16|Dt|0}while(0!==F);for(N=1<<y-1;V&N;)N>>=1;if(0!==N?(V&=N-1,V+=N):V=0,C++,0==--tt[y]){if(y===w)break;y=r[i+f[C]]}if(y>E&&(V&G)!==z){for(0===I&&(I=E),q+=P,L=1<<(S=y-I);S+I<w&&!((L-=tt[S+I])<=0);)S++,L<<=1;if(B+=1<<S,1===n&&B>852||2===n&&B>592)return 1;c[z=V&G]=E<<24|S<<16|q-u|0}}return 0!==V&&(c[q+V]=y-I<<24|64<<16|0),v.bits=E,0}function xI(n){return(n>>>24&255)+(n>>>8&65280)+((65280&n)<<8)+((255&n)<<24)}function T2(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function CI(n,r){var i,s;return n?(s=new T2,n.state=s,s.window=null,0!==(i=function(n,r){var i,s;return!n||!n.state||(s=n.state,r<0?(i=0,r=-r):(i=1+(r>>4),r<48&&(r&=15)),r&&(r<8||r>15))?-2:(null!==s.window&&s.wbits!==r&&(s.window=null),s.wrap=i,s.wbits=r,function(n){var r;return n&&n.state?((r=n.state).wsize=0,r.whave=0,r.wnext=0,function(n){var r;return n&&n.state?(n.total_in=n.total_out=(r=n.state).total=0,n.msg="",r.wrap&&(n.adler=1&r.wrap),r.mode=1,r.last=0,r.havedict=0,r.dmax=32768,r.head=null,r.hold=0,r.bits=0,r.lencode=r.lendyn=new Int32Array(852),r.distcode=r.distdyn=new Int32Array(592),r.sane=1,r.back=-1,0):-2}(n)):-2}(n))}(n,r))&&(n.state=null),i):-2}var D2,Yp,B3=!0;function Fx(n){if(B3){var r;for(D2=new Int32Array(512),Yp=new Int32Array(32),r=0;r<144;)n.lens[r++]=8;for(;r<256;)n.lens[r++]=9;for(;r<280;)n.lens[r++]=7;for(;r<288;)n.lens[r++]=8;for(k1(1,n.lens,0,288,D2,0,n.work,{bits:9}),r=0;r<32;)n.lens[r++]=5;k1(2,n.lens,0,32,Yp,0,n.work,{bits:5}),B3=!1}n.lencode=D2,n.lenbits=9,n.distcode=Yp,n.distbits=5}function W1(n,r,i,s){var c,u=n.state;return null===u.window&&(u.wsize=1<<u.wbits,u.wnext=0,u.whave=0,u.window=new Uint8Array(u.wsize)),s>=u.wsize?(A0(u.window,r,i-u.wsize,u.wsize,0),u.wnext=0,u.whave=u.wsize):((c=u.wsize-u.wnext)>s&&(c=s),A0(u.window,r,i-s,c,u.wnext),(s-=c)?(A0(u.window,r,i-s,s,0),u.wnext=s,u.whave=u.wsize):(u.wnext+=c,u.wnext===u.wsize&&(u.wnext=0),u.whave<u.wsize&&(u.whave+=c))),0}function I2(n,r){var i,s,c,u,f,v,_,y,C,P,w,E,S,I,B,V,N,F,z,G,q,Y,$,tt,L=0,X=new Uint8Array(4),ot=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!n||!n.state||!n.output||!n.input&&0!==n.avail_in)return-2;12===(i=n.state).mode&&(i.mode=13),f=n.next_out,c=n.output,u=n.next_in,s=n.input,y=i.hold,C=i.bits,P=v=n.avail_in,w=_=n.avail_out,Y=0;t:for(;;)switch(i.mode){case 1:if(0===i.wrap){i.mode=13;break}for(;C<16;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(2&i.wrap&&35615===y){i.check=0,X[0]=255&y,X[1]=y>>>8&255,i.check=ed(i.check,X,2,0),y=0,C=0,i.mode=2;break}if(i.flags=0,i.head&&(i.head.done=!1),!(1&i.wrap)||(((255&y)<<8)+(y>>8))%31){n.msg="incorrect header check",i.mode=30;break}if(8!=(15&y)){n.msg="unknown compression method",i.mode=30;break}if(C-=4,q=8+(15&(y>>>=4)),0===i.wbits)i.wbits=q;else if(q>i.wbits){n.msg="invalid window size",i.mode=30;break}i.dmax=1<<q,n.adler=i.check=1,i.mode=512&y?10:12,y=0,C=0;break;case 2:for(;C<16;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(i.flags=y,8!=(255&i.flags)){n.msg="unknown compression method",i.mode=30;break}if(57344&i.flags){n.msg="unknown header flags set",i.mode=30;break}i.head&&(i.head.text=y>>8&1),512&i.flags&&(X[0]=255&y,X[1]=y>>>8&255,i.check=ed(i.check,X,2,0)),y=0,C=0,i.mode=3;case 3:for(;C<32;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}i.head&&(i.head.time=y),512&i.flags&&(X[0]=255&y,X[1]=y>>>8&255,X[2]=y>>>16&255,X[3]=y>>>24&255,i.check=ed(i.check,X,4,0)),y=0,C=0,i.mode=4;case 4:for(;C<16;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}i.head&&(i.head.xflags=255&y,i.head.os=y>>8),512&i.flags&&(X[0]=255&y,X[1]=y>>>8&255,i.check=ed(i.check,X,2,0)),y=0,C=0,i.mode=5;case 5:if(1024&i.flags){for(;C<16;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}i.length=y,i.head&&(i.head.extra_len=y),512&i.flags&&(X[0]=255&y,X[1]=y>>>8&255,i.check=ed(i.check,X,2,0)),y=0,C=0}else i.head&&(i.head.extra=null);i.mode=6;case 6:if(1024&i.flags&&((E=i.length)>v&&(E=v),E&&(i.head&&(q=i.head.extra_len-i.length,i.head.extra||(i.head.extra=new Array(i.head.extra_len)),A0(i.head.extra,s,u,E,q)),512&i.flags&&(i.check=ed(i.check,s,E,u)),v-=E,u+=E,i.length-=E),i.length))break t;i.length=0,i.mode=7;case 7:if(2048&i.flags){if(0===v)break t;E=0;do{q=s[u+E++],i.head&&q&&i.length<65536&&(i.head.name+=String.fromCharCode(q))}while(q&&E<v);if(512&i.flags&&(i.check=ed(i.check,s,E,u)),v-=E,u+=E,q)break t}else i.head&&(i.head.name=null);i.length=0,i.mode=8;case 8:if(4096&i.flags){if(0===v)break t;E=0;do{q=s[u+E++],i.head&&q&&i.length<65536&&(i.head.comment+=String.fromCharCode(q))}while(q&&E<v);if(512&i.flags&&(i.check=ed(i.check,s,E,u)),v-=E,u+=E,q)break t}else i.head&&(i.head.comment=null);i.mode=9;case 9:if(512&i.flags){for(;C<16;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(y!==(65535&i.check)){n.msg="header crc mismatch",i.mode=30;break}y=0,C=0}i.head&&(i.head.hcrc=i.flags>>9&1,i.head.done=!0),n.adler=i.check=0,i.mode=12;break;case 10:for(;C<32;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}n.adler=i.check=xI(y),y=0,C=0,i.mode=11;case 11:if(0===i.havedict)return n.next_out=f,n.avail_out=_,n.next_in=u,n.avail_in=v,i.hold=y,i.bits=C,2;n.adler=i.check=1,i.mode=12;case 12:if(5===r||6===r)break t;case 13:if(i.last){y>>>=7&C,C-=7&C,i.mode=27;break}for(;C<3;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}switch(i.last=1&y,C-=1,3&(y>>>=1)){case 0:i.mode=14;break;case 1:if(Fx(i),i.mode=20,6===r){y>>>=2,C-=2;break t}break;case 2:i.mode=17;break;case 3:n.msg="invalid block type",i.mode=30}y>>>=2,C-=2;break;case 14:for(y>>>=7&C,C-=7&C;C<32;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if((65535&y)!=(y>>>16^65535)){n.msg="invalid stored block lengths",i.mode=30;break}if(i.length=65535&y,y=0,C=0,i.mode=15,6===r)break t;case 15:i.mode=16;case 16:if(E=i.length){if(E>v&&(E=v),E>_&&(E=_),0===E)break t;A0(c,s,u,E,f),v-=E,u+=E,_-=E,f+=E,i.length-=E;break}i.mode=12;break;case 17:for(;C<14;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(i.nlen=257+(31&y),C-=5,i.ndist=1+(31&(y>>>=5)),C-=5,i.ncode=4+(15&(y>>>=5)),y>>>=4,C-=4,i.nlen>286||i.ndist>30){n.msg="too many length or distance symbols",i.mode=30;break}i.have=0,i.mode=18;case 18:for(;i.have<i.ncode;){for(;C<3;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}i.lens[ot[i.have++]]=7&y,y>>>=3,C-=3}for(;i.have<19;)i.lens[ot[i.have++]]=0;if(i.lencode=i.lendyn,i.lenbits=7,Y=k1(0,i.lens,0,19,i.lencode,0,i.work,$={bits:i.lenbits}),i.lenbits=$.bits,Y){n.msg="invalid code lengths set",i.mode=30;break}i.have=0,i.mode=19;case 19:for(;i.have<i.nlen+i.ndist;){for(;V=(L=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,N=65535&L,!((B=L>>>24)<=C);){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(N<16)y>>>=B,C-=B,i.lens[i.have++]=N;else{if(16===N){for(tt=B+2;C<tt;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(y>>>=B,C-=B,0===i.have){n.msg="invalid bit length repeat",i.mode=30;break}q=i.lens[i.have-1],E=3+(3&y),y>>>=2,C-=2}else if(17===N){for(tt=B+3;C<tt;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}C-=B,q=0,E=3+(7&(y>>>=B)),y>>>=3,C-=3}else{for(tt=B+7;C<tt;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}C-=B,q=0,E=11+(127&(y>>>=B)),y>>>=7,C-=7}if(i.have+E>i.nlen+i.ndist){n.msg="invalid bit length repeat",i.mode=30;break}for(;E--;)i.lens[i.have++]=q}}if(30===i.mode)break;if(0===i.lens[256]){n.msg="invalid code -- missing end-of-block",i.mode=30;break}if(i.lenbits=9,Y=k1(1,i.lens,0,i.nlen,i.lencode,0,i.work,$={bits:i.lenbits}),i.lenbits=$.bits,Y){n.msg="invalid literal/lengths set",i.mode=30;break}if(i.distbits=6,i.distcode=i.distdyn,Y=k1(2,i.lens,i.nlen,i.ndist,i.distcode,0,i.work,$={bits:i.distbits}),i.distbits=$.bits,Y){n.msg="invalid distances set",i.mode=30;break}if(i.mode=20,6===r)break t;case 20:i.mode=21;case 21:if(v>=6&&_>=258){n.next_out=f,n.avail_out=_,n.next_in=u,n.avail_in=v,i.hold=y,i.bits=C,gI(n,w),f=n.next_out,c=n.output,_=n.avail_out,u=n.next_in,s=n.input,v=n.avail_in,y=i.hold,C=i.bits,12===i.mode&&(i.back=-1);break}for(i.back=0;V=(L=i.lencode[y&(1<<i.lenbits)-1])>>>16&255,N=65535&L,!((B=L>>>24)<=C);){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(V&&0==(240&V)){for(F=B,z=V,G=N;V=(L=i.lencode[G+((y&(1<<F+z)-1)>>F)])>>>16&255,N=65535&L,!(F+(B=L>>>24)<=C);){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}y>>>=F,C-=F,i.back+=F}if(y>>>=B,C-=B,i.back+=B,i.length=N,0===V){i.mode=26;break}if(32&V){i.back=-1,i.mode=12;break}if(64&V){n.msg="invalid literal/length code",i.mode=30;break}i.extra=15&V,i.mode=22;case 22:if(i.extra){for(tt=i.extra;C<tt;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}i.length+=y&(1<<i.extra)-1,y>>>=i.extra,C-=i.extra,i.back+=i.extra}i.was=i.length,i.mode=23;case 23:for(;V=(L=i.distcode[y&(1<<i.distbits)-1])>>>16&255,N=65535&L,!((B=L>>>24)<=C);){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(0==(240&V)){for(F=B,z=V,G=N;V=(L=i.distcode[G+((y&(1<<F+z)-1)>>F)])>>>16&255,N=65535&L,!(F+(B=L>>>24)<=C);){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}y>>>=F,C-=F,i.back+=F}if(y>>>=B,C-=B,i.back+=B,64&V){n.msg="invalid distance code",i.mode=30;break}i.offset=N,i.extra=15&V,i.mode=24;case 24:if(i.extra){for(tt=i.extra;C<tt;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}i.offset+=y&(1<<i.extra)-1,y>>>=i.extra,C-=i.extra,i.back+=i.extra}if(i.offset>i.dmax){n.msg="invalid distance too far back",i.mode=30;break}i.mode=25;case 25:if(0===_)break t;if(i.offset>(E=w-_)){if((E=i.offset-E)>i.whave&&i.sane){n.msg="invalid distance too far back",i.mode=30;break}S=E>i.wnext?i.wsize-(E-=i.wnext):i.wnext-E,E>i.length&&(E=i.length),I=i.window}else I=c,S=f-i.offset,E=i.length;E>_&&(E=_),_-=E,i.length-=E;do{c[f++]=I[S++]}while(--E);0===i.length&&(i.mode=21);break;case 26:if(0===_)break t;c[f++]=i.length,_--,i.mode=21;break;case 27:if(i.wrap){for(;C<32;){if(0===v)break t;v--,y|=s[u++]<<C,C+=8}if(n.total_out+=w-=_,i.total+=w,w&&(n.adler=i.check=i.flags?ed(i.check,c,w,f-w):M2(i.check,c,w,f-w)),w=_,(i.flags?y:xI(y))!==i.check){n.msg="incorrect data check",i.mode=30;break}y=0,C=0}i.mode=28;case 28:if(i.wrap&&i.flags){for(;C<32;){if(0===v)break t;v--,y+=s[u++]<<C,C+=8}if(y!==(4294967295&i.total)){n.msg="incorrect length check",i.mode=30;break}y=0,C=0}i.mode=29;case 29:Y=1;break t;case 30:Y=-3;break t;case 31:return-4;case 32:default:return-2}return n.next_out=f,n.avail_out=_,n.next_in=u,n.avail_in=v,i.hold=y,i.bits=C,(i.wsize||w!==n.avail_out&&i.mode<30&&(i.mode<27||4!==r))&&W1(n,n.output,n.next_out,w-n.avail_out)?(i.mode=31,-4):(w-=n.avail_out,n.total_in+=P-=n.avail_in,n.total_out+=w,i.total+=w,i.wrap&&w&&(n.adler=i.check=i.flags?ed(i.check,c,w,n.next_out-w):M2(i.check,c,w,n.next_out-w)),n.data_type=i.bits+(i.last?64:0)+(12===i.mode?128:0)+(20===i.mode||15===i.mode?256:0),(0===P&&0===w||4===r)&&0===Y&&(Y=-5),Y)}function R2(n,r){var s,i=r.length;return n&&n.state&&(0===(s=n.state).wrap||11===s.mode)?11===s.mode&&M2(1,r,i,0)!==s.check?-3:W1(n,r,i,i)?(s.mode=31,-4):(s.havedict=1,0):-2}var k2=!0,$1=!0;try{String.fromCharCode.apply(null,[0])}catch(n){k2=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){$1=!1}for(var B0=new Uint8Array(256),jh=0;jh<256;jh++)B0[jh]=jh>=252?6:jh>=248?5:jh>=240?4:jh>=224?3:jh>=192?2:1;function U3(n){var r,i,s,c,u,f=n.length,v=0;for(c=0;c<f;c++)55296==(64512&(i=n.charCodeAt(c)))&&c+1<f&&56320==(64512&(s=n.charCodeAt(c+1)))&&(i=65536+(i-55296<<10)+(s-56320),c++),v+=i<128?1:i<2048?2:i<65536?3:4;for(r=new Uint8Array(v),u=0,c=0;u<v;c++)55296==(64512&(i=n.charCodeAt(c)))&&c+1<f&&56320==(64512&(s=n.charCodeAt(c+1)))&&(i=65536+(i-55296<<10)+(s-56320),c++),i<128?r[u++]=i:i<2048?(r[u++]=192|i>>>6,r[u++]=128|63&i):i<65536?(r[u++]=224|i>>>12,r[u++]=128|i>>>6&63,r[u++]=128|63&i):(r[u++]=240|i>>>18,r[u++]=128|i>>>12&63,r[u++]=128|i>>>6&63,r[u++]=128|63&i);return r}function U0(n,r){var i,s,c,u,f=r||n.length,v=new Array(2*f);for(s=0,i=0;i<f;)if((c=n[i++])<128)v[s++]=c;else if((u=B0[c])>4)v[s++]=65533,i+=u-1;else{for(c&=2===u?31:3===u?15:7;u>1&&i<f;)c=c<<6|63&n[i++],u--;u>1?v[s++]=65533:c<65536?v[s++]=c:(v[s++]=55296|(c-=65536)>>10&1023,v[s++]=56320|1023&c)}return function(n,r){if(r<65537&&(n.subarray&&$1||!n.subarray&&k2))return String.fromCharCode.apply(null,w3(n,r));for(var i="",s=0;s<r;s++)i+=String.fromCharCode(n[s]);return i}(v,s)}function V0(n,r){var i;for((r=r||n.length)>n.length&&(r=n.length),i=r-1;i>=0&&128==(192&n[i]);)i--;return i<0||0===i?r:i+B0[n[i]]>r?i:r}B0[254]=B0[254]=1;var L2={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function X1(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}function F2(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var G3=Object.prototype.toString;function H0(n){if(!(this instanceof H0))return new H0(n);this.options=function(n){for(var r=Array.prototype.slice.call(arguments,1);r.length;){var i=r.shift();if(i){if("object"!=typeof i)throw new TypeError(i+"must be non-object");for(var s in i)i.hasOwnProperty(s)&&(n[s]=i[s])}}return n}({chunkSize:16384,windowBits:0,to:""},n||{});var r=this.options;r.raw&&r.windowBits>=0&&r.windowBits<16&&(r.windowBits=-r.windowBits,0===r.windowBits&&(r.windowBits=-15)),r.windowBits>=0&&r.windowBits<16&&!(n&&n.windowBits)&&(r.windowBits+=32),r.windowBits>15&&r.windowBits<48&&0==(15&r.windowBits)&&(r.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new X1,this.strm.avail_out=0;var i=CI(this.strm,r.windowBits);if(0!==i)throw new Error(L2[i]);this.header=new F2,function(n,r){var i;n&&n.state&&0!=(2&(i=n.state).wrap)&&(i.head=r,r.done=!1)}(this.strm,this.header)}H0.prototype.push=function(n,r){var f,v,_,y,C,P,i=this,s=this.strm,c=this.options.chunkSize,u=this.options.dictionary,w=!1;if(this.ended)return!1;v=r===~~r?r:!0===r?4:0,s.input="string"==typeof n?function(n){for(var r=new Uint8Array(n.length),i=0,s=r.length;i<s;i++)r[i]=n.charCodeAt(i);return r}(n):"[object ArrayBuffer]"===G3.call(n)?new Uint8Array(n):n,s.next_in=0,s.avail_in=s.input.length;do{if(0===s.avail_out&&(s.output=new Uint8Array(c),s.next_out=0,s.avail_out=c),2===(f=I2(s,0))&&u&&(P="string"==typeof u?U3(u):"[object ArrayBuffer]"===G3.call(u)?new Uint8Array(u):u,f=R2(i.strm,P)),-5===f&&!0===w&&(f=0,w=!1),1!==f&&0!==f)return i.onEnd(f),i.ended=!0,!1;s.next_out&&(0===s.avail_out||1===f||0===s.avail_in&&(4===v||2===v))&&("string"===i.options.to?(_=V0(s.output,s.next_out),y=s.next_out-_,C=U0(s.output,_),s.next_out=y,s.avail_out=c-y,y&&A0(s.output,s.output,_,y,0),i.onData(C)):i.onData(w3(s.output,s.next_out))),0===s.avail_in&&0===s.avail_out&&(w=!0)}while((s.avail_in>0||0===s.avail_out)&&1!==f);return 1===f&&(v=4),4===v?(f=function(n){if(!n||!n.state)return-2;var r=n.state;return r.window&&(r.window=null),n.state=null,0}(this.strm),this.onEnd(f),this.ended=!0,0===f):(2===v&&(this.onEnd(0),s.avail_out=0),!0)},H0.prototype.onData=function(n){this.chunks.push(n)},H0.prototype.onEnd=function(n){0===n&&(this.result="string"===this.options.to?this.chunks.join(""):function(n){var r,i,s,c,u,f;for(s=0,r=0,i=n.length;r<i;r++)s+=n[r].length;for(f=new Uint8Array(s),c=0,r=0,i=n.length;r<i;r++)f.set(u=n[r],c),c+=u.length;return f}(this.chunks)),this.chunks=[],this.err=n,this.msg=this.strm.msg},nm.add("gz",function(n){var r;n instanceof ArrayBuffer&&(n=new Uint8Array(n));try{r=function(n,r){var i=new H0(void 0);if(i.push(n,!0),i.err)throw i.msg;return i.result}(n)}catch(i){r=n}return r});var qh=function(){},B2="//mmtf.rcsb.org/v1.0/full/",sk=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.getUrl=function(s){var f,c=ia(s),u=c.name.substr(0,4);return!["pdb","cif"].includes(c.ext)||!1!==c.compressed&&"gz"!==c.compressed?"mmtf"===c.ext?f=c.base.endsWith(".bb")?"//mmtf.rcsb.org/v1.0/reduced/"+u:B2+u:(c.ext&&xe.warn("unsupported ext",c.ext),f=B2+u):f="//files.rcsb.org/download/"+c.path,iw()+f},r.prototype.getExt=function(s){return ia(s).ext||"mmtf"},r}(qh);hh.add("rcsb",new sk);var j3=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.getUrl=function(s){var f,c=ia(s),u=c.name;return!c.ext||"sdf"===c.ext||xe.warn("unsupported ext",c.ext),f="//pubchem.ncbi.nlm.nih.gov/rest/pug/compound/cid/"+u+"/SDF?record_type=3d",iw()+f},r.prototype.getExt=function(s){return ia(s).ext||"sdf"},r}(qh);hh.add("pubchem",new j3);var W3=function(n){function r(){n.apply(this,arguments)}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.getUrl=function(s){return s},r.prototype.getExt=function(s){return ia(s).ext},r}(qh);hh.add("ftp",new W3),hh.add("http",new W3),hh.add("https",new W3);var ak=/^((http|https|ftp):)*\/\//,wI=function(n){function r(i){void 0===i&&(i=""),n.call(this),this.baseUrl=i}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.getUrl=function(s){var c=ia(s),u=this.baseUrl+c.path;return ak.test(this.baseUrl)||(u=function(n){var r=window.location,i=r.pathname,s=i.substring(0,i.lastIndexOf("/")+1);return r.origin+s+n}(u)),u},r.prototype.getExt=function(s){return ia(s).ext},r}(qh),ck=function(n){function r(i){void 0===i&&(i=""),n.call(this),this.baseUrl=i}return n&&(r.__proto__=n),(r.prototype=Object.create(n&&n.prototype)).constructor=r,r.prototype.getListing=function(s){void 0===s&&(s="");var c=this.baseUrl+"dir/"+s;return"/"!==c[c.length-1]&&(c+="/"),d_(c,{ext:"json"}).then(function(u){return{path:s,data:u.data}})},r.prototype.getUrl=function(s){var c=ia(s);return this.baseUrl+"file/"+c.path+c.query},r.prototype.getCountUrl=function(s){var c=ia(s);return this.baseUrl+"traj/numframes/"+c.path+c.query},r.prototype.getFrameUrl=function(s,c){var u=ia(s);return this.baseUrl+"traj/frame/"+c+"/"+u.path+u.query},r.prototype.getFrameParams=function(s,c){return"atomIndices="+c.join(";")},r.prototype.getPathUrl=function(s,c){var u=ia(s);return this.baseUrl+"traj/path/"+c+"/"+u.path+u.query},r.prototype.getExt=function(s){return ia(s).ext},r}(qh);function OI(n,r){return{type:"integer",max:n,min:r}}function K1(n,r,i){return{type:"number",precision:n,max:r,min:i}}function G0(n,r,i){return{type:"range",step:n,max:r,min:i}}function p(){for(var n,r=[],i=arguments.length;i--;)r[i]=arguments[i];return{type:"select",options:r.reduce(function(s,c){return Object.assign({},s,((n={})[c]=c,n))},{})}}var h={backgroundColor:{type:"color"},quality:p("auto","low","medium","high"),sampleLevel:G0(1,5,-1),impostor:{type:"boolean"},workerDefault:{type:"boolean"},rotateSpeed:K1(1,10,0),zoomSpeed:K1(1,10,0),panSpeed:K1(1,10,0),clipNear:G0(1,100,0),clipFar:G0(1,100,0),clipDist:OI(200,0),fogNear:G0(1,100,0),fogFar:G0(1,100,0),cameraType:p("perspective","orthographic"),cameraFov:G0(1,120,15),lightColor:{type:"color"},lightIntensity:K1(2,10,0),ambientColor:{type:"color"},ambientIntensity:K1(2,10,0),hoverTimeout:OI(1e4,-1),tooltip:{type:"boolean"},mousePreset:p.apply(void 0,Object.keys(m5))},x="2.0.0-dev0.0";window.Promise||(window.Promise=Me)},6215:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{X:()=>Me});var A=ct(9765),oe=ct(7971);class Me extends A.xQ{constructor(Jt){super(),this._value=Jt}get value(){return this.getValue()}_subscribe(Jt){const xt=super._subscribe(Jt);return xt&&!xt.closed&&Jt.next(this._value),xt}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new oe.N;return this._value}next(Jt){super.next(this._value=Jt)}}},7574:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{y:()=>Qt});var A=ct(7393),Me=ct(9181),we=ct(6490),xt=ct(6554),qt=ct(4487);var yt=ct(2494);let Qt=(()=>{class se{constructor(Qe){this._isScalar=!1,Qe&&(this._subscribe=Qe)}lift(Qe){const on=new se;return on.source=this,on.operator=Qe,on}subscribe(Qe,on,vr){const{operator:sn}=this,Mn=function(se,ln,Qe){if(se){if(se instanceof A.L)return se;if(se[Me.b])return se[Me.b]()}return se||ln||Qe?new A.L(se,ln,Qe):new A.L(we.c)}(Qe,on,vr);if(Mn.add(sn?sn.call(Mn,this.source):this.source||yt.v.useDeprecatedSynchronousErrorHandling&&!Mn.syncErrorThrowable?this._subscribe(Mn):this._trySubscribe(Mn)),yt.v.useDeprecatedSynchronousErrorHandling&&Mn.syncErrorThrowable&&(Mn.syncErrorThrowable=!1,Mn.syncErrorThrown))throw Mn.syncErrorValue;return Mn}_trySubscribe(Qe){try{return this._subscribe(Qe)}catch(on){yt.v.useDeprecatedSynchronousErrorHandling&&(Qe.syncErrorThrown=!0,Qe.syncErrorValue=on),function(se){for(;se;){const{closed:ln,destination:Qe,isStopped:on}=se;if(ln||on)return!1;se=Qe&&Qe instanceof A.L?Qe:null}return!0}(Qe)?Qe.error(on):console.warn(on)}}forEach(Qe,on){return new(on=St(on))((vr,sn)=>{let Mn;Mn=this.subscribe(dr=>{try{Qe(dr)}catch(es){sn(es),Mn&&Mn.unsubscribe()}},sn,vr)})}_subscribe(Qe){const{source:on}=this;return on&&on.subscribe(Qe)}[xt.L](){return this}pipe(...Qe){return 0===Qe.length?this:function(se){return 0===se.length?qt.y:1===se.length?se[0]:function(Qe){return se.reduce((on,vr)=>vr(on),Qe)}}(Qe)(this)}toPromise(Qe){return new(Qe=St(Qe))((on,vr)=>{let sn;this.subscribe(Mn=>sn=Mn,Mn=>vr(Mn),()=>on(sn))})}}return se.create=ln=>new se(ln),se})();function St(se){if(se||(se=yt.v.Promise||Promise),!se)throw new Error("no Promise impl found");return se}},6490:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{c:()=>Me});var A=ct(2494),oe=ct(4449);const Me={closed:!0,next(we){},error(we){if(A.v.useDeprecatedSynchronousErrorHandling)throw we;(0,oe.z)(we)},complete(){}}},5197:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{L:()=>oe});var A=ct(7393);class oe extends A.L{notifyNext(we,Jt,xt,qt,Rt){this.destination.next(Jt)}notifyError(we,Jt){this.destination.error(we)}notifyComplete(we){this.destination.complete()}}},8229:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{t:()=>qt});var A=ct(9765),oe=ct(7771),Me=ct(5319),we=ct(6136),Jt=ct(7971),xt=ct(8858);class qt extends A.xQ{constructor(yt=Number.POSITIVE_INFINITY,Qt=Number.POSITIVE_INFINITY,St){super(),this.scheduler=St,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=yt<1?1:yt,this._windowTime=Qt<1?1:Qt,Qt===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(yt){if(!this.isStopped){const Qt=this._events;Qt.push(yt),Qt.length>this._bufferSize&&Qt.shift()}super.next(yt)}nextTimeWindow(yt){this.isStopped||(this._events.push(new Rt(this._getNow(),yt)),this._trimBufferThenGetEvents()),super.next(yt)}_subscribe(yt){const Qt=this._infiniteTimeWindow,St=Qt?this._events:this._trimBufferThenGetEvents(),se=this.scheduler,ln=St.length;let Qe;if(this.closed)throw new Jt.N;if(this.isStopped||this.hasError?Qe=Me.w.EMPTY:(this.observers.push(yt),Qe=new xt.W(this,yt)),se&&yt.add(yt=new we.ht(yt,se)),Qt)for(let on=0;on<ln&&!yt.closed;on++)yt.next(St[on]);else for(let on=0;on<ln&&!yt.closed;on++)yt.next(St[on].value);return this.hasError?yt.error(this.thrownError):this.isStopped&&yt.complete(),Qe}_getNow(){return(this.scheduler||oe.c).now()}_trimBufferThenGetEvents(){const yt=this._getNow(),Qt=this._bufferSize,St=this._windowTime,se=this._events,ln=se.length;let Qe=0;for(;Qe<ln&&!(yt-se[Qe].time<St);)Qe++;return ln>Qt&&(Qe=Math.max(Qe,ln-Qt)),Qe>0&&se.splice(0,Qe),se}}class Rt{constructor(yt,Qt){this.time=yt,this.value=Qt}}},9765:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{Yc:()=>qt,xQ:()=>Rt});var A=ct(7574),oe=ct(7393),Me=ct(5319),we=ct(7971),Jt=ct(8858),xt=ct(9181);class qt extends oe.L{constructor(Qt){super(Qt),this.destination=Qt}}let Rt=(()=>{class yt extends A.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[xt.b](){return new qt(this)}lift(St){const se=new Wt(this,this);return se.operator=St,se}next(St){if(this.closed)throw new we.N;if(!this.isStopped){const{observers:se}=this,ln=se.length,Qe=se.slice();for(let on=0;on<ln;on++)Qe[on].next(St)}}error(St){if(this.closed)throw new we.N;this.hasError=!0,this.thrownError=St,this.isStopped=!0;const{observers:se}=this,ln=se.length,Qe=se.slice();for(let on=0;on<ln;on++)Qe[on].error(St);this.observers.length=0}complete(){if(this.closed)throw new we.N;this.isStopped=!0;const{observers:St}=this,se=St.length,ln=St.slice();for(let Qe=0;Qe<se;Qe++)ln[Qe].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(St){if(this.closed)throw new we.N;return super._trySubscribe(St)}_subscribe(St){if(this.closed)throw new we.N;return this.hasError?(St.error(this.thrownError),Me.w.EMPTY):this.isStopped?(St.complete(),Me.w.EMPTY):(this.observers.push(St),new Jt.W(this,St))}asObservable(){const St=new A.y;return St.source=this,St}}return yt.create=(Qt,St)=>new Wt(Qt,St),yt})();class Wt extends Rt{constructor(Qt,St){super(),this.destination=Qt,this.source=St}next(Qt){const{destination:St}=this;St&&St.next&&St.next(Qt)}error(Qt){const{destination:St}=this;St&&St.error&&this.destination.error(Qt)}complete(){const{destination:Qt}=this;Qt&&Qt.complete&&this.destination.complete()}_subscribe(Qt){const{source:St}=this;return St?this.source.subscribe(Qt):Me.w.EMPTY}}},8858:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{W:()=>oe});var A=ct(5319);class oe extends A.w{constructor(we,Jt){super(),this.subject=we,this.subscriber=Jt,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const we=this.subject,Jt=we.observers;if(this.subject=null,!Jt||0===Jt.length||we.isStopped||we.closed)return;const xt=Jt.indexOf(this.subscriber);-1!==xt&&Jt.splice(xt,1)}}},7393:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{L:()=>qt});var A=ct(9105),oe=ct(6490),Me=ct(5319),we=ct(9181),Jt=ct(2494),xt=ct(4449);class qt extends Me.w{constructor(yt,Qt,St){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=oe.c;break;case 1:if(!yt){this.destination=oe.c;break}if("object"==typeof yt){yt instanceof qt?(this.syncErrorThrowable=yt.syncErrorThrowable,this.destination=yt,yt.add(this)):(this.syncErrorThrowable=!0,this.destination=new Rt(this,yt));break}default:this.syncErrorThrowable=!0,this.destination=new Rt(this,yt,Qt,St)}}[we.b](){return this}static create(yt,Qt,St){const se=new qt(yt,Qt,St);return se.syncErrorThrowable=!1,se}next(yt){this.isStopped||this._next(yt)}error(yt){this.isStopped||(this.isStopped=!0,this._error(yt))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(yt){this.destination.next(yt)}_error(yt){this.destination.error(yt),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:yt}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=yt,this}}class Rt extends qt{constructor(yt,Qt,St,se){super(),this._parentSubscriber=yt;let ln,Qe=this;(0,A.m)(Qt)?ln=Qt:Qt&&(ln=Qt.next,St=Qt.error,se=Qt.complete,Qt!==oe.c&&(Qe=Object.create(Qt),(0,A.m)(Qe.unsubscribe)&&this.add(Qe.unsubscribe.bind(Qe)),Qe.unsubscribe=this.unsubscribe.bind(this))),this._context=Qe,this._next=ln,this._error=St,this._complete=se}next(yt){if(!this.isStopped&&this._next){const{_parentSubscriber:Qt}=this;Jt.v.useDeprecatedSynchronousErrorHandling&&Qt.syncErrorThrowable?this.__tryOrSetError(Qt,this._next,yt)&&this.unsubscribe():this.__tryOrUnsub(this._next,yt)}}error(yt){if(!this.isStopped){const{_parentSubscriber:Qt}=this,{useDeprecatedSynchronousErrorHandling:St}=Jt.v;if(this._error)St&&Qt.syncErrorThrowable?(this.__tryOrSetError(Qt,this._error,yt),this.unsubscribe()):(this.__tryOrUnsub(this._error,yt),this.unsubscribe());else if(Qt.syncErrorThrowable)St?(Qt.syncErrorValue=yt,Qt.syncErrorThrown=!0):(0,xt.z)(yt),this.unsubscribe();else{if(this.unsubscribe(),St)throw yt;(0,xt.z)(yt)}}}complete(){if(!this.isStopped){const{_parentSubscriber:yt}=this;if(this._complete){const Qt=()=>this._complete.call(this._context);Jt.v.useDeprecatedSynchronousErrorHandling&&yt.syncErrorThrowable?(this.__tryOrSetError(yt,Qt),this.unsubscribe()):(this.__tryOrUnsub(Qt),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(yt,Qt){try{yt.call(this._context,Qt)}catch(St){if(this.unsubscribe(),Jt.v.useDeprecatedSynchronousErrorHandling)throw St;(0,xt.z)(St)}}__tryOrSetError(yt,Qt,St){if(!Jt.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{Qt.call(this._context,St)}catch(se){return Jt.v.useDeprecatedSynchronousErrorHandling?(yt.syncErrorValue=se,yt.syncErrorThrown=!0,!0):((0,xt.z)(se),!0)}return!1}_unsubscribe(){const{_parentSubscriber:yt}=this;this._context=null,this._parentSubscriber=null,yt.unsubscribe()}}},5319:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{w:()=>xt});var A=ct(9796),oe=ct(1555),Me=ct(9105);const Jt=(()=>{function Rt(Wt){return Error.call(this),this.message=Wt?`${Wt.length} errors occurred during unsubscription:\n${Wt.map((yt,Qt)=>`${Qt+1}) ${yt.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=Wt,this}return Rt.prototype=Object.create(Error.prototype),Rt})();class xt{constructor(Wt){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,Wt&&(this._ctorUnsubscribe=!0,this._unsubscribe=Wt)}unsubscribe(){let Wt;if(this.closed)return;let{_parentOrParents:yt,_ctorUnsubscribe:Qt,_unsubscribe:St,_subscriptions:se}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,yt instanceof xt)yt.remove(this);else if(null!==yt)for(let ln=0;ln<yt.length;++ln)yt[ln].remove(this);if((0,Me.m)(St)){Qt&&(this._unsubscribe=void 0);try{St.call(this)}catch(ln){Wt=ln instanceof Jt?qt(ln.errors):[ln]}}if((0,A.k)(se)){let ln=-1,Qe=se.length;for(;++ln<Qe;){const on=se[ln];if((0,oe.K)(on))try{on.unsubscribe()}catch(vr){Wt=Wt||[],vr instanceof Jt?Wt=Wt.concat(qt(vr.errors)):Wt.push(vr)}}}if(Wt)throw new Jt(Wt)}add(Wt){let yt=Wt;if(!Wt)return xt.EMPTY;switch(typeof Wt){case"function":yt=new xt(Wt);case"object":if(yt===this||yt.closed||"function"!=typeof yt.unsubscribe)return yt;if(this.closed)return yt.unsubscribe(),yt;if(!(yt instanceof xt)){const se=yt;yt=new xt,yt._subscriptions=[se]}break;default:throw new Error("unrecognized teardown "+Wt+" added to Subscription.")}let{_parentOrParents:Qt}=yt;if(null===Qt)yt._parentOrParents=this;else if(Qt instanceof xt){if(Qt===this)return yt;yt._parentOrParents=[Qt,this]}else{if(-1!==Qt.indexOf(this))return yt;Qt.push(this)}const St=this._subscriptions;return null===St?this._subscriptions=[yt]:St.push(yt),yt}remove(Wt){const yt=this._subscriptions;if(yt){const Qt=yt.indexOf(Wt);-1!==Qt&&yt.splice(Qt,1)}}}var Rt;function qt(Rt){return Rt.reduce((Wt,yt)=>Wt.concat(yt instanceof Jt?yt.errors:yt),[])}xt.EMPTY=((Rt=new xt).closed=!0,Rt)},2494:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{v:()=>oe});let A=!1;const oe={Promise:void 0,set useDeprecatedSynchronousErrorHandling(Me){if(Me){const we=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+we.stack)}else A&&console.log("RxJS: Back to a better error behavior. Thank you. <3");A=Me},get useDeprecatedSynchronousErrorHandling(){return A}}},5345:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{IY:()=>we,Ds:()=>xt,ft:()=>Rt});var A=ct(7393),oe=ct(7574),Me=ct(7444);class we extends A.L{constructor(yt){super(),this.parent=yt}_next(yt){this.parent.notifyNext(yt)}_error(yt){this.parent.notifyError(yt),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class xt extends A.L{notifyNext(yt){this.destination.next(yt)}notifyError(yt){this.destination.error(yt)}notifyComplete(){this.destination.complete()}}function Rt(Wt,yt){if(yt.closed)return;if(Wt instanceof oe.y)return Wt.subscribe(yt);let Qt;try{Qt=(0,Me.s)(Wt)(yt)}catch(St){yt.error(St)}return Qt}},2441:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{c:()=>Jt,N:()=>xt});var A=ct(9765),oe=ct(7574),Me=ct(5319),we=ct(1307);class Jt extends oe.y{constructor(Qt,St){super(),this.source=Qt,this.subjectFactory=St,this._refCount=0,this._isComplete=!1}_subscribe(Qt){return this.getSubject().subscribe(Qt)}getSubject(){const Qt=this._subject;return(!Qt||Qt.isStopped)&&(this._subject=this.subjectFactory()),this._subject}connect(){let Qt=this._connection;return Qt||(this._isComplete=!1,Qt=this._connection=new Me.w,Qt.add(this.source.subscribe(new qt(this.getSubject(),this))),Qt.closed&&(this._connection=null,Qt=Me.w.EMPTY)),Qt}refCount(){return(0,we.x)()(this)}}const xt=(()=>{const yt=Jt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:yt._subscribe},_isComplete:{value:yt._isComplete,writable:!0},getSubject:{value:yt.getSubject},connect:{value:yt.connect},refCount:{value:yt.refCount}}})();class qt extends A.Yc{constructor(Qt,St){super(Qt),this.connectable=St}_error(Qt){this._unsubscribe(),super._error(Qt)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const Qt=this.connectable;if(Qt){this.connectable=null;const St=Qt._connection;Qt._refCount=0,Qt._subject=null,Qt._connection=null,St&&St.unsubscribe()}}}},9193:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{E:()=>oe,c:()=>Me});var A=ct(7574);const oe=new A.y(Jt=>Jt.complete());function Me(Jt){return Jt?function(Jt){return new A.y(xt=>Jt.schedule(()=>xt.complete()))}(Jt):oe}},4402:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{D:()=>Qe});var A=ct(7574),oe=ct(7444),Me=ct(5319),we=ct(6554),qt=ct(4087),Rt=ct(377),Qt=ct(4072),St=ct(9489);function Qe(on,vr){return vr?function(on,vr){if(null!=on){if(function(on){return on&&"function"==typeof on[we.L]}(on))return function(on,vr){return new A.y(sn=>{const Mn=new Me.w;return Mn.add(vr.schedule(()=>{const dr=on[we.L]();Mn.add(dr.subscribe({next(es){Mn.add(vr.schedule(()=>sn.next(es)))},error(es){Mn.add(vr.schedule(()=>sn.error(es)))},complete(){Mn.add(vr.schedule(()=>sn.complete()))}}))})),Mn})}(on,vr);if((0,Qt.t)(on))return function(on,vr){return new A.y(sn=>{const Mn=new Me.w;return Mn.add(vr.schedule(()=>on.then(dr=>{Mn.add(vr.schedule(()=>{sn.next(dr),Mn.add(vr.schedule(()=>sn.complete()))}))},dr=>{Mn.add(vr.schedule(()=>sn.error(dr)))}))),Mn})}(on,vr);if((0,St.z)(on))return(0,qt.r)(on,vr);if(function(on){return on&&"function"==typeof on[Rt.hZ]}(on)||"string"==typeof on)return function(on,vr){if(!on)throw new Error("Iterable cannot be null");return new A.y(sn=>{const Mn=new Me.w;let dr;return Mn.add(()=>{dr&&"function"==typeof dr.return&&dr.return()}),Mn.add(vr.schedule(()=>{dr=on[Rt.hZ](),Mn.add(vr.schedule(function(){if(sn.closed)return;let es,as;try{const fs=dr.next();es=fs.value,as=fs.done}catch(fs){return void sn.error(fs)}as?sn.complete():(sn.next(es),this.schedule())}))})),Mn})}(on,vr)}throw new TypeError((null!==on&&typeof on||on)+" is not observable")}(on,vr):on instanceof A.y?on:new A.y((0,oe.s)(on))}},6693:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{n:()=>we});var A=ct(7574),oe=ct(5015),Me=ct(4087);function we(Jt,xt){return xt?(0,Me.r)(Jt,xt):new A.y((0,oe.V)(Jt))}},6682:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{T:()=>Jt});var A=ct(7574),oe=ct(4869),Me=ct(3282),we=ct(6693);function Jt(...xt){let qt=Number.POSITIVE_INFINITY,Rt=null,Wt=xt[xt.length-1];return(0,oe.K)(Wt)?(Rt=xt.pop(),xt.length>1&&"number"==typeof xt[xt.length-1]&&(qt=xt.pop())):"number"==typeof Wt&&(qt=xt.pop()),null===Rt&&1===xt.length&&xt[0]instanceof A.y?xt[0]:(0,Me.J)(qt)((0,we.n)(xt,Rt))}},5917:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{of:()=>we});var A=ct(4869),oe=ct(6693),Me=ct(4087);function we(...Jt){let xt=Jt[Jt.length-1];return(0,A.K)(xt)?(Jt.pop(),(0,Me.r)(Jt,xt)):(0,oe.n)(Jt)}},205:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{_:()=>oe});var A=ct(7574);function oe(we,Jt){return new A.y(Jt?xt=>Jt.schedule(Me,0,{error:we,subscriber:xt}):xt=>xt.error(we))}function Me({error:we,subscriber:Jt}){Jt.error(we)}},5304:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{K:()=>oe});var A=ct(5345);function oe(Jt){return function(qt){const Rt=new Me(Jt),Wt=qt.lift(Rt);return Rt.caught=Wt}}class Me{constructor(xt){this.selector=xt}call(xt,qt){return qt.subscribe(new we(xt,this.selector,this.caught))}}class we extends A.Ds{constructor(xt,qt,Rt){super(xt),this.selector=qt,this.caught=Rt}error(xt){if(!this.isStopped){let qt;try{qt=this.selector(xt,this.caught)}catch(yt){return void super.error(yt)}this._unsubscribeAndRecycle();const Rt=new A.IY(this);this.add(Rt);const Wt=(0,A.ft)(qt,Rt);Wt!==Rt&&this.add(Wt)}}}},4612:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{b:()=>oe});var A=ct(9773);function oe(Me,we){return(0,A.zg)(Me,we,1)}},4395:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{b:()=>Me});var A=ct(7393),oe=ct(3637);function Me(qt,Rt=oe.P){return Wt=>Wt.lift(new we(qt,Rt))}class we{constructor(Rt,Wt){this.dueTime=Rt,this.scheduler=Wt}call(Rt,Wt){return Wt.subscribe(new Jt(Rt,this.dueTime,this.scheduler))}}class Jt extends A.L{constructor(Rt,Wt,yt){super(Rt),this.dueTime=Wt,this.scheduler=yt,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(Rt){this.clearDebounce(),this.lastValue=Rt,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(xt,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:Rt}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(Rt)}}clearDebounce(){const Rt=this.debouncedSubscription;null!==Rt&&(this.remove(Rt),Rt.unsubscribe(),this.debouncedSubscription=null)}}function xt(qt){qt.debouncedNext()}},5435:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{h:()=>oe});var A=ct(7393);function oe(Jt,xt){return function(Rt){return Rt.lift(new Me(Jt,xt))}}class Me{constructor(xt,qt){this.predicate=xt,this.thisArg=qt}call(xt,qt){return qt.subscribe(new we(xt,this.predicate,this.thisArg))}}class we extends A.L{constructor(xt,qt,Rt){super(xt),this.predicate=qt,this.thisArg=Rt,this.count=0}_next(xt){let qt;try{qt=this.predicate.call(this.thisArg,xt,this.count++)}catch(Rt){return void this.destination.error(Rt)}qt&&this.destination.next(xt)}}},8002:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{U:()=>oe});var A=ct(7393);function oe(Jt,xt){return function(Rt){if("function"!=typeof Jt)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return Rt.lift(new Me(Jt,xt))}}class Me{constructor(xt,qt){this.project=xt,this.thisArg=qt}call(xt,qt){return qt.subscribe(new we(xt,this.project,this.thisArg))}}class we extends A.L{constructor(xt,qt,Rt){super(xt),this.project=qt,this.count=0,this.thisArg=Rt||this}_next(xt){let qt;try{qt=this.project.call(this.thisArg,xt,this.count++)}catch(Rt){return void this.destination.error(Rt)}this.destination.next(qt)}}},3282:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{J:()=>Me});var A=ct(9773),oe=ct(4487);function Me(we=Number.POSITIVE_INFINITY){return(0,A.zg)(oe.y,we)}},9773:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{zg:()=>we});var A=ct(8002),oe=ct(4402),Me=ct(5345);function we(Rt,Wt,yt=Number.POSITIVE_INFINITY){return"function"==typeof Wt?Qt=>Qt.pipe(we((St,se)=>(0,oe.D)(Rt(St,se)).pipe((0,A.U)((ln,Qe)=>Wt(St,ln,se,Qe))),yt)):("number"==typeof Wt&&(yt=Wt),Qt=>Qt.lift(new Jt(Rt,yt)))}class Jt{constructor(Wt,yt=Number.POSITIVE_INFINITY){this.project=Wt,this.concurrent=yt}call(Wt,yt){return yt.subscribe(new xt(Wt,this.project,this.concurrent))}}class xt extends Me.Ds{constructor(Wt,yt,Qt=Number.POSITIVE_INFINITY){super(Wt),this.project=yt,this.concurrent=Qt,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(Wt){this.active<this.concurrent?this._tryNext(Wt):this.buffer.push(Wt)}_tryNext(Wt){let yt;const Qt=this.index++;try{yt=this.project(Wt,Qt)}catch(St){return void this.destination.error(St)}this.active++,this._innerSub(yt)}_innerSub(Wt){const yt=new Me.IY(this),Qt=this.destination;Qt.add(yt);const St=(0,Me.ft)(Wt,yt);St!==yt&&Qt.add(St)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(Wt){this.destination.next(Wt)}notifyComplete(){const Wt=this.buffer;this.active--,Wt.length>0?this._next(Wt.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{ht:()=>Wt,QV:()=>qt});var A=ct(7393),oe=ct(9193),Me=ct(5917),we=ct(205);class xt{constructor(St,se,ln){this.kind=St,this.value=se,this.error=ln,this.hasValue="N"===St}observe(St){switch(this.kind){case"N":return St.next&&St.next(this.value);case"E":return St.error&&St.error(this.error);case"C":return St.complete&&St.complete()}}do(St,se,ln){switch(this.kind){case"N":return St&&St(this.value);case"E":return se&&se(this.error);case"C":return ln&&ln()}}accept(St,se,ln){return St&&"function"==typeof St.next?this.observe(St):this.do(St,se,ln)}toObservable(){switch(this.kind){case"N":return(0,Me.of)(this.value);case"E":return(0,we._)(this.error);case"C":return(0,oe.c)()}throw new Error("unexpected notification kind value")}static createNext(St){return void 0!==St?new xt("N",St):xt.undefinedValueNotification}static createError(St){return new xt("E",void 0,St)}static createComplete(){return xt.completeNotification}}function qt(Qt,St=0){return function(ln){return ln.lift(new Rt(Qt,St))}}xt.completeNotification=new xt("C"),xt.undefinedValueNotification=new xt("N",void 0);class Rt{constructor(St,se=0){this.scheduler=St,this.delay=se}call(St,se){return se.subscribe(new Wt(St,this.scheduler,this.delay))}}class Wt extends A.L{constructor(St,se,ln=0){super(St),this.scheduler=se,this.delay=ln}static dispatch(St){const{notification:se,destination:ln}=St;se.observe(ln),this.unsubscribe()}scheduleMessage(St){this.destination.add(this.scheduler.schedule(Wt.dispatch,this.delay,new yt(St,this.destination)))}_next(St){this.scheduleMessage(xt.createNext(St))}_error(St){this.scheduleMessage(xt.createError(St)),this.unsubscribe()}_complete(){this.scheduleMessage(xt.createComplete()),this.unsubscribe()}}class yt{constructor(St,se){this.notification=St,this.destination=se}}},1307:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{x:()=>oe});var A=ct(7393);function oe(){return function(xt){return xt.lift(new Me(xt))}}class Me{constructor(xt){this.connectable=xt}call(xt,qt){const{connectable:Rt}=this;Rt._refCount++;const Wt=new we(xt,Rt),yt=qt.subscribe(Wt);return Wt.closed||(Wt.connection=Rt.connect()),yt}}class we extends A.L{constructor(xt,qt){super(xt),this.connectable=qt}_unsubscribe(){const{connectable:xt}=this;if(!xt)return void(this.connection=null);this.connectable=null;const qt=xt._refCount;if(qt<=0)return void(this.connection=null);if(xt._refCount=qt-1,qt>1)return void(this.connection=null);const{connection:Rt}=this,Wt=xt._connection;this.connection=null,Wt&&(!Rt||Wt===Rt)&&Wt.unsubscribe()}}},2145:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{R:()=>oe});var A=ct(7393);function oe(Jt,xt){let qt=!1;return arguments.length>=2&&(qt=!0),function(Wt){return Wt.lift(new Me(Jt,xt,qt))}}class Me{constructor(xt,qt,Rt=!1){this.accumulator=xt,this.seed=qt,this.hasSeed=Rt}call(xt,qt){return qt.subscribe(new we(xt,this.accumulator,this.seed,this.hasSeed))}}class we extends A.L{constructor(xt,qt,Rt,Wt){super(xt),this.accumulator=qt,this._seed=Rt,this.hasSeed=Wt,this.index=0}get seed(){return this._seed}set seed(xt){this.hasSeed=!0,this._seed=xt}_next(xt){if(this.hasSeed)return this._tryNext(xt);this.seed=xt,this.destination.next(xt)}_tryNext(xt){const qt=this.index++;let Rt;try{Rt=this.accumulator(this.seed,xt,qt)}catch(Wt){this.destination.error(Wt)}this.seed=Rt,this.destination.next(Rt)}}},8819:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{B:()=>qt});var A=ct(2441);var we=ct(1307),Jt=ct(9765);function xt(){return new Jt.xQ}function qt(){return Rt=>(0,we.x)()(function(Rt,Wt){return function(Qt){let St;St="function"==typeof Rt?Rt:function(){return Rt};const se=Object.create(Qt,A.N);return se.source=Qt,se.subjectFactory=St,se}}(xt)(Rt))}},3653:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{T:()=>oe});var A=ct(7393);function oe(Jt){return xt=>xt.lift(new Me(Jt))}class Me{constructor(xt){this.total=xt}call(xt,qt){return qt.subscribe(new we(xt,this.total))}}class we extends A.L{constructor(xt,qt){super(xt),this.total=qt,this.count=0}_next(xt){++this.count>this.total&&this.destination.next(xt)}}},3190:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{w:()=>we});var A=ct(8002),oe=ct(4402),Me=ct(5345);function we(qt,Rt){return"function"==typeof Rt?Wt=>Wt.pipe(we((yt,Qt)=>(0,oe.D)(qt(yt,Qt)).pipe((0,A.U)((St,se)=>Rt(yt,St,Qt,se))))):Wt=>Wt.lift(new Jt(qt))}class Jt{constructor(Rt){this.project=Rt}call(Rt,Wt){return Wt.subscribe(new xt(Rt,this.project))}}class xt extends Me.Ds{constructor(Rt,Wt){super(Rt),this.project=Wt,this.index=0}_next(Rt){let Wt;const yt=this.index++;try{Wt=this.project(Rt,yt)}catch(Qt){return void this.destination.error(Qt)}this._innerSub(Wt)}_innerSub(Rt){const Wt=this.innerSubscription;Wt&&Wt.unsubscribe();const yt=new Me.IY(this),Qt=this.destination;Qt.add(yt),this.innerSubscription=(0,Me.ft)(Rt,yt),this.innerSubscription!==yt&&Qt.add(this.innerSubscription)}_complete(){const{innerSubscription:Rt}=this;(!Rt||Rt.closed)&&super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(Rt){this.destination.next(Rt)}}},5257:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{q:()=>we});var A=ct(7393),oe=ct(7108),Me=ct(9193);function we(qt){return Rt=>0===qt?(0,Me.c)():Rt.lift(new Jt(qt))}class Jt{constructor(Rt){if(this.total=Rt,this.total<0)throw new oe.W}call(Rt,Wt){return Wt.subscribe(new xt(Rt,this.total))}}class xt extends A.L{constructor(Rt,Wt){super(Rt),this.total=Wt,this.count=0}_next(Rt){const Wt=this.total,yt=++this.count;yt<=Wt&&(this.destination.next(Rt),yt===Wt&&(this.destination.complete(),this.unsubscribe()))}}},6782:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{R:()=>oe});var A=ct(5345);function oe(Jt){return xt=>xt.lift(new Me(Jt))}class Me{constructor(xt){this.notifier=xt}call(xt,qt){const Rt=new we(xt),Wt=(0,A.ft)(this.notifier,new A.IY(Rt));return Wt&&!Rt.seenValue?(Rt.add(Wt),qt.subscribe(Rt)):Rt}}class we extends A.Ds{constructor(xt){super(xt),this.seenValue=!1}notifyNext(){this.seenValue=!0,this.complete()}notifyComplete(){}}},2965:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{V:()=>yt});var A=ct(3637);const Me=(()=>{function Qt(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return Qt.prototype=Object.create(Error.prototype),Qt})();var Jt=ct(5345);class qt{constructor(St,se,ln,Qe){this.waitFor=St,this.absoluteTimeout=se,this.withObservable=ln,this.scheduler=Qe}call(St,se){return se.subscribe(new Rt(St,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))}}class Rt extends Jt.Ds{constructor(St,se,ln,Qe,on){super(St),this.absoluteTimeout=se,this.waitFor=ln,this.withObservable=Qe,this.scheduler=on,this.scheduleTimeout()}static dispatchTimeout(St){const{withObservable:se}=St;St._unsubscribeAndRecycle(),St.add((0,Jt.ft)(se,new Jt.IY(St)))}scheduleTimeout(){const{action:St}=this;St?this.action=St.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(Rt.dispatchTimeout,this.waitFor,this))}_next(St){this.absoluteTimeout||this.scheduleTimeout(),super._next(St)}_unsubscribe(){this.action=void 0,this.scheduler=null,this.withObservable=null}}var Wt=ct(205);function yt(Qt,St=A.P){return function(Qt,St,se=A.P){return ln=>{let Qe=function(Qt){return Qt instanceof Date&&!isNaN(+Qt)}(Qt),on=Qe?+Qt-se.now():Math.abs(Qt);return ln.lift(new qt(on,Qe,St,se))}}(Qt,(0,Wt._)(new Me),St)}},7057:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{M:()=>Me});var A=ct(5197),oe=ct(509);function Me(...xt){return qt=>{let Rt;return"function"==typeof xt[xt.length-1]&&(Rt=xt.pop()),qt.lift(new we(xt,Rt))}}class we{constructor(qt,Rt){this.observables=qt,this.project=Rt}call(qt,Rt){return Rt.subscribe(new Jt(qt,this.observables,this.project))}}class Jt extends A.L{constructor(qt,Rt,Wt){super(qt),this.observables=Rt,this.project=Wt,this.toRespond=[];const yt=Rt.length;this.values=new Array(yt);for(let Qt=0;Qt<yt;Qt++)this.toRespond.push(Qt);for(let Qt=0;Qt<yt;Qt++)this.add((0,oe.D)(this,Rt[Qt],void 0,Qt))}notifyNext(qt,Rt,Wt){this.values[Wt]=Rt;const yt=this.toRespond;if(yt.length>0){const Qt=yt.indexOf(Wt);-1!==Qt&&yt.splice(Qt,1)}}notifyComplete(){}_next(qt){if(0===this.toRespond.length){const Rt=[qt,...this.values];this.project?this._tryProject(Rt):this.destination.next(Rt)}}_tryProject(qt){let Rt;try{Rt=this.project.apply(this,qt)}catch(Wt){return void this.destination.error(Wt)}this.destination.next(Rt)}}},4087:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{r:()=>Me});var A=ct(7574),oe=ct(5319);function Me(we,Jt){return new A.y(xt=>{const qt=new oe.w;let Rt=0;return qt.add(Jt.schedule(function(){Rt!==we.length?(xt.next(we[Rt++]),xt.closed||qt.add(this.schedule())):xt.complete()})),qt})}},6465:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{o:()=>Me});var A=ct(5319);class oe extends A.w{constructor(Jt,xt){super()}schedule(Jt,xt=0){return this}}class Me extends oe{constructor(Jt,xt){super(Jt,xt),this.scheduler=Jt,this.work=xt,this.pending=!1}schedule(Jt,xt=0){if(this.closed)return this;this.state=Jt;const qt=this.id,Rt=this.scheduler;return null!=qt&&(this.id=this.recycleAsyncId(Rt,qt,xt)),this.pending=!0,this.delay=xt,this.id=this.id||this.requestAsyncId(Rt,this.id,xt),this}requestAsyncId(Jt,xt,qt=0){return setInterval(Jt.flush.bind(Jt,this),qt)}recycleAsyncId(Jt,xt,qt=0){if(null!==qt&&this.delay===qt&&!1===this.pending)return xt;clearInterval(xt)}execute(Jt,xt){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const qt=this._execute(Jt,xt);if(qt)return qt;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Jt,xt){let Rt,qt=!1;try{this.work(Jt)}catch(Wt){qt=!0,Rt=!!Wt&&Wt||new Error(Wt)}if(qt)return this.unsubscribe(),Rt}_unsubscribe(){const Jt=this.id,xt=this.scheduler,qt=xt.actions,Rt=qt.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==Rt&&qt.splice(Rt,1),null!=Jt&&(this.id=this.recycleAsyncId(xt,Jt,null)),this.delay=null}}},6102:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{v:()=>oe});let A=(()=>{class Me{constructor(Jt,xt=Me.now){this.SchedulerAction=Jt,this.now=xt}schedule(Jt,xt=0,qt){return new this.SchedulerAction(this,Jt).schedule(qt,xt)}}return Me.now=()=>Date.now(),Me})();class oe extends A{constructor(we,Jt=A.now){super(we,()=>oe.delegate&&oe.delegate!==this?oe.delegate.now():Jt()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(we,Jt=0,xt){return oe.delegate&&oe.delegate!==this?oe.delegate.schedule(we,Jt,xt):super.schedule(we,Jt,xt)}flush(we){const{actions:Jt}=this;if(this.active)return void Jt.push(we);let xt;this.active=!0;do{if(xt=we.execute(we.state,we.delay))break}while(we=Jt.shift());if(this.active=!1,xt){for(;we=Jt.shift();)we.unsubscribe();throw xt}}}},3637:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{z:()=>Me,P:()=>we});var A=ct(6465);const Me=new(ct(6102).v)(A.o),we=Me},7771:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{c:()=>xt,N:()=>Jt});var A=ct(6465),Me=ct(6102);const Jt=new class extends Me.v{}(class extends A.o{constructor(Rt,Wt){super(Rt,Wt),this.scheduler=Rt,this.work=Wt}schedule(Rt,Wt=0){return Wt>0?super.schedule(Rt,Wt):(this.delay=Wt,this.state=Rt,this.scheduler.flush(this),this)}execute(Rt,Wt){return Wt>0||this.closed?super.execute(Rt,Wt):this._execute(Rt,Wt)}requestAsyncId(Rt,Wt,yt=0){return null!==yt&&yt>0||null===yt&&this.delay>0?super.requestAsyncId(Rt,Wt,yt):Rt.flush(this)}}),xt=Jt},377:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{hZ:()=>oe});const oe="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{L:()=>A});const A="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{b:()=>A});const A="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7108:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{W:()=>oe});const oe=(()=>{function Me(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return Me.prototype=Object.create(Error.prototype),Me})()},7971:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{N:()=>oe});const oe=(()=>{function Me(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return Me.prototype=Object.create(Error.prototype),Me})()},4449:(ie,Ht,ct)=>{"use strict";function A(oe){setTimeout(()=>{throw oe},0)}ct.d(Ht,{z:()=>A})},4487:(ie,Ht,ct)=>{"use strict";function A(oe){return oe}ct.d(Ht,{y:()=>A})},9796:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{k:()=>A});const A=Array.isArray||(oe=>oe&&"number"==typeof oe.length)},9489:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{z:()=>A});const A=oe=>oe&&"number"==typeof oe.length&&"function"!=typeof oe},9105:(ie,Ht,ct)=>{"use strict";function A(oe){return"function"==typeof oe}ct.d(Ht,{m:()=>A})},1555:(ie,Ht,ct)=>{"use strict";function A(oe){return null!==oe&&"object"==typeof oe}ct.d(Ht,{K:()=>A})},4072:(ie,Ht,ct)=>{"use strict";function A(oe){return!!oe&&"function"!=typeof oe.subscribe&&"function"==typeof oe.then}ct.d(Ht,{t:()=>A})},4869:(ie,Ht,ct)=>{"use strict";function A(oe){return oe&&"function"==typeof oe.schedule}ct.d(Ht,{K:()=>A})},7444:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{s:()=>Qt});var A=ct(5015),oe=ct(4449),we=ct(377),xt=ct(6554),Rt=ct(9489),Wt=ct(4072),yt=ct(1555);const Qt=St=>{if(St&&"function"==typeof St[xt.L])return(St=>se=>{const ln=St[xt.L]();if("function"!=typeof ln.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return ln.subscribe(se)})(St);if((0,Rt.z)(St))return(0,A.V)(St);if((0,Wt.t)(St))return(St=>se=>(St.then(ln=>{se.closed||(se.next(ln),se.complete())},ln=>se.error(ln)).then(null,oe.z),se))(St);if(St&&"function"==typeof St[we.hZ])return(St=>se=>{const ln=St[we.hZ]();for(;;){let Qe;try{Qe=ln.next()}catch(on){return se.error(on),se}if(Qe.done){se.complete();break}if(se.next(Qe.value),se.closed)break}return"function"==typeof ln.return&&se.add(()=>{ln.return&&ln.return()}),se})(St);{const ln=`You provided ${(0,yt.K)(St)?"an invalid object":`'${St}'`} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`;throw new TypeError(ln)}}},5015:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{V:()=>A});const A=oe=>Me=>{for(let we=0,Jt=oe.length;we<Jt&&!Me.closed;we++)Me.next(oe[we]);Me.complete()}},509:(ie,Ht,ct)=>{"use strict";ct.d(Ht,{D:()=>Jt});var A=ct(7393);class oe extends A.L{constructor(qt,Rt,Wt){super(),this.parent=qt,this.outerValue=Rt,this.outerIndex=Wt,this.index=0}_next(qt){this.parent.notifyNext(this.outerValue,qt,this.outerIndex,this.index++,this)}_error(qt){this.parent.notifyError(qt,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var Me=ct(7444),we=ct(7574);function Jt(xt,qt,Rt,Wt,yt=new oe(xt,Rt,Wt)){if(!yt.closed)return qt instanceof we.y?qt.subscribe(yt):(0,Me.s)(qt)(yt)}},4902:(ie,Ht,ct)=>{var A;!function(oe){var Me=/^\s+/,we=/\s+$/,Jt=0,xt=oe.round,qt=oe.min,Rt=oe.max,Wt=oe.random;function yt(It,ae){if(ae=ae||{},(It=It||"")instanceof yt)return It;if(!(this instanceof yt))return new yt(It,ae);var Bt=function(It){var ae={r:0,g:0,b:0},Bt=1,fn=null,ze=null,Pn=null,yi=!1,Ui=!1;return"string"==typeof It&&(It=function(It){It=It.replace(Me,"").replace(we,"").toLowerCase();var Bt,ae=!1;if(fg[It])It=fg[It],ae=!0;else if("transparent"==It)return{r:0,g:0,b:0,a:0,format:"name"};return(Bt=qa.rgb.exec(It))?{r:Bt[1],g:Bt[2],b:Bt[3]}:(Bt=qa.rgba.exec(It))?{r:Bt[1],g:Bt[2],b:Bt[3],a:Bt[4]}:(Bt=qa.hsl.exec(It))?{h:Bt[1],s:Bt[2],l:Bt[3]}:(Bt=qa.hsla.exec(It))?{h:Bt[1],s:Bt[2],l:Bt[3],a:Bt[4]}:(Bt=qa.hsv.exec(It))?{h:Bt[1],s:Bt[2],v:Bt[3]}:(Bt=qa.hsva.exec(It))?{h:Bt[1],s:Bt[2],v:Bt[3],a:Bt[4]}:(Bt=qa.hex8.exec(It))?{r:fc(Bt[1]),g:fc(Bt[2]),b:fc(Bt[3]),a:Oa(Bt[4]),format:ae?"name":"hex8"}:(Bt=qa.hex6.exec(It))?{r:fc(Bt[1]),g:fc(Bt[2]),b:fc(Bt[3]),format:ae?"name":"hex"}:(Bt=qa.hex4.exec(It))?{r:fc(Bt[1]+""+Bt[1]),g:fc(Bt[2]+""+Bt[2]),b:fc(Bt[3]+""+Bt[3]),a:Oa(Bt[4]+""+Bt[4]),format:ae?"name":"hex8"}:!!(Bt=qa.hex3.exec(It))&&{r:fc(Bt[1]+""+Bt[1]),g:fc(Bt[2]+""+Bt[2]),b:fc(Bt[3]+""+Bt[3]),format:ae?"name":"hex"}}(It)),"object"==typeof It&&(fu(It.r)&&fu(It.g)&&fu(It.b)?(ae=function(It,ae,Bt){return{r:255*fi(It,255),g:255*fi(ae,255),b:255*fi(Bt,255)}}(It.r,It.g,It.b),yi=!0,Ui="%"===String(It.r).substr(-1)?"prgb":"rgb"):fu(It.h)&&fu(It.s)&&fu(It.v)?(fn=hu(It.s),ze=hu(It.v),ae=function(It,ae,Bt){It=6*fi(It,360),ae=fi(ae,100),Bt=fi(Bt,100);var fn=oe.floor(It),ze=It-fn,Pn=Bt*(1-ae),yi=Bt*(1-ze*ae),Ui=Bt*(1-(1-ze)*ae),Oo=fn%6;return{r:255*[Bt,yi,Pn,Pn,Ui,Bt][Oo],g:255*[Ui,Bt,Bt,yi,Pn,Pn][Oo],b:255*[Pn,Pn,Ui,Bt,Bt,yi][Oo]}}(It.h,fn,ze),yi=!0,Ui="hsv"):fu(It.h)&&fu(It.s)&&fu(It.l)&&(fn=hu(It.s),Pn=hu(It.l),ae=function(It,ae,Bt){var fn,ze,Pn;function yi(Ea,$a,mo){return mo<0&&(mo+=1),mo>1&&(mo-=1),mo<1/6?Ea+6*($a-Ea)*mo:mo<.5?$a:mo<2/3?Ea+($a-Ea)*(2/3-mo)*6:Ea}if(It=fi(It,360),ae=fi(ae,100),Bt=fi(Bt,100),0===ae)fn=ze=Pn=Bt;else{var Ui=Bt<.5?Bt*(1+ae):Bt+ae-Bt*ae,Oo=2*Bt-Ui;fn=yi(Oo,Ui,It+1/3),ze=yi(Oo,Ui,It),Pn=yi(Oo,Ui,It-1/3)}return{r:255*fn,g:255*ze,b:255*Pn}}(It.h,fn,Pn),yi=!0,Ui="hsl"),It.hasOwnProperty("a")&&(Bt=It.a)),Bt=vv(Bt),{ok:yi,format:It.format||Ui,r:qt(255,Rt(ae.r,0)),g:qt(255,Rt(ae.g,0)),b:qt(255,Rt(ae.b,0)),a:Bt}}(It);this._originalInput=It,this._r=Bt.r,this._g=Bt.g,this._b=Bt.b,this._a=Bt.a,this._roundA=xt(100*this._a)/100,this._format=ae.format||Bt.format,this._gradientType=ae.gradientType,this._r<1&&(this._r=xt(this._r)),this._g<1&&(this._g=xt(this._g)),this._b<1&&(this._b=xt(this._b)),this._ok=Bt.ok,this._tc_id=Jt++}function se(It,ae,Bt){It=fi(It,255),ae=fi(ae,255),Bt=fi(Bt,255);var Pn,yi,fn=Rt(It,ae,Bt),ze=qt(It,ae,Bt),Ui=(fn+ze)/2;if(fn==ze)Pn=yi=0;else{var Oo=fn-ze;switch(yi=Ui>.5?Oo/(2-fn-ze):Oo/(fn+ze),fn){case It:Pn=(ae-Bt)/Oo+(ae<Bt?6:0);break;case ae:Pn=(Bt-It)/Oo+2;break;case Bt:Pn=(It-ae)/Oo+4}Pn/=6}return{h:Pn,s:yi,l:Ui}}function Qe(It,ae,Bt){It=fi(It,255),ae=fi(ae,255),Bt=fi(Bt,255);var Pn,yi,fn=Rt(It,ae,Bt),ze=qt(It,ae,Bt),Ui=fn,Oo=fn-ze;if(yi=0===fn?0:Oo/fn,fn==ze)Pn=0;else{switch(fn){case It:Pn=(ae-Bt)/Oo+(ae<Bt?6:0);break;case ae:Pn=(Bt-It)/Oo+2;break;case Bt:Pn=(It-ae)/Oo+4}Pn/=6}return{h:Pn,s:yi,v:Ui}}function vr(It,ae,Bt,fn){var ze=[$i(xt(It).toString(16)),$i(xt(ae).toString(16)),$i(xt(Bt).toString(16))];return fn&&ze[0].charAt(0)==ze[0].charAt(1)&&ze[1].charAt(0)==ze[1].charAt(1)&&ze[2].charAt(0)==ze[2].charAt(1)?ze[0].charAt(0)+ze[1].charAt(0)+ze[2].charAt(0):ze.join("")}function Mn(It,ae,Bt,fn){return[$i(Ko(fn)),$i(xt(It).toString(16)),$i(xt(ae).toString(16)),$i(xt(Bt).toString(16))].join("")}function dr(It,ae){ae=0===ae?0:ae||10;var Bt=yt(It).toHsl();return Bt.s-=ae/100,Bt.s=oo(Bt.s),yt(Bt)}function es(It,ae){ae=0===ae?0:ae||10;var Bt=yt(It).toHsl();return Bt.s+=ae/100,Bt.s=oo(Bt.s),yt(Bt)}function as(It){return yt(It).desaturate(100)}function fs(It,ae){ae=0===ae?0:ae||10;var Bt=yt(It).toHsl();return Bt.l+=ae/100,Bt.l=oo(Bt.l),yt(Bt)}function wa(It,ae){ae=0===ae?0:ae||10;var Bt=yt(It).toRgb();return Bt.r=Rt(0,qt(255,Bt.r-xt(-ae/100*255))),Bt.g=Rt(0,qt(255,Bt.g-xt(-ae/100*255))),Bt.b=Rt(0,qt(255,Bt.b-xt(-ae/100*255))),yt(Bt)}function pg(It,ae){ae=0===ae?0:ae||10;var Bt=yt(It).toHsl();return Bt.l-=ae/100,Bt.l=oo(Bt.l),yt(Bt)}function hg(It,ae){var Bt=yt(It).toHsl(),fn=(Bt.h+ae)%360;return Bt.h=fn<0?360+fn:fn,yt(Bt)}function Js(It){var ae=yt(It).toHsl();return ae.h=(ae.h+180)%360,yt(ae)}function Qi(It){var ae=yt(It).toHsl(),Bt=ae.h;return[yt(It),yt({h:(Bt+120)%360,s:ae.s,l:ae.l}),yt({h:(Bt+240)%360,s:ae.s,l:ae.l})]}function ns(It){var ae=yt(It).toHsl(),Bt=ae.h;return[yt(It),yt({h:(Bt+90)%360,s:ae.s,l:ae.l}),yt({h:(Bt+180)%360,s:ae.s,l:ae.l}),yt({h:(Bt+270)%360,s:ae.s,l:ae.l})]}function hi(It){var ae=yt(It).toHsl(),Bt=ae.h;return[yt(It),yt({h:(Bt+72)%360,s:ae.s,l:ae.l}),yt({h:(Bt+216)%360,s:ae.s,l:ae.l})]}function jo(It,ae,Bt){ae=ae||6,Bt=Bt||30;var fn=yt(It).toHsl(),ze=360/Bt,Pn=[yt(It)];for(fn.h=(fn.h-(ze*ae>>1)+720)%360;--ae;)fn.h=(fn.h+ze)%360,Pn.push(yt(fn));return Pn}function cr(It,ae){ae=ae||6;for(var Bt=yt(It).toHsv(),fn=Bt.h,ze=Bt.s,Pn=Bt.v,yi=[],Ui=1/ae;ae--;)yi.push(yt({h:fn,s:ze,v:Pn})),Pn=(Pn+Ui)%1;return yi}yt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var It=this.toRgb();return(299*It.r+587*It.g+114*It.b)/1e3},getLuminance:function(){var ae,Bt,fn,It=this.toRgb();return Bt=It.g/255,fn=It.b/255,.2126*((ae=It.r/255)<=.03928?ae/12.92:oe.pow((ae+.055)/1.055,2.4))+.7152*(Bt<=.03928?Bt/12.92:oe.pow((Bt+.055)/1.055,2.4))+.0722*(fn<=.03928?fn/12.92:oe.pow((fn+.055)/1.055,2.4))},setAlpha:function(It){return this._a=vv(It),this._roundA=xt(100*this._a)/100,this},toHsv:function(){var It=Qe(this._r,this._g,this._b);return{h:360*It.h,s:It.s,v:It.v,a:this._a}},toHsvString:function(){var It=Qe(this._r,this._g,this._b),ae=xt(360*It.h),Bt=xt(100*It.s),fn=xt(100*It.v);return 1==this._a?"hsv("+ae+", "+Bt+"%, "+fn+"%)":"hsva("+ae+", "+Bt+"%, "+fn+"%, "+this._roundA+")"},toHsl:function(){var It=se(this._r,this._g,this._b);return{h:360*It.h,s:It.s,l:It.l,a:this._a}},toHslString:function(){var It=se(this._r,this._g,this._b),ae=xt(360*It.h),Bt=xt(100*It.s),fn=xt(100*It.l);return 1==this._a?"hsl("+ae+", "+Bt+"%, "+fn+"%)":"hsla("+ae+", "+Bt+"%, "+fn+"%, "+this._roundA+")"},toHex:function(It){return vr(this._r,this._g,this._b,It)},toHexString:function(It){return"#"+this.toHex(It)},toHex8:function(It){return function(It,ae,Bt,fn,ze){var Pn=[$i(xt(It).toString(16)),$i(xt(ae).toString(16)),$i(xt(Bt).toString(16)),$i(Ko(fn))];return ze&&Pn[0].charAt(0)==Pn[0].charAt(1)&&Pn[1].charAt(0)==Pn[1].charAt(1)&&Pn[2].charAt(0)==Pn[2].charAt(1)&&Pn[3].charAt(0)==Pn[3].charAt(1)?Pn[0].charAt(0)+Pn[1].charAt(0)+Pn[2].charAt(0)+Pn[3].charAt(0):Pn.join("")}(this._r,this._g,this._b,this._a,It)},toHex8String:function(It){return"#"+this.toHex8(It)},toRgb:function(){return{r:xt(this._r),g:xt(this._g),b:xt(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+xt(this._r)+", "+xt(this._g)+", "+xt(this._b)+")":"rgba("+xt(this._r)+", "+xt(this._g)+", "+xt(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:xt(100*fi(this._r,255))+"%",g:xt(100*fi(this._g,255))+"%",b:xt(100*fi(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+xt(100*fi(this._r,255))+"%, "+xt(100*fi(this._g,255))+"%, "+xt(100*fi(this._b,255))+"%)":"rgba("+xt(100*fi(this._r,255))+"%, "+xt(100*fi(this._g,255))+"%, "+xt(100*fi(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(gg[vr(this._r,this._g,this._b,!0)]||!1)},toFilter:function(It){var ae="#"+Mn(this._r,this._g,this._b,this._a),Bt=ae,fn=this._gradientType?"GradientType = 1, ":"";if(It){var ze=yt(It);Bt="#"+Mn(ze._r,ze._g,ze._b,ze._a)}return"progid:DXImageTransform.Microsoft.gradient("+fn+"startColorstr="+ae+",endColorstr="+Bt+")"},toString:function(It){var ae=!!It;It=It||this._format;var Bt=!1;return!ae&&this._a<1&&this._a>=0&&("hex"===It||"hex6"===It||"hex3"===It||"hex4"===It||"hex8"===It||"name"===It)?"name"===It&&0===this._a?this.toName():this.toRgbString():("rgb"===It&&(Bt=this.toRgbString()),"prgb"===It&&(Bt=this.toPercentageRgbString()),("hex"===It||"hex6"===It)&&(Bt=this.toHexString()),"hex3"===It&&(Bt=this.toHexString(!0)),"hex4"===It&&(Bt=this.toHex8String(!0)),"hex8"===It&&(Bt=this.toHex8String()),"name"===It&&(Bt=this.toName()),"hsl"===It&&(Bt=this.toHslString()),"hsv"===It&&(Bt=this.toHsvString()),Bt||this.toHexString())},clone:function(){return yt(this.toString())},_applyModification:function(It,ae){var Bt=It.apply(null,[this].concat([].slice.call(ae)));return this._r=Bt._r,this._g=Bt._g,this._b=Bt._b,this.setAlpha(Bt._a),this},lighten:function(){return this._applyModification(fs,arguments)},brighten:function(){return this._applyModification(wa,arguments)},darken:function(){return this._applyModification(pg,arguments)},desaturate:function(){return this._applyModification(dr,arguments)},saturate:function(){return this._applyModification(es,arguments)},greyscale:function(){return this._applyModification(as,arguments)},spin:function(){return this._applyModification(hg,arguments)},_applyCombination:function(It,ae){return It.apply(null,[this].concat([].slice.call(ae)))},analogous:function(){return this._applyCombination(jo,arguments)},complement:function(){return this._applyCombination(Js,arguments)},monochromatic:function(){return this._applyCombination(cr,arguments)},splitcomplement:function(){return this._applyCombination(hi,arguments)},triad:function(){return this._applyCombination(Qi,arguments)},tetrad:function(){return this._applyCombination(ns,arguments)}},yt.fromRatio=function(It,ae){if("object"==typeof It){var Bt={};for(var fn in It)It.hasOwnProperty(fn)&&(Bt[fn]="a"===fn?It[fn]:hu(It[fn]));It=Bt}return yt(It,ae)},yt.equals=function(It,ae){return!(!It||!ae)&&yt(It).toRgbString()==yt(ae).toRgbString()},yt.random=function(){return yt.fromRatio({r:Wt(),g:Wt(),b:Wt()})},yt.mix=function(It,ae,Bt){Bt=0===Bt?0:Bt||50;var fn=yt(It).toRgb(),ze=yt(ae).toRgb(),Pn=Bt/100;return yt({r:(ze.r-fn.r)*Pn+fn.r,g:(ze.g-fn.g)*Pn+fn.g,b:(ze.b-fn.b)*Pn+fn.b,a:(ze.a-fn.a)*Pn+fn.a})},yt.readability=function(It,ae){var Bt=yt(It),fn=yt(ae);return(oe.max(Bt.getLuminance(),fn.getLuminance())+.05)/(oe.min(Bt.getLuminance(),fn.getLuminance())+.05)},yt.isReadable=function(It,ae,Bt){var ze,Pn,fn=yt.readability(It,ae);switch(Pn=!1,(ze=function(It){var ae,Bt;return"AA"!==(ae=((It=It||{level:"AA",size:"small"}).level||"AA").toUpperCase())&&"AAA"!==ae&&(ae="AA"),"small"!==(Bt=(It.size||"small").toLowerCase())&&"large"!==Bt&&(Bt="small"),{level:ae,size:Bt}}(Bt)).level+ze.size){case"AAsmall":case"AAAlarge":Pn=fn>=4.5;break;case"AAlarge":Pn=fn>=3;break;case"AAAsmall":Pn=fn>=7}return Pn},yt.mostReadable=function(It,ae,Bt){var Pn,yi,Ui,Oo,fn=null,ze=0;yi=(Bt=Bt||{}).includeFallbackColors,Ui=Bt.level,Oo=Bt.size;for(var Ea=0;Ea<ae.length;Ea++)(Pn=yt.readability(It,ae[Ea]))>ze&&(ze=Pn,fn=yt(ae[Ea]));return yt.isReadable(It,fn,{level:Ui,size:Oo})||!yi?fn:(Bt.includeFallbackColors=!1,yt.mostReadable(It,["#fff","#000"],Bt))};var fg=yt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},gg=yt.hexNames=function(It){var ae={};for(var Bt in It)It.hasOwnProperty(Bt)&&(ae[It[Bt]]=Bt);return ae}(fg);function vv(It){return It=parseFloat(It),(isNaN(It)||It<0||It>1)&&(It=1),It}function fi(It,ae){(function(It){return"string"==typeof It&&-1!=It.indexOf(".")&&1===parseFloat(It)})(It)&&(It="100%");var Bt=function(It){return"string"==typeof It&&-1!=It.indexOf("%")}(It);return It=qt(ae,Rt(0,parseFloat(It))),Bt&&(It=parseInt(It*ae,10)/100),oe.abs(It-ae)<1e-6?1:It%ae/parseFloat(ae)}function oo(It){return qt(1,Rt(0,It))}function fc(It){return parseInt(It,16)}function $i(It){return 1==It.length?"0"+It:""+It}function hu(It){return It<=1&&(It=100*It+"%"),It}function Ko(It){return oe.round(255*parseFloat(It)).toString(16)}function Oa(It){return fc(It)/255}var Bt,fn,ze,qa=(fn="[\\s|\\(]+("+(Bt="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+Bt+")[,|\\s]+("+Bt+")\\s*\\)?",ze="[\\s|\\(]+("+Bt+")[,|\\s]+("+Bt+")[,|\\s]+("+Bt+")[,|\\s]+("+Bt+")\\s*\\)?",{CSS_UNIT:new RegExp(Bt),rgb:new RegExp("rgb"+fn),rgba:new RegExp("rgba"+ze),hsl:new RegExp("hsl"+fn),hsla:new RegExp("hsla"+ze),hsv:new RegExp("hsv"+fn),hsva:new RegExp("hsva"+ze),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});function fu(It){return!!qa.CSS_UNIT.exec(It)}ie.exports?ie.exports=yt:void 0!==(A=function(){return yt}.call(Ht,ct,Ht,ie))&&(ie.exports=A)}(Math)},2724:(ie,Ht,ct)=>{"use strict";var A=ct(7716);let oe=null;function Me(){return oe}const qt=new A.OlP("DocumentToken");let Rt=(()=>{class a{historyGo(e){throw new Error("Not implemented")}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=(0,A.Yz7)({factory:Wt,token:a,providedIn:"platform"}),a})();function Wt(){return(0,A.LFG)(Qt)}const yt=new A.OlP("Location Initialized");let Qt=(()=>{class a extends Rt{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Me().getBaseHref(this._doc)}onPopState(e){const o=Me().getGlobalEventTarget(this._doc,"window");return o.addEventListener("popstate",e,!1),()=>o.removeEventListener("popstate",e)}onHashChange(e){const o=Me().getGlobalEventTarget(this._doc,"window");return o.addEventListener("hashchange",e,!1),()=>o.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,o,l){St()?this._history.pushState(e,o,l):this.location.hash=l}replaceState(e,o,l){St()?this._history.replaceState(e,o,l):this.location.hash=l}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(qt))},a.\u0275prov=(0,A.Yz7)({factory:se,token:a,providedIn:"platform"}),a})();function St(){return!!window.history.pushState}function se(){return new Qt((0,A.LFG)(qt))}function ln(a,t){if(0==a.length)return t;if(0==t.length)return a;let e=0;return a.endsWith("/")&&e++,t.startsWith("/")&&e++,2==e?a+t.substring(1):1==e?a+t:a+"/"+t}function Qe(a){const t=a.match(/#|\?|$/),e=t&&t.index||a.length;return a.slice(0,e-("/"===a[e-1]?1:0))+a.slice(e)}function on(a){return a&&"?"!==a[0]?"?"+a:a}let vr=(()=>{class a{historyGo(e){throw new Error("Not implemented")}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=(0,A.Yz7)({factory:sn,token:a,providedIn:"root"}),a})();function sn(a){const t=(0,A.LFG)(qt).location;return new dr((0,A.LFG)(Rt),t&&t.origin||"")}const Mn=new A.OlP("appBaseHref");let dr=(()=>{class a extends vr{constructor(e,o){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==o&&(o=this._platformLocation.getBaseHrefFromDOM()),null==o)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=o}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return ln(this._baseHref,e)}path(e=!1){const o=this._platformLocation.pathname+on(this._platformLocation.search),l=this._platformLocation.hash;return l&&e?`${o}${l}`:o}pushState(e,o,l,d){const g=this.prepareExternalUrl(l+on(d));this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,d){const g=this.prepareExternalUrl(l+on(d));this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(Rt),A.LFG(Mn,8))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),es=(()=>{class a extends vr{constructor(e,o){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=o&&(this._baseHref=o)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let o=this._platformLocation.hash;return null==o&&(o="#"),o.length>0?o.substring(1):o}prepareExternalUrl(e){const o=ln(this._baseHref,e);return o.length>0?"#"+o:o}pushState(e,o,l,d){let g=this.prepareExternalUrl(l+on(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.pushState(e,o,g)}replaceState(e,o,l,d){let g=this.prepareExternalUrl(l+on(d));0==g.length&&(g=this._platformLocation.pathname),this._platformLocation.replaceState(e,o,g)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformLocation).historyGo)||void 0===l||l.call(o,e)}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(Rt),A.LFG(Mn,8))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),as=(()=>{class a{constructor(e,o){this._subject=new A.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const l=this._platformStrategy.getBaseHref();this._platformLocation=o,this._baseHref=Qe(pg(l)),this._platformStrategy.onPopState(d=>{this._subject.emit({url:this.path(!0),pop:!0,state:d.state,type:d.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,o=""){return this.path()==this.normalize(e+on(o))}normalize(e){return a.stripTrailingSlash(function(a,t){return a&&t.startsWith(a)?t.substring(a.length):t}(this._baseHref,pg(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,o="",l=null){this._platformStrategy.pushState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(o)),l)}replaceState(e,o="",l=null){this._platformStrategy.replaceState(l,"",e,o),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+on(o)),l)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var o,l;null===(l=(o=this._platformStrategy).historyGo)||void 0===l||l.call(o,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(o=>{this._notifyUrlChangeListeners(o.url,o.state)}))}_notifyUrlChangeListeners(e="",o){this._urlChangeListeners.forEach(l=>l(e,o))}subscribe(e,o,l){return this._subject.subscribe({next:e,error:o,complete:l})}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(vr),A.LFG(Rt))},a.normalizeQueryParams=on,a.joinWithSlash=ln,a.stripTrailingSlash=Qe,a.\u0275prov=(0,A.Yz7)({factory:fs,token:a,providedIn:"root"}),a})();function fs(){return new as((0,A.LFG)(vr),(0,A.LFG)(Rt))}function pg(a){return a.replace(/\/index.html$/,"")}var Qi=(()=>((Qi=Qi||{})[Qi.Zero=0]="Zero",Qi[Qi.One=1]="One",Qi[Qi.Two=2]="Two",Qi[Qi.Few=3]="Few",Qi[Qi.Many=4]="Many",Qi[Qi.Other=5]="Other",Qi))();const It=A.kL8;class ol{}let Pv=(()=>{class a extends ol{constructor(e){super(),this.locale=e}getPluralCategory(e,o){switch(It(o||this.locale)(e)){case Qi.Zero:return"zero";case Qi.One:return"one";case Qi.Two:return"two";case Qi.Few:return"few";case Qi.Many:return"many";default:return"other"}}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(A.soG))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();function Ya(a,t){t=encodeURIComponent(t);for(const e of a.split(";")){const o=e.indexOf("="),[l,d]=-1==o?[e,""]:[e.slice(0,o),e.slice(o+1)];if(l.trim()===t)return decodeURIComponent(d)}return null}let Nl=(()=>{class a{constructor(e,o,l,d){this._iterableDiffers=e,this._keyValueDiffers=o,this._ngEl=l,this._renderer=d,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,A.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachChangedItem(o=>this._toggleClass(o.key,o.currentValue)),e.forEachRemovedItem(o=>{o.previousValue&&this._toggleClass(o.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(o=>{if("string"!=typeof o.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,A.AaK)(o.item)}`);this._toggleClass(o.item,!0)}),e.forEachRemovedItem(o=>this._toggleClass(o.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!0)):Object.keys(e).forEach(o=>this._toggleClass(o,!!e[o])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(o=>this._toggleClass(o,!1)):Object.keys(e).forEach(o=>this._toggleClass(o,!1)))}_toggleClass(e,o){(e=e.trim())&&e.split(/\s+/g).forEach(l=>{o?this._renderer.addClass(this._ngEl.nativeElement,l):this._renderer.removeClass(this._ngEl.nativeElement,l)})}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.ZZ4),A.Y36(A.aQg),A.Y36(A.SBq),A.Y36(A.Qsj))},a.\u0275dir=A.lG2({type:a,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),a})();class sl{constructor(t,e,o,l){this.$implicit=t,this.ngForOf=e,this.index=o,this.count=l}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let bo=(()=>{class a{constructor(e,o,l){this._viewContainer=e,this._template=o,this._differs=l,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(o){throw new Error(`Cannot find a differ supporting object '${e}' of type '${function(a){return a.name||typeof a}(e)}'. NgFor only supports binding to Iterables such as Arrays.`)}}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const o=[];e.forEachOperation((l,d,g)=>{if(null==l.previousIndex){const b=this._viewContainer.createEmbeddedView(this._template,new sl(null,this._ngForOf,-1,-1),null===g?void 0:g),M=new Kx(l,b);o.push(M)}else if(null==g)this._viewContainer.remove(null===d?void 0:d);else if(null!==d){const b=this._viewContainer.get(d);this._viewContainer.move(b,g);const M=new Kx(l,b);o.push(M)}});for(let l=0;l<o.length;l++)this._perViewChange(o[l].view,o[l].record);for(let l=0,d=this._viewContainer.length;l<d;l++){const g=this._viewContainer.get(l);g.context.index=l,g.context.count=d,g.context.ngForOf=this._ngForOf}e.forEachIdentityChange(l=>{this._viewContainer.get(l.currentIndex).context.$implicit=l.item})}_perViewChange(e,o){e.context.$implicit=o.item}static ngTemplateContextGuard(e,o){return!0}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.s_b),A.Y36(A.Rgc),A.Y36(A.ZZ4))},a.\u0275dir=A.lG2({type:a,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),a})();class Kx{constructor(t,e){this.record=t,this.view=e}}let Se=(()=>{class a{constructor(e,o){this._viewContainer=e,this._context=new ue,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=o}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ae("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ae("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,o){return!0}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.s_b),A.Y36(A.Rgc))},a.\u0275dir=A.lG2({type:a,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),a})();class ue{constructor(){this.$implicit=null,this.ngIf=null}}function Ae(a,t){if(t&&!t.createEmbeddedView)throw new Error(`${a} must be a TemplateRef, but received '${(0,A.AaK)(t)}'.`)}class Jh{createSubscription(t,e){return t.subscribe({next:e,error:o=>{throw o}})}dispose(t){t.unsubscribe()}onDestroy(t){t.unsubscribe()}}class yg{createSubscription(t,e){return t.then(e,o=>{throw o})}dispose(t){}onDestroy(t){}}const fE=new yg,HT=new Jh;let gE=(()=>{class a{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,o=>this._updateLatestValue(e,o))}_selectStrategy(e){if((0,A.QGY)(e))return fE;if((0,A.F4k)(e))return HT;throw function(a,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,A.AaK)(a)}'`)}(a,e)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,o){e===this._obj&&(this._latestValue=o,this._ref.markForCheck())}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.sBO,16))},a.\u0275pipe=A.Yjl({name:"async",type:a,pure:!1}),a})(),xg=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({providers:[{provide:ol,useClass:Pv}]}),a})(),EP=(()=>{class a{}return a.\u0275prov=(0,A.Yz7)({token:a,providedIn:"root",factory:()=>new xE((0,A.LFG)(qt),window)}),a})();class xE{constructor(t,e){this.document=t,this.window=e,this.offset=()=>[0,0]}setOffset(t){this.offset=Array.isArray(t)?()=>t:t}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(t){this.supportsScrolling()&&this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){if(!this.supportsScrolling())return;const e=function(a,t){const e=a.getElementById(t)||a.getElementsByName(t)[0];if(e)return e;if("function"==typeof a.createTreeWalker&&a.body&&(a.body.createShadowRoot||a.body.attachShadow)){const o=a.createTreeWalker(a.body,NodeFilter.SHOW_ELEMENT);let l=o.currentNode;for(;l;){const d=l.shadowRoot;if(d){const g=d.getElementById(t)||d.querySelector(`[name="${t}"]`);if(g)return g}l=o.nextNode()}}return null}(this.document,t);e&&(this.scrollToElement(e),this.attemptFocus(e))}setHistoryScrollRestoration(t){if(this.supportScrollRestoration()){const e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}}scrollToElement(t){const e=t.getBoundingClientRect(),o=e.left+this.window.pageXOffset,l=e.top+this.window.pageYOffset,d=this.offset();this.window.scrollTo(o-d[0],l-d[1])}attemptFocus(t){return t.focus(),this.document.activeElement===t}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const t=Qx(this.window.history)||Qx(Object.getPrototypeOf(this.window.history));return!(!t||!t.writable&&!t.set)}catch(t){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(t){return!1}}}function Qx(a){return Object.getOwnPropertyDescriptor(a,"scrollRestoration")}class AP{}class CE extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var a;a=new CE,oe||(oe=a)}onAndCancel(t,e,o){return t.addEventListener(e,o,!1),()=>{t.removeEventListener(e,o,!1)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.parentNode&&t.parentNode.removeChild(t)}createElement(t,e){return(e=e||this.getDefaultDocument()).createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null}getBaseHref(t){const e=(_u=_u||document.querySelector("base"),_u?_u.getAttribute("href"):null);return null==e?null:function(a){cn=cn||document.createElement("a"),cn.setAttribute("href",a);const t=cn.pathname;return"/"===t.charAt(0)?t:`/${t}`}(e)}resetBaseElement(){_u=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ya(document.cookie,t)}}let cn,_u=null;const vc=new A.OlP("TRANSITION_ID"),bu=[{provide:A.ip1,useFactory:function(a,t,e){return()=>{e.get(A.CZH).donePromise.then(()=>{const o=Me(),l=t.querySelectorAll(`style[ng-transition="${a}"]`);for(let d=0;d<l.length;d++)o.remove(l[d])})}},deps:[vc,qt,A.zs3],multi:!0}];class TP{static init(){(0,A.VLi)(new TP)}addToWindow(t){A.dqk.getAngularTestability=(o,l=!0)=>{const d=t.findTestabilityInTree(o,l);if(null==d)throw new Error("Could not find testability for element.");return d},A.dqk.getAllAngularTestabilities=()=>t.getAllTestabilities(),A.dqk.getAllAngularRootElements=()=>t.getAllRootElements(),A.dqk.frameworkStabilizers||(A.dqk.frameworkStabilizers=[]),A.dqk.frameworkStabilizers.push(o=>{const l=A.dqk.getAllAngularTestabilities();let d=l.length,g=!1;const b=function(M){g=g||M,d--,0==d&&o(g)};l.forEach(function(M){M.whenStable(b)})})}findTestabilityInTree(t,e,o){if(null==e)return null;const l=t.getTestability(e);return null!=l?l:o?Me().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null}}let DP=(()=>{class a{build(){return new XMLHttpRequest}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const ab=new A.OlP("EventManagerPlugins");let an=(()=>{class a{constructor(e,o){this._zone=o,this._eventNameToPlugin=new Map,e.forEach(l=>l.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,o,l){return this._findPluginFor(o).addEventListener(e,o,l)}addGlobalEventListener(e,o,l){return this._findPluginFor(o).addGlobalEventListener(e,o,l)}getZone(){return this._zone}_findPluginFor(e){const o=this._eventNameToPlugin.get(e);if(o)return o;const l=this._plugins;for(let d=0;d<l.length;d++){const g=l[d];if(g.supports(e))return this._eventNameToPlugin.set(e,g),g}throw new Error(`No event manager plugin found for event ${e}`)}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(ab),A.LFG(A.R0b))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();class Vi{constructor(t){this._doc=t}addGlobalEventListener(t,e,o){const l=Me().getGlobalEventTarget(this._doc,t);if(!l)throw new Error(`Unsupported event target ${l} for event ${e}`);return this.addEventListener(l,e,o)}}let RP=(()=>{class a{constructor(){this._stylesSet=new Set}addStyles(e){const o=new Set;e.forEach(l=>{this._stylesSet.has(l)||(this._stylesSet.add(l),o.add(l))}),this.onStylesAdded(o)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),vs=(()=>{class a extends RP{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,o,l){e.forEach(d=>{const g=this._doc.createElement("style");g.textContent=d,l.push(o.appendChild(g))})}addHost(e){const o=[];this._addStylesToHost(this._stylesSet,e,o),this._hostNodes.set(e,o)}removeHost(e){const o=this._hostNodes.get(e);o&&o.forEach(kP),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((o,l)=>{this._addStylesToHost(e,l,o)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(kP))}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(qt))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();function kP(a){Me().remove(a)}const Mg={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},yu=/%COMP%/g;function Da(a,t,e){for(let o=0;o<t.length;o++){let l=t[o];Array.isArray(l)?Da(a,l,e):(l=l.replace(yu,a),e.push(l))}return e}function md(a){return t=>{if("__ngUnwrap__"===t)return a;!1===a(t)&&(t.preventDefault(),t.returnValue=!1)}}let ef=(()=>{class a{constructor(e,o,l){this.eventManager=e,this.sharedStylesHost=o,this.appId=l,this.rendererByCompId=new Map,this.defaultRenderer=new vd(e)}createRenderer(e,o){if(!e||!o)return this.defaultRenderer;switch(o.encapsulation){case A.ifc.Emulated:{let l=this.rendererByCompId.get(o.id);return l||(l=new lD(this.eventManager,this.sharedStylesHost,o,this.appId),this.rendererByCompId.set(o.id,l)),l.applyToHost(e),l}case 1:case A.ifc.ShadowDom:return new LP(this.eventManager,this.sharedStylesHost,e,o);default:if(!this.rendererByCompId.has(o.id)){const l=Da(o.id,o.styles,[]);this.sharedStylesHost.addStyles(l),this.rendererByCompId.set(o.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(an),A.LFG(vs),A.LFG(A.AFp))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();class vd{constructor(t){this.eventManager=t,this.data=Object.create(null)}destroy(){}createElement(t,e){return e?document.createElementNS(Mg[e]||e,t):document.createElement(t)}createComment(t){return document.createComment(t)}createText(t){return document.createTextNode(t)}appendChild(t,e){t.appendChild(e)}insertBefore(t,e,o){t&&t.insertBefore(e,o)}removeChild(t,e){t&&t.removeChild(e)}selectRootElement(t,e){let o="string"==typeof t?document.querySelector(t):t;if(!o)throw new Error(`The selector "${t}" did not match any elements`);return e||(o.textContent=""),o}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,o,l){if(l){e=l+":"+e;const d=Mg[l];d?t.setAttributeNS(d,e,o):t.setAttribute(e,o)}else t.setAttribute(e,o)}removeAttribute(t,e,o){if(o){const l=Mg[o];l?t.removeAttributeNS(l,e):t.removeAttribute(`${o}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,o,l){l&(A.JOm.DashCase|A.JOm.Important)?t.style.setProperty(e,o,l&A.JOm.Important?"important":""):t.style[e]=o}removeStyle(t,e,o){o&A.JOm.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,o){t[e]=o}setValue(t,e){t.nodeValue=e}listen(t,e,o){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,md(o)):this.eventManager.addEventListener(t,e,md(o))}}class lD extends vd{constructor(t,e,o,l){super(t),this.component=o;const d=Da(l+"-"+o.id,o.styles,[]);e.addStyles(d),this.contentAttr="_ngcontent-%COMP%".replace(yu,l+"-"+o.id),this.hostAttr="_nghost-%COMP%".replace(yu,l+"-"+o.id)}applyToHost(t){super.setAttribute(t,this.hostAttr,"")}createElement(t,e){const o=super.createElement(t,e);return super.setAttribute(o,this.contentAttr,""),o}}class LP extends vd{constructor(t,e,o,l){super(t),this.sharedStylesHost=e,this.hostEl=o,this.shadowRoot=o.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const d=Da(l.id,l.styles,[]);for(let g=0;g<d.length;g++){const b=document.createElement("style");b.textContent=d[g],this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,o){return super.insertBefore(this.nodeOrShadowRoot(t),e,o)}removeChild(t,e){return super.removeChild(this.nodeOrShadowRoot(t),e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}}let FP=(()=>{class a extends Vi{constructor(e){super(e)}supports(e){return!0}addEventListener(e,o,l){return e.addEventListener(o,l,!1),()=>this.removeEventListener(e,o,l)}removeEventListener(e,o,l){return e.removeEventListener(o,l)}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(qt))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const lb=["alt","control","meta","shift"],hD={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_c={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},fD={alt:a=>a.altKey,control:a=>a.ctrlKey,meta:a=>a.metaKey,shift:a=>a.shiftKey};let gD=(()=>{class a extends Vi{constructor(e){super(e)}supports(e){return null!=a.parseEventName(e)}addEventListener(e,o,l){const d=a.parseEventName(o),g=a.eventCallback(d.fullKey,l,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Me().onAndCancel(e,d.domEventName,g))}static parseEventName(e){const o=e.toLowerCase().split("."),l=o.shift();if(0===o.length||"keydown"!==l&&"keyup"!==l)return null;const d=a._normalizeKey(o.pop());let g="";if(lb.forEach(M=>{const O=o.indexOf(M);O>-1&&(o.splice(O,1),g+=M+".")}),g+=d,0!=o.length||0===d.length)return null;const b={};return b.domEventName=l,b.fullKey=g,b}static getEventFullKey(e){let o="",l=function(a){let t=a.key;if(null==t){if(t=a.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===a.location&&_c.hasOwnProperty(t)&&(t=_c[t]))}return hD[t]||t}(e);return l=l.toLowerCase()," "===l?l="space":"."===l&&(l="dot"),lb.forEach(d=>{d!=l&&fD[d](e)&&(o+=d+".")}),o+=l,o}static eventCallback(e,o,l){return d=>{a.getEventFullKey(d)===e&&l.runGuarded(()=>o(d))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(qt))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const ub=(0,A.eFA)(A._c5,"browser",[{provide:A.Lbi,useValue:"browser"},{provide:A.g9A,useValue:function(){CE.makeCurrent(),TP.init()},multi:!0},{provide:qt,useFactory:function(){return(0,A.RDi)(document),document},deps:[]}]),UP=[[],{provide:A.zSh,useValue:"root"},{provide:A.qLn,useFactory:function(){return new A.qLn},deps:[]},{provide:ab,useClass:FP,multi:!0,deps:[qt,A.R0b,A.Lbi]},{provide:ab,useClass:gD,multi:!0,deps:[qt]},[],{provide:ef,useClass:ef,deps:[an,vs,A.AFp]},{provide:A.FYo,useExisting:ef},{provide:RP,useExisting:vs},{provide:vs,useClass:vs,deps:[qt]},{provide:A.dDg,useClass:A.dDg,deps:[A.R0b]},{provide:an,useClass:an,deps:[ab,A.R0b]},{provide:AP,useClass:DP,deps:[]},[]];let bD=(()=>{class a{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(e){return{ngModule:a,providers:[{provide:A.AFp,useValue:e.appId},{provide:vc,useExisting:A.AFp},bu]}}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(a,12))},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({providers:UP,imports:[xg,A.hGG]}),a})();"undefined"!=typeof window&&window;var We=ct(4220),hb=ct(3572);var da=ct(4402),ti=ct(5917),Ul=ct(6215),zP=ct(4869),pC=ct(9796),xD=ct(5197),CD=ct(509),ao=ct(6693);const _d={};function hC(...a){let t,e;return(0,zP.K)(a[a.length-1])&&(e=a.pop()),"function"==typeof a[a.length-1]&&(t=a.pop()),1===a.length&&(0,pC.k)(a[0])&&(a=a[0]),(0,ao.n)(a,e).lift(new BE(t))}class BE{constructor(t){this.resultSelector=t}call(t,e){return e.subscribe(new Ev(t,this.resultSelector))}}class Ev extends xD.L{constructor(t,e){super(t),this.resultSelector=e,this.active=0,this.values=[],this.observables=[]}_next(t){this.values.push(_d),this.observables.push(t)}_complete(){const t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(let o=0;o<e;o++)this.add((0,CD.D)(this,t[o],void 0,o))}}notifyComplete(t){0==(this.active-=1)&&this.destination.complete()}notifyNext(t,e,o){const l=this.values,g=this.toRespond?l[o]===_d?--this.toRespond:this.toRespond:0;l[o]=e,0===g&&(this.resultSelector?this._tryResultSelector(l):this.destination.next(l.slice()))}_tryResultSelector(t){let e;try{e=this.resultSelector.apply(this,t)}catch(o){return void this.destination.error(o)}this.destination.next(e)}}var Vl=ct(7574);const oi=(()=>{function a(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return a.prototype=Object.create(Error.prototype),a})();var xu=ct(3282);function to(...a){return(0,xu.J)(1)((0,ti.of)(...a))}var zs=ct(9193);function Xa(a){return new Vl.y(t=>{let e;try{e=a()}catch(l){return void t.error(l)}return(e?(0,da.D)(e):(0,zs.c)()).subscribe(t)})}var fb=ct(2441),Mu=ct(9765),qo=ct(8002),Ia=ct(3190),fC=ct(5257),Ln=ct(2145),zi=ct(5435),al=ct(5304),bc=ct(4612),gC=ct(7393),Nr=ct(7108);function xr(a){return function(e){return 0===a?(0,zs.c)():e.lift(new UE(a))}}class UE{constructor(t){if(this.total=t,this.total<0)throw new Nr.W}call(t,e){return e.subscribe(new VE(t,this.total))}}class VE extends gC.L{constructor(t,e){super(t),this.total=e,this.ring=new Array,this.count=0}_next(t){const e=this.ring,o=this.total,l=this.count++;e.length<o?e.push(t):e[l%o]=t}_complete(){const t=this.destination;let e=this.count;if(e>0){const o=this.count>=this.total?this.total:this.count,l=this.ring;for(let d=0;d<o;d++){const g=e++%o;t.next(l[g])}}t.complete()}}function HP(a=HE){return t=>t.lift(new zE(a))}class zE{constructor(t){this.errorFactory=t}call(t,e){return e.subscribe(new mC(t,this.errorFactory))}}class mC extends gC.L{constructor(t,e){super(t),this.errorFactory=e,this.hasValue=!1}_next(t){this.hasValue=!0,this.destination.next(t)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function HE(){return new oi}function tp(a=null){return t=>t.lift(new Fn(a))}class Fn{constructor(t){this.defaultValue=t}call(t,e){return e.subscribe(new Hs(t,this.defaultValue))}}class Hs extends gC.L{constructor(t,e){super(t),this.defaultValue=e,this.isEmpty=!0}_next(t){this.isEmpty=!1,this.destination.next(t)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}var Sv=ct(4487);function gb(a,t){const e=arguments.length>=2;return o=>o.pipe(a?(0,zi.h)((l,d)=>a(l,d,o)):Sv.y,(0,fC.q)(1),e?tp(t):HP(()=>new oi))}var On=ct(9773);function Ts(){}var yc=ct(9105);function na(a,t,e){return function(l){return l.lift(new Pu(a,t,e))}}class Pu{constructor(t,e,o){this.nextOrObserver=t,this.error=e,this.complete=o}call(t,e){return e.subscribe(new pa(t,this.nextOrObserver,this.error,this.complete))}}class pa extends gC.L{constructor(t,e,o,l){super(t),this._tapNext=Ts,this._tapError=Ts,this._tapComplete=Ts,this._tapError=o||Ts,this._tapComplete=l||Ts,(0,yc.m)(e)?(this._context=this,this._tapNext=e):e&&(this._context=e,this._tapNext=e.next||Ts,this._tapError=e.error||Ts,this._tapComplete=e.complete||Ts)}_next(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)}_error(t){try{this._tapError.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.error(t)}_complete(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()}}var Za=ct(1307),Tv=ct(5319);class Og{constructor(t){this.callback=t}call(t,e){return e.subscribe(new cl(t,this.callback))}}class cl extends gC.L{constructor(t,e){super(t),this.add(new Tv.w(e))}}class ep{constructor(t,e){this.id=t,this.url=e}}class Hc extends ep{constructor(t,e,o="imperative",l=null){super(t,e),this.navigationTrigger=o,this.restoredState=l}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Eg extends ep{constructor(t,e,o){super(t,e),this.urlAfterRedirects=o}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Sg extends ep{constructor(t,e,o){super(t,e),this.reason=o}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class IR extends ep{constructor(t,e,o){super(t,e),this.error=o}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class GE extends ep{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class PD extends ep{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class wD extends ep{constructor(t,e,o,l,d){super(t,e),this.urlAfterRedirects=o,this.state=l,this.shouldActivate=d}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class OD extends ep{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class ED extends ep{constructor(t,e,o,l){super(t,e),this.urlAfterRedirects=o,this.state=l}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jE{constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Dv{constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class GP{constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vC{constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class SD{constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class vb{constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _b{constructor(t,e,o){this.routerEvent=t,this.position=e,this.anchor=o}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const ei="primary";class AD{constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){const e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Iv(a){return new AD(a)}const WE="ngNavigationCancelingError";function bb(a){const t=Error("NavigationCancelingError: "+a);return t[WE]=!0,t}function Ag(a,t,e){const o=e.path.split("/");if(o.length>a.length||"full"===e.pathMatch&&(t.hasChildren()||o.length<a.length))return null;const l={};for(let d=0;d<o.length;d++){const g=o[d],b=a[d];if(g.startsWith(":"))l[g.substring(1)]=b;else if(g!==b.path)return null}return{consumed:a.slice(0,o.length),posParams:l}}function Ka(a,t){const e=a?Object.keys(a):void 0,o=t?Object.keys(t):void 0;if(!e||!o||e.length!=o.length)return!1;let l;for(let d=0;d<e.length;d++)if(l=e[d],!jP(a[l],t[l]))return!1;return!0}function jP(a,t){if(Array.isArray(a)&&Array.isArray(t)){if(a.length!==t.length)return!1;const e=[...a].sort(),o=[...t].sort();return e.every((l,d)=>o[d]===l)}return a===t}function Gs(a){return Array.prototype.concat.apply([],a)}function WP(a){return a.length>0?a[a.length-1]:null}function _s(a,t){for(const e in a)a.hasOwnProperty(e)&&t(a[e],e)}function ll(a){return(0,A.CqO)(a)?a:(0,A.QGY)(a)?(0,da.D)(Promise.resolve(a)):(0,ti.of)(a)}const ra={exact:function np(a,t,e){if(!ip(a.segments,t.segments)||!rp(a.segments,t.segments,e)||a.numberOfChildren!==t.numberOfChildren)return!1;for(const o in t.children)if(!a.children[o]||!np(a.children[o],t.children[o],e))return!1;return!0},subset:bd},yb={exact:function(a,t){return Ka(a,t)},subset:function(a,t){return Object.keys(t).length<=Object.keys(a).length&&Object.keys(t).every(e=>jP(a[e],t[e]))},ignored:()=>!0};function DD(a,t,e){return ra[e.paths](a.root,t.root,e.matrixParams)&&yb[e.queryParams](a.queryParams,t.queryParams)&&!("exact"===e.fragment&&a.fragment!==t.fragment)}function bd(a,t,e){return Lv(a,t,t.segments,e)}function Lv(a,t,e,o){if(a.segments.length>e.length){const l=a.segments.slice(0,e.length);return!(!ip(l,e)||t.hasChildren()||!rp(l,e,o))}if(a.segments.length===e.length){if(!ip(a.segments,e)||!rp(a.segments,e,o))return!1;for(const l in t.children)if(!a.children[l]||!bd(a.children[l],t.children[l],o))return!1;return!0}{const l=e.slice(0,a.segments.length),d=e.slice(a.segments.length);return!!(ip(a.segments,l)&&rp(a.segments,l,o)&&a.children[ei])&&Lv(a.children[ei],t,d,o)}}function rp(a,t,e){return t.every((o,l)=>yb[e](a[l].parameters,o.parameters))}class zl{constructor(t,e,o){this.root=t,this.queryParams=e,this.fragment=o}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return bs.serialize(this)}}class Ci{constructor(t,e){this.segments=t,this.children=e,this.parent=null,_s(e,(o,l)=>o.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Qa(this)}}class wu{constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Iv(this.parameters)),this._parameterMap}toString(){return sp(this)}}function ip(a,t){return a.length===t.length&&a.every((e,o)=>e.path===t[o].path)}class eh{}class bC{parse(t){const e=new Hl(t);return new zl(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){var a;return`${`/${So(t.root,!0)}`}${function(a){const t=Object.keys(a).map(e=>{const o=a[e];return Array.isArray(o)?o.map(l=>`${op(e)}=${op(l)}`).join("&"):`${op(e)}=${op(o)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(t.queryParams)}${"string"==typeof t.fragment?`#${a=t.fragment,encodeURI(a)}`:""}`}}const bs=new bC;function Qa(a){return a.segments.map(t=>sp(t)).join("/")}function So(a,t){if(!a.hasChildren())return Qa(a);if(t){const e=a.children[ei]?So(a.children[ei],!1):"",o=[];return _s(a.children,(l,d)=>{d!==ei&&o.push(`${d}:${So(l,!1)}`)}),o.length>0?`${e}(${o.join("//")})`:e}{const e=function(a,t){let e=[];return _s(a.children,(o,l)=>{l===ei&&(e=e.concat(t(o,l)))}),_s(a.children,(o,l)=>{l!==ei&&(e=e.concat(t(o,l)))}),e}(a,(o,l)=>l===ei?[So(a.children[ei],!1)]:[`${l}:${So(o,!1)}`]);return 1===Object.keys(a.children).length&&null!=a.children[ei]?`${Qa(a)}/${e[0]}`:`${Qa(a)}/(${e.join("//")})`}}function $P(a){return encodeURIComponent(a).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function op(a){return $P(a).replace(/%3B/gi,";")}function ko(a){return $P(a).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function nh(a){return decodeURIComponent(a)}function of(a){return nh(a.replace(/\+/g,"%20"))}function sp(a){return`${ko(a.path)}${function(a){return Object.keys(a).map(t=>`;${ko(t)}=${ko(a[t])}`).join("")}(a.parameters)}`}const CC=/^[^\/()?;=#]+/;function ap(a){const t=a.match(CC);return t?t[0]:""}const Gc=/^[^=?&#]+/,Tg=/^[^?&#]+/;class Hl{constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Ci([],{}):new Ci([],this.parseChildren())}parseQueryParams(){const t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let o={};return this.peekStartsWith("(")&&(o=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(o[ei]=new Ci(t,e)),o}parseSegment(){const t=ap(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(t),new wu(nh(t),this.parseMatrixParams())}parseMatrixParams(){const t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){const e=ap(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const l=ap(this.remaining);l&&(o=l,this.capture(o))}t[nh(e)]=nh(o)}parseQueryParam(t){const e=function(a){const t=a.match(Gc);return t?t[0]:""}(this.remaining);if(!e)return;this.capture(e);let o="";if(this.consumeOptional("=")){const g=function(a){const t=a.match(Tg);return t?t[0]:""}(this.remaining);g&&(o=g,this.capture(o))}const l=of(e),d=of(o);if(t.hasOwnProperty(l)){let g=t[l];Array.isArray(g)||(g=[g],t[l]=g),g.push(d)}else t[l]=d}parseParens(t){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const o=ap(this.remaining),l=this.remaining[o.length];if("/"!==l&&")"!==l&&";"!==l)throw new Error(`Cannot parse url '${this.url}'`);let d;o.indexOf(":")>-1?(d=o.substr(0,o.indexOf(":")),this.capture(d),this.capture(":")):t&&(d=ei);const g=this.parseChildren();e[d]=1===Object.keys(g).length?g[ei]:new Ci([],g),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)}capture(t){if(!this.consumeOptional(t))throw new Error(`Expected "${t}".`)}}class Pb{constructor(t){this._root=t}get root(){return this._root.value}parent(t){const e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){const e=rh(t,this._root);return e?e.children.map(o=>o.value):[]}firstChild(t){const e=rh(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){const e=Fv(t,this._root);return e.length<2?[]:e[e.length-2].children.map(l=>l.value).filter(l=>l!==t)}pathFromRoot(t){return Fv(t,this._root).map(e=>e.value)}}function rh(a,t){if(a===t.value)return t;for(const e of t.children){const o=rh(a,e);if(o)return o}return null}function Fv(a,t){if(a===t.value)return[t];for(const e of t.children){const o=Fv(a,e);if(o.length)return o.unshift(t),o}return[]}class Gl{constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}}function sf(a){const t={};return a&&a.children.forEach(e=>t[e.value.outlet]=e),t}class ul extends Pb{constructor(t,e){super(t),this.snapshot=e,Ig(this,t)}toString(){return this.snapshot.toString()}}function cp(a,t){const e=function(a,t){const g=new up([],{},{},"",{},ei,t,null,a.root,-1,{});return new yd("",new Gl(g,[]))}(a,t),o=new Ul.X([new wu("",{})]),l=new Ul.X({}),d=new Ul.X({}),g=new Ul.X({}),b=new Ul.X(""),M=new ih(o,l,g,b,d,ei,t,e.root);return M.snapshot=e.root,new ul(new Gl(M,[]),e)}class ih{constructor(t,e,o,l,d,g,b,M){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=g,this.component=b,this._futureSnapshot=M}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,qo.U)(t=>Iv(t)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,qo.U)(t=>Iv(t)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Dg(a,t="emptyOnly"){const e=a.pathFromRoot;let o=0;if("always"!==t)for(o=e.length-1;o>=1;){const l=e[o],d=e[o-1];if(l.routeConfig&&""===l.routeConfig.path)o--;else{if(d.component)break;o--}}return function(a){return a.reduce((t,e)=>({params:Object.assign(Object.assign({},t.params),e.params),data:Object.assign(Object.assign({},t.data),e.data),resolve:Object.assign(Object.assign({},t.resolve),e._resolvedData)}),{params:{},data:{},resolve:{}})}(e.slice(o))}class up{constructor(t,e,o,l,d,g,b,M,O,T,D){this.url=t,this.params=e,this.queryParams=o,this.fragment=l,this.data=d,this.outlet=g,this.component=b,this.routeConfig=M,this._urlSegment=O,this._lastPathIndex=T,this._resolve=D}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Iv(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Iv(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(o=>o.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class yd extends Pb{constructor(t,e){super(e),this.url=t,Ig(this,e)}toString(){return Bv(this._root)}}function Ig(a,t){t.value._routerState=a,t.children.forEach(e=>Ig(a,e))}function Bv(a){const t=a.children.length>0?` { ${a.children.map(Bv).join(", ")} } `:"";return`${a.value}${t}`}function Uv(a){if(a.snapshot){const t=a.snapshot,e=a._futureSnapshot;a.snapshot=e,Ka(t.queryParams,e.queryParams)||a.queryParams.next(e.queryParams),t.fragment!==e.fragment&&a.fragment.next(e.fragment),Ka(t.params,e.params)||a.params.next(e.params),function(a,t){if(a.length!==t.length)return!1;for(let e=0;e<a.length;++e)if(!Ka(a[e],t[e]))return!1;return!0}(t.url,e.url)||a.url.next(e.url),Ka(t.data,e.data)||a.data.next(e.data)}else a.snapshot=a._futureSnapshot,a.data.next(a._futureSnapshot.data)}function af(a,t){return Ka(a.params,t.params)&&function(a,t){return ip(a,t)&&a.every((e,o)=>Ka(e.parameters,t[o].parameters))}(a.url,t.url)&&!(!a.parent!=!t.parent)&&(!a.parent||af(a.parent,t.parent))}function Rg(a,t,e){if(e&&a.shouldReuseRoute(t.value,e.value.snapshot)){const o=e.value;o._futureSnapshot=t.value;const l=function(a,t,e){return t.children.map(o=>{for(const l of e.children)if(a.shouldReuseRoute(o.value,l.value.snapshot))return Rg(a,o,l);return Rg(a,o)})}(a,t,e);return new Gl(o,l)}{if(a.shouldAttach(t.value)){const d=a.retrieve(t.value);if(null!==d){const g=d.route;return wb(t,g),g}}const o=function(a){return new ih(new Ul.X(a.url),new Ul.X(a.params),new Ul.X(a.queryParams),new Ul.X(a.fragment),new Ul.X(a.data),a.outlet,a.component,a)}(t.value),l=t.children.map(d=>Rg(a,d));return new Gl(o,l)}}function wb(a,t){if(a.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(a.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=a.value;for(let e=0;e<a.children.length;++e)wb(a.children[e],t.children[e])}function xd(a){return"object"==typeof a&&null!=a&&!a.outlets&&!a.segmentPath}function Cd(a){return"object"==typeof a&&null!=a&&a.outlets}function Ou(a,t,e,o,l){let d={};return o&&_s(o,(g,b)=>{d[b]=Array.isArray(g)?g.map(M=>`${M}`):`${g}`}),new zl(e.root===a?t:zv(e.root,a,t),d,l)}function zv(a,t,e){const o={};return _s(a.children,(l,d)=>{o[d]=l===t?e:zv(l,t,e)}),new Ci(a.segments,o)}class Ob{constructor(t,e,o){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=o,t&&o.length>0&&xd(o[0]))throw new Error("Root segment cannot have matrix parameters");const l=o.find(Cd);if(l&&l!==WP(o))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hv{constructor(t,e,o){this.segmentGroup=t,this.processChildren=e,this.index=o}}function sh(a,t,e){if(a||(a=new Ci([],{})),0===a.segments.length&&a.hasChildren())return cf(a,t,e);const o=function(a,t,e){let o=0,l=t;const d={match:!1,pathIndex:0,commandIndex:0};for(;l<a.segments.length;){if(o>=e.length)return d;const g=a.segments[l],b=e[o];if(Cd(b))break;const M=`${b}`,O=o<e.length-1?e[o+1]:null;if(l>0&&void 0===M)break;if(M&&O&&"object"==typeof O&&void 0===O.outlets){if(!Ng(M,O,g))return d;o+=2}else{if(!Ng(M,{},g))return d;o++}l++}return{match:!0,pathIndex:l,commandIndex:o}}(a,t,e),l=e.slice(o.commandIndex);if(o.match&&o.pathIndex<a.segments.length){const d=new Ci(a.segments.slice(0,o.pathIndex),{});return d.children[ei]=new Ci(a.segments.slice(o.pathIndex),a.children),cf(d,0,l)}return o.match&&0===l.length?new Ci(a.segments,{}):o.match&&!a.hasChildren()?lf(a,t,e):o.match?cf(a,0,l):lf(a,t,e)}function cf(a,t,e){if(0===e.length)return new Ci(a.segments,{});{const o=function(a){return Cd(a[0])?a[0].outlets:{[ei]:a}}(e),l={};return _s(o,(d,g)=>{"string"==typeof d&&(d=[d]),null!==d&&(l[g]=sh(a.children[g],t,d))}),_s(a.children,(d,g)=>{void 0===o[g]&&(l[g]=d)}),new Ci(a.segments,l)}}function lf(a,t,e){const o=a.segments.slice(0,t);let l=0;for(;l<e.length;){const d=e[l];if(Cd(d)){const M=Gv(d.outlets);return new Ci(o,M)}if(0===l&&xd(e[0])){o.push(new wu(a.segments[t].path,Fg(e[0]))),l++;continue}const g=Cd(d)?d.outlets[ei]:`${d}`,b=l<e.length-1?e[l+1]:null;g&&b&&xd(b)?(o.push(new wu(g,Fg(b))),l+=2):(o.push(new wu(g,{})),l++)}return new Ci(o,{})}function Gv(a){const t={};return _s(a,(e,o)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[o]=lf(new Ci([],{}),0,e))}),t}function Fg(a){const t={};return _s(a,(e,o)=>t[o]=`${e}`),t}function Ng(a,t,e){return a==e.path&&Ka(t,e.parameters)}class Bg{constructor(t,e,o,l){this.routeReuseStrategy=t,this.futureState=e,this.currState=o,this.forwardEvent=l}activate(t){const e=this.futureState._root,o=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,o,t),Uv(this.futureState.root),this.activateChildRoutes(e,o,t)}deactivateChildRoutes(t,e,o){const l=sf(e);t.children.forEach(d=>{const g=d.value.outlet;this.deactivateRoutes(d,l[g],o),delete l[g]}),_s(l,(d,g)=>{this.deactivateRouteAndItsChildren(d,o)})}deactivateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(l===d)if(l.component){const g=o.getContext(l.outlet);g&&this.deactivateChildRoutes(t,e,g.children)}else this.deactivateChildRoutes(t,e,o);else d&&this.deactivateRouteAndItsChildren(e,o)}deactivateRouteAndItsChildren(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){const o=e.getContext(t.value.outlet);if(o&&o.outlet){const l=o.outlet.detach(),d=o.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:l,route:t,contexts:d})}}deactivateRouteAndOutlet(t,e){const o=e.getContext(t.value.outlet),l=o&&t.value.component?o.children:e,d=sf(t);for(const g of Object.keys(d))this.deactivateRouteAndItsChildren(d[g],l);o&&o.outlet&&(o.outlet.deactivate(),o.children.onOutletDeactivated(),o.attachRef=null,o.resolver=null,o.route=null)}activateChildRoutes(t,e,o){const l=sf(e);t.children.forEach(d=>{this.activateRoutes(d,l[d.value.outlet],o),this.forwardEvent(new vb(d.value.snapshot))}),t.children.length&&this.forwardEvent(new vC(t.value.snapshot))}activateRoutes(t,e,o){const l=t.value,d=e?e.value:null;if(Uv(l),l===d)if(l.component){const g=o.getOrCreateContext(l.outlet);this.activateChildRoutes(t,e,g.children)}else this.activateChildRoutes(t,e,o);else if(l.component){const g=o.getOrCreateContext(l.outlet);if(this.routeReuseStrategy.shouldAttach(l.snapshot)){const b=this.routeReuseStrategy.retrieve(l.snapshot);this.routeReuseStrategy.store(l.snapshot,null),g.children.onOutletReAttached(b.contexts),g.attachRef=b.componentRef,g.route=b.route.value,g.outlet&&g.outlet.attach(b.componentRef,b.route.value),PC(b.route)}else{const b=function(a){for(let t=a.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(l.snapshot),M=b?b.module.componentFactoryResolver:null;g.attachRef=null,g.route=l,g.resolver=M,g.outlet&&g.outlet.activateWith(l,M),this.activateChildRoutes(t,null,g.children)}}else this.activateChildRoutes(t,null,o)}}function PC(a){Uv(a.value),a.children.forEach(PC)}class Pd{constructor(t,e){this.routes=t,this.module=e}}function ki(a){return"function"==typeof a}function Ug(a){return a instanceof zl}const Vg=Symbol("INITIAL_VALUE");function dp(){return(0,Ia.w)(a=>hC(a.map(t=>t.pipe((0,fC.q)(1),function(...a){const t=a[a.length-1];return(0,zP.K)(t)?(a.pop(),e=>to(a,e,t)):e=>to(a,e)}(Vg)))).pipe((0,Ln.R)((t,e)=>{let o=!1;return e.reduce((l,d,g)=>l!==Vg?l:(d===Vg&&(o=!0),o||!1!==d&&g!==e.length-1&&!Ug(d)?l:d),t)},Vg),(0,zi.h)(t=>t!==Vg),(0,qo.U)(t=>Ug(t)?t:!0===t),(0,fC.q)(1)))}let wC=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=A.Xpm({type:a,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,o){1&e&&A._UZ(0,"router-outlet")},directives:function(){return[Kv]},encapsulation:2}),a})();function OC(a,t=""){for(let e=0;e<a.length;e++){const o=a[e];XE(o,zg(t,o))}}function XE(a,t){a.children&&OC(a.children,t)}function zg(a,t){return t?a||t.path?a&&!t.path?`${a}/`:!a&&t.path?t.path:`${a}/${t.path}`:"":a}function ha(a){const t=a.children&&a.children.map(ha),e=t?Object.assign(Object.assign({},a),{children:t}):Object.assign({},a);return!e.component&&(t||e.loadChildren)&&e.outlet&&e.outlet!==ei&&(e.component=wC),e}function Ja(a){return a.outlet||ei}function Eb(a,t){const e=a.filter(o=>Ja(o)===t);return e.push(...a.filter(o=>Ja(o)!==t)),e}const tc={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function Ao(a,t,e){var o;if(""===t.path)return"full"===t.pathMatch&&(a.hasChildren()||e.length>0)?Object.assign({},tc):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const d=(t.matcher||Ag)(e,a,t);if(!d)return Object.assign({},tc);const g={};_s(d.posParams,(M,O)=>{g[O]=M.path});const b=d.consumed.length>0?Object.assign(Object.assign({},g),d.consumed[d.consumed.length-1].parameters):g;return{matched:!0,consumedSegments:d.consumed,lastChild:d.consumed.length,parameters:b,positionalParamSegments:null!==(o=d.posParams)&&void 0!==o?o:{}}}function pp(a,t,e,o,l="corrected"){if(e.length>0&&function(a,t,e){return e.some(o=>df(a,t,o)&&Ja(o)!==ei)}(a,e,o)){const g=new Ci(t,function(a,t,e,o){const l={};l[ei]=o,o._sourceSegment=a,o._segmentIndexShift=t.length;for(const d of e)if(""===d.path&&Ja(d)!==ei){const g=new Ci([],{});g._sourceSegment=a,g._segmentIndexShift=t.length,l[Ja(d)]=g}return l}(a,t,o,new Ci(e,a.children)));return g._sourceSegment=a,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:[]}}if(0===e.length&&function(a,t,e){return e.some(o=>df(a,t,o))}(a,e,o)){const g=new Ci(a.segments,function(a,t,e,o,l,d){const g={};for(const b of o)if(df(a,e,b)&&!l[Ja(b)]){const M=new Ci([],{});M._sourceSegment=a,M._segmentIndexShift="legacy"===d?a.segments.length:t.length,g[Ja(b)]=M}return Object.assign(Object.assign({},l),g)}(a,t,e,o,a.children,l));return g._sourceSegment=a,g._segmentIndexShift=t.length,{segmentGroup:g,slicedSegments:e}}const d=new Ci(a.segments,a.children);return d._sourceSegment=a,d._segmentIndexShift=t.length,{segmentGroup:d,slicedSegments:e}}function df(a,t,e){return(!(a.hasChildren()||t.length>0)||"full"!==e.pathMatch)&&""===e.path}function Sb(a,t,e,o){return!!(Ja(a)===o||o!==ei&&df(t,e,a))&&("**"===a.path||Ao(t,a,e).matched)}function Ab(a,t,e){return 0===t.length&&!a.children[e]}class hp{constructor(t){this.segmentGroup=t||null}}class EC{constructor(t){this.urlTree=t}}function qv(a){return new Vl.y(t=>t.error(new hp(a)))}function SC(a){return new Vl.y(t=>t.error(new EC(a)))}function Hg(a){return new Vl.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${a}'`)))}class ZE{constructor(t,e,o,l,d){this.configLoader=e,this.urlSerializer=o,this.urlTree=l,this.config=d,this.allowRedirects=!0,this.ngModule=t.get(A.h0i)}apply(){const t=pp(this.urlTree.root,[],[],this.config).segmentGroup,e=new Ci(t.segments,t.children);return this.expandSegmentGroup(this.ngModule,this.config,e,ei).pipe((0,qo.U)(d=>this.createUrlTree(pf(d),this.urlTree.queryParams,this.urlTree.fragment))).pipe((0,al.K)(d=>{if(d instanceof EC)return this.allowRedirects=!1,this.match(d.urlTree);throw d instanceof hp?this.noMatchError(d):d}))}match(t){return this.expandSegmentGroup(this.ngModule,this.config,t.root,ei).pipe((0,qo.U)(l=>this.createUrlTree(pf(l),t.queryParams,t.fragment))).pipe((0,al.K)(l=>{throw l instanceof hp?this.noMatchError(l):l}))}noMatchError(t){return new Error(`Cannot match any routes. URL Segment: '${t.segmentGroup}'`)}createUrlTree(t,e,o){const l=t.segments.length>0?new Ci([],{[ei]:t}):t;return new zl(l,e,o)}expandSegmentGroup(t,e,o,l){return 0===o.segments.length&&o.hasChildren()?this.expandChildren(t,e,o).pipe((0,qo.U)(d=>new Ci([],d))):this.expandSegment(t,o,e,o.segments,l,!0)}expandChildren(t,e,o){const l=[];for(const d of Object.keys(o.children))"primary"===d?l.unshift(d):l.push(d);return(0,da.D)(l).pipe((0,bc.b)(d=>{const g=o.children[d],b=Eb(e,d);return this.expandSegmentGroup(t,b,g,d).pipe((0,qo.U)(M=>({segment:M,outlet:d})))}),(0,Ln.R)((d,g)=>(d[g.outlet]=g.segment,d),{}),function(a,t){const e=arguments.length>=2;return o=>o.pipe(a?(0,zi.h)((l,d)=>a(l,d,o)):Sv.y,xr(1),e?tp(t):HP(()=>new oi))}())}expandSegment(t,e,o,l,d,g){return(0,da.D)(o).pipe((0,bc.b)(b=>this.expandSegmentAgainstRoute(t,e,o,b,l,d,g).pipe((0,al.K)(O=>{if(O instanceof hp)return(0,ti.of)(null);throw O}))),gb(b=>!!b),(0,al.K)((b,M)=>{if(b instanceof oi||"EmptyError"===b.name){if(Ab(e,l,d))return(0,ti.of)(new Ci([],{}));throw new hp(e)}throw b}))}expandSegmentAgainstRoute(t,e,o,l,d,g,b){return Sb(l,e,d,g)?void 0===l.redirectTo?this.matchSegmentAgainstRoute(t,e,l,d,g):b&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g):qv(e):qv(e)}expandSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g){return"**"===l.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,o,l,g):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g)}expandWildCardWithParamsAgainstRouteUsingRedirect(t,e,o,l){const d=this.applyRedirectCommands([],o.redirectTo,{});return o.redirectTo.startsWith("/")?SC(d):this.lineralizeSegments(o,d).pipe((0,On.zg)(g=>{const b=new Ci(g,{});return this.expandSegment(t,b,e,g,l,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(t,e,o,l,d,g){const{matched:b,consumedSegments:M,lastChild:O,positionalParamSegments:T}=Ao(e,l,d);if(!b)return qv(e);const D=this.applyRedirectCommands(M,l.redirectTo,T);return l.redirectTo.startsWith("/")?SC(D):this.lineralizeSegments(l,D).pipe((0,On.zg)(R=>this.expandSegment(t,e,o,R.concat(d.slice(O)),g,!1)))}matchSegmentAgainstRoute(t,e,o,l,d){if("**"===o.path)return o.loadChildren?(o._loadedConfig?(0,ti.of)(o._loadedConfig):this.configLoader.load(t.injector,o)).pipe((0,qo.U)(R=>(o._loadedConfig=R,new Ci(l,{})))):(0,ti.of)(new Ci(l,{}));const{matched:g,consumedSegments:b,lastChild:M}=Ao(e,o,l);if(!g)return qv(e);const O=l.slice(M);return this.getChildConfig(t,o,l).pipe((0,On.zg)(D=>{const R=D.module,k=D.routes,{segmentGroup:U,slicedSegments:j}=pp(e,b,O,k),Z=new Ci(U.segments,U.children);if(0===j.length&&Z.hasChildren())return this.expandChildren(R,k,Z).pipe((0,qo.U)(Q=>new Ci(b,Q)));if(0===k.length&&0===j.length)return(0,ti.of)(new Ci(b,{}));const W=Ja(o)===d;return this.expandSegment(R,Z,k,j,W?ei:d,!0).pipe((0,qo.U)(rt=>new Ci(b.concat(rt.segments),rt.children)))}))}getChildConfig(t,e,o){return e.children?(0,ti.of)(new Pd(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?(0,ti.of)(e._loadedConfig):this.runCanLoadGuards(t.injector,e,o).pipe((0,On.zg)(l=>{return l?this.configLoader.load(t.injector,e).pipe((0,qo.U)(d=>(e._loadedConfig=d,d))):(a=e,new Vl.y(t=>t.error(bb(`Cannot load children because the guard of the route "path: '${a.path}'" returned false`))));var a})):(0,ti.of)(new Pd([],t))}runCanLoadGuards(t,e,o){const l=e.canLoad;if(!l||0===l.length)return(0,ti.of)(!0);const d=l.map(g=>{const b=t.get(g);let M;if((a=b)&&ki(a.canLoad))M=b.canLoad(e,o);else{if(!ki(b))throw new Error("Invalid CanLoad guard");M=b(e,o)}var a;return ll(M)});return(0,ti.of)(d).pipe(dp(),na(g=>{if(!Ug(g))return;const b=bb(`Redirecting to "${this.urlSerializer.serialize(g)}"`);throw b.url=g,b}),(0,qo.U)(g=>!0===g))}lineralizeSegments(t,e){let o=[],l=e.root;for(;;){if(o=o.concat(l.segments),0===l.numberOfChildren)return(0,ti.of)(o);if(l.numberOfChildren>1||!l.children[ei])return Hg(t.redirectTo);l=l.children[ei]}}applyRedirectCommands(t,e,o){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,o)}applyRedirectCreatreUrlTree(t,e,o,l){const d=this.createSegmentGroup(t,e.root,o,l);return new zl(d,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){const o={};return _s(t,(l,d)=>{if("string"==typeof l&&l.startsWith(":")){const b=l.substring(1);o[d]=e[b]}else o[d]=l}),o}createSegmentGroup(t,e,o,l){const d=this.createSegments(t,e.segments,o,l);let g={};return _s(e.children,(b,M)=>{g[M]=this.createSegmentGroup(t,b,o,l)}),new Ci(d,g)}createSegments(t,e,o,l){return e.map(d=>d.path.startsWith(":")?this.findPosParam(t,d,l):this.findOrReturn(d,o))}findPosParam(t,e,o){const l=o[e.path.substring(1)];if(!l)throw new Error(`Cannot redirect to '${t}'. Cannot find '${e.path}'.`);return l}findOrReturn(t,e){let o=0;for(const l of e){if(l.path===t.path)return e.splice(o),l;o++}return t}}function pf(a){const t={};for(const o of Object.keys(a.children)){const d=pf(a.children[o]);(d.segments.length>0||d.hasChildren())&&(t[o]=d)}return function(a){if(1===a.numberOfChildren&&a.children[ei]){const t=a.children[ei];return new Ci(a.segments.concat(t.segments),t.children)}return a}(new Ci(a.segments,t))}class KE{constructor(t){this.path=t,this.route=this.path[this.path.length-1]}}class TC{constructor(t,e){this.component=t,this.route=e}}function Gg(a,t,e){const o=a._root;return Ib(o,t?t._root:null,e,[o.value])}function Db(a,t,e){const o=function(a){if(!a)return null;for(let t=a.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(o?o.module.injector:e).get(a)}function Ib(a,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=sf(t);return a.children.forEach(g=>{(function(a,t,e,o,l={canDeactivateChecks:[],canActivateChecks:[]}){const d=a.value,g=t?t.value:null,b=e?e.getContext(a.value.outlet):null;if(g&&d.routeConfig===g.routeConfig){const M=function(a,t,e){if("function"==typeof e)return e(a,t);switch(e){case"pathParamsChange":return!ip(a.url,t.url);case"pathParamsOrQueryParamsChange":return!ip(a.url,t.url)||!Ka(a.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!af(a,t)||!Ka(a.queryParams,t.queryParams);case"paramsChange":default:return!af(a,t)}}(g,d,d.routeConfig.runGuardsAndResolvers);M?l.canActivateChecks.push(new KE(o)):(d.data=g.data,d._resolvedData=g._resolvedData),Ib(a,t,d.component?b?b.children:null:e,o,l),M&&b&&b.outlet&&b.outlet.isActivated&&l.canDeactivateChecks.push(new TC(b.outlet.component,g))}else g&&xc(t,b,l),l.canActivateChecks.push(new KE(o)),Ib(a,null,d.component?b?b.children:null:e,o,l)})(g,d[g.value.outlet],e,o.concat([g.value]),l),delete d[g.value.outlet]}),_s(d,(g,b)=>xc(g,e.getContext(b),l)),l}function xc(a,t,e){const o=sf(a),l=a.value;_s(o,(d,g)=>{xc(d,l.component?t?t.children.getContext(g):null:t,e)}),e.canDeactivateChecks.push(new TC(l.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,l))}class jg{}function Wl(a){return new Vl.y(t=>t.error(a))}class tS{constructor(t,e,o,l,d,g){this.rootComponentType=t,this.config=e,this.urlTree=o,this.url=l,this.paramsInheritanceStrategy=d,this.relativeLinkResolution=g}recognize(){const t=pp(this.urlTree.root,[],[],this.config.filter(g=>void 0===g.redirectTo),this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,ei);if(null===e)return null;const o=new up([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},ei,this.rootComponentType,null,this.urlTree.root,-1,{}),l=new Gl(o,e),d=new yd(this.url,l);return this.inheritParamsAndData(d._root),d}inheritParamsAndData(t){const e=t.value,o=Dg(e,this.paramsInheritanceStrategy);e.params=Object.freeze(o.params),e.data=Object.freeze(o.data),t.children.forEach(l=>this.inheritParamsAndData(l))}processSegmentGroup(t,e,o){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,o)}processChildren(t,e){const o=[];for(const d of Object.keys(e.children)){const g=e.children[d],b=Eb(t,d),M=this.processSegmentGroup(b,g,d);if(null===M)return null;o.push(...M)}const l=Eu(o);return l.sort((t,e)=>t.value.outlet===ei?-1:e.value.outlet===ei?1:t.value.outlet.localeCompare(e.value.outlet)),l}processSegment(t,e,o,l){for(const d of t){const g=this.processSegmentAgainstRoute(d,e,o,l);if(null!==g)return g}return Ab(e,o,l)?[]:null}processSegmentAgainstRoute(t,e,o,l){if(t.redirectTo||!Sb(t,e,o,l))return null;let d,g=[],b=[];if("**"===t.path){const k=o.length>0?WP(o).parameters:{};d=new up(o,k,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DC(t),Ja(t),t.component,t,qg(e),ZP(e)+o.length,Xv(t))}else{const k=Ao(e,t,o);if(!k.matched)return null;g=k.consumedSegments,b=o.slice(k.lastChild),d=new up(g,k.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,DC(t),Ja(t),t.component,t,qg(e),ZP(e)+g.length,Xv(t))}const M=(a=t).children?a.children:a.loadChildren?a._loadedConfig.routes:[],{segmentGroup:O,slicedSegments:T}=pp(e,g,b,M.filter(k=>void 0===k.redirectTo),this.relativeLinkResolution);var a;if(0===T.length&&O.hasChildren()){const k=this.processChildren(M,O);return null===k?null:[new Gl(d,k)]}if(0===M.length&&0===T.length)return[new Gl(d,[])];const D=Ja(t)===l,R=this.processSegment(M,O,T,D?ei:l);return null===R?null:[new Gl(d,R)]}}function BD(a){const t=a.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function Eu(a){const t=[],e=new Set;for(const o of a){if(!BD(o)){t.push(o);continue}const l=t.find(d=>o.value.routeConfig===d.value.routeConfig);void 0!==l?(l.children.push(...o.children),e.add(l)):t.push(o)}for(const o of e){const l=Eu(o.children);t.push(new Gl(o.value,l))}return t.filter(o=>!e.has(o))}function qg(a){let t=a;for(;t._sourceSegment;)t=t._sourceSegment;return t}function ZP(a){let t=a,e=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,e+=t._segmentIndexShift?t._segmentIndexShift:0;return e-1}function DC(a){return a.data||{}}function Xv(a){return a.resolve||{}}function JP(a){return(0,Ia.w)(t=>{const e=a(t);return e?(0,da.D)(e).pipe((0,qo.U)(()=>t)):(0,ti.of)(t)})}class nS extends class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}}{}const RC=new A.OlP("ROUTES");class kC{constructor(t,e,o,l){this.loader=t,this.compiler=e,this.onLoadStartListener=o,this.onLoadEndListener=l}load(t,e){if(e._loader$)return e._loader$;this.onLoadStartListener&&this.onLoadStartListener(e);const l=this.loadModuleFactory(e.loadChildren).pipe((0,qo.U)(d=>{this.onLoadEndListener&&this.onLoadEndListener(e);const g=d.create(t);return new Pd(Gs(g.injector.get(RC,void 0,A.XFs.Self|A.XFs.Optional)).map(ha),g)}),(0,al.K)(d=>{throw e._loader$=void 0,d}));return e._loader$=new fb.c(l,()=>new Mu.xQ).pipe((0,Za.x)()),e._loader$}loadModuleFactory(t){return"string"==typeof t?(0,da.D)(this.loader.load(t)):ll(t()).pipe((0,On.zg)(e=>e instanceof A.YKP?(0,ti.of)(e):(0,da.D)(this.compiler.compileModuleAsync(e))))}}class Lb{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Xg,this.attachRef=null}}class Xg{constructor(){this.contexts=new Map}onChildOutletCreated(t,e){const o=this.getOrCreateContext(t);o.outlet=e,this.contexts.set(t,o)}onChildOutletDestroyed(t){const e=this.getContext(t);e&&(e.outlet=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let e=this.getContext(t);return e||(e=new Lb,this.contexts.set(t,e)),e}getContext(t){return this.contexts.get(t)||null}}class Fb{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,e){return t}}function iS(a){throw a}function oS(a,t,e){return t.parse("/")}function tw(a,t){return(0,ti.of)(null)}const LC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},FC={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Mc=(()=>{class a{constructor(e,o,l,d,g,b,M,O){this.rootComponentType=e,this.urlSerializer=o,this.rootContexts=l,this.location=d,this.config=O,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Mu.xQ,this.errorHandler=iS,this.malformedUriErrorHandler=oS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:tw,afterPreactivation:tw},this.urlHandlingStrategy=new Fb,this.routeReuseStrategy=new nS,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=g.get(A.h0i),this.console=g.get(A.c2e);const R=g.get(A.R0b);this.isNgZoneEnabled=R instanceof A.R0b&&A.R0b.isInAngularZone(),this.resetConfig(O),this.currentUrlTree=new zl(new Ci([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new kC(b,M,k=>this.triggerEvent(new jE(k)),k=>this.triggerEvent(new Dv(k))),this.routerState=cp(this.currentUrlTree,this.rootComponentType),this.transitions=new Ul.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const o=this.events;return e.pipe((0,zi.h)(l=>0!==l.id),(0,qo.U)(l=>Object.assign(Object.assign({},l),{extractedUrl:this.urlHandlingStrategy.extract(l.rawUrl)})),(0,Ia.w)(l=>{let d=!1,g=!1;return(0,ti.of)(l).pipe(na(b=>{this.currentNavigation={id:b.id,initialUrl:b.currentRawUrl,extractedUrl:b.extractedUrl,trigger:b.source,extras:b.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Ia.w)(b=>{const M=!this.navigated||b.extractedUrl.toString()!==this.browserUrlTree.toString(),O=("reload"===this.onSameUrlNavigation||M)&&this.urlHandlingStrategy.shouldProcessUrl(b.rawUrl);if(NC(b.source)&&(this.browserUrlTree=b.rawUrl),O)return(0,ti.of)(b).pipe((0,Ia.w)(T=>{const D=this.transitions.getValue();return o.next(new Hc(T.id,this.serializeUrl(T.extractedUrl),T.source,T.restoredState)),D!==this.transitions.getValue()?zs.E:Promise.resolve(T)}),function(a,t,e,o){return(0,Ia.w)(l=>function(a,t,e,o,l){return new ZE(a,t,e,o,l).apply()}(a,t,e,l.extractedUrl,o).pipe((0,qo.U)(d=>Object.assign(Object.assign({},l),{urlAfterRedirects:d}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),na(T=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:T.urlAfterRedirects})}),function(a,t,e,o,l){return(0,On.zg)(d=>function(a,t,e,o,l="emptyOnly",d="legacy"){try{const g=new tS(a,t,e,o,l,d).recognize();return null===g?Wl(new jg):(0,ti.of)(g)}catch(g){return Wl(g)}}(a,t,d.urlAfterRedirects,e(d.urlAfterRedirects),o,l).pipe((0,qo.U)(g=>Object.assign(Object.assign({},d),{targetSnapshot:g}))))}(this.rootComponentType,this.config,T=>this.serializeUrl(T),this.paramsInheritanceStrategy,this.relativeLinkResolution),na(T=>{"eager"===this.urlUpdateStrategy&&(T.extras.skipLocationChange||this.setBrowserUrl(T.urlAfterRedirects,T),this.browserUrlTree=T.urlAfterRedirects);const D=new GE(T.id,this.serializeUrl(T.extractedUrl),this.serializeUrl(T.urlAfterRedirects),T.targetSnapshot);o.next(D)}));if(M&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:D,extractedUrl:R,source:k,restoredState:U,extras:j}=b,Z=new Hc(D,this.serializeUrl(R),k,U);o.next(Z);const W=cp(R,this.rootComponentType).snapshot;return(0,ti.of)(Object.assign(Object.assign({},b),{targetSnapshot:W,urlAfterRedirects:R,extras:Object.assign(Object.assign({},j),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=b.rawUrl,this.browserUrlTree=b.urlAfterRedirects,b.resolve(null),zs.E}),JP(b=>{const{targetSnapshot:M,id:O,extractedUrl:T,rawUrl:D,extras:{skipLocationChange:R,replaceUrl:k}}=b;return this.hooks.beforePreactivation(M,{navigationId:O,appliedUrlTree:T,rawUrlTree:D,skipLocationChange:!!R,replaceUrl:!!k})}),na(b=>{const M=new PD(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot);this.triggerEvent(M)}),(0,qo.U)(b=>Object.assign(Object.assign({},b),{guards:Gg(b.targetSnapshot,b.currentSnapshot,this.rootContexts)})),function(a,t){return(0,On.zg)(e=>{const{targetSnapshot:o,currentSnapshot:l,guards:{canActivateChecks:d,canDeactivateChecks:g}}=e;return 0===g.length&&0===d.length?(0,ti.of)(Object.assign(Object.assign({},e),{guardsResult:!0})):function(a,t,e,o){return(0,da.D)(a).pipe((0,On.zg)(l=>function(a,t,e,o,l){const d=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!d||0===d.length)return(0,ti.of)(!0);const g=d.map(b=>{const M=Db(b,t,l);let O;if(function(a){return a&&ki(a.canDeactivate)}(M))O=ll(M.canDeactivate(a,t,e,o));else{if(!ki(M))throw new Error("Invalid CanDeactivate guard");O=ll(M(a,t,e,o))}return O.pipe(gb())});return(0,ti.of)(g).pipe(dp())}(l.component,l.route,e,t,o)),gb(l=>!0!==l,!0))}(g,o,l,a).pipe((0,On.zg)(b=>b&&function(a){return"boolean"==typeof a}(b)?function(a,t,e,o){return(0,da.D)(t).pipe((0,bc.b)(l=>to(function(a,t){return null!==a&&t&&t(new GP(a)),(0,ti.of)(!0)}(l.route.parent,o),function(a,t){return null!==a&&t&&t(new SD(a)),(0,ti.of)(!0)}(l.route,o),function(a,t,e){const o=t[t.length-1],d=t.slice(0,t.length-1).reverse().map(g=>function(a){const t=a.routeConfig?a.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:a,guards:t}:null}(g)).filter(g=>null!==g).map(g=>Xa(()=>{const b=g.guards.map(M=>{const O=Db(M,g.node,e);let T;if(function(a){return a&&ki(a.canActivateChild)}(O))T=ll(O.canActivateChild(o,a));else{if(!ki(O))throw new Error("Invalid CanActivateChild guard");T=ll(O(o,a))}return T.pipe(gb())});return(0,ti.of)(b).pipe(dp())}));return(0,ti.of)(d).pipe(dp())}(a,l.path,e),function(a,t,e){const o=t.routeConfig?t.routeConfig.canActivate:null;if(!o||0===o.length)return(0,ti.of)(!0);const l=o.map(d=>Xa(()=>{const g=Db(d,t,e);let b;if(function(a){return a&&ki(a.canActivate)}(g))b=ll(g.canActivate(t,a));else{if(!ki(g))throw new Error("Invalid CanActivate guard");b=ll(g(t,a))}return b.pipe(gb())}));return(0,ti.of)(l).pipe(dp())}(a,l.route,e))),gb(l=>!0!==l,!0))}(o,d,a,t):(0,ti.of)(b)),(0,qo.U)(b=>Object.assign(Object.assign({},e),{guardsResult:b})))})}(this.ngModule.injector,b=>this.triggerEvent(b)),na(b=>{if(Ug(b.guardsResult)){const O=bb(`Redirecting to "${this.serializeUrl(b.guardsResult)}"`);throw O.url=b.guardsResult,O}const M=new wD(b.id,this.serializeUrl(b.extractedUrl),this.serializeUrl(b.urlAfterRedirects),b.targetSnapshot,!!b.guardsResult);this.triggerEvent(M)}),(0,zi.h)(b=>!!b.guardsResult||(this.restoreHistory(b),this.cancelNavigationTransition(b,""),!1)),JP(b=>{if(b.guards.canActivateChecks.length)return(0,ti.of)(b).pipe(na(M=>{const O=new OD(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(O)}),(0,Ia.w)(M=>{let O=!1;return(0,ti.of)(M).pipe(function(a,t){return(0,On.zg)(e=>{const{targetSnapshot:o,guards:{canActivateChecks:l}}=e;if(!l.length)return(0,ti.of)(e);let d=0;return(0,da.D)(l).pipe((0,bc.b)(g=>function(a,t,e,o){return function(a,t,e,o){const l=Object.keys(a);if(0===l.length)return(0,ti.of)({});const d={};return(0,da.D)(l).pipe((0,On.zg)(g=>function(a,t,e,o){const l=Db(a,t,o);return ll(l.resolve?l.resolve(t,e):l(t,e))}(a[g],t,e,o).pipe(na(b=>{d[g]=b}))),xr(1),(0,On.zg)(()=>Object.keys(d).length===l.length?(0,ti.of)(d):zs.E))}(a._resolve,a,t,o).pipe((0,qo.U)(d=>(a._resolvedData=d,a.data=Object.assign(Object.assign({},a.data),Dg(a,e).resolve),null)))}(g.route,o,a,t)),na(()=>d++),xr(1),(0,On.zg)(g=>d===l.length?(0,ti.of)(e):zs.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),na({next:()=>O=!0,complete:()=>{O||(this.restoreHistory(M),this.cancelNavigationTransition(M,"At least one route resolver didn't emit any value."))}}))}),na(M=>{const O=new ED(M.id,this.serializeUrl(M.extractedUrl),this.serializeUrl(M.urlAfterRedirects),M.targetSnapshot);this.triggerEvent(O)}))}),JP(b=>{const{targetSnapshot:M,id:O,extractedUrl:T,rawUrl:D,extras:{skipLocationChange:R,replaceUrl:k}}=b;return this.hooks.afterPreactivation(M,{navigationId:O,appliedUrlTree:T,rawUrlTree:D,skipLocationChange:!!R,replaceUrl:!!k})}),(0,qo.U)(b=>{const M=function(a,t,e){const o=Rg(a,t._root,e?e._root:void 0);return new ul(o,t)}(this.routeReuseStrategy,b.targetSnapshot,b.currentRouterState);return Object.assign(Object.assign({},b),{targetRouterState:M})}),na(b=>{this.currentUrlTree=b.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,b.rawUrl),this.routerState=b.targetRouterState,"deferred"===this.urlUpdateStrategy&&(b.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,b),this.browserUrlTree=b.urlAfterRedirects)}),((a,t,e)=>(0,qo.U)(o=>(new Bg(t,o.targetRouterState,o.currentRouterState,e).activate(a),o)))(this.rootContexts,this.routeReuseStrategy,b=>this.triggerEvent(b)),na({next(){d=!0},complete(){d=!0}}),function(a){return t=>t.lift(new Og(a))}(()=>{if(!d&&!g){const b=`Navigation ID ${l.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(l),this.cancelNavigationTransition(l,b)):this.cancelNavigationTransition(l,b)}this.currentNavigation=null}),(0,al.K)(b=>{if(g=!0,function(a){return a&&a[WE]}(b)){const M=Ug(b.url);M||(this.navigated=!0,this.restoreHistory(l,!0));const O=new Sg(l.id,this.serializeUrl(l.extractedUrl),b.message);o.next(O),M?setTimeout(()=>{const T=this.urlHandlingStrategy.merge(b.url,this.rawUrlTree),D={skipLocationChange:l.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||NC(l.source)};this.scheduleNavigation(T,"imperative",null,D,{resolve:l.resolve,reject:l.reject,promise:l.promise})},0):l.resolve(!1)}else{this.restoreHistory(l,!0);const M=new IR(l.id,this.serializeUrl(l.extractedUrl),b);o.next(M);try{l.resolve(this.errorHandler(b))}catch(O){l.reject(O)}}return zs.E}))}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const o=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,o)&&setTimeout(()=>{const{source:l,state:d,urlTree:g}=o,b={replaceUrl:!0};if(d){const M=Object.assign({},d);delete M.navigationId,delete M.\u0275routerPageId,0!==Object.keys(M).length&&(b.state=M)}this.scheduleNavigation(g,l,d,b)},0),this.lastLocationChangeInfo=o}))}extractLocationChangeInfoFromEvent(e){var o;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(o=e.state)||void 0===o?void 0:o.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,o){if(!e)return!0;const l=o.urlTree.toString()===e.urlTree.toString();return o.transitionId!==e.transitionId||!l||!("hashchange"===o.source&&"popstate"===e.source||"popstate"===o.source&&"hashchange"===e.source)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){OC(e),this.config=e.map(ha),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,o={}){const{relativeTo:l,queryParams:d,fragment:g,queryParamsHandling:b,preserveFragment:M}=o,O=l||this.routerState.root,T=M?this.currentUrlTree.fragment:g;let D=null;switch(b){case"merge":D=Object.assign(Object.assign({},this.currentUrlTree.queryParams),d);break;case"preserve":D=this.currentUrlTree.queryParams;break;default:D=d||null}return null!==D&&(D=this.removeEmptyProps(D)),function(a,t,e,o,l){if(0===e.length)return Ou(t.root,t.root,t,o,l);const d=function(a){if("string"==typeof a[0]&&1===a.length&&"/"===a[0])return new Ob(!0,0,a);let t=0,e=!1;const o=a.reduce((l,d,g)=>{if("object"==typeof d&&null!=d){if(d.outlets){const b={};return _s(d.outlets,(M,O)=>{b[O]="string"==typeof M?M.split("/"):M}),[...l,{outlets:b}]}if(d.segmentPath)return[...l,d.segmentPath]}return"string"!=typeof d?[...l,d]:0===g?(d.split("/").forEach((b,M)=>{0==M&&"."===b||(0==M&&""===b?e=!0:".."===b?t++:""!=b&&l.push(b))}),l):[...l,d]},[]);return new Ob(e,t,o)}(e);if(d.toRoot())return Ou(t.root,new Ci([],{}),t,o,l);const g=function(a,t,e){if(a.isAbsolute)return new Hv(t.root,!0,0);if(-1===e.snapshot._lastPathIndex){const d=e.snapshot._urlSegment;return new Hv(d,d===t.root,0)}const o=xd(a.commands[0])?0:1;return function(a,t,e){let o=a,l=t,d=e;for(;d>l;){if(d-=l,o=o.parent,!o)throw new Error("Invalid number of '../'");l=o.segments.length}return new Hv(o,!1,l-d)}(e.snapshot._urlSegment,e.snapshot._lastPathIndex+o,a.numberOfDoubleDots)}(d,t,a),b=g.processChildren?cf(g.segmentGroup,g.index,d.commands):sh(g.segmentGroup,g.index,d.commands);return Ou(g.segmentGroup,b,t,o,l)}(O,this.currentUrlTree,e,D,null!=T?T:null)}navigateByUrl(e,o={skipLocationChange:!1}){const l=Ug(e)?e:this.parseUrl(e),d=this.urlHandlingStrategy.merge(l,this.rawUrlTree);return this.scheduleNavigation(d,"imperative",null,o)}navigate(e,o={skipLocationChange:!1}){return function(a){for(let t=0;t<a.length;t++){const e=a[t];if(null==e)throw new Error(`The requested path contains ${e} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,o),o)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let o;try{o=this.urlSerializer.parse(e)}catch(l){o=this.malformedUriErrorHandler(l,this.urlSerializer,e)}return o}isActive(e,o){let l;if(l=!0===o?Object.assign({},LC):!1===o?Object.assign({},FC):o,Ug(e))return DD(this.currentUrlTree,e,l);const d=this.parseUrl(e);return DD(this.currentUrlTree,d,l)}removeEmptyProps(e){return Object.keys(e).reduce((o,l)=>{const d=e[l];return null!=d&&(o[l]=d),o},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new Eg(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn(`Unhandled Navigation Error: ${e}`)})}scheduleNavigation(e,o,l,d,g){var b,M;if(this.disposed)return Promise.resolve(!1);const O=this.getTransition(),T=NC(o)&&O&&!NC(O.source),k=(this.lastSuccessfulId===O.id||this.currentNavigation?O.rawUrl:O.urlAfterRedirects).toString()===e.toString();if(T&&k)return Promise.resolve(!0);let U,j,Z;g?(U=g.resolve,j=g.reject,Z=g.promise):Z=new Promise((rt,Q)=>{U=rt,j=Q});const W=++this.navigationId;let H;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(l=this.location.getState()),H=l&&l.\u0275routerPageId?l.\u0275routerPageId:d.replaceUrl||d.skipLocationChange?null!==(b=this.browserPageId)&&void 0!==b?b:0:(null!==(M=this.browserPageId)&&void 0!==M?M:0)+1):H=0,this.setTransition({id:W,targetPageId:H,source:o,restoredState:l,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:d,resolve:U,reject:j,promise:Z,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),Z.catch(rt=>Promise.reject(rt))}setBrowserUrl(e,o){const l=this.urlSerializer.serialize(e),d=Object.assign(Object.assign({},o.extras.state),this.generateNgRouterState(o.id,o.targetPageId));this.location.isCurrentPathEqualTo(l)||o.extras.replaceUrl?this.location.replaceState(l,"",d):this.location.go(l,"",d)}restoreHistory(e,o=!1){var l,d;if("computed"===this.canceledNavigationResolution){const g=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(l=this.currentNavigation)||void 0===l?void 0:l.finalUrl)||0===g?this.currentUrlTree===(null===(d=this.currentNavigation)||void 0===d?void 0:d.finalUrl)&&0===g&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(g)}else"replace"===this.canceledNavigationResolution&&(o&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,o){const l=new Sg(e.id,this.serializeUrl(e.extractedUrl),o);this.triggerEvent(l),e.resolve(!1)}generateNgRouterState(e,o){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:o}:{navigationId:e}}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(A.DyG),A.LFG(eh),A.LFG(Xg),A.LFG(as),A.LFG(A.zs3),A.LFG(A.v3s),A.LFG(A.Sil),A.LFG(void 0))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();function NC(a){return"imperative"!==a}let Zg=(()=>{class a{constructor(e,o,l,d,g){this.router=e,this.route=o,this.commands=[],this.onChanges=new Mu.xQ,null==l&&d.setAttribute(g.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Pc(this.skipLocationChange),replaceUrl:Pc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pc(this.preserveFragment)})}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(Mc),A.Y36(ih),A.$8M("tabindex"),A.Y36(A.Qsj),A.Y36(A.SBq))},a.\u0275dir=A.lG2({type:a,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,o){1&e&&A.NdJ("click",function(){return o.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[A.TTD]}),a})(),ff=(()=>{class a{constructor(e,o,l){this.router=e,this.route=o,this.locationStrategy=l,this.commands=[],this.onChanges=new Mu.xQ,this.subscription=e.events.subscribe(d=>{d instanceof Eg&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,o,l,d,g){if(0!==e||o||l||d||g||"string"==typeof this.target&&"_self"!=this.target)return!0;const b={skipLocationChange:Pc(this.skipLocationChange),replaceUrl:Pc(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,b),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Pc(this.preserveFragment)})}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(Mc),A.Y36(ih),A.Y36(vr))},a.\u0275dir=A.lG2({type:a,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,o){1&e&&A.NdJ("click",function(d){return o.onClick(d.button,d.ctrlKey,d.shiftKey,d.altKey,d.metaKey)}),2&e&&(A.Ikx("href",o.href,A.LSH),A.uIk("target",o.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[A.TTD]}),a})();function Pc(a){return""===a||!!a}let BC=(()=>{class a{constructor(e,o,l,d,g,b){this.router=e,this.element=o,this.renderer=l,this.cdr=d,this.link=g,this.linkWithHref=b,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.routerEventsSubscription=e.events.subscribe(M=>{M instanceof Eg&&this.update()})}ngAfterContentInit(){(0,ti.of)(this.links.changes,this.linksWithHrefs.changes,(0,ti.of)(null)).pipe((0,xu.J)()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){var e;null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe();const o=[...this.links.toArray(),...this.linksWithHrefs.toArray(),this.link,this.linkWithHref].filter(l=>!!l).map(l=>l.onChanges);this.linkInputChangesSubscription=(0,da.D)(o).pipe((0,xu.J)()).subscribe(l=>{this.isActive!==this.isLinkActive(this.router)(l)&&this.update()})}set routerLinkActive(e){const o=Array.isArray(e)?e:e.split(" ");this.classes=o.filter(l=>!!l)}ngOnChanges(e){this.update()}ngOnDestroy(){var e;this.routerEventsSubscription.unsubscribe(),null===(e=this.linkInputChangesSubscription)||void 0===e||e.unsubscribe()}update(){!this.links||!this.linksWithHrefs||!this.router.navigated||Promise.resolve().then(()=>{const e=this.hasActiveLinks();this.isActive!==e&&(this.isActive=e,this.cdr.markForCheck(),this.classes.forEach(o=>{e?this.renderer.addClass(this.element.nativeElement,o):this.renderer.removeClass(this.element.nativeElement,o)}))})}isLinkActive(e){const o=function(a){return!!a.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return l=>e.isActive(l.urlTree,o)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.linkWithHref&&e(this.linkWithHref)||this.links.some(e)||this.linksWithHrefs.some(e)}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(Mc),A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(A.sBO),A.Y36(Zg,8),A.Y36(ff,8))},a.\u0275dir=A.lG2({type:a,selectors:[["","routerLinkActive",""]],contentQueries:function(e,o,l){if(1&e&&(A.Suo(l,Zg,5),A.Suo(l,ff,5)),2&e){let d;A.iGM(d=A.CRH())&&(o.links=d),A.iGM(d=A.CRH())&&(o.linksWithHrefs=d)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[A.TTD]}),a})(),Kv=(()=>{class a{constructor(e,o,l,d,g){this.parentContexts=e,this.location=o,this.resolver=l,this.changeDetector=g,this.activated=null,this._activatedRoute=null,this.activateEvents=new A.vpe,this.deactivateEvents=new A.vpe,this.name=d||ei,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,o){this.activated=e,this._activatedRoute=o,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,o){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const g=(o=o||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),b=this.parentContexts.getOrCreateContext(this.name).children,M=new gf(e,b,this.location.injector);this.activated=this.location.createComponent(g,this.location.length,M),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(Xg),A.Y36(A.s_b),A.Y36(A._Vd),A.$8M("name"),A.Y36(A.sBO))},a.\u0275dir=A.lG2({type:a,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),a})();class gf{constructor(t,e,o){this.route=t,this.childContexts=e,this.parent=o}get(t,e){return t===ih?this.route:t===Xg?this.childContexts:this.parent.get(t,e)}}class Qv{}class Bb{preload(t,e){return(0,ti.of)(null)}}let Jv=(()=>{class a{constructor(e,o,l,d,g){this.router=e,this.injector=d,this.preloadingStrategy=g,this.loader=new kC(o,l,O=>e.triggerEvent(new jE(O)),O=>e.triggerEvent(new Dv(O)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,zi.h)(e=>e instanceof Eg),(0,bc.b)(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(A.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,o){const l=[];for(const d of o)if(d.loadChildren&&!d.canLoad&&d._loadedConfig){const g=d._loadedConfig;l.push(this.processRoutes(g.module,g.routes))}else d.loadChildren&&!d.canLoad?l.push(this.preloadConfig(e,d)):d.children&&l.push(this.processRoutes(e,d.children));return(0,da.D)(l).pipe((0,xu.J)(),(0,qo.U)(d=>{}))}preloadConfig(e,o){return this.preloadingStrategy.preload(o,()=>(o._loadedConfig?(0,ti.of)(o._loadedConfig):this.loader.load(e.injector,o)).pipe((0,On.zg)(d=>(o._loadedConfig=d,this.processRoutes(d.module,d.routes)))))}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(Mc),A.LFG(A.v3s),A.LFG(A.Sil),A.LFG(A.zs3),A.LFG(Qv))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),lh=(()=>{class a{constructor(e,o,l={}){this.router=e,this.viewportScroller=o,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof Hc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Eg&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof _b&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,o){this.router.triggerEvent(new _b(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,o))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(Mc),A.LFG(EP),A.LFG(void 0))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const fl=new A.OlP("ROUTER_CONFIGURATION"),mf=new A.OlP("ROUTER_FORROOT_GUARD"),t_=[as,{provide:eh,useClass:bC},{provide:Mc,useFactory:function(a,t,e,o,l,d,g,b={},M,O){const T=new Mc(null,a,t,e,o,l,d,Gs(g));return M&&(T.urlHandlingStrategy=M),O&&(T.routeReuseStrategy=O),function(a,t){a.errorHandler&&(t.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(t.malformedUriErrorHandler=a.malformedUriErrorHandler),a.onSameUrlNavigation&&(t.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.relativeLinkResolution&&(t.relativeLinkResolution=a.relativeLinkResolution),a.urlUpdateStrategy&&(t.urlUpdateStrategy=a.urlUpdateStrategy)}(b,T),b.enableTracing&&T.events.subscribe(D=>{var R,k;null===(R=console.group)||void 0===R||R.call(console,`Router Event: ${D.constructor.name}`),console.log(D.toString()),console.log(D),null===(k=console.groupEnd)||void 0===k||k.call(console)}),T},deps:[eh,Xg,as,A.zs3,A.v3s,A.Sil,RC,fl,[class{},new A.FiY],[class{},new A.FiY]]},Xg,{provide:ih,useFactory:function(a){return a.routerState.root},deps:[Mc]},{provide:A.v3s,useClass:A.EAV},Jv,Bb,class{preload(t,e){return e().pipe((0,al.K)(()=>(0,ti.of)(null)))}},{provide:fl,useValue:{enableTracing:!1}}];function VC(){return new A.PXZ("Router",Mc)}let uh=(()=>{class a{constructor(e,o){}static forRoot(e,o){return{ngModule:a,providers:[t_,zC(e),{provide:mf,useFactory:Vb,deps:[[Mc,new A.FiY,new A.tp0]]},{provide:fl,useValue:o||{}},{provide:vr,useFactory:ew,deps:[Rt,[new A.tBr(Mn),new A.FiY],fl]},{provide:lh,useFactory:Kg,deps:[Mc,EP,fl]},{provide:Qv,useExisting:o&&o.preloadingStrategy?o.preloadingStrategy:Bb},{provide:A.PXZ,multi:!0,useFactory:VC},[dh,{provide:A.ip1,multi:!0,useFactory:zb,deps:[dh]},{provide:Hb,useFactory:vf,deps:[dh]},{provide:A.tb,multi:!0,useExisting:Hb}]]}}static forChild(e){return{ngModule:a,providers:[zC(e)]}}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(mf,8),A.LFG(Mc,8))},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({}),a})();function Kg(a,t,e){return e.scrollOffset&&t.setOffset(e.scrollOffset),new lh(a,t,e)}function ew(a,t,e={}){return e.useHash?new es(a,t):new dr(a,t)}function Vb(a){return"guarded"}function zC(a){return[{provide:A.deG,multi:!0,useValue:a},{provide:RC,multi:!0,useValue:a}]}let dh=(()=>{class a{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Mu.xQ}appInitializer(){return this.injector.get(yt,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let o=null;const l=new Promise(b=>o=b),d=this.injector.get(Mc),g=this.injector.get(fl);return"disabled"===g.initialNavigation?(d.setUpLocationChangeListener(),o(!0)):"enabled"===g.initialNavigation||"enabledBlocking"===g.initialNavigation?(d.hooks.afterPreactivation=()=>this.initNavigation?(0,ti.of)(null):(this.initNavigation=!0,o(!0),this.resultOfPreactivationDone),d.initialNavigation()):o(!0),l})}bootstrapListener(e){const o=this.injector.get(fl),l=this.injector.get(Jv),d=this.injector.get(lh),g=this.injector.get(Mc),b=this.injector.get(A.z2F);e===b.components[0]&&(("enabledNonBlocking"===o.initialNavigation||void 0===o.initialNavigation)&&g.initialNavigation(),l.setUpPreloading(),d.init(),g.resetRootComponentType(b.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(A.zs3))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();function zb(a){return a.appInitializer.bind(a)}function vf(a){return a.bootstrapListener.bind(a)}const Hb=new A.OlP("Router Initializer"),zD=[{path:"",redirectTo:"",pathMatch:"full"}];let it=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[[uh.forRoot(zD)],uh]}),a})();var Qg=function(){function a(){this._subs=[]}return a.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._subs=this._subs.concat(t)},Object.defineProperty(a.prototype,"sink",{set:function(t){this._subs.push(t)},enumerable:!0,configurable:!0}),a.prototype.unsubscribe=function(){this._subs.forEach(function(t){return t&&function(a){return"function"==typeof a}(t.unsubscribe)&&t.unsubscribe()}),this._subs=[]},a}();const sS=(0,We.ZF)("tab"),iw=(0,We.P1)(sS,a=>a.tab),ow=(0,We.PH)("[File Action] File upload",(0,We.Ky)()),aS=(0,We.PH)("[File Action] All files removeFiles"),GC=(0,We.PH)("[File Action] Pdb file upload",(0,We.Ky)()),sw=(0,We.PH)("[File Action] Pml file upload",(0,We.Ky)()),cS=(0,We.PH)("[File Action] Dcd file upload",(0,We.Ky)()),lS=(0,We.PH)("[File Action] Set custom file",(0,We.Ky)()),Cr=(0,We.PH)("[File Action] Set min",(0,We.Ky)()),aw=(0,We.PH)("[File Action] Set max",(0,We.Ky)()),cw=(0,We.PH)("[Display Actions] Set all",(0,We.Ky)()),e_=(0,We.PH)("[Display Actions] Set selected",(0,We.Ky)()),gl=(0,We.PH)("[Display Actions] Set range",(0,We.Ky)()),n_=(0,We.PH)("[Display Actions] Set range",(0,We.Ky)()),lw=(0,We.PH)("[Player Action] Set play status",(0,We.Ky)()),Gb=(0,We.PH)("[Player Action] Set current frame",(0,We.Ky)()),fa=(0,We.PH)("[Player Action] Set hide past",(0,We.Ky)()),jb=(0,We.PH)("[Player Action] Set range",(0,We.Ky)()),_f=(0,We.PH)("[Selection Action] Set Selected",(0,We.Ky)()),jC=(0,We.PH)("[Selection Action] Remove Selected"),WC=(0,We.PH)("[Tab Action] Tab set",(0,We.Ky)()),ph={pml:"pml",pdb:"pdb",dcd:"dcd"},bf=(0,We.ZF)("display"),ml=(0,We.P1)(bf,a=>a.all),r_=(0,We.P1)(bf,a=>a.selected),i_=(0,We.P1)(bf,a=>a.range),o_=(0,We.ZF)("player"),HD=(0,We.P1)(o_,a=>a.currentFrame),uw=(0,We.P1)(o_,a=>a.hidePast),$l=(0,We.P1)(o_,a=>a.play),GD=(0,We.P1)(o_,a=>a.range),Lo=(0,We.ZF)("files"),uS=((0,We.P1)(Lo,a=>a.custom),(0,We.P1)(Lo,a=>a.pdbFile)),Wb=(0,We.P1)(Lo,a=>a.pmlFile),dw=(0,We.P1)(Lo,a=>a.dcdFile),qb=(0,We.P1)(Lo,a=>a.min),dS=(0,We.P1)(Lo,a=>a.max),pS=(0,We.P1)(Lo,a=>!!(a.custom&&a.pdbFile&&a.pmlFile&&a.dcdFile));class hS{}class jD{}class Ws{constructor(t){this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?()=>{this.headers=new Map,t.split("\n").forEach(e=>{const o=e.indexOf(":");if(o>0){const l=e.slice(0,o),d=l.toLowerCase(),g=e.slice(o+1).trim();this.maybeSetNormalizedName(l,d),this.headers.has(d)?this.headers.get(d).push(g):this.headers.set(d,[g])}})}:()=>{this.headers=new Map,Object.keys(t).forEach(e=>{let o=t[e];const l=e.toLowerCase();"string"==typeof o&&(o=[o]),o.length>0&&(this.headers.set(l,o),this.maybeSetNormalizedName(e,l))})}:this.headers=new Map}has(t){return this.init(),this.headers.has(t.toLowerCase())}get(t){this.init();const e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(t){return this.init(),this.headers.get(t.toLowerCase())||null}append(t,e){return this.clone({name:t,value:e,op:"a"})}set(t,e){return this.clone({name:t,value:e,op:"s"})}delete(t,e){return this.clone({name:t,value:e,op:"d"})}maybeSetNormalizedName(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)}init(){this.lazyInit&&(this.lazyInit instanceof Ws?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(t=>this.applyUpdate(t)),this.lazyUpdate=null))}copyFrom(t){t.init(),Array.from(t.headers.keys()).forEach(e=>{this.headers.set(e,t.headers.get(e)),this.normalizedNames.set(e,t.normalizedNames.get(e))})}clone(t){const e=new Ws;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ws?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([t]),e}applyUpdate(t){const e=t.name.toLowerCase();switch(t.op){case"a":case"s":let o=t.value;if("string"==typeof o&&(o=[o]),0===o.length)return;this.maybeSetNormalizedName(t.name,e);const l=("a"===t.op?this.headers.get(e):void 0)||[];l.push(...o),this.headers.set(e,l);break;case"d":const d=t.value;if(d){let g=this.headers.get(e);if(!g)return;g=g.filter(b=>-1===d.indexOf(b)),0===g.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,g)}else this.headers.delete(e),this.normalizedNames.delete(e)}}forEach(t){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>t(this.normalizedNames.get(e),this.headers.get(e)))}}class yf{encodeKey(t){return WD(t)}encodeValue(t){return WD(t)}decodeKey(t){return decodeURIComponent(t)}decodeValue(t){return decodeURIComponent(t)}}const kR=/%(\d[a-f0-9])/gi,LR={40:"@","3A":":",24:"$","2C":",","3B":";","2B":"+","3D":"=","3F":"?","2F":"/"};function WD(a){return encodeURIComponent(a).replace(kR,(t,e)=>{var o;return null!==(o=LR[e])&&void 0!==o?o:t})}function qD(a){return`${a}`}class jc{constructor(t={}){if(this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new yf,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(a,t){const e=new Map;return a.length>0&&a.replace(/^\?/,"").split("&").forEach(l=>{const d=l.indexOf("="),[g,b]=-1==d?[t.decodeKey(l),""]:[t.decodeKey(l.slice(0,d)),t.decodeValue(l.slice(d+1))],M=e.get(g)||[];M.push(b),e.set(g,M)}),e}(t.fromString,this.encoder)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach(e=>{const o=t.fromObject[e];this.map.set(e,Array.isArray(o)?o:[o])})):this.map=null}has(t){return this.init(),this.map.has(t)}get(t){this.init();const e=this.map.get(t);return e?e[0]:null}getAll(t){return this.init(),this.map.get(t)||null}keys(){return this.init(),Array.from(this.map.keys())}append(t,e){return this.clone({param:t,value:e,op:"a"})}appendAll(t){const e=[];return Object.keys(t).forEach(o=>{const l=t[o];Array.isArray(l)?l.forEach(d=>{e.push({param:o,value:d,op:"a"})}):e.push({param:o,value:l,op:"a"})}),this.clone(e)}set(t,e){return this.clone({param:t,value:e,op:"s"})}delete(t,e){return this.clone({param:t,value:e,op:"d"})}toString(){return this.init(),this.keys().map(t=>{const e=this.encoder.encodeKey(t);return this.map.get(t).map(o=>e+"="+this.encoder.encodeValue(o)).join("&")}).filter(t=>""!==t).join("&")}clone(t){const e=new jc({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(t),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(t=>this.map.set(t,this.cloneFrom.map.get(t))),this.updates.forEach(t=>{switch(t.op){case"a":case"s":const e=("a"===t.op?this.map.get(t.param):void 0)||[];e.push(qD(t.value)),this.map.set(t.param,e);break;case"d":if(void 0===t.value){this.map.delete(t.param);break}{let o=this.map.get(t.param)||[];const l=o.indexOf(qD(t.value));-1!==l&&o.splice(l,1),o.length>0?this.map.set(t.param,o):this.map.delete(t.param)}}}),this.cloneFrom=this.updates=null)}}class $D{constructor(){this.map=new Map}set(t,e){return this.map.set(t,e),this}get(t){return this.map.has(t)||this.map.set(t,t.defaultValue()),this.map.get(t)}delete(t){return this.map.delete(t),this}keys(){return this.map.keys()}}function Mr(a){return"undefined"!=typeof ArrayBuffer&&a instanceof ArrayBuffer}function pw(a){return"undefined"!=typeof Blob&&a instanceof Blob}function s_(a){return"undefined"!=typeof FormData&&a instanceof FormData}class Su{constructor(t,e,o,l){let d;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(a){switch(a){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||l?(this.body=void 0!==o?o:null,d=l):d=o,d&&(this.reportProgress=!!d.reportProgress,this.withCredentials=!!d.withCredentials,d.responseType&&(this.responseType=d.responseType),d.headers&&(this.headers=d.headers),d.context&&(this.context=d.context),d.params&&(this.params=d.params)),this.headers||(this.headers=new Ws),this.context||(this.context=new $D),this.params){const g=this.params.toString();if(0===g.length)this.urlWithParams=e;else{const b=e.indexOf("?");this.urlWithParams=e+(-1===b?"?":b<e.length-1?"&":"")+g}}else this.params=new jc,this.urlWithParams=e}serializeBody(){return null===this.body?null:Mr(this.body)||pw(this.body)||s_(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof jc?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||s_(this.body)?null:pw(this.body)?this.body.type||null:Mr(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof jc?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(t={}){var e;const o=t.method||this.method,l=t.url||this.url,d=t.responseType||this.responseType,g=void 0!==t.body?t.body:this.body,b=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,M=void 0!==t.reportProgress?t.reportProgress:this.reportProgress;let O=t.headers||this.headers,T=t.params||this.params;const D=null!==(e=t.context)&&void 0!==e?e:this.context;return void 0!==t.setHeaders&&(O=Object.keys(t.setHeaders).reduce((R,k)=>R.set(k,t.setHeaders[k]),O)),t.setParams&&(T=Object.keys(t.setParams).reduce((R,k)=>R.set(k,t.setParams[k]),T)),new Su(o,l,g,{params:T,headers:O,context:D,reportProgress:M,responseType:d,withCredentials:b})}}var qs=(()=>((qs=qs||{})[qs.Sent=0]="Sent",qs[qs.UploadProgress=1]="UploadProgress",qs[qs.ResponseHeader=2]="ResponseHeader",qs[qs.DownloadProgress=3]="DownloadProgress",qs[qs.Response=4]="Response",qs[qs.User=5]="User",qs))();class hw{constructor(t,e=200,o="OK"){this.headers=t.headers||new Ws,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||o,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}class gS extends hw{constructor(t={}){super(t),this.type=qs.ResponseHeader}clone(t={}){return new gS({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class a_ extends hw{constructor(t={}){super(t),this.type=qs.Response,this.body=void 0!==t.body?t.body:null}clone(t={}){return new a_({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})}}class mS extends hw{constructor(t){super(t,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${t.url||"(unknown url)"}`:`Http failure response for ${t.url||"(unknown url)"}: ${t.status} ${t.statusText}`,this.error=t.error||null}}function $C(a,t){return{body:t,headers:a.headers,context:a.context,observe:a.observe,params:a.params,reportProgress:a.reportProgress,responseType:a.responseType,withCredentials:a.withCredentials}}let fw=(()=>{class a{constructor(e){this.handler=e}request(e,o,l={}){let d;if(e instanceof Su)d=e;else{let M,O;M=l.headers instanceof Ws?l.headers:new Ws(l.headers),l.params&&(O=l.params instanceof jc?l.params:new jc({fromObject:l.params})),d=new Su(e,o,void 0!==l.body?l.body:null,{headers:M,context:l.context,params:O,reportProgress:l.reportProgress,responseType:l.responseType||"json",withCredentials:l.withCredentials})}const g=(0,ti.of)(d).pipe((0,bc.b)(M=>this.handler.handle(M)));if(e instanceof Su||"events"===l.observe)return g;const b=g.pipe((0,zi.h)(M=>M instanceof a_));switch(l.observe||"body"){case"body":switch(d.responseType){case"arraybuffer":return b.pipe((0,qo.U)(M=>{if(null!==M.body&&!(M.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return M.body}));case"blob":return b.pipe((0,qo.U)(M=>{if(null!==M.body&&!(M.body instanceof Blob))throw new Error("Response is not a Blob.");return M.body}));case"text":return b.pipe((0,qo.U)(M=>{if(null!==M.body&&"string"!=typeof M.body)throw new Error("Response is not a string.");return M.body}));case"json":default:return b.pipe((0,qo.U)(M=>M.body))}case"response":return b;default:throw new Error(`Unreachable: unhandled observe type ${l.observe}}`)}}delete(e,o={}){return this.request("DELETE",e,o)}get(e,o={}){return this.request("GET",e,o)}head(e,o={}){return this.request("HEAD",e,o)}jsonp(e,o){return this.request("JSONP",e,{params:(new jc).append(o,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,o={}){return this.request("OPTIONS",e,o)}patch(e,o,l={}){return this.request("PATCH",e,$C(l,o))}post(e,o,l={}){return this.request("POST",e,$C(l,o))}put(e,o,l={}){return this.request("PUT",e,$C(l,o))}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(hS))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();class vS{constructor(t,e){this.next=t,this.interceptor=e}handle(t){return this.interceptor.intercept(t,this.next)}}const c_=new A.OlP("HTTP_INTERCEPTORS");let l_=(()=>{class a{intercept(e,o){return o.handle(e)}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const Jg=/^\)\]\}',?\n/;let ZC=(()=>{class a{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Vl.y(o=>{const l=this.xhrFactory.build();if(l.open(e.method,e.urlWithParams),e.withCredentials&&(l.withCredentials=!0),e.headers.forEach((k,U)=>l.setRequestHeader(k,U.join(","))),e.headers.has("Accept")||l.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const k=e.detectContentTypeHeader();null!==k&&l.setRequestHeader("Content-Type",k)}if(e.responseType){const k=e.responseType.toLowerCase();l.responseType="json"!==k?k:"text"}const d=e.serializeBody();let g=null;const b=()=>{if(null!==g)return g;const k=1223===l.status?204:l.status,U=l.statusText||"OK",j=new Ws(l.getAllResponseHeaders()),Z=function(a){return"responseURL"in a&&a.responseURL?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):null}(l)||e.url;return g=new gS({headers:j,status:k,statusText:U,url:Z}),g},M=()=>{let{headers:k,status:U,statusText:j,url:Z}=b(),W=null;204!==U&&(W=void 0===l.response?l.responseText:l.response),0===U&&(U=W?200:0);let H=U>=200&&U<300;if("json"===e.responseType&&"string"==typeof W){const rt=W;W=W.replace(Jg,"");try{W=""!==W?JSON.parse(W):null}catch(Q){W=rt,H&&(H=!1,W={error:Q,text:W})}}H?(o.next(new a_({body:W,headers:k,status:U,statusText:j,url:Z||void 0})),o.complete()):o.error(new mS({error:W,headers:k,status:U,statusText:j,url:Z||void 0}))},O=k=>{const{url:U}=b(),j=new mS({error:k,status:l.status||0,statusText:l.statusText||"Unknown Error",url:U||void 0});o.error(j)};let T=!1;const D=k=>{T||(o.next(b()),T=!0);let U={type:qs.DownloadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),"text"===e.responseType&&!!l.responseText&&(U.partialText=l.responseText),o.next(U)},R=k=>{let U={type:qs.UploadProgress,loaded:k.loaded};k.lengthComputable&&(U.total=k.total),o.next(U)};return l.addEventListener("load",M),l.addEventListener("error",O),l.addEventListener("timeout",O),l.addEventListener("abort",O),e.reportProgress&&(l.addEventListener("progress",D),null!==d&&l.upload&&l.upload.addEventListener("progress",R)),l.send(d),o.next({type:qs.Sent}),()=>{l.removeEventListener("error",O),l.removeEventListener("abort",O),l.removeEventListener("load",M),l.removeEventListener("timeout",O),e.reportProgress&&(l.removeEventListener("progress",D),null!==d&&l.upload&&l.upload.removeEventListener("progress",R)),l.readyState!==l.DONE&&l.abort()}})}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(AP))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})();const tm=new A.OlP("XSRF_COOKIE_NAME"),KC=new A.OlP("XSRF_HEADER_NAME");class Fo{}let XD=(()=>{class a{constructor(e,o,l){this.doc=e,this.platform=o,this.cookieName=l,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=Ya(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(qt),A.LFG(A.Lbi),A.LFG(tm))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),QC=(()=>{class a{constructor(e,o){this.tokenService=e,this.headerName=o}intercept(e,o){const l=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||l.startsWith("http://")||l.startsWith("https://"))return o.handle(e);const d=this.tokenService.getToken();return null!==d&&!e.headers.has(this.headerName)&&(e=e.clone({headers:e.headers.set(this.headerName,d)})),o.handle(e)}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(Fo),A.LFG(KC))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),bS=(()=>{class a{constructor(e,o){this.backend=e,this.injector=o,this.chain=null}handle(e){if(null===this.chain){const o=this.injector.get(c_,[]);this.chain=o.reduceRight((l,d)=>new vS(l,d),this.backend)}return this.chain.handle(e)}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(jD),A.LFG(A.zs3))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac}),a})(),ZD=(()=>{class a{static disable(){return{ngModule:a,providers:[{provide:QC,useClass:l_}]}}static withOptions(e={}){return{ngModule:a,providers:[e.cookieName?{provide:tm,useValue:e.cookieName}:[],e.headerName?{provide:KC,useValue:e.headerName}:[]]}}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({providers:[QC,{provide:c_,useExisting:QC,multi:!0},{provide:Fo,useClass:XD},{provide:tm,useValue:"XSRF-TOKEN"},{provide:KC,useValue:"X-XSRF-TOKEN"}]}),a})(),yS=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({providers:[fw,{provide:hS,useClass:bS},ZC,{provide:jD,useExisting:ZC}],imports:[[ZD.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),a})();const em=ct(6898);let gw=(()=>{class a{constructor(e,o){this.store=e,this.http=o,this.isCustom$=new Ul.X(!1),this.baseUrl="/dynophores_webclient/",this.isCustom=!1,this.customPdbUri=`${this.baseUrl}/data/startframe.pdb`,this.customPmlUri=`${this.baseUrl}/data/dyno_dynophore.pml`,this.customDcdUri=`${this.baseUrl}/data/trajectory.dcd`,this.defaultPdbUri=`${this.baseUrl}/data/startframe.pdb`,this.defaultPmlUri=`${this.baseUrl}/data/dyno_dynophore.pml`,this.defaultDcdUri=`${this.baseUrl}/data/trajectory.dcd`,this.getPdbFile$=this.store.pipe((0,We.Ys)(uS)),this.getPmlFile$=this.store.pipe((0,We.Ys)(Wb)),this.getDcdFile$=this.store.pipe((0,We.Ys)(dw)),this.getPdbFile$.subscribe(l=>{this.customPdbUri=l}),this.getPmlFile$.subscribe(l=>{this.customPmlUri=l}),this.getDcdFile$.subscribe(l=>{this.customDcdUri=l})}updateFiles(e){this.isCustom$.next(e)}initialize(e){}uploadPdb(e,o){return(0,da.D)(e.loadFile(o?this.customPdbUri:this.defaultPdbUri,{defaultRepresentation:!0,ext:"pdb",name:"startframe"}))}uploadPml(e){return this.http.get(e?this.customPmlUri:this.defaultPmlUri,{headers:(new Ws).set("Content-Type","text/xml").append("Access-Control-Allow-Methods","GET").append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Access-Control-Allow-Origin, Access-Control-Request-Method"),responseType:"text"})}uploadDcd(e){return(0,da.D)(em.autoLoad(e?this.customDcdUri:this.defaultDcdUri,{ext:"dcd",defaultRepresentation:!0}))}setFile(e){this.isCustom||(this.http.get(this.defaultPmlUri,{headers:(new Ws).set("Content-Type","text/xml").append("Access-Control-Allow-Methods","GET").append("Access-Control-Allow-Origin","*").append("Access-Control-Allow-Headers","Access-Control-Allow-Headers, Access-Control-Allow-Origin, Access-Control-Request-Method"),responseType:"text"}).subscribe(o=>{this.store.dispatch(sw({pmlFile:o}))}),(0,da.D)(e.loadFile(this.defaultPdbUri,{defaultRepresentation:!0})).subscribe(o=>{this.store.dispatch(GC({pdbFile:o}))}),(0,da.D)(em.autoLoad(this.defaultDcdUri,{defaultRepresentation:!0})).subscribe(o=>{this.store.dispatch(cS({dcdFile:o}))}))}setCustom(e){this.isCustom=e,this.store.dispatch(lS({custom:this.isCustom}))}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(We.yh),A.LFG(fw))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})();function mw(a,t){if(1&a){const e=A.EpF();A.TgZ(0,"div",1),A.TgZ(1,"div",2),A._uU(2),A.qZA(),A.TgZ(3,"div",3),A.TgZ(4,"input",4),A.NdJ("change",function(l){return A.CHM(e),A.oxw().onFileSelected(l)}),A.qZA(),A.qZA(),A.qZA()}if(2&a){const e=A.oxw();A.xp6(2),A.Oqu(e.title),A.xp6(2),A.Q6J("accept",e.acceptedTypes)}}let vw=(()=>{class a{constructor(){this.setFile=new A.vpe,this.type=null,this.title="",this.acceptedTypes="",this.error=!1}ngOnInit(){this.type?(this.title=this.type.toUpperCase()+" file",this.error=!1,this.type===ph.pdb&&(this.title="Protein Data Bank (*.pdb)",this.acceptedTypes=".pdb,.PDB"),this.type===ph.pml&&(this.title="LigandScout (*.pml)",this.acceptedTypes=".pml,.PML"),this.type===ph.dcd&&(this.title="Trajectory (*.dcd)",this.acceptedTypes=".dcd,.DCD")):this.error=!0}onFileSelected(e){this.setFile.emit(URL.createObjectURL(e.target.files[0]))}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-file-upload"]],inputs:{type:"type"},outputs:{setFile:"setFile"},decls:1,vars:1,consts:[["class","row",4,"ngIf"],[1,"row"],[1,"col-sm-6","form-control-sm"],[1,"col-sm-6"],["type","file",1,"file-input","form-control","form-control-sm",3,"accept","change"]],template:function(e,o){1&e&&A.YNc(0,mw,5,2,"div",0),2&e&&A.Q6J("ngIf",!o.error)},directives:[Se],styles:[""]}),a})();var UR=ct(1555);function Yl(a,t){return new Vl.y(e=>{const o=a.length;if(0===o)return void e.complete();const l=new Array(o);let d=0,g=0;for(let b=0;b<o;b++){const M=(0,da.D)(a[b]);let O=!1;e.add(M.subscribe({next:T=>{O||(O=!0,g++),l[b]=T},error:T=>e.error(T),complete:()=>{d++,(d===o||!O)&&(g===o&&e.next(t?t.reduce((T,D,R)=>(T[D]=l[R],T),{}):l),e.complete())}}))}})}let _w=(()=>{class a{constructor(e,o){this._renderer=e,this._elementRef=o,this.onChange=l=>{},this.onTouched=()=>{}}setProperty(e,o){this._renderer.setProperty(this._elementRef.nativeElement,e,o)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.Qsj),A.Y36(A.SBq))},a.\u0275dir=A.lG2({type:a}),a})(),wc=(()=>{class a extends _w{}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,features:[A.qOj]}),a})();const gp=new A.OlP("NgValueAccessor"),KD={provide:gp,useExisting:(0,A.Gpc)(()=>xf),multi:!0},MS=new A.OlP("CompositionEventMode");let xf=(()=>{class a extends _w{constructor(e,o,l){super(e,o),this._compositionMode=l,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const a=Me()?Me().getUserAgent():"";return/android (\d+)/.test(a.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.Qsj),A.Y36(A.SBq),A.Y36(MS,8))},a.\u0275dir=A.lG2({type:a,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,o){1&e&&A.NdJ("input",function(d){return o._handleInput(d.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(d){return o._compositionEnd(d.target.value)})},features:[A._Bn([KD]),A.qOj]}),a})();function Xr(a){return null==a||0===a.length}function hh(a){return null!=a&&"number"==typeof a.length}const mi=new A.OlP("NgValidators"),Gn=new A.OlP("NgAsyncValidators"),Hi=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class nm{static min(t){return rm(t)}static max(t){return Od(t)}static required(t){return Xr(t.value)?{required:!0}:null}static requiredTrue(t){return!0===t.value?null:{required:!0}}static email(t){return Xr((a=t).value)||Hi.test(a.value)?null:{email:!0};var a}static minLength(t){return a=t,t=>Xr(t.value)||!hh(t.value)?null:t.value.length<a?{minlength:{requiredLength:a,actualLength:t.value.length}}:null;var a}static maxLength(t){return a=t,t=>hh(t.value)&&t.value.length>a?{maxlength:{requiredLength:a,actualLength:t.value.length}}:null;var a}static pattern(t){return function(a){if(!a)return Cf;let t,e;return"string"==typeof a?(e="","^"!==a.charAt(0)&&(e+="^"),e+=a,"$"!==a.charAt(a.length-1)&&(e+="$"),t=new RegExp(e)):(e=a.toString(),t=a),o=>{if(Xr(o.value))return null;const l=o.value;return t.test(l)?null:{pattern:{requiredPattern:e,actualValue:l}}}}(t)}static nullValidator(t){return null}static compose(t){return xw(t)}static composeAsync(t){return tM(t)}}function rm(a){return t=>{if(Xr(t.value)||Xr(a))return null;const e=parseFloat(t.value);return!isNaN(e)&&e<a?{min:{min:a,actual:t.value}}:null}}function Od(a){return t=>{if(Xr(t.value)||Xr(a))return null;const e=parseFloat(t.value);return!isNaN(e)&&e>a?{max:{max:a,actual:t.value}}:null}}function Cf(a){return null}function Zb(a){return null!=a}function Kb(a){const t=(0,A.QGY)(a)?(0,da.D)(a):a;return(0,A.CqO)(t),t}function wS(a){let t={};return a.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Qb(a,t){return t.map(e=>e(a))}function ia(a){return a.map(t=>function(a){return!a.validate}(t)?t:e=>t.validate(e))}function xw(a){if(!a)return null;const t=a.filter(Zb);return 0==t.length?null:function(e){return wS(Qb(e,t))}}function d_(a){return null!=a?xw(ia(a)):null}function tM(a){if(!a)return null;const t=a.filter(Zb);return 0==t.length?null:function(e){return function(...a){if(1===a.length){const t=a[0];if((0,pC.k)(t))return Yl(t,null);if((0,UR.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return Yl(e.map(o=>t[o]),e)}}if("function"==typeof a[a.length-1]){const t=a.pop();return Yl(a=1===a.length&&(0,pC.k)(a[0])?a[0]:a,null).pipe((0,qo.U)(e=>t(...e)))}return Yl(a,null)}(Qb(e,t).map(Kb)).pipe((0,qo.U)(wS))}}function vl(a){return null!=a?tM(ia(a)):null}function p_(a,t){return null===a?[t]:Array.isArray(a)?[...a,t]:[a,t]}function Cw(a){return a._rawValidators}function Mw(a){return a._rawAsyncValidators}function eM(a){return a?Array.isArray(a)?a:[a]:[]}function Jb(a,t){return Array.isArray(a)?a.includes(t):a===t}function Pw(a,t){const e=eM(t);return eM(a).forEach(l=>{Jb(e,l)||e.push(l)}),e}function mp(a,t){return eM(t).filter(e=>!Jb(a,e))}let ty=(()=>{class a{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=d_(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=vl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,o){return!!this.control&&this.control.hasError(e,o)}getError(e,o){return this.control?this.control.getError(e,o):null}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=A.lG2({type:a}),a})(),Wc=(()=>{class a extends ty{get formDirective(){return null}get path(){return null}}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,features:[A.qOj]}),a})();class vp extends ty{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}let _p=(()=>{class a extends class{constructor(t){this._cd=t}is(t){var e,o,l;return"submitted"===t?!!(null===(e=this._cd)||void 0===e?void 0:e.submitted):!!(null===(l=null===(o=this._cd)||void 0===o?void 0:o.control)||void 0===l?void 0:l[t])}}{constructor(e){super(e)}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(vp,2))},a.\u0275dir=A.lG2({type:a,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,o){2&e&&A.ekj("ng-untouched",o.is("untouched"))("ng-touched",o.is("touched"))("ng-pristine",o.is("pristine"))("ng-dirty",o.is("dirty"))("ng-valid",o.is("valid"))("ng-invalid",o.is("invalid"))("ng-pending",o.is("pending"))},features:[A.qOj]}),a})();function om(a,t){(function(a,t){const e=Cw(a);null!==t.validator?a.setValidators(p_(e,t.validator)):"function"==typeof e&&a.setValidators([e]);const o=Mw(a);null!==t.asyncValidator?a.setAsyncValidators(p_(o,t.asyncValidator)):"function"==typeof o&&a.setAsyncValidators([o]);const l=()=>a.updateValueAndValidity();f_(t._rawValidators,l),f_(t._rawAsyncValidators,l)})(a,t),t.valueAccessor.writeValue(a.value),function(a,t){t.valueAccessor.registerOnChange(e=>{a._pendingValue=e,a._pendingChange=!0,a._pendingDirty=!0,"change"===a.updateOn&&sy(a,t)})}(a,t),function(a,t){const e=(o,l)=>{t.valueAccessor.writeValue(o),l&&t.viewToModelUpdate(o)};a.registerOnChange(e),t._registerOnDestroy(()=>{a._unregisterOnChange(e)})}(a,t),function(a,t){t.valueAccessor.registerOnTouched(()=>{a._pendingTouched=!0,"blur"===a.updateOn&&a._pendingChange&&sy(a,t),"submit"!==a.updateOn&&a.markAsTouched()})}(a,t),function(a,t){if(t.valueAccessor.setDisabledState){const e=o=>{t.valueAccessor.setDisabledState(o)};a.registerOnDisabledChange(e),t._registerOnDestroy(()=>{a._unregisterOnDisabledChange(e)})}}(a,t)}function nc(a,t,e=!0){const o=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(o),t.valueAccessor.registerOnTouched(o)),function(a,t){let e=!1;if(null!==a){if(null!==t.validator){const l=Cw(a);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==t.validator);d.length!==l.length&&(e=!0,a.setValidators(d))}}if(null!==t.asyncValidator){const l=Mw(a);if(Array.isArray(l)&&l.length>0){const d=l.filter(g=>g!==t.asyncValidator);d.length!==l.length&&(e=!0,a.setAsyncValidators(d))}}}const o=()=>{};f_(t._rawValidators,o),f_(t._rawAsyncValidators,o)}(a,t),a&&(t._invokeOnDestroyCallbacks(),a._registerOnCollectionChange(()=>{}))}function f_(a,t){a.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function sy(a,t){a._pendingDirty&&a.markAsDirty(),a.setValue(a._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(a._pendingValue),a._pendingChange=!1}function Pf(a,t){if(!a.hasOwnProperty("model"))return!1;const e=a.model;return!!e.isFirstChange()||!Object.is(t,e.currentValue)}function g_(a,t){if(!t)return null;let e,o,l;return Array.isArray(t),t.forEach(d=>{d.constructor===xf?e=d:function(a){return Object.getPrototypeOf(a.constructor)===wc}(d)?o=d:l=d}),l||o||e||null}function ay(a,t){const e=a.indexOf(t);e>-1&&a.splice(e,1)}const m_="VALID",cy="INVALID",wf="PENDING",v_="DISABLED";function ly(a){return(sM(a)?a.validators:a)||null}function iM(a){return Array.isArray(a)?d_(a):a||null}function uy(a,t){return(sM(t)?t.asyncValidators:a)||null}function oM(a){return Array.isArray(a)?vl(a):a||null}function sM(a){return null!=a&&!Array.isArray(a)&&"object"==typeof a}class Tw{constructor(t,e){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=t,this._rawAsyncValidators=e,this._composedValidatorFn=iM(this._rawValidators),this._composedAsyncValidatorFn=oM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get valid(){return this.status===m_}get invalid(){return this.status===cy}get pending(){return this.status==wf}get disabled(){return this.status===v_}get enabled(){return this.status!==v_}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._rawValidators=t,this._composedValidatorFn=iM(t)}setAsyncValidators(t){this._rawAsyncValidators=t,this._composedAsyncValidatorFn=oM(t)}addValidators(t){this.setValidators(Pw(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(Pw(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(mp(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(mp(t,this._rawAsyncValidators))}hasValidator(t){return Jb(this._rawValidators,t)}hasAsyncValidator(t){return Jb(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(t=>t.markAllAsTouched())}markAsUntouched(t={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}markAsDirty(t={}){this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)}markAsPristine(t={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}markAsPending(t={}){this.status=wf,!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)}disable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=v_,this.errors=null,this._forEachChild(o=>{o.disable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!0))}enable(t={}){const e=this._parentMarkedDirty(t.onlySelf);this.status=m_,this._forEachChild(o=>{o.enable(Object.assign(Object.assign({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach(o=>o(!1))}_updateAncestors(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(t){this._parent=t}updateValueAndValidity(t={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===m_||this.status===wf)&&this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?v_:m_}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t){if(this.asyncValidator){this.status=wf,this._hasOwnPendingAsyncValidator=!0;const e=Kb(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(o=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(o,{emitEvent:t})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)}get(t){return function(a,t,e){if(null==t||(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length))return null;let o=a;return t.forEach(l=>{o=o instanceof Dw?o.controls.hasOwnProperty(l)?o.controls[l]:null:o instanceof Iw&&o.at(l)||null}),o}(this,t)}getError(t,e){const o=e?this.get(e):this;return o&&o.errors?o.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)}_initObservables(){this.valueChanges=new A.vpe,this.statusChanges=new A.vpe}_calculateStatus(){return this._allControlsDisabled()?v_:this.errors?cy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(wf)?wf:this._anyControlsHaveStatus(cy)?cy:m_}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t={}){this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)}_updateTouched(t={}){this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)}_isBoxedValue(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){sM(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){return!t&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class sm extends Tw{constructor(t=null,e,o){super(ly(e),uy(o,e)),this._onChange=[],this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(o=>o(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=null,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){ay(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){ay(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}}class Dw extends Tw{constructor(t,e,o){super(ly(e),uy(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,o={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){this._checkAllValuesPresent(t),Object.keys(t).forEach(o=>{this._throwIfControlMissing(o),this.controls[o].setValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(Object.keys(t).forEach(o=>{this.controls[o]&&this.controls[o].patchValue(t[o],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,o)=>(t[o]=e instanceof sm?e.value:e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,o)=>!!o._syncPendingControls()||e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error(`Cannot find form control with name: ${t}.`)}_forEachChild(t){Object.keys(this.controls).forEach(e=>{const o=this.controls[e];o&&t(o,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(const e of Object.keys(this.controls)){const o=this.controls[e];if(this.contains(e)&&t(o))return!0}return!1}_reduceValue(){return this._reduceChildren({},(t,e,o)=>((e.enabled||this.disabled)&&(t[o]=e.value),t))}_reduceChildren(t,e){let o=t;return this._forEachChild((l,d)=>{o=e(o,l,d)}),o}_allControlsDisabled(){for(const t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control with name: '${o}'.`)})}}class Iw extends Tw{constructor(t,e,o){super(ly(e),uy(o,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(t){return this.controls[t]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,o={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:o.emitEvent})}removeAt(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,o={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:o.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){this._checkAllValuesPresent(t),t.forEach((o,l)=>{this._throwIfControlMissing(l),this.at(l).setValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){null!=t&&(t.forEach((o,l)=>{this.at(l)&&this.at(l).patchValue(o,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((o,l)=>{o.reset(t[l],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t instanceof sm?t.value:t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_syncPendingControls(){let t=this.controls.reduce((e,o)=>!!o._syncPendingControls()||e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_throwIfControlMissing(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error(`Cannot find form control at index ${t}`)}_forEachChild(t){this.controls.forEach((e,o)=>{t(e,o)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_checkAllValuesPresent(t){this._forEachChild((e,o)=>{if(void 0===t[o])throw new Error(`Must supply a value for form control at index: ${o}.`)})}_allControlsDisabled(){for(const t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}}const e5={provide:vp,useExisting:(0,A.Gpc)(()=>rc)},n5=(()=>Promise.resolve(null))();let rc=(()=>{class a extends vp{constructor(e,o,l,d){super(),this.control=new sm,this._registered=!1,this.update=new A.vpe,this._parent=e,this._setValidators(o),this._setAsyncValidators(l),this.valueAccessor=g_(0,d)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),Pf(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?function(a,t){return[...t.path,a]}(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){om(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){n5.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const o=e.isDisabled.currentValue,l=""===o||o&&"false"!==o;n5.then(()=>{l&&!this.control.disabled?this.control.disable():!l&&this.control.disabled&&this.control.enable()})}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(Wc,9),A.Y36(mi,10),A.Y36(Gn,10),A.Y36(gp,10))},a.\u0275dir=A.lG2({type:a,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[A._Bn([e5]),A.qOj,A.TTD]}),a})();const am={provide:gp,useExisting:(0,A.Gpc)(()=>cm),multi:!0};let cm=(()=>{class a extends wc{writeValue(e){this.setProperty("value",null==e?"":e)}registerOnChange(e){this.onChange=o=>{e(""==o?null:parseFloat(o))}}}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,o){1&e&&A.NdJ("input",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},features:[A._Bn([am]),A.qOj]}),a})(),IS=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({}),a})();const py=new A.OlP("NgModelWithFormControlWarning"),i5={provide:vp,useExisting:(0,A.Gpc)(()=>x_)};let x_=(()=>{class a extends vp{constructor(e,o,l,d){super(),this._ngModelWarningConfig=d,this.update=new A.vpe,this._ngModelWarningSent=!1,this._setValidators(e),this._setAsyncValidators(o),this.valueAccessor=g_(0,l)}set isDisabled(e){}ngOnChanges(e){if(this._isControlChanged(e)){const o=e.form.previousValue;o&&nc(o,this,!1),om(this.form,this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this.form.updateValueAndValidity({emitEvent:!1})}Pf(e,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&nc(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_isControlChanged(e){return e.hasOwnProperty("form")}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(mi,10),A.Y36(Gn,10),A.Y36(gp,10),A.Y36(py,8))},a.\u0275dir=A.lG2({type:a,selectors:[["","formControl",""]],inputs:{isDisabled:["disabled","isDisabled"],form:["formControl","form"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],features:[A._Bn([i5]),A.qOj,A.TTD]}),a._ngModelWarningSentOnce=!1,a})();const kS={provide:gp,useExisting:(0,A.Gpc)(()=>oa),multi:!0};function ic(a,t){return null==a?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${a}: ${t}`.slice(0,50))}let oa=(()=>{class a extends wc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const o=this._getOptionId(e);null==o&&this.setProperty("selectedIndex",-1);const l=ic(o,e);this.setProperty("value",l)}registerOnChange(e){this.onChange=o=>{this.value=this._getOptionValue(o),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o),e))return o;return null}_getOptionValue(e){const o=function(a){return a.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o):e}}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,o){1&e&&A.NdJ("change",function(d){return o.onChange(d.target.value)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[A._Bn([kS]),A.qOj]}),a})(),ga=(()=>{class a{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(ic(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(oa,9))},a.\u0275dir=A.lG2({type:a,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),a})();const Ef={provide:gp,useExisting:(0,A.Gpc)(()=>Sf),multi:!0};function P_(a,t){return null==a?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${a}: ${t}`.slice(0,50))}let Sf=(()=>{class a extends wc{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let o;if(this.value=e,Array.isArray(e)){const l=e.map(d=>this._getOptionId(d));o=(d,g)=>{d._setSelected(l.indexOf(g.toString())>-1)}}else o=(l,d)=>{l._setSelected(!1)};this._optionMap.forEach(o)}registerOnChange(e){this.onChange=o=>{const l=[];if(void 0!==o.selectedOptions){const d=o.selectedOptions;for(let g=0;g<d.length;g++){const b=d.item(g),M=this._getOptionValue(b.value);l.push(M)}}else{const d=o.options;for(let g=0;g<d.length;g++){const b=d.item(g);if(b.selected){const M=this._getOptionValue(b.value);l.push(M)}}}this.value=l,e(l)}}_registerOption(e){const o=(this._idCounter++).toString();return this._optionMap.set(o,e),o}_getOptionId(e){for(const o of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(o)._value,e))return o;return null}_getOptionValue(e){const o=function(a){return a.split(":")[0]}(e);return this._optionMap.has(o)?this._optionMap.get(o)._value:e}}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,o){1&e&&A.NdJ("change",function(d){return o.onChange(d.target)})("blur",function(){return o.onTouched()})},inputs:{compareWith:"compareWith"},features:[A._Bn([Ef]),A.qOj]}),a})(),pm=(()=>{class a{constructor(e,o,l){this._element=e,this._renderer=o,this._select=l,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(P_(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(P_(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(A.SBq),A.Y36(A.Qsj),A.Y36(Sf,9))},a.\u0275dir=A.lG2({type:a,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),a})(),yp=(()=>{class a{constructor(){this._validator=Cf}handleChanges(e){if(this.inputName in e){const o=this.normalizeInput(e[this.inputName].currentValue);this._validator=this.createValidator(o),this._onChange&&this._onChange()}}validate(e){return this._validator(e)}registerOnValidatorChange(e){this._onChange=e}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275dir=A.lG2({type:a}),a})();const fm={provide:mi,useExisting:(0,A.Gpc)(()=>Bo),multi:!0};let Bo=(()=>{class a extends yp{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>Od(e)}ngOnChanges(e){this.handleChanges(e)}}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(e,o){if(2&e){let l;A.uIk("max",null!==(l=o.max)&&void 0!==l?l:null)}},inputs:{max:"max"},features:[A._Bn([fm]),A.qOj,A.TTD]}),a})();const gm={provide:mi,useExisting:(0,A.Gpc)(()=>bl),multi:!0};let bl=(()=>{class a extends yp{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=e=>parseFloat(e),this.createValidator=e=>rm(e)}ngOnChanges(e){this.handleChanges(e)}}return a.\u0275fac=function(){let t;return function(o){return(t||(t=A.n5z(a)))(o||a)}}(),a.\u0275dir=A.lG2({type:a,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(e,o){if(2&e){let l;A.uIk("min",null!==(l=o.min)&&void 0!==l?l:null)}},inputs:{min:"min"},features:[A._Bn([gm]),A.qOj,A.TTD]}),a})(),lo=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[[IS]]}),a})(),w_=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[lo]}),a})(),O_=(()=>{class a{static withConfig(e){return{ngModule:a,providers:[{provide:py,useValue:e.warnOnNgModelWithFormControl}]}}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[lo]}),a})();const vy=function(a){return{"is-invalid":a}};let Nw=(()=>{class a{constructor(e){this.store=e,this.range=new A.vpe,this.from=null,this.to=null,this.componentMin=0,this.componentMax=1e4,this.subs=new Qg,this.fromControl=new sm(this.from,[nm.min(this.componentMin),nm.max(this.componentMax)]),this.toControl=new sm(this.to,[nm.min(this.componentMin),nm.max(this.componentMax)]),this.min$=this.store.pipe((0,We.Ys)(qb)),this.max$=this.store.pipe((0,We.Ys)(dS))}ngOnInit(){this.subs.sink=this.min$.subscribe(e=>{this.componentMin=e,this.from||(this.from=this.componentMin,this.fromControl.setValue(this.from))}),this.subs.sink=this.max$.subscribe(e=>{this.componentMax=e,this.to||(this.to=this.componentMax,this.toControl.setValue(this.to))}),this.subs.sink=this.fromControl.valueChanges.subscribe(e=>{this.setFrom(e)}),this.subs.sink=this.toControl.valueChanges.subscribe(e=>{this.setTo(e)})}ngOnDestroy(){this.subs.unsubscribe()}setFrom(e){this.fromControl.errors?this.emitRange(!0):(this.from=e,this.emitRange())}setTo(e){this.toControl.errors?this.emitRange(!0):(this.to=e,this.emitRange())}emitRange(e){this.fromControl.errors||this.toControl.errors||this.range.emit({from:this.from?this.from:0,to:this.to?this.to:0}),e&&this.range.emit()}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(We.yh))},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-range"]],outputs:{range:"range"},decls:15,vars:15,consts:[[1,"input-group","input-group-sm"],["for","inputPassword",1,"col-sm-2","col-form-label"],[1,"col-sm-4"],["type","number","size","3",1,"form-control","form-control-sm","g-0",3,"formControl","min","max","ngClass"],["for","inputPassword",1,"col-sm-2","col-form-label",2,"text-align","center"],[1,"row","my-0"],[1,"col-sm-12"],["role","alert",1,"alert","alert-danger","secondary",3,"hidden"]],template:function(e,o){1&e&&(A.TgZ(0,"div",0),A.TgZ(1,"label",1),A.TgZ(2,"small"),A._uU(3,"from"),A.qZA(),A.qZA(),A.TgZ(4,"div",2),A._UZ(5,"input",3),A.qZA(),A.TgZ(6,"label",4),A.TgZ(7,"small"),A._uU(8,"to"),A.qZA(),A.qZA(),A.TgZ(9,"div",2),A._UZ(10,"input",3),A.qZA(),A.qZA(),A.TgZ(11,"div",5),A.TgZ(12,"div",6),A.TgZ(13,"div",7),A._uU(14),A.qZA(),A.qZA(),A.qZA()),2&e&&(A.xp6(5),A.Q6J("formControl",o.fromControl)("min",o.componentMin||0)("max",o.componentMax||0)("ngClass",A.VKq(11,vy,o.fromControl.errors)),A.xp6(5),A.Q6J("formControl",o.toControl)("min",o.componentMin||0)("max",o.componentMax||0)("ngClass",A.VKq(13,vy,o.toControl.errors)),A.xp6(3),A.Q6J("hidden",!o.fromControl.errors&&!o.toControl.errors),A.xp6(1),A.AsE(" Range should be between ",o.componentMin," and ",o.componentMax," "))},directives:[cm,bl,Bo,xf,_p,x_,Nl],styles:["@charset \"UTF-8\";[_ngcontent-%COMP%]:root{--bs-blue: #0d6efd;--bs-indigo: #6610f2;--bs-purple: #6f42c1;--bs-pink: #d63384;--bs-red: #dc3545;--bs-orange: #fd7e14;--bs-yellow: #ffc107;--bs-green: #198754;--bs-teal: #20c997;--bs-cyan: #0dcaf0;--bs-white: #fff;--bs-gray: #6c757d;--bs-gray-dark: #343a40;--bs-gray-100: #f8f9fa;--bs-gray-200: #e9ecef;--bs-gray-300: #dee2e6;--bs-gray-400: #ced4da;--bs-gray-500: #adb5bd;--bs-gray-600: #6c757d;--bs-gray-700: #495057;--bs-gray-800: #343a40;--bs-gray-900: #212529;--bs-primary: #0d6efd;--bs-secondary: #6c757d;--bs-success: #198754;--bs-info: #0dcaf0;--bs-warning: #ffc107;--bs-danger: #dc3545;--bs-light: #f8f9fa;--bs-dark: #212529;--bs-primary-rgb: 13, 110, 253;--bs-secondary-rgb: 108, 117, 125;--bs-success-rgb: 25, 135, 84;--bs-info-rgb: 13, 202, 240;--bs-warning-rgb: 255, 193, 7;--bs-danger-rgb: 220, 53, 69;--bs-light-rgb: 248, 249, 250;--bs-dark-rgb: 33, 37, 41;--bs-white-rgb: 255, 255, 255;--bs-black-rgb: 0, 0, 0;--bs-body-color-rgb: 33, 37, 41;--bs-body-bg-rgb: 255, 255, 255;--bs-font-sans-serif: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";--bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;--bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, .15), rgba(255, 255, 255, 0));--bs-body-font-family: var(--bs-font-sans-serif);--bs-body-font-size: 1rem;--bs-body-font-weight: 400;--bs-body-line-height: 1.5;--bs-body-color: #212529;--bs-body-bg: #fff}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}hr[_ngcontent-%COMP%]{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr[_ngcontent-%COMP%]:not([size]){height:1px}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw)}@media (min-width: 1200px){h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:2.5rem}}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:calc(1.325rem + .9vw)}@media (min-width: 1200px){h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:2rem}}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:calc(1.3rem + .6vw)}@media (min-width: 1200px){h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:1.75rem}}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:calc(1.275rem + .3vw)}@media (min-width: 1200px){h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:1.5rem}}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:1.25rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1rem}p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}abbr[title][_ngcontent-%COMP%], abbr[data-bs-original-title][_ngcontent-%COMP%]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address[_ngcontent-%COMP%]{margin-bottom:1rem;font-style:normal;line-height:inherit}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding-left:2rem}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], dl[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}ol[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:0}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-bottom:.5rem;margin-left:0}blockquote[_ngcontent-%COMP%]{margin:0 0 1rem}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}small[_ngcontent-%COMP%], .small[_ngcontent-%COMP%]{font-size:.875em}mark[_ngcontent-%COMP%], .mark[_ngcontent-%COMP%]{padding:.2em;background-color:#fcf8e3}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}a[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}a[_ngcontent-%COMP%]:hover{color:#0a58ca}a[_ngcontent-%COMP%]:not([href]):not([class]), a[_ngcontent-%COMP%]:not([href]):not([class]):hover{color:inherit;text-decoration:none}pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:var(--bs-font-monospace);font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:inherit;color:inherit;word-break:normal}code[_ngcontent-%COMP%]{font-size:.875em;color:#d63384;word-wrap:break-word}a[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{color:inherit}kbd[_ngcontent-%COMP%]{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{padding:0;font-size:1em;font-weight:700}figure[_ngcontent-%COMP%]{margin:0 0 1rem}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{vertical-align:middle}table[_ngcontent-%COMP%]{caption-side:bottom;border-collapse:collapse}caption[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th[_ngcontent-%COMP%]{text-align:inherit;text-align:-webkit-match-parent}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}label[_ngcontent-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{border-radius:0}button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:0}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[role=button][_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{word-wrap:normal}select[_ngcontent-%COMP%]:disabled{opacity:1}[list][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%]{-webkit-appearance:button}button[_ngcontent-%COMP%]:not(:disabled), [type=button][_ngcontent-%COMP%]:not(:disabled), [type=reset][_ngcontent-%COMP%]:not(:disabled), [type=submit][_ngcontent-%COMP%]:not(:disabled){cursor:pointer}[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border-style:none}textarea[_ngcontent-%COMP%]{resize:vertical}fieldset[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;border:0}legend[_ngcontent-%COMP%]{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width: 1200px){legend[_ngcontent-%COMP%]{font-size:1.5rem}}legend[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{clear:left}[_ngcontent-%COMP%]::-webkit-datetime-edit-fields-wrapper, [_ngcontent-%COMP%]::-webkit-datetime-edit-text, [_ngcontent-%COMP%]::-webkit-datetime-edit-minute, [_ngcontent-%COMP%]::-webkit-datetime-edit-hour-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-day-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-month-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-year-field{padding:0}[_ngcontent-%COMP%]::-webkit-inner-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px;-webkit-appearance:textfield}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}[_ngcontent-%COMP%]::file-selector-button{font:inherit}[_ngcontent-%COMP%]::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output[_ngcontent-%COMP%]{display:inline-block}iframe[_ngcontent-%COMP%]{border:0}summary[_ngcontent-%COMP%]{display:list-item;cursor:pointer}progress[_ngcontent-%COMP%]{vertical-align:baseline}[hidden][_ngcontent-%COMP%]{display:none!important}.lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300}.display-1[_ngcontent-%COMP%]{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-1[_ngcontent-%COMP%]{font-size:5rem}}.display-2[_ngcontent-%COMP%]{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-2[_ngcontent-%COMP%]{font-size:4.5rem}}.display-3[_ngcontent-%COMP%]{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-3[_ngcontent-%COMP%]{font-size:4rem}}.display-4[_ngcontent-%COMP%]{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-4[_ngcontent-%COMP%]{font-size:3.5rem}}.display-5[_ngcontent-%COMP%]{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-5[_ngcontent-%COMP%]{font-size:3rem}}.display-6[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-6[_ngcontent-%COMP%]{font-size:2.5rem}}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline-item[_ngcontent-%COMP%]{display:inline-block}.list-inline-item[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.initialism[_ngcontent-%COMP%]{font-size:.875em;text-transform:uppercase}.blockquote[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.25rem}.blockquote[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}.blockquote-footer[_ngcontent-%COMP%]{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer[_ngcontent-%COMP%]:before{content:\"\\2014\\a0\"}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}.img-thumbnail[_ngcontent-%COMP%]{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure[_ngcontent-%COMP%]{display:inline-block}.figure-img[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1}.figure-caption[_ngcontent-%COMP%]{font-size:.875em;color:#6c757d}.container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%], .container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%]{width:100%;padding-right:var(--bs-gutter-x, .75rem);padding-left:var(--bs-gutter-x, .75rem);margin-right:auto;margin-left:auto}@media (min-width: 576px){.container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:540px}}@media (min-width: 768px){.container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:720px}}@media (min-width: 992px){.container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:960px}}@media (min-width: 1200px){.container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1140px}}@media (min-width: 1400px){.container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1320px}}.row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x) * -.5);margin-left:calc(var(--bs-gutter-x) * -.5)}.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-3[_ngcontent-%COMP%]{margin-left:25%}.offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-6[_ngcontent-%COMP%]{margin-left:50%}.offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-9[_ngcontent-%COMP%]{margin-left:75%}.offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-0[_ngcontent-%COMP%], .gx-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-0[_ngcontent-%COMP%], .gy-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-1[_ngcontent-%COMP%], .gx-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-1[_ngcontent-%COMP%], .gy-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-2[_ngcontent-%COMP%], .gx-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-2[_ngcontent-%COMP%], .gy-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-3[_ngcontent-%COMP%], .gx-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-3[_ngcontent-%COMP%], .gy-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-4[_ngcontent-%COMP%], .gx-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-4[_ngcontent-%COMP%], .gy-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-5[_ngcontent-%COMP%], .gx-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-5[_ngcontent-%COMP%], .gy-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}@media (min-width: 576px){.col-sm[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-sm-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-sm-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-sm-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-sm-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-sm-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-sm-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-sm-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-sm-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-sm-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-sm-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-sm-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-sm-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-sm-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-sm-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-sm-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-sm-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-sm-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-sm-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-sm-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-sm-0[_ngcontent-%COMP%]{margin-left:0}.offset-sm-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-sm-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-sm-3[_ngcontent-%COMP%]{margin-left:25%}.offset-sm-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-sm-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-sm-6[_ngcontent-%COMP%]{margin-left:50%}.offset-sm-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-sm-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-sm-9[_ngcontent-%COMP%]{margin-left:75%}.offset-sm-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-sm-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-sm-0[_ngcontent-%COMP%], .gx-sm-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-sm-0[_ngcontent-%COMP%], .gy-sm-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-sm-1[_ngcontent-%COMP%], .gx-sm-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-sm-1[_ngcontent-%COMP%], .gy-sm-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-sm-2[_ngcontent-%COMP%], .gx-sm-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-sm-2[_ngcontent-%COMP%], .gy-sm-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-sm-3[_ngcontent-%COMP%], .gx-sm-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-sm-3[_ngcontent-%COMP%], .gy-sm-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-sm-4[_ngcontent-%COMP%], .gx-sm-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-sm-4[_ngcontent-%COMP%], .gy-sm-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-sm-5[_ngcontent-%COMP%], .gx-sm-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-sm-5[_ngcontent-%COMP%], .gy-sm-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 768px){.col-md[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-md-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-md-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-md-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-md-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-md-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-md-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-md-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-md-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-md-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-md-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-md-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-md-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-md-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-md-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-md-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-md-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-md-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-md-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-md-0[_ngcontent-%COMP%]{margin-left:0}.offset-md-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-md-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-md-3[_ngcontent-%COMP%]{margin-left:25%}.offset-md-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-md-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-md-6[_ngcontent-%COMP%]{margin-left:50%}.offset-md-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-md-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-md-9[_ngcontent-%COMP%]{margin-left:75%}.offset-md-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-md-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-md-0[_ngcontent-%COMP%], .gx-md-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-md-0[_ngcontent-%COMP%], .gy-md-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-md-1[_ngcontent-%COMP%], .gx-md-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-md-1[_ngcontent-%COMP%], .gy-md-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-md-2[_ngcontent-%COMP%], .gx-md-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-md-2[_ngcontent-%COMP%], .gy-md-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-md-3[_ngcontent-%COMP%], .gx-md-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-md-3[_ngcontent-%COMP%], .gy-md-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-md-4[_ngcontent-%COMP%], .gx-md-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-md-4[_ngcontent-%COMP%], .gy-md-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-md-5[_ngcontent-%COMP%], .gx-md-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-md-5[_ngcontent-%COMP%], .gy-md-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 992px){.col-lg[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-lg-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-lg-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-lg-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-lg-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-lg-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-lg-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-lg-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-lg-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-lg-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-lg-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-lg-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-lg-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-lg-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-lg-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-lg-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-lg-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-lg-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-lg-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-lg-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-lg-0[_ngcontent-%COMP%]{margin-left:0}.offset-lg-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-lg-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-lg-3[_ngcontent-%COMP%]{margin-left:25%}.offset-lg-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-lg-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-lg-6[_ngcontent-%COMP%]{margin-left:50%}.offset-lg-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-lg-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-lg-9[_ngcontent-%COMP%]{margin-left:75%}.offset-lg-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-lg-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-lg-0[_ngcontent-%COMP%], .gx-lg-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-lg-0[_ngcontent-%COMP%], .gy-lg-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-lg-1[_ngcontent-%COMP%], .gx-lg-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-lg-1[_ngcontent-%COMP%], .gy-lg-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-lg-2[_ngcontent-%COMP%], .gx-lg-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-lg-2[_ngcontent-%COMP%], .gy-lg-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-lg-3[_ngcontent-%COMP%], .gx-lg-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-lg-3[_ngcontent-%COMP%], .gy-lg-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-lg-4[_ngcontent-%COMP%], .gx-lg-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-lg-4[_ngcontent-%COMP%], .gy-lg-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-lg-5[_ngcontent-%COMP%], .gx-lg-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-lg-5[_ngcontent-%COMP%], .gy-lg-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 1200px){.col-xl[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-xl-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-xl-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-xl-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-xl-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-xl-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-xl-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-xl-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-xl-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-xl-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-xl-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-xl-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-xl-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-xl-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-xl-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-xl-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-xl-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-xl-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-xl-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-xl-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-xl-0[_ngcontent-%COMP%]{margin-left:0}.offset-xl-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-xl-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-xl-3[_ngcontent-%COMP%]{margin-left:25%}.offset-xl-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-xl-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-xl-6[_ngcontent-%COMP%]{margin-left:50%}.offset-xl-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-xl-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-xl-9[_ngcontent-%COMP%]{margin-left:75%}.offset-xl-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-xl-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-xl-0[_ngcontent-%COMP%], .gx-xl-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-xl-0[_ngcontent-%COMP%], .gy-xl-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-xl-1[_ngcontent-%COMP%], .gx-xl-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-xl-1[_ngcontent-%COMP%], .gy-xl-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-xl-2[_ngcontent-%COMP%], .gx-xl-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-xl-2[_ngcontent-%COMP%], .gy-xl-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-xl-3[_ngcontent-%COMP%], .gx-xl-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-xl-3[_ngcontent-%COMP%], .gy-xl-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-xl-4[_ngcontent-%COMP%], .gx-xl-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-xl-4[_ngcontent-%COMP%], .gy-xl-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-xl-5[_ngcontent-%COMP%], .gx-xl-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-xl-5[_ngcontent-%COMP%], .gy-xl-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 1400px){.col-xxl[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-xxl-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-xxl-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-xxl-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-xxl-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-xxl-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-xxl-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-xxl-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-xxl-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-xxl-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-xxl-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-xxl-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-xxl-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-xxl-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-xxl-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-xxl-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-xxl-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-xxl-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-xxl-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-xxl-0[_ngcontent-%COMP%]{margin-left:0}.offset-xxl-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-xxl-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-xxl-3[_ngcontent-%COMP%]{margin-left:25%}.offset-xxl-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-xxl-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-xxl-6[_ngcontent-%COMP%]{margin-left:50%}.offset-xxl-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-xxl-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-xxl-9[_ngcontent-%COMP%]{margin-left:75%}.offset-xxl-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-xxl-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-xxl-0[_ngcontent-%COMP%], .gx-xxl-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-xxl-0[_ngcontent-%COMP%], .gy-xxl-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-xxl-1[_ngcontent-%COMP%], .gx-xxl-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-xxl-1[_ngcontent-%COMP%], .gy-xxl-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-xxl-2[_ngcontent-%COMP%], .gx-xxl-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-xxl-2[_ngcontent-%COMP%], .gy-xxl-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-xxl-3[_ngcontent-%COMP%], .gx-xxl-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-xxl-3[_ngcontent-%COMP%], .gy-xxl-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-xxl-4[_ngcontent-%COMP%], .gx-xxl-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-xxl-4[_ngcontent-%COMP%], .gy-xxl-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-xxl-5[_ngcontent-%COMP%], .gx-xxl-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-xxl-5[_ngcontent-%COMP%], .gy-xxl-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent;--bs-table-accent-bg: transparent;--bs-table-striped-color: #212529;--bs-table-striped-bg: rgba(0, 0, 0, .05);--bs-table-active-color: #212529;--bs-table-active-bg: rgba(0, 0, 0, .1);--bs-table-hover-color: #212529;--bs-table-hover-bg: rgba(0, 0, 0, .075);width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border-color:#dee2e6}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{vertical-align:inherit}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]{vertical-align:bottom}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:currentColor}.caption-top[_ngcontent-%COMP%]{caption-side:top}.table-sm[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.25rem}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%]{border-width:1px 0}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-width:0 1px}.table-borderless[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom-width:0}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd){--bs-table-accent-bg: var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active[_ngcontent-%COMP%]{--bs-table-accent-bg: var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{--bs-table-accent-bg: var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary[_ngcontent-%COMP%]{--bs-table-bg: #cfe2ff;--bs-table-striped-bg: #c5d7f2;--bs-table-striped-color: #000;--bs-table-active-bg: #bacbe6;--bs-table-active-color: #000;--bs-table-hover-bg: #bfd1ec;--bs-table-hover-color: #000;color:#000;border-color:#bacbe6}.table-secondary[_ngcontent-%COMP%]{--bs-table-bg: #e2e3e5;--bs-table-striped-bg: #d7d8da;--bs-table-striped-color: #000;--bs-table-active-bg: #cbccce;--bs-table-active-color: #000;--bs-table-hover-bg: #d1d2d4;--bs-table-hover-color: #000;color:#000;border-color:#cbccce}.table-success[_ngcontent-%COMP%]{--bs-table-bg: #d1e7dd;--bs-table-striped-bg: #c7dbd2;--bs-table-striped-color: #000;--bs-table-active-bg: #bcd0c7;--bs-table-active-color: #000;--bs-table-hover-bg: #c1d6cc;--bs-table-hover-color: #000;color:#000;border-color:#bcd0c7}.table-info[_ngcontent-%COMP%]{--bs-table-bg: #cff4fc;--bs-table-striped-bg: #c5e8ef;--bs-table-striped-color: #000;--bs-table-active-bg: #badce3;--bs-table-active-color: #000;--bs-table-hover-bg: #bfe2e9;--bs-table-hover-color: #000;color:#000;border-color:#badce3}.table-warning[_ngcontent-%COMP%]{--bs-table-bg: #fff3cd;--bs-table-striped-bg: #f2e7c3;--bs-table-striped-color: #000;--bs-table-active-bg: #e6dbb9;--bs-table-active-color: #000;--bs-table-hover-bg: #ece1be;--bs-table-hover-color: #000;color:#000;border-color:#e6dbb9}.table-danger[_ngcontent-%COMP%]{--bs-table-bg: #f8d7da;--bs-table-striped-bg: #eccccf;--bs-table-striped-color: #000;--bs-table-active-bg: #dfc2c4;--bs-table-active-color: #000;--bs-table-hover-bg: #e5c7ca;--bs-table-hover-color: #000;color:#000;border-color:#dfc2c4}.table-light[_ngcontent-%COMP%]{--bs-table-bg: #f8f9fa;--bs-table-striped-bg: #ecedee;--bs-table-striped-color: #000;--bs-table-active-bg: #dfe0e1;--bs-table-active-color: #000;--bs-table-hover-bg: #e5e6e7;--bs-table-hover-color: #000;color:#000;border-color:#dfe0e1}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #212529;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;color:#fff;border-color:#373b3e}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width: 575.98px){.table-responsive-sm[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 767.98px){.table-responsive-md[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 991.98px){.table-responsive-lg[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 1199.98px){.table-responsive-xl[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 1399.98px){.table-responsive-xxl[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label[_ngcontent-%COMP%]{margin-bottom:.5rem}.col-form-label[_ngcontent-%COMP%]{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg[_ngcontent-%COMP%]{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm[_ngcontent-%COMP%]{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]{transition:none}}.form-control[type=file][_ngcontent-%COMP%]{overflow:hidden}.form-control[type=file][_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control[_ngcontent-%COMP%]:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-control[_ngcontent-%COMP%]::-webkit-date-and-time-value{height:1.5em}.form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:1}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#e9ecef;opacity:1}.form-control[_ngcontent-%COMP%]::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]::file-selector-button{transition:none}}.form-control[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-transition:none;transition:none}}.form-control[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control-plaintext[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-sm[_ngcontent-%COMP%], .form-control-plaintext.form-control-lg[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.form-control-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-sm[_ngcontent-%COMP%]::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;margin-inline-end:.5rem}.form-control-sm[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;margin-inline-end:.5rem}.form-control-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-lg[_ngcontent-%COMP%]::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;margin-inline-end:1rem}.form-control-lg[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;margin-inline-end:1rem}textarea.form-control[_ngcontent-%COMP%]{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + 2px)}.form-control-color[_ngcontent-%COMP%]{width:3rem;height:auto;padding:.375rem}.form-control-color[_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control-color[_ngcontent-%COMP%]::-moz-color-swatch{height:1.5em;border-radius:.25rem}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch{height:1.5em;border-radius:.25rem}.form-select[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-select[_ngcontent-%COMP%]{transition:none}}.form-select[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-select[multiple][_ngcontent-%COMP%], .form-select[size][_ngcontent-%COMP%]:not([size=\"1\"]){padding-right:.75rem;background-image:none}.form-select[_ngcontent-%COMP%]:disabled{background-color:#e9ecef}.form-select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.form-select-lg[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.form-check[_ngcontent-%COMP%]{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:left;margin-left:-1.5em}.form-check-input[_ngcontent-%COMP%]{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact}.form-check-input[type=checkbox][_ngcontent-%COMP%]{border-radius:.25em}.form-check-input[type=radio][_ngcontent-%COMP%]{border-radius:50%}.form-check-input[_ngcontent-%COMP%]:active{filter:brightness(90%)}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input[_ngcontent-%COMP%]:checked[type=checkbox]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\")}.form-check-input[_ngcontent-%COMP%]:checked[type=radio]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-input[type=checkbox][_ngcontent-%COMP%]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e\")}.form-check-input[_ngcontent-%COMP%]:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input[disabled][_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%], .form-check-input[_ngcontent-%COMP%]:disabled ~ .form-check-label[_ngcontent-%COMP%]{opacity:.5}.form-switch[_ngcontent-%COMP%]{padding-left:2.5em}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2em;margin-left:-2.5em;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{transition:none}}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e\")}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-position:right center;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-inline[_ngcontent-%COMP%]{display:inline-block;margin-right:1rem}.btn-check[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check[disabled][_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:disabled + .btn[_ngcontent-%COMP%]{pointer-events:none;filter:none;opacity:.65}.form-range[_ngcontent-%COMP%]{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range[_ngcontent-%COMP%]:focus{outline:0}.form-range[_ngcontent-%COMP%]:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range[_ngcontent-%COMP%]:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range[_ngcontent-%COMP%]::-moz-focus-outer{border:0}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range[_ngcontent-%COMP%]::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-range[_ngcontent-%COMP%]::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range[_ngcontent-%COMP%]::-moz-range-thumb:active{background-color:#b6d4fe}.form-range[_ngcontent-%COMP%]::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range[_ngcontent-%COMP%]:disabled{pointer-events:none}.form-range[_ngcontent-%COMP%]:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range[_ngcontent-%COMP%]:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating[_ngcontent-%COMP%]{position:relative}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{height:calc(3.5rem + 2px);line-height:1.25}.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;padding:1rem .75rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion: reduce){.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{transition:none}}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{padding:1rem .75rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]::placeholder{color:transparent}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus, .form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{opacity:.65;transform:scale(.85) translateY(-.5rem) translate(.15rem)}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:-webkit-autofill ~ label[_ngcontent-%COMP%]{opacity:.65;transform:scale(.85) translateY(-.5rem) translate(.15rem)}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]:focus{z-index:3}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;z-index:2}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{z-index:3}.input-group-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-lg[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-right:3rem}.input-group[_ngcontent-%COMP%]:not(.has-validation) > [_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu), .input-group[_ngcontent-%COMP%]:not(.has-validation) > .dropdown-toggle[_ngcontent-%COMP%]:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu), .input-group.has-validation[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]:nth-last-child(n+4){border-top-right-radius:0;border-bottom-right-radius:0}.input-group[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback[_ngcontent-%COMP%]{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:#198754e6;border-radius:.25rem}.was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:valid ~ .valid-feedback[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:valid ~ .valid-tooltip[_ngcontent-%COMP%], .is-valid[_ngcontent-%COMP%] ~ .valid-feedback[_ngcontent-%COMP%], .is-valid[_ngcontent-%COMP%] ~ .valid-tooltip[_ngcontent-%COMP%]{display:block}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid, .form-control.is-valid[_ngcontent-%COMP%]{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid:focus, .form-control.is-valid[_ngcontent-%COMP%]:focus{border-color:#198754;box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:valid, textarea.form-control.is-valid[_ngcontent-%COMP%]{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid, .form-select.is-valid[_ngcontent-%COMP%]{border-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:not([multiple]):not([size]), .was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:not([multiple])[size=\"1\"], .form-select.is-valid[_ngcontent-%COMP%]:not([multiple]):not([size]), .form-select.is-valid[_ngcontent-%COMP%]:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:focus, .form-select.is-valid[_ngcontent-%COMP%]:focus{border-color:#198754;box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid, .form-check-input.is-valid[_ngcontent-%COMP%]{border-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid:checked, .form-check-input.is-valid[_ngcontent-%COMP%]:checked{background-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid:focus, .form-check-input.is-valid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid ~ .form-check-label[_ngcontent-%COMP%], .form-check-input.is-valid[_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%]{color:#198754}.form-check-inline[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] ~ .valid-feedback[_ngcontent-%COMP%]{margin-left:.5em}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid, .input-group[_ngcontent-%COMP%]   .form-control.is-valid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid, .input-group[_ngcontent-%COMP%]   .form-select.is-valid[_ngcontent-%COMP%]{z-index:1}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid:focus, .input-group[_ngcontent-%COMP%]   .form-control.is-valid[_ngcontent-%COMP%]:focus, .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:focus, .input-group[_ngcontent-%COMP%]   .form-select.is-valid[_ngcontent-%COMP%]:focus{z-index:3}.invalid-feedback[_ngcontent-%COMP%]{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:#dc3545e6;border-radius:.25rem}.was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:invalid ~ .invalid-feedback[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:invalid ~ .invalid-tooltip[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%] ~ .invalid-tooltip[_ngcontent-%COMP%]{display:block}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid:focus, .form-control.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:invalid, textarea.form-control.is-invalid[_ngcontent-%COMP%]{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid, .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:not([multiple]):not([size]), .was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:not([multiple])[size=\"1\"], .form-select.is-invalid[_ngcontent-%COMP%]:not([multiple]):not([size]), .form-select.is-invalid[_ngcontent-%COMP%]:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:focus, .form-select.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid, .form-check-input.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid:checked, .form-check-input.is-invalid[_ngcontent-%COMP%]:checked{background-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid:focus, .form-check-input.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid ~ .form-check-label[_ngcontent-%COMP%], .form-check-input.is-invalid[_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%]{color:#dc3545}.form-check-inline[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%]{margin-left:.5em}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid, .input-group[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{z-index:2}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid:focus, .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus, .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:focus, .input-group[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus{z-index:3}.btn[_ngcontent-%COMP%]{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%]{transition:none}}.btn[_ngcontent-%COMP%]:hover{color:#212529}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}.btn-check[_ngcontent-%COMP%]:focus + .btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#0b5ed7;border-color:#0a58ca;box-shadow:0 0 0 .25rem #3184fd80}.btn-check[_ngcontent-%COMP%]:checked + .btn-primary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:active, .btn-primary.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#0a58ca;border-color:#0a53be}.btn-check[_ngcontent-%COMP%]:checked + .btn-primary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:active:focus, .btn-primary.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3184fd80}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-primary.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#5c636a;border-color:#565e64}.btn-check[_ngcontent-%COMP%]:focus + .btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#5c636a;border-color:#565e64;box-shadow:0 0 0 .25rem #828a9180}.btn-check[_ngcontent-%COMP%]:checked + .btn-secondary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:active, .btn-secondary.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#565e64;border-color:#51585e}.btn-check[_ngcontent-%COMP%]:checked + .btn-secondary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-secondary[_ngcontent-%COMP%]:focus, .btn-secondary[_ngcontent-%COMP%]:active:focus, .btn-secondary.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #828a9180}.btn-secondary[_ngcontent-%COMP%]:disabled, .btn-secondary.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#157347;border-color:#146c43}.btn-check[_ngcontent-%COMP%]:focus + .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff;background-color:#157347;border-color:#146c43;box-shadow:0 0 0 .25rem #3c996e80}.btn-check[_ngcontent-%COMP%]:checked + .btn-success[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:active, .btn-success.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#146c43;border-color:#13653f}.btn-check[_ngcontent-%COMP%]:checked + .btn-success[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-success[_ngcontent-%COMP%]:focus, .btn-success[_ngcontent-%COMP%]:active:focus, .btn-success.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3c996e80}.btn-success[_ngcontent-%COMP%]:disabled, .btn-success.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-info[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-info[_ngcontent-%COMP%]:hover{color:#000;background-color:#31d2f2;border-color:#25cff2}.btn-check[_ngcontent-%COMP%]:focus + .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:focus{color:#000;background-color:#31d2f2;border-color:#25cff2;box-shadow:0 0 0 .25rem #0baccc80}.btn-check[_ngcontent-%COMP%]:checked + .btn-info[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:active, .btn-info.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-info.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#3dd5f3;border-color:#25cff2}.btn-check[_ngcontent-%COMP%]:checked + .btn-info[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-info[_ngcontent-%COMP%]:focus, .btn-info[_ngcontent-%COMP%]:active:focus, .btn-info.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-info.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0baccc80}.btn-info[_ngcontent-%COMP%]:disabled, .btn-info.disabled[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-warning[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-warning[_ngcontent-%COMP%]:hover{color:#000;background-color:#ffca2c;border-color:#ffc720}.btn-check[_ngcontent-%COMP%]:focus + .btn-warning[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%]:focus{color:#000;background-color:#ffca2c;border-color:#ffc720;box-shadow:0 0 0 .25rem #d9a40680}.btn-check[_ngcontent-%COMP%]:checked + .btn-warning[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-warning[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%]:active, .btn-warning.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-warning.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#ffcd39;border-color:#ffc720}.btn-check[_ngcontent-%COMP%]:checked + .btn-warning[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-warning[_ngcontent-%COMP%]:focus, .btn-warning[_ngcontent-%COMP%]:active:focus, .btn-warning.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-warning.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #d9a40680}.btn-warning[_ngcontent-%COMP%]:disabled, .btn-warning.disabled[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-danger[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#bb2d3b;border-color:#b02a37}.btn-check[_ngcontent-%COMP%]:focus + .btn-danger[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]:focus{color:#fff;background-color:#bb2d3b;border-color:#b02a37;box-shadow:0 0 0 .25rem #e1536180}.btn-check[_ngcontent-%COMP%]:checked + .btn-danger[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-danger[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]:active, .btn-danger.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-danger.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#b02a37;border-color:#a52834}.btn-check[_ngcontent-%COMP%]:checked + .btn-danger[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-danger[_ngcontent-%COMP%]:focus, .btn-danger[_ngcontent-%COMP%]:active:focus, .btn-danger.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-danger.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #e1536180}.btn-danger[_ngcontent-%COMP%]:disabled, .btn-danger.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-light[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light[_ngcontent-%COMP%]:hover{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check[_ngcontent-%COMP%]:focus + .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]:focus{color:#000;background-color:#f9fafb;border-color:#f9fafb;box-shadow:0 0 0 .25rem #d3d4d580}.btn-check[_ngcontent-%COMP%]:checked + .btn-light[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]:active, .btn-light.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-light.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check[_ngcontent-%COMP%]:checked + .btn-light[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-light[_ngcontent-%COMP%]:focus, .btn-light[_ngcontent-%COMP%]:active:focus, .btn-light.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-light.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #d3d4d580}.btn-light[_ngcontent-%COMP%]:disabled, .btn-light.disabled[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-check[_ngcontent-%COMP%]:focus + .btn-dark[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]:focus{color:#fff;background-color:#1c1f23;border-color:#1a1e21;box-shadow:0 0 0 .25rem #42464980}.btn-check[_ngcontent-%COMP%]:checked + .btn-dark[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-dark[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]:active, .btn-dark.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-dark.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#1a1e21;border-color:#191c1f}.btn-check[_ngcontent-%COMP%]:checked + .btn-dark[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-dark[_ngcontent-%COMP%]:focus, .btn-dark[_ngcontent-%COMP%]:active:focus, .btn-dark.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-dark.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #42464980}.btn-dark[_ngcontent-%COMP%]:disabled, .btn-dark.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-primary[_ngcontent-%COMP%]{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6efd80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-primary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:active, .btn-outline-primary.active[_ngcontent-%COMP%], .btn-outline-primary.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-outline-primary[_ngcontent-%COMP%]:active:focus, .btn-outline-primary.active[_ngcontent-%COMP%]:focus, .btn-outline-primary.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6efd80}.btn-outline-primary[_ngcontent-%COMP%]:disabled, .btn-outline-primary.disabled[_ngcontent-%COMP%]{color:#0d6efd;background-color:transparent}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-secondary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6c757d80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-secondary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-secondary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:active, .btn-outline-secondary.active[_ngcontent-%COMP%], .btn-outline-secondary.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-outline-secondary[_ngcontent-%COMP%]:active:focus, .btn-outline-secondary.active[_ngcontent-%COMP%]:focus, .btn-outline-secondary.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6c757d80}.btn-outline-secondary[_ngcontent-%COMP%]:disabled, .btn-outline-secondary.disabled[_ngcontent-%COMP%]{color:#6c757d;background-color:transparent}.btn-outline-success[_ngcontent-%COMP%]{color:#198754;border-color:#198754}.btn-outline-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#198754;border-color:#198754}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-success[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875480}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-success[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-success[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]:active, .btn-outline-success.active[_ngcontent-%COMP%], .btn-outline-success.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-success[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-success[_ngcontent-%COMP%]:focus, .btn-outline-success[_ngcontent-%COMP%]:active:focus, .btn-outline-success.active[_ngcontent-%COMP%]:focus, .btn-outline-success.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875480}.btn-outline-success[_ngcontent-%COMP%]:disabled, .btn-outline-success.disabled[_ngcontent-%COMP%]{color:#198754;background-color:transparent}.btn-outline-info[_ngcontent-%COMP%]{color:#0dcaf0;border-color:#0dcaf0}.btn-outline-info[_ngcontent-%COMP%]:hover{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-info[_ngcontent-%COMP%], .btn-outline-info[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0dcaf080}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-info[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-info[_ngcontent-%COMP%], .btn-outline-info[_ngcontent-%COMP%]:active, .btn-outline-info.active[_ngcontent-%COMP%], .btn-outline-info.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-info[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-info[_ngcontent-%COMP%]:focus, .btn-outline-info[_ngcontent-%COMP%]:active:focus, .btn-outline-info.active[_ngcontent-%COMP%]:focus, .btn-outline-info.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0dcaf080}.btn-outline-info[_ngcontent-%COMP%]:disabled, .btn-outline-info.disabled[_ngcontent-%COMP%]{color:#0dcaf0;background-color:transparent}.btn-outline-warning[_ngcontent-%COMP%]{color:#ffc107;border-color:#ffc107}.btn-outline-warning[_ngcontent-%COMP%]:hover{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-warning[_ngcontent-%COMP%], .btn-outline-warning[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffc10780}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-warning[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-warning[_ngcontent-%COMP%], .btn-outline-warning[_ngcontent-%COMP%]:active, .btn-outline-warning.active[_ngcontent-%COMP%], .btn-outline-warning.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-warning[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-warning[_ngcontent-%COMP%]:focus, .btn-outline-warning[_ngcontent-%COMP%]:active:focus, .btn-outline-warning.active[_ngcontent-%COMP%]:focus, .btn-outline-warning.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffc10780}.btn-outline-warning[_ngcontent-%COMP%]:disabled, .btn-outline-warning.disabled[_ngcontent-%COMP%]{color:#ffc107;background-color:transparent}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-danger[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354580}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-danger[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-danger[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]:active, .btn-outline-danger.active[_ngcontent-%COMP%], .btn-outline-danger.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-danger[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-danger[_ngcontent-%COMP%]:focus, .btn-outline-danger[_ngcontent-%COMP%]:active:focus, .btn-outline-danger.active[_ngcontent-%COMP%]:focus, .btn-outline-danger.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354580}.btn-outline-danger[_ngcontent-%COMP%]:disabled, .btn-outline-danger.disabled[_ngcontent-%COMP%]{color:#dc3545;background-color:transparent}.btn-outline-light[_ngcontent-%COMP%]{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light[_ngcontent-%COMP%]:hover{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #f8f9fa80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-light[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]:active, .btn-outline-light.active[_ngcontent-%COMP%], .btn-outline-light.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-light[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-light[_ngcontent-%COMP%]:focus, .btn-outline-light[_ngcontent-%COMP%]:active:focus, .btn-outline-light.active[_ngcontent-%COMP%]:focus, .btn-outline-light.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #f8f9fa80}.btn-outline-light[_ngcontent-%COMP%]:disabled, .btn-outline-light.disabled[_ngcontent-%COMP%]{color:#f8f9fa;background-color:transparent}.btn-outline-dark[_ngcontent-%COMP%]{color:#212529;border-color:#212529}.btn-outline-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-dark[_ngcontent-%COMP%], .btn-outline-dark[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #21252980}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-dark[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-dark[_ngcontent-%COMP%], .btn-outline-dark[_ngcontent-%COMP%]:active, .btn-outline-dark.active[_ngcontent-%COMP%], .btn-outline-dark.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-dark[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-dark[_ngcontent-%COMP%]:focus, .btn-outline-dark[_ngcontent-%COMP%]:active:focus, .btn-outline-dark.active[_ngcontent-%COMP%]:focus, .btn-outline-dark.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #21252980}.btn-outline-dark[_ngcontent-%COMP%]:disabled, .btn-outline-dark.disabled[_ngcontent-%COMP%]{color:#212529;background-color:transparent}.btn-link[_ngcontent-%COMP%]{font-weight:400;color:#0d6efd;text-decoration:underline}.btn-link[_ngcontent-%COMP%]:hover{color:#0a58ca}.btn-link[_ngcontent-%COMP%]:disabled, .btn-link.disabled[_ngcontent-%COMP%]{color:#6c757d}.btn-lg[_ngcontent-%COMP%], .btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-sm[_ngcontent-%COMP%], .btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.fade[_ngcontent-%COMP%]{transition:opacity .15s linear}@media (prefers-reduced-motion: reduce){.fade[_ngcontent-%COMP%]{transition:none}}.fade[_ngcontent-%COMP%]:not(.show){opacity:0}.collapse[_ngcontent-%COMP%]:not(.show){display:none}.collapsing[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion: reduce){.collapsing[_ngcontent-%COMP%]{transition:none}}.collapsing.collapse-horizontal[_ngcontent-%COMP%]{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion: reduce){.collapsing.collapse-horizontal[_ngcontent-%COMP%]{transition:none}}.dropup[_ngcontent-%COMP%], .dropend[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%], .dropstart[_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]{white-space:nowrap}.dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:100%;left:0;margin-top:.125rem}.dropdown-menu-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}@media (min-width: 576px){.dropdown-menu-sm-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-sm-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-sm-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-sm-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 768px){.dropdown-menu-md-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-md-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-md-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-md-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 992px){.dropdown-menu-lg-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-lg-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-lg-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-lg-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 1200px){.dropdown-menu-xl-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-xl-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-xl-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-xl-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 1400px){.dropdown-menu-xxl-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-xxl-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-xxl-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-xxl-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}.dropup[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropend[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{vertical-align:0}.dropstart[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\"}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{vertical-align:0}.dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid rgba(0,0,0,.15)}.dropdown-item[_ngcontent-%COMP%]{display:block;width:100%;padding:.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{color:#1e2125;background-color:#e9ecef}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.dropdown-header[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text[_ngcontent-%COMP%]{display:block;padding:.25rem 1rem;color:#212529}.dropdown-menu-dark[_ngcontent-%COMP%]{color:#dee2e6;background-color:#343a40;border-color:#00000026}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#dee2e6}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#fff;background-color:#ffffff26}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%], .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.disabled[_ngcontent-%COMP%], .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:disabled{color:#adb5bd}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{border-color:#00000026}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]{color:#dee2e6}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{color:#adb5bd}.btn-group[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%]{position:relative;display:inline-flex;vertical-align:middle}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{position:relative;flex:1 1 auto}.btn-group[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:hover, .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:focus, .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:active, .btn-group[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:hover, .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:focus, .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:active, .btn-group-vertical[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{z-index:1}.btn-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:first-child), .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle), .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:nth-child(n+3), .btn-group[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.btn-check) + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split[_ngcontent-%COMP%]:after, .dropup[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:after, .dropend[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:after{margin-left:0}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:before{margin-right:0}.btn-sm[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%], .btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.375rem;padding-left:.375rem}.btn-lg[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%], .btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]{width:100%}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:first-child), .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child){margin-top:-1px}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle), .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] ~ .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;color:#0d6efd;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion: reduce){.nav-link[_ngcontent-%COMP%]{transition:none}}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus{color:#0a58ca}.nav-link.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin-bottom:-1px;background:none;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-color:#e9ecef #e9ecef #dee2e6;isolation:isolate}.nav-tabs[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:none;border:0;border-radius:.25rem}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd}.nav-fill[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.nav-justified[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .nav-justified[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;text-align:center}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-justified[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{width:100%}.tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{display:none}.tab-content[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.navbar[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-fluid[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-sm[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-md[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-lg[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xl[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xxl[_ngcontent-%COMP%]{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand[_ngcontent-%COMP%]{padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;text-decoration:none;white-space:nowrap}.navbar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static}.navbar-text[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;transition:box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.navbar-toggler[_ngcontent-%COMP%]{transition:none}}.navbar-toggler[_ngcontent-%COMP%]:hover{text-decoration:none}.navbar-toggler[_ngcontent-%COMP%]:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll[_ngcontent-%COMP%]{max-height:var(--bs-scroll-height, 75vh);overflow-y:auto}@media (min-width: 576px){.navbar-expand-sm[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 768px){.navbar-expand-md[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 992px){.navbar-expand-lg[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 1200px){.navbar-expand-xl[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 1400px){.navbar-expand-xxl[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0000008c}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#000000b3}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#0000004d}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{color:#0000008c;border-color:#0000001a}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#0000008c}.navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#000000e6}.navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff8c}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#ffffffbf}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#ffffff40}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{color:#ffffff8c;border-color:#ffffff1a}.navbar-dark[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#ffffff8c}.navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#fff}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]{border-top:inherit;border-bottom:inherit}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%], .card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%] + .card-footer[_ngcontent-%COMP%]{border-top:0}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1rem}.card-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.card-subtitle[_ngcontent-%COMP%]{margin-top:-.25rem;margin-bottom:0}.card-text[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-link[_ngcontent-%COMP%] + .card-link[_ngcontent-%COMP%]{margin-left:1rem}.card-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;background-color:#00000008;border-bottom:1px solid rgba(0,0,0,.125)}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#00000008;border-top:1px solid rgba(0,0,0,.125)}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs[_ngcontent-%COMP%]{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills[_ngcontent-%COMP%]{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{width:100%}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 576px){.card-group[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex:1 0 0%;margin-bottom:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-left:0;border-left:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-header[_ngcontent-%COMP%]{border-top-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-header[_ngcontent-%COMP%]{border-top-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-left-radius:0}}.accordion-button[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;padding:1rem 1.25rem;font-size:1rem;color:#212529;text-align:left;background-color:#fff;border:0;border-radius:0;overflow-anchor:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease}@media (prefers-reduced-motion: reduce){.accordion-button[_ngcontent-%COMP%]{transition:none}}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#0c63e4;background-color:#e7f1ff;box-shadow:inset 0 -1px #00000020}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");transform:rotate(-180deg)}.accordion-button[_ngcontent-%COMP%]:after{flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:\"\";background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}@media (prefers-reduced-motion: reduce){.accordion-button[_ngcontent-%COMP%]:after{transition:none}}.accordion-button[_ngcontent-%COMP%]:hover{z-index:2}.accordion-button[_ngcontent-%COMP%]:focus{z-index:3;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.accordion-header[_ngcontent-%COMP%]{margin-bottom:0}.accordion-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125)}.accordion-item[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.accordion-item[_ngcontent-%COMP%]:first-of-type   .accordion-button[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion-item[_ngcontent-%COMP%]:not(:first-of-type){border-top:0}.accordion-item[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-item[_ngcontent-%COMP%]:last-of-type   .accordion-button.collapsed[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.accordion-item[_ngcontent-%COMP%]:last-of-type   .accordion-collapse[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.accordion-flush[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]{border-width:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border-right:0;border-left:0;border-radius:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:first-child{border-top:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{border-radius:0}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0;margin-bottom:1rem;list-style:none}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{float:left;padding-right:.5rem;color:#6c757d;content:var(--bs-breadcrumb-divider, \"/\")}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.pagination[_ngcontent-%COMP%]{display:flex;padding-left:0;list-style:none}.page-link[_ngcontent-%COMP%]{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.page-link[_ngcontent-%COMP%]{transition:none}}.page-link[_ngcontent-%COMP%]:hover{z-index:2;color:#0a58ca;background-color:#e9ecef;border-color:#dee2e6}.page-link[_ngcontent-%COMP%]:focus{z-index:3;color:#0a58ca;background-color:#e9ecef;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.page-item[_ngcontent-%COMP%]:not(:first-child)   .page-link[_ngcontent-%COMP%]{margin-left:-1px}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.page-link[_ngcontent-%COMP%]{padding:.375rem .75rem}.page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.pagination-sm[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge[_ngcontent-%COMP%]:empty{display:none}.btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:relative;top:-1px}.alert[_ngcontent-%COMP%]{position:relative;padding:1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading[_ngcontent-%COMP%]{color:inherit}.alert-link[_ngcontent-%COMP%]{font-weight:700}.alert-dismissible[_ngcontent-%COMP%]{padding-right:3rem}.alert-dismissible[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary[_ngcontent-%COMP%]{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe}.alert-primary[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#06357a}.alert-secondary[_ngcontent-%COMP%]{color:#41464b;background-color:#e2e3e5;border-color:#d3d6d8}.alert-secondary[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#34383c}.alert-success[_ngcontent-%COMP%]{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert-success[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#0c4128}.alert-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc;border-color:#b6effb}.alert-info[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#04414d}.alert-warning[_ngcontent-%COMP%]{color:#664d03;background-color:#fff3cd;border-color:#ffecb5}.alert-warning[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#523e02}.alert-danger[_ngcontent-%COMP%]{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert-danger[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#6a1a21}.alert-light[_ngcontent-%COMP%]{color:#636464;background-color:#fefefe;border-color:#fdfdfe}.alert-light[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#4f5050}.alert-dark[_ngcontent-%COMP%]{color:#141619;background-color:#d3d3d4;border-color:#bcbebf}.alert-dark[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#101214}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress[_ngcontent-%COMP%]{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion: reduce){.progress-bar[_ngcontent-%COMP%]{transition:none}}.progress-bar-striped[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated[_ngcontent-%COMP%]{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion: reduce){.progress-bar-animated[_ngcontent-%COMP%]{animation:none}}.list-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-numbered[_ngcontent-%COMP%]{list-style-type:none;counter-reset:section}.list-group-numbered[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counters(section,\".\") \". \";counter-increment:section}.list-group-item-action[_ngcontent-%COMP%]{width:100%;color:#495057;text-align:inherit}.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-action[_ngcontent-%COMP%]:focus{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action[_ngcontent-%COMP%]:active{color:#212529;background-color:#e9ecef}.list-group-item[_ngcontent-%COMP%]{position:relative;display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled[_ngcontent-%COMP%], .list-group-item[_ngcontent-%COMP%]:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active[_ngcontent-%COMP%]{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:0}.list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-top:-1px;border-top-width:1px}.list-group-horizontal[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}@media (min-width: 576px){.list-group-horizontal-sm[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 768px){.list-group-horizontal-md[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 992px){.list-group-horizontal-lg[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 1200px){.list-group-horizontal-xl[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 1400px){.list-group-horizontal-xxl[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}.list-group-flush[_ngcontent-%COMP%]{border-radius:0}.list-group-flush[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{border-width:0 0 1px}.list-group-flush[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-width:0}.list-group-item-primary[_ngcontent-%COMP%]{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-primary.list-group-item-action[_ngcontent-%COMP%]:focus{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary[_ngcontent-%COMP%]{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-secondary.list-group-item-action[_ngcontent-%COMP%]:focus{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success[_ngcontent-%COMP%]{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-success.list-group-item-action[_ngcontent-%COMP%]:focus{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-info.list-group-item-action[_ngcontent-%COMP%]:focus{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning[_ngcontent-%COMP%]{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-warning.list-group-item-action[_ngcontent-%COMP%]:focus{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger[_ngcontent-%COMP%]{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-danger.list-group-item-action[_ngcontent-%COMP%]:focus{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light[_ngcontent-%COMP%]{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-light.list-group-item-action[_ngcontent-%COMP%]:focus{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark[_ngcontent-%COMP%]{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-dark.list-group-item-action[_ngcontent-%COMP%]:focus{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#141619;border-color:#141619}.btn-close[_ngcontent-%COMP%]{box-sizing:content-box;width:1em;height:1em;padding:.25em;color:#000;background:transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat;border:0;border-radius:.25rem;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;opacity:.75}.btn-close[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd40;opacity:1}.btn-close[_ngcontent-%COMP%]:disabled, .btn-close.disabled[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none;opacity:.25}.btn-close-white[_ngcontent-%COMP%]{filter:invert(1) grayscale(100%) brightness(200%)}.toast[_ngcontent-%COMP%]{width:350px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:#ffffffd9;background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem #00000026;border-radius:.25rem}.toast.showing[_ngcontent-%COMP%]{opacity:0}.toast[_ngcontent-%COMP%]:not(.show){display:none}.toast-container[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem .75rem;color:#6c757d;background-color:#ffffffd9;background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-right:-.375rem;margin-left:.75rem}.toast-body[_ngcontent-%COMP%]{padding:.75rem;word-wrap:break-word}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1055;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:transform .3s ease-out;transform:translateY(-50px)}@media (prefers-reduced-motion: reduce){.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:none}}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:none}.modal.modal-static[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:scale(1.02)}.modal-dialog-scrollable[_ngcontent-%COMP%]{height:calc(100% - 1rem)}.modal-dialog-scrollable[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:100%;overflow:hidden}.modal-dialog-scrollable[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-dialog-centered[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1050;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.modal-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:.5rem;margin:-.5rem -.5rem -.5rem auto}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:1rem}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:.25rem}@media (min-width: 576px){.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable[_ngcontent-%COMP%]{height:calc(100% - 3.5rem)}.modal-dialog-centered[_ngcontent-%COMP%]{min-height:calc(100% - 3.5rem)}.modal-sm[_ngcontent-%COMP%]{max-width:300px}}@media (min-width: 992px){.modal-lg[_ngcontent-%COMP%], .modal-xl[_ngcontent-%COMP%]{max-width:800px}}@media (min-width: 1200px){.modal-xl[_ngcontent-%COMP%]{max-width:1140px}}.modal-fullscreen[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}@media (max-width: 575.98px){.modal-fullscreen-sm-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 767.98px){.modal-fullscreen-md-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 991.98px){.modal-fullscreen-lg-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 1199.98px){.modal-fullscreen-xl-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 1399.98px){.modal-fullscreen-xxl-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:1080;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show[_ngcontent-%COMP%]{opacity:.9}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{position:absolute;content:\"\";border-color:transparent;border-style:solid}.bs-tooltip-top[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]{padding:.4rem 0}.bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:0}.bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-end[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]{padding:0 .4rem}.bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:0;width:.4rem;height:.8rem}.bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-bottom[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]{padding:.4rem 0}.bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:0}.bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-start[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]{padding:0 .4rem}.bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{right:0;width:.4rem;height:.8rem}.bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner[_ngcontent-%COMP%]{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1070;display:block;max-width:276px;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{position:absolute;display:block;width:1rem;height:.5rem}.popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]:before, .popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]:after{position:absolute;display:block;content:\"\";border-color:transparent;border-style:solid}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{bottom:calc(-.5rem - 1px)}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{bottom:0;border-width:.5rem .5rem 0;border-top-color:#00000040}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{left:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:#00000040}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{top:calc(-.5rem - 1px)}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:#00000040}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-bottom[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]:before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:\"\";border-bottom:1px solid #f0f0f0}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{right:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:#00000040}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;font-size:1rem;background-color:#f0f0f0;border-bottom:1px solid rgba(0,0,0,.2);border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header[_ngcontent-%COMP%]:empty{display:none}.popover-body[_ngcontent-%COMP%]{padding:1rem;color:#212529}.carousel[_ngcontent-%COMP%]{position:relative}.carousel.pointer-event[_ngcontent-%COMP%]{touch-action:pan-y}.carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]:after{display:block;clear:both;content:\"\"}.carousel-item[_ngcontent-%COMP%]{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion: reduce){.carousel-item[_ngcontent-%COMP%]{transition:none}}.carousel-item.active[_ngcontent-%COMP%], .carousel-item-next[_ngcontent-%COMP%], .carousel-item-prev[_ngcontent-%COMP%]{display:block}.carousel-item-next[_ngcontent-%COMP%]:not(.carousel-item-start), .active.carousel-item-end[_ngcontent-%COMP%]{transform:translate(100%)}.carousel-item-prev[_ngcontent-%COMP%]:not(.carousel-item-end), .active.carousel-item-start[_ngcontent-%COMP%]{transform:translate(-100%)}.carousel-fade[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transform:none}.carousel-fade[_ngcontent-%COMP%]   .carousel-item.active[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .carousel-item-next.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .carousel-item-prev.carousel-item-end[_ngcontent-%COMP%]{z-index:1;opacity:1}.carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion: reduce){.carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{transition:none}}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:none;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion: reduce){.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{transition:none}}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-prev[_ngcontent-%COMP%]:focus, .carousel-control-next[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:focus{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev[_ngcontent-%COMP%]{left:0}.carousel-control-next[_ngcontent-%COMP%]{right:0}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e\")}.carousel-control-next-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\")}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion: reduce){.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{transition:none}}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{opacity:1}.carousel-caption[_ngcontent-%COMP%]{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-dark[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{filter:invert(1) grayscale(100)}.carousel-dark[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{background-color:#000}.carousel-dark[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{color:#000}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:.75s linear infinite spinner-border}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentColor;border-radius:50%;opacity:0;animation:.75s linear infinite spinner-grow}.spinner-grow-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (prefers-reduced-motion: reduce){.spinner-border[_ngcontent-%COMP%], .spinner-grow[_ngcontent-%COMP%]{animation-duration:1.5s}}.offcanvas[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;visibility:hidden;background-color:#fff;background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion: reduce){.offcanvas[_ngcontent-%COMP%]{transition:none}}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.offcanvas-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:.5rem;margin-top:-.5rem;margin-right:-.5rem;margin-bottom:-.5rem}.offcanvas-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5}.offcanvas-body[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto}.offcanvas-start[_ngcontent-%COMP%]{top:0;left:0;width:400px;border-right:1px solid rgba(0,0,0,.2);transform:translate(-100%)}.offcanvas-end[_ngcontent-%COMP%]{top:0;right:0;width:400px;border-left:1px solid rgba(0,0,0,.2);transform:translate(100%)}.offcanvas-top[_ngcontent-%COMP%]{top:0;right:0;left:0;height:30vh;max-height:100%;border-bottom:1px solid rgba(0,0,0,.2);transform:translateY(-100%)}.offcanvas-bottom[_ngcontent-%COMP%]{right:0;left:0;height:30vh;max-height:100%;border-top:1px solid rgba(0,0,0,.2);transform:translateY(100%)}.offcanvas.show[_ngcontent-%COMP%]{transform:none}.placeholder[_ngcontent-%COMP%]{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5}.placeholder.btn[_ngcontent-%COMP%]:before{display:inline-block;content:\"\"}.placeholder-xs[_ngcontent-%COMP%]{min-height:.6em}.placeholder-sm[_ngcontent-%COMP%]{min-height:.8em}.placeholder-lg[_ngcontent-%COMP%]{min-height:1.2em}.placeholder-glow[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{to{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix[_ngcontent-%COMP%]:after{display:block;clear:both;content:\"\"}.link-primary[_ngcontent-%COMP%]{color:#0d6efd}.link-primary[_ngcontent-%COMP%]:hover, .link-primary[_ngcontent-%COMP%]:focus{color:#0a58ca}.link-secondary[_ngcontent-%COMP%]{color:#6c757d}.link-secondary[_ngcontent-%COMP%]:hover, .link-secondary[_ngcontent-%COMP%]:focus{color:#565e64}.link-success[_ngcontent-%COMP%]{color:#198754}.link-success[_ngcontent-%COMP%]:hover, .link-success[_ngcontent-%COMP%]:focus{color:#146c43}.link-info[_ngcontent-%COMP%]{color:#0dcaf0}.link-info[_ngcontent-%COMP%]:hover, .link-info[_ngcontent-%COMP%]:focus{color:#3dd5f3}.link-warning[_ngcontent-%COMP%]{color:#ffc107}.link-warning[_ngcontent-%COMP%]:hover, .link-warning[_ngcontent-%COMP%]:focus{color:#ffcd39}.link-danger[_ngcontent-%COMP%]{color:#dc3545}.link-danger[_ngcontent-%COMP%]:hover, .link-danger[_ngcontent-%COMP%]:focus{color:#b02a37}.link-light[_ngcontent-%COMP%]{color:#f8f9fa}.link-light[_ngcontent-%COMP%]:hover, .link-light[_ngcontent-%COMP%]:focus{color:#f9fafb}.link-dark[_ngcontent-%COMP%]{color:#212529}.link-dark[_ngcontent-%COMP%]:hover, .link-dark[_ngcontent-%COMP%]:focus{color:#1a1e21}.ratio[_ngcontent-%COMP%]{position:relative;width:100%}.ratio[_ngcontent-%COMP%]:before{display:block;padding-top:var(--bs-aspect-ratio);content:\"\"}.ratio[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1[_ngcontent-%COMP%]{--bs-aspect-ratio: 100%}.ratio-4x3[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(3 / 4 * 100%)}.ratio-16x9[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(9 / 16 * 100%)}.ratio-21x9[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(9 / 21 * 100%)}.fixed-top[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}@media (min-width: 576px){.sticky-sm-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 768px){.sticky-md-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 992px){.sticky-lg-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 1200px){.sticky-xl-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 1400px){.sticky-xxl-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}.hstack[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden[_ngcontent-%COMP%], .visually-hidden-focusable[_ngcontent-%COMP%]:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:\"\"}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr[_ngcontent-%COMP%]{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentColor;opacity:.25}.align-baseline[_ngcontent-%COMP%]{vertical-align:baseline!important}.align-top[_ngcontent-%COMP%]{vertical-align:top!important}.align-middle[_ngcontent-%COMP%]{vertical-align:middle!important}.align-bottom[_ngcontent-%COMP%]{vertical-align:bottom!important}.align-text-bottom[_ngcontent-%COMP%]{vertical-align:text-bottom!important}.align-text-top[_ngcontent-%COMP%]{vertical-align:text-top!important}.float-start[_ngcontent-%COMP%]{float:left!important}.float-end[_ngcontent-%COMP%]{float:right!important}.float-none[_ngcontent-%COMP%]{float:none!important}.opacity-0[_ngcontent-%COMP%]{opacity:0!important}.opacity-25[_ngcontent-%COMP%]{opacity:.25!important}.opacity-50[_ngcontent-%COMP%]{opacity:.5!important}.opacity-75[_ngcontent-%COMP%]{opacity:.75!important}.opacity-100[_ngcontent-%COMP%]{opacity:1!important}.overflow-auto[_ngcontent-%COMP%]{overflow:auto!important}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden!important}.overflow-visible[_ngcontent-%COMP%]{overflow:visible!important}.overflow-scroll[_ngcontent-%COMP%]{overflow:scroll!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-grid[_ngcontent-%COMP%]{display:grid!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-none[_ngcontent-%COMP%]{display:none!important}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000026!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 1rem 3rem #0000002d!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}.position-static[_ngcontent-%COMP%]{position:static!important}.position-relative[_ngcontent-%COMP%]{position:relative!important}.position-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sticky[_ngcontent-%COMP%]{position:sticky!important}.top-0[_ngcontent-%COMP%]{top:0!important}.top-50[_ngcontent-%COMP%]{top:50%!important}.top-100[_ngcontent-%COMP%]{top:100%!important}.bottom-0[_ngcontent-%COMP%]{bottom:0!important}.bottom-50[_ngcontent-%COMP%]{bottom:50%!important}.bottom-100[_ngcontent-%COMP%]{bottom:100%!important}.start-0[_ngcontent-%COMP%]{left:0!important}.start-50[_ngcontent-%COMP%]{left:50%!important}.start-100[_ngcontent-%COMP%]{left:100%!important}.end-0[_ngcontent-%COMP%]{right:0!important}.end-50[_ngcontent-%COMP%]{right:50%!important}.end-100[_ngcontent-%COMP%]{right:100%!important}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)!important}.translate-middle-x[_ngcontent-%COMP%]{transform:translate(-50%)!important}.translate-middle-y[_ngcontent-%COMP%]{transform:translateY(-50%)!important}.border[_ngcontent-%COMP%]{border:1px solid #dee2e6!important}.border-0[_ngcontent-%COMP%]{border:0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #dee2e6!important}.border-top-0[_ngcontent-%COMP%]{border-top:0!important}.border-end[_ngcontent-%COMP%]{border-right:1px solid #dee2e6!important}.border-end-0[_ngcontent-%COMP%]{border-right:0!important}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6!important}.border-bottom-0[_ngcontent-%COMP%]{border-bottom:0!important}.border-start[_ngcontent-%COMP%]{border-left:1px solid #dee2e6!important}.border-start-0[_ngcontent-%COMP%]{border-left:0!important}.border-primary[_ngcontent-%COMP%]{border-color:#0d6efd!important}.border-secondary[_ngcontent-%COMP%]{border-color:#6c757d!important}.border-success[_ngcontent-%COMP%]{border-color:#198754!important}.border-info[_ngcontent-%COMP%]{border-color:#0dcaf0!important}.border-warning[_ngcontent-%COMP%]{border-color:#ffc107!important}.border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important}.border-light[_ngcontent-%COMP%]{border-color:#f8f9fa!important}.border-dark[_ngcontent-%COMP%]{border-color:#212529!important}.border-white[_ngcontent-%COMP%]{border-color:#fff!important}.border-1[_ngcontent-%COMP%]{border-width:1px!important}.border-2[_ngcontent-%COMP%]{border-width:2px!important}.border-3[_ngcontent-%COMP%]{border-width:3px!important}.border-4[_ngcontent-%COMP%]{border-width:4px!important}.border-5[_ngcontent-%COMP%]{border-width:5px!important}.w-25[_ngcontent-%COMP%]{width:25%!important}.w-50[_ngcontent-%COMP%]{width:50%!important}.w-75[_ngcontent-%COMP%]{width:75%!important}.w-100[_ngcontent-%COMP%]{width:100%!important}.w-auto[_ngcontent-%COMP%]{width:auto!important}.mw-100[_ngcontent-%COMP%]{max-width:100%!important}.vw-100[_ngcontent-%COMP%]{width:100vw!important}.min-vw-100[_ngcontent-%COMP%]{min-width:100vw!important}.h-25[_ngcontent-%COMP%]{height:25%!important}.h-50[_ngcontent-%COMP%]{height:50%!important}.h-75[_ngcontent-%COMP%]{height:75%!important}.h-100[_ngcontent-%COMP%]{height:100%!important}.h-auto[_ngcontent-%COMP%]{height:auto!important}.mh-100[_ngcontent-%COMP%]{max-height:100%!important}.vh-100[_ngcontent-%COMP%]{height:100vh!important}.min-vh-100[_ngcontent-%COMP%]{min-height:100vh!important}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-first[_ngcontent-%COMP%]{order:-1!important}.order-0[_ngcontent-%COMP%]{order:0!important}.order-1[_ngcontent-%COMP%]{order:1!important}.order-2[_ngcontent-%COMP%]{order:2!important}.order-3[_ngcontent-%COMP%]{order:3!important}.order-4[_ngcontent-%COMP%]{order:4!important}.order-5[_ngcontent-%COMP%]{order:5!important}.order-last[_ngcontent-%COMP%]{order:6!important}.m-0[_ngcontent-%COMP%]{margin:0!important}.m-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-3[_ngcontent-%COMP%]{margin:1rem!important}.m-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-5[_ngcontent-%COMP%]{margin:3rem!important}.m-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-0[_ngcontent-%COMP%]{margin-right:0!important}.me-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-3[_ngcontent-%COMP%]{padding:1rem!important}.p-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-5[_ngcontent-%COMP%]{padding:3rem!important}.px-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-5[_ngcontent-%COMP%]{padding-left:3rem!important}.font-monospace[_ngcontent-%COMP%]{font-family:var(--bs-font-monospace)!important}.fs-1[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw)!important}.fs-2[_ngcontent-%COMP%]{font-size:calc(1.325rem + .9vw)!important}.fs-3[_ngcontent-%COMP%]{font-size:calc(1.3rem + .6vw)!important}.fs-4[_ngcontent-%COMP%]{font-size:calc(1.275rem + .3vw)!important}.fs-5[_ngcontent-%COMP%]{font-size:1.25rem!important}.fs-6[_ngcontent-%COMP%]{font-size:1rem!important}.fst-italic[_ngcontent-%COMP%]{font-style:italic!important}.fst-normal[_ngcontent-%COMP%]{font-style:normal!important}.fw-light[_ngcontent-%COMP%]{font-weight:300!important}.fw-lighter[_ngcontent-%COMP%]{font-weight:lighter!important}.fw-normal[_ngcontent-%COMP%]{font-weight:400!important}.fw-bold[_ngcontent-%COMP%]{font-weight:700!important}.fw-bolder[_ngcontent-%COMP%]{font-weight:bolder!important}.lh-1[_ngcontent-%COMP%]{line-height:1!important}.lh-sm[_ngcontent-%COMP%]{line-height:1.25!important}.lh-base[_ngcontent-%COMP%]{line-height:1.5!important}.lh-lg[_ngcontent-%COMP%]{line-height:2!important}.text-start[_ngcontent-%COMP%]{text-align:left!important}.text-end[_ngcontent-%COMP%]{text-align:right!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-decoration-none[_ngcontent-%COMP%]{text-decoration:none!important}.text-decoration-underline[_ngcontent-%COMP%]{text-decoration:underline!important}.text-decoration-line-through[_ngcontent-%COMP%]{text-decoration:line-through!important}.text-lowercase[_ngcontent-%COMP%]{text-transform:lowercase!important}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize!important}.text-wrap[_ngcontent-%COMP%]{white-space:normal!important}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap!important}.text-break[_ngcontent-%COMP%]{word-wrap:break-word!important;word-break:break-word!important}.text-primary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#6c757d!important}.text-black-50[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#00000080!important}.text-white-50[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#ffffff80!important}.text-reset[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:inherit!important}.text-opacity-25[_ngcontent-%COMP%]{--bs-text-opacity: .25}.text-opacity-50[_ngcontent-%COMP%]{--bs-text-opacity: .5}.text-opacity-75[_ngcontent-%COMP%]{--bs-text-opacity: .75}.text-opacity-100[_ngcontent-%COMP%]{--bs-text-opacity: 1}.bg-primary[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}.bg-opacity-10[_ngcontent-%COMP%]{--bs-bg-opacity: .1}.bg-opacity-25[_ngcontent-%COMP%]{--bs-bg-opacity: .25}.bg-opacity-50[_ngcontent-%COMP%]{--bs-bg-opacity: .5}.bg-opacity-75[_ngcontent-%COMP%]{--bs-bg-opacity: .75}.bg-opacity-100[_ngcontent-%COMP%]{--bs-bg-opacity: 1}.bg-gradient[_ngcontent-%COMP%]{background-image:var(--bs-gradient)!important}.user-select-all[_ngcontent-%COMP%]{-webkit-user-select:all!important;user-select:all!important}.user-select-auto[_ngcontent-%COMP%]{-webkit-user-select:auto!important;user-select:auto!important}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important}.pe-none[_ngcontent-%COMP%]{pointer-events:none!important}.pe-auto[_ngcontent-%COMP%]{pointer-events:auto!important}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.rounded-1[_ngcontent-%COMP%]{border-radius:.2rem!important}.rounded-2[_ngcontent-%COMP%]{border-radius:.25rem!important}.rounded-3[_ngcontent-%COMP%]{border-radius:.3rem!important}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.rounded-pill[_ngcontent-%COMP%]{border-radius:50rem!important}.rounded-top[_ngcontent-%COMP%]{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-end[_ngcontent-%COMP%]{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-start[_ngcontent-%COMP%]{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible[_ngcontent-%COMP%]{visibility:visible!important}.invisible[_ngcontent-%COMP%]{visibility:hidden!important}@media (min-width: 576px){.float-sm-start[_ngcontent-%COMP%]{float:left!important}.float-sm-end[_ngcontent-%COMP%]{float:right!important}.float-sm-none[_ngcontent-%COMP%]{float:none!important}.d-sm-inline[_ngcontent-%COMP%]{display:inline!important}.d-sm-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-sm-block[_ngcontent-%COMP%]{display:block!important}.d-sm-grid[_ngcontent-%COMP%]{display:grid!important}.d-sm-table[_ngcontent-%COMP%]{display:table!important}.d-sm-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-sm-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-sm-flex[_ngcontent-%COMP%]{display:flex!important}.d-sm-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-sm-none[_ngcontent-%COMP%]{display:none!important}.flex-sm-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-sm-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-sm-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-sm-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-sm-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-sm-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-sm-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-sm-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-sm-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-sm-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-sm-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-sm-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-sm-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-sm-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-sm-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-sm-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-sm-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-sm-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-sm-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-sm-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-sm-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-sm-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-sm-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-sm-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-sm-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-sm-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-sm-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-sm-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-sm-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-sm-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-sm-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-sm-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-sm-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-sm-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-sm-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-sm-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-sm-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-sm-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-sm-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-sm-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-sm-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-sm-first[_ngcontent-%COMP%]{order:-1!important}.order-sm-0[_ngcontent-%COMP%]{order:0!important}.order-sm-1[_ngcontent-%COMP%]{order:1!important}.order-sm-2[_ngcontent-%COMP%]{order:2!important}.order-sm-3[_ngcontent-%COMP%]{order:3!important}.order-sm-4[_ngcontent-%COMP%]{order:4!important}.order-sm-5[_ngcontent-%COMP%]{order:5!important}.order-sm-last[_ngcontent-%COMP%]{order:6!important}.m-sm-0[_ngcontent-%COMP%]{margin:0!important}.m-sm-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-sm-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-sm-3[_ngcontent-%COMP%]{margin:1rem!important}.m-sm-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-sm-5[_ngcontent-%COMP%]{margin:3rem!important}.m-sm-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-sm-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-sm-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-sm-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-sm-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-sm-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-sm-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-sm-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-sm-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-sm-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-sm-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-sm-0[_ngcontent-%COMP%]{margin-right:0!important}.me-sm-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-sm-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-sm-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-sm-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-sm-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-sm-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-sm-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-sm-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-sm-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-sm-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-sm-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-sm-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-sm-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-sm-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-sm-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-sm-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-sm-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-sm-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-sm-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-sm-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-sm-0[_ngcontent-%COMP%]{padding:0!important}.p-sm-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-sm-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-sm-3[_ngcontent-%COMP%]{padding:1rem!important}.p-sm-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-sm-5[_ngcontent-%COMP%]{padding:3rem!important}.px-sm-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-sm-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-sm-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-sm-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-sm-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-sm-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-sm-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-sm-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-sm-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-sm-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-sm-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-sm-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-sm-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-sm-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-sm-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-sm-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-sm-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-sm-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-sm-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-sm-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-sm-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-sm-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-sm-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-sm-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-sm-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-sm-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-sm-start[_ngcontent-%COMP%]{text-align:left!important}.text-sm-end[_ngcontent-%COMP%]{text-align:right!important}.text-sm-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 768px){.float-md-start[_ngcontent-%COMP%]{float:left!important}.float-md-end[_ngcontent-%COMP%]{float:right!important}.float-md-none[_ngcontent-%COMP%]{float:none!important}.d-md-inline[_ngcontent-%COMP%]{display:inline!important}.d-md-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-md-block[_ngcontent-%COMP%]{display:block!important}.d-md-grid[_ngcontent-%COMP%]{display:grid!important}.d-md-table[_ngcontent-%COMP%]{display:table!important}.d-md-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-md-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-md-flex[_ngcontent-%COMP%]{display:flex!important}.d-md-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-md-none[_ngcontent-%COMP%]{display:none!important}.flex-md-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-md-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-md-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-md-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-md-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-md-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-md-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-md-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-md-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-md-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-md-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-md-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-md-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-md-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-md-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-md-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-md-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-md-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-md-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-md-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-md-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-md-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-md-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-md-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-md-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-md-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-md-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-md-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-md-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-md-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-md-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-md-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-md-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-md-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-md-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-md-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-md-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-md-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-md-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-md-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-md-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-md-first[_ngcontent-%COMP%]{order:-1!important}.order-md-0[_ngcontent-%COMP%]{order:0!important}.order-md-1[_ngcontent-%COMP%]{order:1!important}.order-md-2[_ngcontent-%COMP%]{order:2!important}.order-md-3[_ngcontent-%COMP%]{order:3!important}.order-md-4[_ngcontent-%COMP%]{order:4!important}.order-md-5[_ngcontent-%COMP%]{order:5!important}.order-md-last[_ngcontent-%COMP%]{order:6!important}.m-md-0[_ngcontent-%COMP%]{margin:0!important}.m-md-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-md-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-md-3[_ngcontent-%COMP%]{margin:1rem!important}.m-md-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-md-5[_ngcontent-%COMP%]{margin:3rem!important}.m-md-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-md-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-md-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-md-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-md-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-md-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-md-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-md-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-md-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-md-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-md-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-md-0[_ngcontent-%COMP%]{margin-right:0!important}.me-md-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-md-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-md-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-md-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-md-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-md-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-md-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-md-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-md-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-md-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-md-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-md-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-md-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-md-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-md-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-md-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-md-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-md-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-md-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-md-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-md-0[_ngcontent-%COMP%]{padding:0!important}.p-md-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-md-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-md-3[_ngcontent-%COMP%]{padding:1rem!important}.p-md-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-md-5[_ngcontent-%COMP%]{padding:3rem!important}.px-md-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-md-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-md-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-md-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-md-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-md-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-md-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-md-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-md-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-md-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-md-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-md-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-md-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-md-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-md-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-md-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-md-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-md-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-md-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-md-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-md-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-md-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-md-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-md-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-md-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-md-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-md-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-md-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-md-start[_ngcontent-%COMP%]{text-align:left!important}.text-md-end[_ngcontent-%COMP%]{text-align:right!important}.text-md-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 992px){.float-lg-start[_ngcontent-%COMP%]{float:left!important}.float-lg-end[_ngcontent-%COMP%]{float:right!important}.float-lg-none[_ngcontent-%COMP%]{float:none!important}.d-lg-inline[_ngcontent-%COMP%]{display:inline!important}.d-lg-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-lg-block[_ngcontent-%COMP%]{display:block!important}.d-lg-grid[_ngcontent-%COMP%]{display:grid!important}.d-lg-table[_ngcontent-%COMP%]{display:table!important}.d-lg-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-lg-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-lg-flex[_ngcontent-%COMP%]{display:flex!important}.d-lg-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-lg-none[_ngcontent-%COMP%]{display:none!important}.flex-lg-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-lg-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-lg-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-lg-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-lg-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-lg-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-lg-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-lg-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-lg-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-lg-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-lg-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-lg-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-lg-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-lg-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-lg-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-lg-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-lg-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-lg-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-lg-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-lg-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-lg-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-lg-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-lg-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-lg-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-lg-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-lg-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-lg-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-lg-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-lg-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-lg-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-lg-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-lg-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-lg-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-lg-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-lg-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-lg-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-lg-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-lg-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-lg-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-lg-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-lg-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-lg-first[_ngcontent-%COMP%]{order:-1!important}.order-lg-0[_ngcontent-%COMP%]{order:0!important}.order-lg-1[_ngcontent-%COMP%]{order:1!important}.order-lg-2[_ngcontent-%COMP%]{order:2!important}.order-lg-3[_ngcontent-%COMP%]{order:3!important}.order-lg-4[_ngcontent-%COMP%]{order:4!important}.order-lg-5[_ngcontent-%COMP%]{order:5!important}.order-lg-last[_ngcontent-%COMP%]{order:6!important}.m-lg-0[_ngcontent-%COMP%]{margin:0!important}.m-lg-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-lg-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-lg-3[_ngcontent-%COMP%]{margin:1rem!important}.m-lg-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-lg-5[_ngcontent-%COMP%]{margin:3rem!important}.m-lg-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-lg-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-lg-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-lg-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-lg-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-lg-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-lg-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-lg-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-lg-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-lg-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-lg-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-lg-0[_ngcontent-%COMP%]{margin-right:0!important}.me-lg-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-lg-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-lg-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-lg-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-lg-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-lg-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-lg-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-lg-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-lg-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-lg-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-lg-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-lg-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-lg-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-lg-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-lg-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-lg-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-lg-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-lg-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-lg-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-lg-0[_ngcontent-%COMP%]{padding:0!important}.p-lg-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-lg-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-lg-3[_ngcontent-%COMP%]{padding:1rem!important}.p-lg-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-lg-5[_ngcontent-%COMP%]{padding:3rem!important}.px-lg-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-lg-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-lg-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-lg-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-lg-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-lg-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-lg-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-lg-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-lg-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-lg-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-lg-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-lg-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-lg-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-lg-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-lg-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-lg-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-lg-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-lg-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-lg-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-lg-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-lg-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-lg-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-lg-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-lg-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-lg-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-lg-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-lg-start[_ngcontent-%COMP%]{text-align:left!important}.text-lg-end[_ngcontent-%COMP%]{text-align:right!important}.text-lg-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1200px){.float-xl-start[_ngcontent-%COMP%]{float:left!important}.float-xl-end[_ngcontent-%COMP%]{float:right!important}.float-xl-none[_ngcontent-%COMP%]{float:none!important}.d-xl-inline[_ngcontent-%COMP%]{display:inline!important}.d-xl-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-xl-block[_ngcontent-%COMP%]{display:block!important}.d-xl-grid[_ngcontent-%COMP%]{display:grid!important}.d-xl-table[_ngcontent-%COMP%]{display:table!important}.d-xl-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-xl-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-xl-flex[_ngcontent-%COMP%]{display:flex!important}.d-xl-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-xl-none[_ngcontent-%COMP%]{display:none!important}.flex-xl-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-xl-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-xl-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-xl-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-xl-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-xl-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-xl-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-xl-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-xl-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-xl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-xl-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-xl-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-xl-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-xl-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-xl-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-xl-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-xl-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-xl-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-xl-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-xl-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-xl-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-xl-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-xl-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-xl-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-xl-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-xl-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-xl-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-xl-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-xl-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-xl-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-xl-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-xl-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-xl-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-xl-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-xl-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-xl-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-xl-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-xl-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-xl-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-xl-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-xl-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-xl-first[_ngcontent-%COMP%]{order:-1!important}.order-xl-0[_ngcontent-%COMP%]{order:0!important}.order-xl-1[_ngcontent-%COMP%]{order:1!important}.order-xl-2[_ngcontent-%COMP%]{order:2!important}.order-xl-3[_ngcontent-%COMP%]{order:3!important}.order-xl-4[_ngcontent-%COMP%]{order:4!important}.order-xl-5[_ngcontent-%COMP%]{order:5!important}.order-xl-last[_ngcontent-%COMP%]{order:6!important}.m-xl-0[_ngcontent-%COMP%]{margin:0!important}.m-xl-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-xl-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-xl-3[_ngcontent-%COMP%]{margin:1rem!important}.m-xl-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-xl-5[_ngcontent-%COMP%]{margin:3rem!important}.m-xl-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-xl-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-xl-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-xl-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-xl-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-xl-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-xl-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-xl-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-xl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-xl-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-xl-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-xl-0[_ngcontent-%COMP%]{margin-right:0!important}.me-xl-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-xl-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-xl-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-xl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-xl-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-xl-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-xl-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-xl-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-xl-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-xl-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-xl-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-xl-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-xl-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-xl-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-xl-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-xl-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-xl-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-xl-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-xl-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-xl-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-xl-0[_ngcontent-%COMP%]{padding:0!important}.p-xl-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-xl-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-xl-3[_ngcontent-%COMP%]{padding:1rem!important}.p-xl-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-xl-5[_ngcontent-%COMP%]{padding:3rem!important}.px-xl-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-xl-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-xl-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-xl-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-xl-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-xl-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-xl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-xl-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-xl-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-xl-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-xl-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-xl-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-xl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-xl-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-xl-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-xl-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-xl-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-xl-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-xl-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-xl-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-xl-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-xl-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-xl-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-xl-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-xl-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-xl-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-xl-start[_ngcontent-%COMP%]{text-align:left!important}.text-xl-end[_ngcontent-%COMP%]{text-align:right!important}.text-xl-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1400px){.float-xxl-start[_ngcontent-%COMP%]{float:left!important}.float-xxl-end[_ngcontent-%COMP%]{float:right!important}.float-xxl-none[_ngcontent-%COMP%]{float:none!important}.d-xxl-inline[_ngcontent-%COMP%]{display:inline!important}.d-xxl-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-xxl-block[_ngcontent-%COMP%]{display:block!important}.d-xxl-grid[_ngcontent-%COMP%]{display:grid!important}.d-xxl-table[_ngcontent-%COMP%]{display:table!important}.d-xxl-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-xxl-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-xxl-flex[_ngcontent-%COMP%]{display:flex!important}.d-xxl-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-xxl-none[_ngcontent-%COMP%]{display:none!important}.flex-xxl-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-xxl-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-xxl-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-xxl-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-xxl-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-xxl-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-xxl-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-xxl-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-xxl-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-xxl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-xxl-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-xxl-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-xxl-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-xxl-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-xxl-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-xxl-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-xxl-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-xxl-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-xxl-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-xxl-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-xxl-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-xxl-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-xxl-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-xxl-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-xxl-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-xxl-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-xxl-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-xxl-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-xxl-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-xxl-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-xxl-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-xxl-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-xxl-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-xxl-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-xxl-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-xxl-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-xxl-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-xxl-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-xxl-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-xxl-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-xxl-first[_ngcontent-%COMP%]{order:-1!important}.order-xxl-0[_ngcontent-%COMP%]{order:0!important}.order-xxl-1[_ngcontent-%COMP%]{order:1!important}.order-xxl-2[_ngcontent-%COMP%]{order:2!important}.order-xxl-3[_ngcontent-%COMP%]{order:3!important}.order-xxl-4[_ngcontent-%COMP%]{order:4!important}.order-xxl-5[_ngcontent-%COMP%]{order:5!important}.order-xxl-last[_ngcontent-%COMP%]{order:6!important}.m-xxl-0[_ngcontent-%COMP%]{margin:0!important}.m-xxl-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-xxl-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-xxl-3[_ngcontent-%COMP%]{margin:1rem!important}.m-xxl-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-xxl-5[_ngcontent-%COMP%]{margin:3rem!important}.m-xxl-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-xxl-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-xxl-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-xxl-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-xxl-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-xxl-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-xxl-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-xxl-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-xxl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-xxl-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-xxl-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-xxl-0[_ngcontent-%COMP%]{margin-right:0!important}.me-xxl-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-xxl-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-xxl-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-xxl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-xxl-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-xxl-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-xxl-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-xxl-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-xxl-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-xxl-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-xxl-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-xxl-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-xxl-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-xxl-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-xxl-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-xxl-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-xxl-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-xxl-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-xxl-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-xxl-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-xxl-0[_ngcontent-%COMP%]{padding:0!important}.p-xxl-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-xxl-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-xxl-3[_ngcontent-%COMP%]{padding:1rem!important}.p-xxl-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-xxl-5[_ngcontent-%COMP%]{padding:3rem!important}.px-xxl-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-xxl-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-xxl-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-xxl-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-xxl-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-xxl-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-xxl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-xxl-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-xxl-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-xxl-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-xxl-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-xxl-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-xxl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-xxl-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-xxl-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-xxl-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-xxl-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-xxl-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-xxl-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-xxl-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-xxl-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-xxl-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-xxl-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-xxl-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-xxl-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-xxl-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-xxl-start[_ngcontent-%COMP%]{text-align:left!important}.text-xxl-end[_ngcontent-%COMP%]{text-align:right!important}.text-xxl-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1200px){.fs-1[_ngcontent-%COMP%]{font-size:2.5rem!important}.fs-2[_ngcontent-%COMP%]{font-size:2rem!important}.fs-3[_ngcontent-%COMP%]{font-size:1.75rem!important}.fs-4[_ngcontent-%COMP%]{font-size:1.5rem!important}}@media print{.d-print-inline[_ngcontent-%COMP%]{display:inline!important}.d-print-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-print-block[_ngcontent-%COMP%]{display:block!important}.d-print-grid[_ngcontent-%COMP%]{display:grid!important}.d-print-table[_ngcontent-%COMP%]{display:table!important}.d-print-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-print-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-print-flex[_ngcontent-%COMP%]{display:flex!important}.d-print-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-print-none[_ngcontent-%COMP%]{display:none!important}}[_nghost-%COMP%]   label[_ngcontent-%COMP%]{padding-bottom:0}[_nghost-%COMP%]   .input-group[_ngcontent-%COMP%]{margin-bottom:0}input[_ngcontent-%COMP%]{width:60px}.secondary[_ngcontent-%COMP%]{margin:.5rem 0;padding:.5rem;font-size:.75rem}.is-invalid[_ngcontent-%COMP%]{background-image:none;padding:.25rem .5rem;color:#b02a37}"]}),a})();function lM(a,t){if(1&a&&(A.TgZ(0,"small",3),A._uU(1),A.qZA()),2&a){const e=A.oxw().$implicit;A.xp6(1),A.Oqu(e.issue)}}function Bw(a,t){if(1&a&&(A.TgZ(0,"li"),A._uU(1),A.YNc(2,lM,2,1,"small",2),A.qZA()),2&a){const e=t.$implicit;A.xp6(1),A.hij(" ",e.text," "),A.xp6(1),A.Q6J("ngIf",e.hasIssue)}}function NS(a,t){if(1&a&&(A.ynx(0),A.TgZ(1,"h6"),A._uU(2),A.qZA(),A.TgZ(3,"ul"),A.YNc(4,Bw,3,2,"li",1),A.qZA(),A.BQk()),2&a){const e=t.$implicit;A.xp6(2),A.Oqu(e.name),A.xp6(2),A.Q6J("ngForOf",e.text)}}let uM=(()=>{class a{constructor(e){this.http=e,this.header=null,this.content=null,this.baseUrl="/dynophores_webclient/"}ngOnInit(){this.http.get(`${this.baseUrl}/data/help.json`).subscribe(e=>{e&&e.content&&(this.content=e.content)})}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(fw))},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-help-index"]],decls:2,vars:1,consts:[[1,"logical-container"],[4,"ngFor","ngForOf"],["class","link-warning",4,"ngIf"],[1,"link-warning"]],template:function(e,o){1&e&&(A.TgZ(0,"div",0),A.YNc(1,NS,5,2,"ng-container",1),A.qZA()),2&e&&(A.xp6(1),A.Q6J("ngForOf",o.content))},directives:[bo,Se],styles:[".logical-container[_ngcontent-%COMP%]{position:fixed;width:600px;height:300px;overflow-y:auto;background:#fff}"]}),a})();function $c(a,t){if(1&a){const e=A.EpF();A.TgZ(0,"dyno-file-upload",17),A.NdJ("setFile",function(l){const g=A.CHM(e).$implicit;return A.oxw(3).setFile(l,g)}),A.qZA()}2&a&&A.Q6J("type",t.$implicit)}function BS(a,t){if(1&a&&(A.TgZ(0,"div",2),A.YNc(1,$c,1,1,"dyno-file-upload",16),A.qZA()),2&a){const e=A.oxw(2);A.xp6(1),A.Q6J("ngForOf",e.fileTypes)}}function E_(a,t){if(1&a){const e=A.EpF();A.TgZ(0,"div",10),A.TgZ(1,"div",1),A.YNc(2,BS,2,1,"div",11),A.TgZ(3,"div",2),A.TgZ(4,"button",12),A.NdJ("click",function(){return A.CHM(e),A.oxw().draw()}),A.ALo(5,"async"),A._UZ(6,"i",13),A._uU(7,"\xa0"),A.TgZ(8,"span"),A._uU(9,"Redraw all!"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(10,"div",1),A.TgZ(11,"div",2),A.TgZ(12,"button",14),A.NdJ("click",function(){return A.CHM(e),A.oxw().removeAll()}),A._UZ(13,"i",15),A._uU(14,"\xa0"),A.TgZ(15,"span"),A._uU(16,"Remove files (back to default)"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&a){const e=A.oxw();A.xp6(2),A.Q6J("ngIf",e.fileTypes&&3===e.fileTypes.length),A.xp6(2),A.Q6J("disabled",!A.lcZ(5,2,e.isReadyToDraw$))}}function S_(a,t){1&a&&A.GkF(0)}function dM(a,t){1&a&&(A.TgZ(0,"div",10),A._UZ(1,"dyno-help-index"),A.qZA())}function pM(a,t){if(1&a){const e=A.EpF();A.TgZ(0,"div",0),A.TgZ(1,"div",1),A.TgZ(2,"div",2),A.TgZ(3,"div",18),A.TgZ(4,"button",19),A.NdJ("click",function(){return A.CHM(e),A.oxw().setCloudVisibility("hide")}),A.ALo(5,"async"),A._UZ(6,"i",20),A._uU(7,"\xa0"),A.TgZ(8,"span"),A._uU(9,"Hide\xa0all\xa0clouds"),A.qZA(),A.qZA(),A.TgZ(10,"button",21),A.NdJ("click",function(){return A.CHM(e),A.oxw().setCloudVisibility("show")}),A.ALo(11,"async"),A._UZ(12,"i",22),A._uU(13,"\xa0"),A.TgZ(14,"span"),A._uU(15,"Show\xa0all\xa0clouds"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(16,"div",1),A.TgZ(17,"div",23),A.TgZ(18,"select",24),A.NdJ("ngModelChange",function(l){return A.CHM(e),A.oxw().setHideShowType(l)}),A.TgZ(19,"option",25),A._uU(20,"Show"),A.qZA(),A.qZA(),A.qZA(),A.TgZ(21,"div",26),A.TgZ(22,"dyno-range",27),A.NdJ("range",function(l){return A.CHM(e),A.oxw().setHideShowRange(l)}),A.qZA(),A.qZA(),A.qZA(),A.TgZ(23,"div",1),A.TgZ(24,"div",2),A.TgZ(25,"button",28),A.NdJ("click",function(){return A.CHM(e),A.oxw().setSelectedRange()}),A._UZ(26,"i",29),A._uU(27,"\xa0"),A.TgZ(28,"span"),A._uU(29,"Set"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(30,"div",1),A.TgZ(31,"div",26),A.TgZ(32,"div",30),A.TgZ(33,"button",31),A.NdJ("click",function(){return A.CHM(e),A.oxw().play("play")}),A.ALo(34,"async"),A._UZ(35,"i",32),A._uU(36,"\xa0"),A.TgZ(37,"span"),A._uU(38,"Play"),A.qZA(),A.qZA(),A.TgZ(39,"button",33),A.NdJ("click",function(){return A.CHM(e),A.oxw().play("pause")}),A.ALo(40,"async"),A._UZ(41,"i",34),A._uU(42,"\xa0"),A.TgZ(43,"span"),A._uU(44,"Pause"),A.qZA(),A.qZA(),A.TgZ(45,"button",35),A.NdJ("click",function(){return A.CHM(e),A.oxw().play("stop")}),A.ALo(46,"async"),A._UZ(47,"i",36),A._uU(48,"\xa0"),A.TgZ(49,"span"),A._uU(50,"Stop"),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(51,"div",23),A.TgZ(52,"small"),A._uU(53,"Frame No: "),A.TgZ(54,"strong"),A._uU(55),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(56,"div",1),A.TgZ(57,"div",2),A.TgZ(58,"div",3),A.TgZ(59,"input",37),A.NdJ("change",function(){return A.CHM(e),A.oxw().setHidePast()}),A.qZA(),A.TgZ(60,"label",38),A._uU(61," Hide previous frames "),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.qZA(),A.TgZ(62,"div",0),A.TgZ(63,"div",1),A.TgZ(64,"div",2),A.TgZ(65,"div",3),A.TgZ(66,"input",39),A.NdJ("change",function(){A.CHM(e);const l=A.oxw();return l.helpShow=!l.helpShow}),A.qZA(),A.TgZ(67,"label",40),A._uU(68," Show help "),A.qZA(),A.YNc(69,dM,2,0,"div",6),A.qZA(),A.qZA(),A.qZA(),A.qZA()}if(2&a){const e=A.oxw();A.xp6(4),A.Q6J("disabled","hide"==A.lcZ(5,10,e.displayAll$)),A.xp6(6),A.Q6J("disabled","show"==A.lcZ(11,12,e.displayAll$)),A.xp6(8),A.Q6J("ngModel",e.rangeType),A.xp6(1),A.Q6J("value","show"),A.xp6(6),A.Q6J("disabled",!e.rangeType||!(e.showRange&&e.showRange.length>0)),A.xp6(8),A.Q6J("disabled","play"===A.lcZ(34,14,e.playStatus$)),A.xp6(6),A.Q6J("disabled","pause"===A.lcZ(40,16,e.playStatus$)),A.xp6(6),A.Q6J("disabled","stop"===A.lcZ(46,18,e.playStatus$)),A.xp6(10),A.Oqu(e.currentFrame),A.xp6(14),A.Q6J("ngIf",e.helpShow)}}function mh(a,t){1&a&&(A.TgZ(0,"div",0),A.TgZ(1,"div",1),A.TgZ(2,"div",26),A.TgZ(3,"button",41),A._uU(4," Download json "),A.qZA(),A.qZA(),A.qZA(),A.qZA())}let A_=(()=>{class a{constructor(e,o){this.store=e,this._filesService=o,this.helpShow=!1,this.allowToDraw=!1,this.playStatus="stop",this.uploadCustom=!1,this.hidePast=!1,this.playSelected=!1,this.currentFrame="All",this.selectedParams=!1,this.rangeType="show",this.playRange=[],this.showRange=[],this.fileTypes=[],this.subs=new Qg,this.displayAll$=this.store.pipe((0,We.Ys)(ml)),this.playStatus$=this.store.pipe((0,We.Ys)($l)),this.hidePastStatus$=this.store.pipe((0,We.Ys)(uw)),this.currentFrame$=this.store.pipe((0,We.Ys)(HD)),this.isReadyToDraw$=this.store.pipe((0,We.Ys)(pS)),this.tabSelected$=this.store.pipe((0,We.Ys)(iw))}ngOnInit(){this.subs.sink=this.currentFrame$.subscribe(e=>{this.currentFrame=e||0===e?e.toString():"All"}),this.subs.sink=this.hidePastStatus$.subscribe(e=>{this.hidePast=e}),Object.keys(ph).map(e=>{this.fileTypes.push(e)})}ngOnDestroy(){this.subs.unsubscribe()}setCloudVisibility(e){this.store.dispatch(cw({all:e}))}setFile(e,o){this.store.dispatch(ow({blob:e,fileType:o}))}removeAll(){this.fileTypes=[],this.store.dispatch(aS()),setTimeout(()=>{Object.keys(ph).map(e=>{this.fileTypes.push(e)})},100)}draw(){this._filesService.updateFiles(!0)}play(e){this.store.dispatch(lw({playStatus:e}))}setFilesOption(){this.uploadCustom=!this.uploadCustom,this._filesService.setCustom(this.uploadCustom),this.uploadCustom||this._filesService.updateFiles(!1)}setHideShowRange(e){this.showRange=e?[e.from,e.to]:[]}setHidePast(){this.hidePast=!this.hidePast,this.store.dispatch(fa({hidePast:this.hidePast}))}setHideShowType(e){this.rangeType=e}setSelectedRange(){this.store.dispatch(n_({range:this.showRange,selected:this.rangeType})),this.store.dispatch(jb({range:this.showRange}))}setPlayedRange(){this.store.dispatch(jb({range:this.showRange}))}setPlayRange(e){this.playRange=e?[e.from,e.to]:[]}setPlayOnly(){this.playSelected=!this.playSelected,this.playSelected||(this.playRange=[],this.setPlayedRange())}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(We.yh),A.Y36(gw))},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-control-panel-index"]],decls:14,vars:6,consts:[[1,"logical-container"],[1,"row"],[1,"col-sm-12"],[1,"form-check"],["type","checkbox","id","customFiles",1,"form-check-input",3,"change"],["for","flexCheckDefault",1,"form-check-label"],["class","hideshow_container hidden",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["nglViewer",""],["framesViewer",""],[1,"hideshow_container","hidden"],["class","col-sm-12",4,"ngIf"],["type","button","title","Redraw All!",1,"btn","btn-primary","btn-sm","width-100",3,"disabled","click"],[1,"bi","bi-brush-fill"],["type","button","title","Clear All!",1,"btn","btn-secondary","btn-sm","width-100",3,"click"],[1,"bi","bi-erase-fill"],[3,"type","setFile",4,"ngFor","ngForOf"],[3,"type","setFile"],["role","group","aria-label","Zoom",1,"btn-group","btn-group-sm","width-100"],["type","button","title","Hide all clouds",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"bi","bi-cloud-minus-fill"],["type","button","title","Show all clouds",1,"btn","btn-outline-secondary",3,"disabled","click"],[1,"bi","bi-cloud-plus-fill"],[1,"col-sm-4"],[1,"form-select","form-select-sm",3,"ngModel","ngModelChange"],["selected","",3,"value"],[1,"col-sm-8"],[3,"range"],["type","button","title","Set selected",1,"btn","btn-sm","btn-outline-secondary","width-100",3,"disabled","click"],[1,"bi","bi-arrow-right"],["role","group",1,"btn-group","btn-group-sm","width-100"],["type","button","title","Play",1,"btn","btn-sm","btn-outline-primary",3,"disabled","click"],[1,"bi","bi-play-fill"],["type","button","title","Pause",1,"btn","btn-sm","btn-outline-secondary",3,"disabled","click"],[1,"bi","bi-pause-fill"],["type","button","title","Stop",1,"btn","btn-sm","btn-outline-secondary",3,"disabled","click"],[1,"bi","bi-stop-fill"],["type","checkbox","id","hidePrevFrames",1,"form-check-input",3,"change"],["for","hidePrevFrames",1,"form-check-label"],["type","checkbox","id","helpShow",1,"form-check-input",3,"change"],["for","helpShow",1,"form-check-label"],["type","button","disabled","disabled",1,"btn","btn-outline-light"]],template:function(e,o){if(1&e&&(A.TgZ(0,"div",0),A.TgZ(1,"div",1),A.TgZ(2,"div",2),A.TgZ(3,"div",3),A.TgZ(4,"input",4),A.NdJ("change",function(){return o.setFilesOption()}),A.qZA(),A.TgZ(5,"label",5),A._uU(6," Upload custom files "),A.qZA(),A.qZA(),A.YNc(7,E_,17,4,"div",6),A.qZA(),A.qZA(),A.qZA(),A.YNc(8,S_,1,0,"ng-container",7),A.ALo(9,"async"),A.YNc(10,pM,70,20,"ng-template",null,8,A.W1O),A.YNc(12,mh,5,0,"ng-template",null,9,A.W1O)),2&e){const l=A.MAs(11),d=A.MAs(13);A.xp6(7),A.Q6J("ngIf",o.uploadCustom),A.xp6(1),A.Q6J("ngIf","ngl"===A.lcZ(9,4,o.tabSelected$))("ngIfThen",l)("ngIfElse",d)}},directives:[Se,bo,vw,oa,_p,rc,ga,pm,Nw,uM],pipes:[gE],styles:[""]}),a})();var _y=ct(3637),Is=(()=>((Is=Is||{})[Is.RAW_TEXT=0]="RAW_TEXT",Is[Is.ESCAPABLE_RAW_TEXT=1]="ESCAPABLE_RAW_TEXT",Is[Is.PARSABLE_DATA=2]="PARSABLE_DATA",Is))();function Yc(a){if(":"!=a[0])return[null,a];const t=a.indexOf(":",1);if(-1===t)throw new Error(`Unsupported format "${a}" expecting ":namespace:name"`);return[a.slice(1,t),a.slice(t+1)]}function Ec(a){return null===a?null:Yc(a)[0]}function Vw(a,t){return a?`:${a}:${t}`:t}"undefined"!=typeof window&&window,"undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self;"undefined"!=typeof global&&global;const D5=[/^\s*$/,/[<>]/,/^[{}]$/,/&(#|[a-z])/i,/^\/\//];class Fp{constructor(t,e){this.start=t,this.end=e}static fromArray(t){return t?(function(a,t){if(null!=t&&(!Array.isArray(t)||2!=t.length))throw new Error(`Expected '${a}' to be an array, [start, end].`);if(null!=t){const e=t[0],o=t[1];D5.forEach(l=>{if(l.test(e)||l.test(o))throw new Error(`['${e}', '${o}'] contains unusable interpolation symbol.`)})}}("interpolation",t),new Fp(t[0],t[1])):iu}}const iu=new Fp("{{","}}");function ex(a){return a>=9&&a<=32||160==a}function DA(a){return a>=97&&a<=122||a>=65&&a<=90}function Hm(a){return 10===a||13===a}function IA(a){return 48<=a&&a<=55}class Up{constructor(t,e,o,l){this.file=t,this.offset=e,this.line=o,this.col=l}toString(){return null!=this.offset?`${this.file.url}@${this.line}:${this.col}`:this.file.url}moveBy(t){const e=this.file.content,o=e.length;let l=this.offset,d=this.line,g=this.col;for(;l>0&&t<0;)if(l--,t++,10==e.charCodeAt(l)){d--;const M=e.substr(0,l-1).lastIndexOf(String.fromCharCode(10));g=M>0?l-M:l}else g--;for(;l<o&&t>0;){const b=e.charCodeAt(l);l++,t--,10==b?(d++,g=0):g++}return new Up(this.file,l,d,g)}getContext(t,e){const o=this.file.content;let l=this.offset;if(null!=l){l>o.length-1&&(l=o.length-1);let d=l,g=0,b=0;for(;g<t&&l>0&&(l--,g++,"\n"!=o[l]||++b!=e););for(g=0,b=0;g<t&&d<o.length-1&&(d++,g++,"\n"!=o[d]||++b!=e););return{before:o.substring(l,this.offset),after:o.substring(this.offset,d+1)}}return null}}class Uh{constructor(t,e){this.content=t,this.url=e}}class _a{constructor(t,e,o=t,l=null){this.start=t,this.end=e,this.fullStart=o,this.details=l}toString(){return this.start.file.content.substring(this.start.offset,this.end.offset)}}var ba=(()=>((ba=ba||{})[ba.WARNING=0]="WARNING",ba[ba.ERROR=1]="ERROR",ba))();class wl{constructor(t,e,o=ba.ERROR){this.span=t,this.msg=e,this.level=o}contextualMessage(){const t=this.span.start.getContext(100,3);return t?`${this.msg} ("${t.before}[${ba[this.level]} ->]${t.after}")`:this.msg}toString(){const t=this.span.details?`, ${this.span.details}`:"";return`${this.contextualMessage()}: ${this.span.start}${t}`}}class Jm{constructor(t,e){this.sourceSpan=t,this.i18n=e}}class Zf extends Jm{constructor(t,e,o){super(e,o),this.value=t}visit(t,e){return t.visitText(this,e)}}class tv extends Jm{constructor(t,e,o,l,d,g){super(l,g),this.switchValue=t,this.type=e,this.cases=o,this.switchValueSourceSpan=d}visit(t,e){return t.visitExpansion(this,e)}}class r2{constructor(t,e,o,l,d){this.value=t,this.expression=e,this.sourceSpan=o,this.valueSourceSpan=l,this.expSourceSpan=d}visit(t,e){return t.visitExpansionCase(this,e)}}class Kf extends Jm{constructor(t,e,o,l,d,g){super(o,g),this.name=t,this.value=e,this.keySpan=l,this.valueSpan=d}visit(t,e){return t.visitAttribute(this,e)}}class Sl extends Jm{constructor(t,e,o,l,d,g=null,b){super(l,b),this.name=t,this.attrs=e,this.children=o,this.startSourceSpan=d,this.endSourceSpan=g}visit(t,e){return t.visitElement(this,e)}}class Qf{constructor(t,e){this.value=t,this.sourceSpan=e}visit(t,e){return t.visitComment(this,e)}}const e3={AElig:"\xc6",AMP:"&",amp:"&",Aacute:"\xc1",Abreve:"\u0102",Acirc:"\xc2",Acy:"\u0410",Afr:"\u{1d504}",Agrave:"\xc0",Alpha:"\u0391",Amacr:"\u0100",And:"\u2a53",Aogon:"\u0104",Aopf:"\u{1d538}",ApplyFunction:"\u2061",af:"\u2061",Aring:"\xc5",angst:"\xc5",Ascr:"\u{1d49c}",Assign:"\u2254",colone:"\u2254",coloneq:"\u2254",Atilde:"\xc3",Auml:"\xc4",Backslash:"\u2216",setminus:"\u2216",setmn:"\u2216",smallsetminus:"\u2216",ssetmn:"\u2216",Barv:"\u2ae7",Barwed:"\u2306",doublebarwedge:"\u2306",Bcy:"\u0411",Because:"\u2235",becaus:"\u2235",because:"\u2235",Bernoullis:"\u212c",Bscr:"\u212c",bernou:"\u212c",Beta:"\u0392",Bfr:"\u{1d505}",Bopf:"\u{1d539}",Breve:"\u02d8",breve:"\u02d8",Bumpeq:"\u224e",HumpDownHump:"\u224e",bump:"\u224e",CHcy:"\u0427",COPY:"\xa9",copy:"\xa9",Cacute:"\u0106",Cap:"\u22d2",CapitalDifferentialD:"\u2145",DD:"\u2145",Cayleys:"\u212d",Cfr:"\u212d",Ccaron:"\u010c",Ccedil:"\xc7",Ccirc:"\u0108",Cconint:"\u2230",Cdot:"\u010a",Cedilla:"\xb8",cedil:"\xb8",CenterDot:"\xb7",centerdot:"\xb7",middot:"\xb7",Chi:"\u03a7",CircleDot:"\u2299",odot:"\u2299",CircleMinus:"\u2296",ominus:"\u2296",CirclePlus:"\u2295",oplus:"\u2295",CircleTimes:"\u2297",otimes:"\u2297",ClockwiseContourIntegral:"\u2232",cwconint:"\u2232",CloseCurlyDoubleQuote:"\u201d",rdquo:"\u201d",rdquor:"\u201d",CloseCurlyQuote:"\u2019",rsquo:"\u2019",rsquor:"\u2019",Colon:"\u2237",Proportion:"\u2237",Colone:"\u2a74",Congruent:"\u2261",equiv:"\u2261",Conint:"\u222f",DoubleContourIntegral:"\u222f",ContourIntegral:"\u222e",conint:"\u222e",oint:"\u222e",Copf:"\u2102",complexes:"\u2102",Coproduct:"\u2210",coprod:"\u2210",CounterClockwiseContourIntegral:"\u2233",awconint:"\u2233",Cross:"\u2a2f",Cscr:"\u{1d49e}",Cup:"\u22d3",CupCap:"\u224d",asympeq:"\u224d",DDotrahd:"\u2911",DJcy:"\u0402",DScy:"\u0405",DZcy:"\u040f",Dagger:"\u2021",ddagger:"\u2021",Darr:"\u21a1",Dashv:"\u2ae4",DoubleLeftTee:"\u2ae4",Dcaron:"\u010e",Dcy:"\u0414",Del:"\u2207",nabla:"\u2207",Delta:"\u0394",Dfr:"\u{1d507}",DiacriticalAcute:"\xb4",acute:"\xb4",DiacriticalDot:"\u02d9",dot:"\u02d9",DiacriticalDoubleAcute:"\u02dd",dblac:"\u02dd",DiacriticalGrave:"`",grave:"`",DiacriticalTilde:"\u02dc",tilde:"\u02dc",Diamond:"\u22c4",diam:"\u22c4",diamond:"\u22c4",DifferentialD:"\u2146",dd:"\u2146",Dopf:"\u{1d53b}",Dot:"\xa8",DoubleDot:"\xa8",die:"\xa8",uml:"\xa8",DotDot:"\u20dc",DotEqual:"\u2250",doteq:"\u2250",esdot:"\u2250",DoubleDownArrow:"\u21d3",Downarrow:"\u21d3",dArr:"\u21d3",DoubleLeftArrow:"\u21d0",Leftarrow:"\u21d0",lArr:"\u21d0",DoubleLeftRightArrow:"\u21d4",Leftrightarrow:"\u21d4",hArr:"\u21d4",iff:"\u21d4",DoubleLongLeftArrow:"\u27f8",Longleftarrow:"\u27f8",xlArr:"\u27f8",DoubleLongLeftRightArrow:"\u27fa",Longleftrightarrow:"\u27fa",xhArr:"\u27fa",DoubleLongRightArrow:"\u27f9",Longrightarrow:"\u27f9",xrArr:"\u27f9",DoubleRightArrow:"\u21d2",Implies:"\u21d2",Rightarrow:"\u21d2",rArr:"\u21d2",DoubleRightTee:"\u22a8",vDash:"\u22a8",DoubleUpArrow:"\u21d1",Uparrow:"\u21d1",uArr:"\u21d1",DoubleUpDownArrow:"\u21d5",Updownarrow:"\u21d5",vArr:"\u21d5",DoubleVerticalBar:"\u2225",par:"\u2225",parallel:"\u2225",shortparallel:"\u2225",spar:"\u2225",DownArrow:"\u2193",ShortDownArrow:"\u2193",darr:"\u2193",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21f5",duarr:"\u21f5",DownBreve:"\u0311",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295e",DownLeftVector:"\u21bd",leftharpoondown:"\u21bd",lhard:"\u21bd",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295f",DownRightVector:"\u21c1",rhard:"\u21c1",rightharpoondown:"\u21c1",DownRightVectorBar:"\u2957",DownTee:"\u22a4",top:"\u22a4",DownTeeArrow:"\u21a7",mapstodown:"\u21a7",Dscr:"\u{1d49f}",Dstrok:"\u0110",ENG:"\u014a",ETH:"\xd0",Eacute:"\xc9",Ecaron:"\u011a",Ecirc:"\xca",Ecy:"\u042d",Edot:"\u0116",Efr:"\u{1d508}",Egrave:"\xc8",Element:"\u2208",in:"\u2208",isin:"\u2208",isinv:"\u2208",Emacr:"\u0112",EmptySmallSquare:"\u25fb",EmptyVerySmallSquare:"\u25ab",Eogon:"\u0118",Eopf:"\u{1d53c}",Epsilon:"\u0395",Equal:"\u2a75",EqualTilde:"\u2242",eqsim:"\u2242",esim:"\u2242",Equilibrium:"\u21cc",rightleftharpoons:"\u21cc",rlhar:"\u21cc",Escr:"\u2130",expectation:"\u2130",Esim:"\u2a73",Eta:"\u0397",Euml:"\xcb",Exists:"\u2203",exist:"\u2203",ExponentialE:"\u2147",ee:"\u2147",exponentiale:"\u2147",Fcy:"\u0424",Ffr:"\u{1d509}",FilledSmallSquare:"\u25fc",FilledVerySmallSquare:"\u25aa",blacksquare:"\u25aa",squarf:"\u25aa",squf:"\u25aa",Fopf:"\u{1d53d}",ForAll:"\u2200",forall:"\u2200",Fouriertrf:"\u2131",Fscr:"\u2131",GJcy:"\u0403",GT:">",gt:">",Gamma:"\u0393",Gammad:"\u03dc",Gbreve:"\u011e",Gcedil:"\u0122",Gcirc:"\u011c",Gcy:"\u0413",Gdot:"\u0120",Gfr:"\u{1d50a}",Gg:"\u22d9",ggg:"\u22d9",Gopf:"\u{1d53e}",GreaterEqual:"\u2265",ge:"\u2265",geq:"\u2265",GreaterEqualLess:"\u22db",gel:"\u22db",gtreqless:"\u22db",GreaterFullEqual:"\u2267",gE:"\u2267",geqq:"\u2267",GreaterGreater:"\u2aa2",GreaterLess:"\u2277",gl:"\u2277",gtrless:"\u2277",GreaterSlantEqual:"\u2a7e",geqslant:"\u2a7e",ges:"\u2a7e",GreaterTilde:"\u2273",gsim:"\u2273",gtrsim:"\u2273",Gscr:"\u{1d4a2}",Gt:"\u226b",NestedGreaterGreater:"\u226b",gg:"\u226b",HARDcy:"\u042a",Hacek:"\u02c7",caron:"\u02c7",Hat:"^",Hcirc:"\u0124",Hfr:"\u210c",Poincareplane:"\u210c",HilbertSpace:"\u210b",Hscr:"\u210b",hamilt:"\u210b",Hopf:"\u210d",quaternions:"\u210d",HorizontalLine:"\u2500",boxh:"\u2500",Hstrok:"\u0126",HumpEqual:"\u224f",bumpe:"\u224f",bumpeq:"\u224f",IEcy:"\u0415",IJlig:"\u0132",IOcy:"\u0401",Iacute:"\xcd",Icirc:"\xce",Icy:"\u0418",Idot:"\u0130",Ifr:"\u2111",Im:"\u2111",image:"\u2111",imagpart:"\u2111",Igrave:"\xcc",Imacr:"\u012a",ImaginaryI:"\u2148",ii:"\u2148",Int:"\u222c",Integral:"\u222b",int:"\u222b",Intersection:"\u22c2",bigcap:"\u22c2",xcap:"\u22c2",InvisibleComma:"\u2063",ic:"\u2063",InvisibleTimes:"\u2062",it:"\u2062",Iogon:"\u012e",Iopf:"\u{1d540}",Iota:"\u0399",Iscr:"\u2110",imagline:"\u2110",Itilde:"\u0128",Iukcy:"\u0406",Iuml:"\xcf",Jcirc:"\u0134",Jcy:"\u0419",Jfr:"\u{1d50d}",Jopf:"\u{1d541}",Jscr:"\u{1d4a5}",Jsercy:"\u0408",Jukcy:"\u0404",KHcy:"\u0425",KJcy:"\u040c",Kappa:"\u039a",Kcedil:"\u0136",Kcy:"\u041a",Kfr:"\u{1d50e}",Kopf:"\u{1d542}",Kscr:"\u{1d4a6}",LJcy:"\u0409",LT:"<",lt:"<",Lacute:"\u0139",Lambda:"\u039b",Lang:"\u27ea",Laplacetrf:"\u2112",Lscr:"\u2112",lagran:"\u2112",Larr:"\u219e",twoheadleftarrow:"\u219e",Lcaron:"\u013d",Lcedil:"\u013b",Lcy:"\u041b",LeftAngleBracket:"\u27e8",lang:"\u27e8",langle:"\u27e8",LeftArrow:"\u2190",ShortLeftArrow:"\u2190",larr:"\u2190",leftarrow:"\u2190",slarr:"\u2190",LeftArrowBar:"\u21e4",larrb:"\u21e4",LeftArrowRightArrow:"\u21c6",leftrightarrows:"\u21c6",lrarr:"\u21c6",LeftCeiling:"\u2308",lceil:"\u2308",LeftDoubleBracket:"\u27e6",lobrk:"\u27e6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21c3",dharl:"\u21c3",downharpoonleft:"\u21c3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230a",lfloor:"\u230a",LeftRightArrow:"\u2194",harr:"\u2194",leftrightarrow:"\u2194",LeftRightVector:"\u294e",LeftTee:"\u22a3",dashv:"\u22a3",LeftTeeArrow:"\u21a4",mapstoleft:"\u21a4",LeftTeeVector:"\u295a",LeftTriangle:"\u22b2",vartriangleleft:"\u22b2",vltri:"\u22b2",LeftTriangleBar:"\u29cf",LeftTriangleEqual:"\u22b4",ltrie:"\u22b4",trianglelefteq:"\u22b4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21bf",uharl:"\u21bf",upharpoonleft:"\u21bf",LeftUpVectorBar:"\u2958",LeftVector:"\u21bc",leftharpoonup:"\u21bc",lharu:"\u21bc",LeftVectorBar:"\u2952",LessEqualGreater:"\u22da",leg:"\u22da",lesseqgtr:"\u22da",LessFullEqual:"\u2266",lE:"\u2266",leqq:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",lg:"\u2276",LessLess:"\u2aa1",LessSlantEqual:"\u2a7d",leqslant:"\u2a7d",les:"\u2a7d",LessTilde:"\u2272",lesssim:"\u2272",lsim:"\u2272",Lfr:"\u{1d50f}",Ll:"\u22d8",Lleftarrow:"\u21da",lAarr:"\u21da",Lmidot:"\u013f",LongLeftArrow:"\u27f5",longleftarrow:"\u27f5",xlarr:"\u27f5",LongLeftRightArrow:"\u27f7",longleftrightarrow:"\u27f7",xharr:"\u27f7",LongRightArrow:"\u27f6",longrightarrow:"\u27f6",xrarr:"\u27f6",Lopf:"\u{1d543}",LowerLeftArrow:"\u2199",swarr:"\u2199",swarrow:"\u2199",LowerRightArrow:"\u2198",searr:"\u2198",searrow:"\u2198",Lsh:"\u21b0",lsh:"\u21b0",Lstrok:"\u0141",Lt:"\u226a",NestedLessLess:"\u226a",ll:"\u226a",Map:"\u2905",Mcy:"\u041c",MediumSpace:"\u205f",Mellintrf:"\u2133",Mscr:"\u2133",phmmat:"\u2133",Mfr:"\u{1d510}",MinusPlus:"\u2213",mnplus:"\u2213",mp:"\u2213",Mopf:"\u{1d544}",Mu:"\u039c",NJcy:"\u040a",Nacute:"\u0143",Ncaron:"\u0147",Ncedil:"\u0145",Ncy:"\u041d",NegativeMediumSpace:"\u200b",NegativeThickSpace:"\u200b",NegativeThinSpace:"\u200b",NegativeVeryThinSpace:"\u200b",ZeroWidthSpace:"\u200b",NewLine:"\n",Nfr:"\u{1d511}",NoBreak:"\u2060",NonBreakingSpace:"\xa0",nbsp:"\xa0",Nopf:"\u2115",naturals:"\u2115",Not:"\u2aec",NotCongruent:"\u2262",nequiv:"\u2262",NotCupCap:"\u226d",NotDoubleVerticalBar:"\u2226",npar:"\u2226",nparallel:"\u2226",nshortparallel:"\u2226",nspar:"\u2226",NotElement:"\u2209",notin:"\u2209",notinva:"\u2209",NotEqual:"\u2260",ne:"\u2260",NotEqualTilde:"\u2242\u0338",nesim:"\u2242\u0338",NotExists:"\u2204",nexist:"\u2204",nexists:"\u2204",NotGreater:"\u226f",ngt:"\u226f",ngtr:"\u226f",NotGreaterEqual:"\u2271",nge:"\u2271",ngeq:"\u2271",NotGreaterFullEqual:"\u2267\u0338",ngE:"\u2267\u0338",ngeqq:"\u2267\u0338",NotGreaterGreater:"\u226b\u0338",nGtv:"\u226b\u0338",NotGreaterLess:"\u2279",ntgl:"\u2279",NotGreaterSlantEqual:"\u2a7e\u0338",ngeqslant:"\u2a7e\u0338",nges:"\u2a7e\u0338",NotGreaterTilde:"\u2275",ngsim:"\u2275",NotHumpDownHump:"\u224e\u0338",nbump:"\u224e\u0338",NotHumpEqual:"\u224f\u0338",nbumpe:"\u224f\u0338",NotLeftTriangle:"\u22ea",nltri:"\u22ea",ntriangleleft:"\u22ea",NotLeftTriangleBar:"\u29cf\u0338",NotLeftTriangleEqual:"\u22ec",nltrie:"\u22ec",ntrianglelefteq:"\u22ec",NotLess:"\u226e",nless:"\u226e",nlt:"\u226e",NotLessEqual:"\u2270",nle:"\u2270",nleq:"\u2270",NotLessGreater:"\u2278",ntlg:"\u2278",NotLessLess:"\u226a\u0338",nLtv:"\u226a\u0338",NotLessSlantEqual:"\u2a7d\u0338",nleqslant:"\u2a7d\u0338",nles:"\u2a7d\u0338",NotLessTilde:"\u2274",nlsim:"\u2274",NotNestedGreaterGreater:"\u2aa2\u0338",NotNestedLessLess:"\u2aa1\u0338",NotPrecedes:"\u2280",npr:"\u2280",nprec:"\u2280",NotPrecedesEqual:"\u2aaf\u0338",npre:"\u2aaf\u0338",npreceq:"\u2aaf\u0338",NotPrecedesSlantEqual:"\u22e0",nprcue:"\u22e0",NotReverseElement:"\u220c",notni:"\u220c",notniva:"\u220c",NotRightTriangle:"\u22eb",nrtri:"\u22eb",ntriangleright:"\u22eb",NotRightTriangleBar:"\u29d0\u0338",NotRightTriangleEqual:"\u22ed",nrtrie:"\u22ed",ntrianglerighteq:"\u22ed",NotSquareSubset:"\u228f\u0338",NotSquareSubsetEqual:"\u22e2",nsqsube:"\u22e2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22e3",nsqsupe:"\u22e3",NotSubset:"\u2282\u20d2",nsubset:"\u2282\u20d2",vnsub:"\u2282\u20d2",NotSubsetEqual:"\u2288",nsube:"\u2288",nsubseteq:"\u2288",NotSucceeds:"\u2281",nsc:"\u2281",nsucc:"\u2281",NotSucceedsEqual:"\u2ab0\u0338",nsce:"\u2ab0\u0338",nsucceq:"\u2ab0\u0338",NotSucceedsSlantEqual:"\u22e1",nsccue:"\u22e1",NotSucceedsTilde:"\u227f\u0338",NotSuperset:"\u2283\u20d2",nsupset:"\u2283\u20d2",vnsup:"\u2283\u20d2",NotSupersetEqual:"\u2289",nsupe:"\u2289",nsupseteq:"\u2289",NotTilde:"\u2241",nsim:"\u2241",NotTildeEqual:"\u2244",nsime:"\u2244",nsimeq:"\u2244",NotTildeFullEqual:"\u2247",ncong:"\u2247",NotTildeTilde:"\u2249",nap:"\u2249",napprox:"\u2249",NotVerticalBar:"\u2224",nmid:"\u2224",nshortmid:"\u2224",nsmid:"\u2224",Nscr:"\u{1d4a9}",Ntilde:"\xd1",Nu:"\u039d",OElig:"\u0152",Oacute:"\xd3",Ocirc:"\xd4",Ocy:"\u041e",Odblac:"\u0150",Ofr:"\u{1d512}",Ograve:"\xd2",Omacr:"\u014c",Omega:"\u03a9",ohm:"\u03a9",Omicron:"\u039f",Oopf:"\u{1d546}",OpenCurlyDoubleQuote:"\u201c",ldquo:"\u201c",OpenCurlyQuote:"\u2018",lsquo:"\u2018",Or:"\u2a54",Oscr:"\u{1d4aa}",Oslash:"\xd8",Otilde:"\xd5",Otimes:"\u2a37",Ouml:"\xd6",OverBar:"\u203e",oline:"\u203e",OverBrace:"\u23de",OverBracket:"\u23b4",tbrk:"\u23b4",OverParenthesis:"\u23dc",PartialD:"\u2202",part:"\u2202",Pcy:"\u041f",Pfr:"\u{1d513}",Phi:"\u03a6",Pi:"\u03a0",PlusMinus:"\xb1",plusmn:"\xb1",pm:"\xb1",Popf:"\u2119",primes:"\u2119",Pr:"\u2abb",Precedes:"\u227a",pr:"\u227a",prec:"\u227a",PrecedesEqual:"\u2aaf",pre:"\u2aaf",preceq:"\u2aaf",PrecedesSlantEqual:"\u227c",prcue:"\u227c",preccurlyeq:"\u227c",PrecedesTilde:"\u227e",precsim:"\u227e",prsim:"\u227e",Prime:"\u2033",Product:"\u220f",prod:"\u220f",Proportional:"\u221d",prop:"\u221d",propto:"\u221d",varpropto:"\u221d",vprop:"\u221d",Pscr:"\u{1d4ab}",Psi:"\u03a8",QUOT:'"',quot:'"',Qfr:"\u{1d514}",Qopf:"\u211a",rationals:"\u211a",Qscr:"\u{1d4ac}",RBarr:"\u2910",drbkarow:"\u2910",REG:"\xae",circledR:"\xae",reg:"\xae",Racute:"\u0154",Rang:"\u27eb",Rarr:"\u21a0",twoheadrightarrow:"\u21a0",Rarrtl:"\u2916",Rcaron:"\u0158",Rcedil:"\u0156",Rcy:"\u0420",Re:"\u211c",Rfr:"\u211c",real:"\u211c",realpart:"\u211c",ReverseElement:"\u220b",SuchThat:"\u220b",ni:"\u220b",niv:"\u220b",ReverseEquilibrium:"\u21cb",leftrightharpoons:"\u21cb",lrhar:"\u21cb",ReverseUpEquilibrium:"\u296f",duhar:"\u296f",Rho:"\u03a1",RightAngleBracket:"\u27e9",rang:"\u27e9",rangle:"\u27e9",RightArrow:"\u2192",ShortRightArrow:"\u2192",rarr:"\u2192",rightarrow:"\u2192",srarr:"\u2192",RightArrowBar:"\u21e5",rarrb:"\u21e5",RightArrowLeftArrow:"\u21c4",rightleftarrows:"\u21c4",rlarr:"\u21c4",RightCeiling:"\u2309",rceil:"\u2309",RightDoubleBracket:"\u27e7",robrk:"\u27e7",RightDownTeeVector:"\u295d",RightDownVector:"\u21c2",dharr:"\u21c2",downharpoonright:"\u21c2",RightDownVectorBar:"\u2955",RightFloor:"\u230b",rfloor:"\u230b",RightTee:"\u22a2",vdash:"\u22a2",RightTeeArrow:"\u21a6",map:"\u21a6",mapsto:"\u21a6",RightTeeVector:"\u295b",RightTriangle:"\u22b3",vartriangleright:"\u22b3",vrtri:"\u22b3",RightTriangleBar:"\u29d0",RightTriangleEqual:"\u22b5",rtrie:"\u22b5",trianglerighteq:"\u22b5",RightUpDownVector:"\u294f",RightUpTeeVector:"\u295c",RightUpVector:"\u21be",uharr:"\u21be",upharpoonright:"\u21be",RightUpVectorBar:"\u2954",RightVector:"\u21c0",rharu:"\u21c0",rightharpoonup:"\u21c0",RightVectorBar:"\u2953",Ropf:"\u211d",reals:"\u211d",RoundImplies:"\u2970",Rrightarrow:"\u21db",rAarr:"\u21db",Rscr:"\u211b",realine:"\u211b",Rsh:"\u21b1",rsh:"\u21b1",RuleDelayed:"\u29f4",SHCHcy:"\u0429",SHcy:"\u0428",SOFTcy:"\u042c",Sacute:"\u015a",Sc:"\u2abc",Scaron:"\u0160",Scedil:"\u015e",Scirc:"\u015c",Scy:"\u0421",Sfr:"\u{1d516}",ShortUpArrow:"\u2191",UpArrow:"\u2191",uarr:"\u2191",uparrow:"\u2191",Sigma:"\u03a3",SmallCircle:"\u2218",compfn:"\u2218",Sopf:"\u{1d54a}",Sqrt:"\u221a",radic:"\u221a",Square:"\u25a1",squ:"\u25a1",square:"\u25a1",SquareIntersection:"\u2293",sqcap:"\u2293",SquareSubset:"\u228f",sqsub:"\u228f",sqsubset:"\u228f",SquareSubsetEqual:"\u2291",sqsube:"\u2291",sqsubseteq:"\u2291",SquareSuperset:"\u2290",sqsup:"\u2290",sqsupset:"\u2290",SquareSupersetEqual:"\u2292",sqsupe:"\u2292",sqsupseteq:"\u2292",SquareUnion:"\u2294",sqcup:"\u2294",Sscr:"\u{1d4ae}",Star:"\u22c6",sstarf:"\u22c6",Sub:"\u22d0",Subset:"\u22d0",SubsetEqual:"\u2286",sube:"\u2286",subseteq:"\u2286",Succeeds:"\u227b",sc:"\u227b",succ:"\u227b",SucceedsEqual:"\u2ab0",sce:"\u2ab0",succeq:"\u2ab0",SucceedsSlantEqual:"\u227d",sccue:"\u227d",succcurlyeq:"\u227d",SucceedsTilde:"\u227f",scsim:"\u227f",succsim:"\u227f",Sum:"\u2211",sum:"\u2211",Sup:"\u22d1",Supset:"\u22d1",Superset:"\u2283",sup:"\u2283",supset:"\u2283",SupersetEqual:"\u2287",supe:"\u2287",supseteq:"\u2287",THORN:"\xde",TRADE:"\u2122",trade:"\u2122",TSHcy:"\u040b",TScy:"\u0426",Tab:"\t",Tau:"\u03a4",Tcaron:"\u0164",Tcedil:"\u0162",Tcy:"\u0422",Tfr:"\u{1d517}",Therefore:"\u2234",there4:"\u2234",therefore:"\u2234",Theta:"\u0398",ThickSpace:"\u205f\u200a",ThinSpace:"\u2009",thinsp:"\u2009",Tilde:"\u223c",sim:"\u223c",thicksim:"\u223c",thksim:"\u223c",TildeEqual:"\u2243",sime:"\u2243",simeq:"\u2243",TildeFullEqual:"\u2245",cong:"\u2245",TildeTilde:"\u2248",ap:"\u2248",approx:"\u2248",asymp:"\u2248",thickapprox:"\u2248",thkap:"\u2248",Topf:"\u{1d54b}",TripleDot:"\u20db",tdot:"\u20db",Tscr:"\u{1d4af}",Tstrok:"\u0166",Uacute:"\xda",Uarr:"\u219f",Uarrocir:"\u2949",Ubrcy:"\u040e",Ubreve:"\u016c",Ucirc:"\xdb",Ucy:"\u0423",Udblac:"\u0170",Ufr:"\u{1d518}",Ugrave:"\xd9",Umacr:"\u016a",UnderBar:"_",lowbar:"_",UnderBrace:"\u23df",UnderBracket:"\u23b5",bbrk:"\u23b5",UnderParenthesis:"\u23dd",Union:"\u22c3",bigcup:"\u22c3",xcup:"\u22c3",UnionPlus:"\u228e",uplus:"\u228e",Uogon:"\u0172",Uopf:"\u{1d54c}",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21c5",udarr:"\u21c5",UpDownArrow:"\u2195",updownarrow:"\u2195",varr:"\u2195",UpEquilibrium:"\u296e",udhar:"\u296e",UpTee:"\u22a5",bot:"\u22a5",bottom:"\u22a5",perp:"\u22a5",UpTeeArrow:"\u21a5",mapstoup:"\u21a5",UpperLeftArrow:"\u2196",nwarr:"\u2196",nwarrow:"\u2196",UpperRightArrow:"\u2197",nearr:"\u2197",nearrow:"\u2197",Upsi:"\u03d2",upsih:"\u03d2",Upsilon:"\u03a5",Uring:"\u016e",Uscr:"\u{1d4b0}",Utilde:"\u0168",Uuml:"\xdc",VDash:"\u22ab",Vbar:"\u2aeb",Vcy:"\u0412",Vdash:"\u22a9",Vdashl:"\u2ae6",Vee:"\u22c1",bigvee:"\u22c1",xvee:"\u22c1",Verbar:"\u2016",Vert:"\u2016",VerticalBar:"\u2223",mid:"\u2223",shortmid:"\u2223",smid:"\u2223",VerticalLine:"|",verbar:"|",vert:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",wr:"\u2240",wreath:"\u2240",VeryThinSpace:"\u200a",hairsp:"\u200a",Vfr:"\u{1d519}",Vopf:"\u{1d54d}",Vscr:"\u{1d4b1}",Vvdash:"\u22aa",Wcirc:"\u0174",Wedge:"\u22c0",bigwedge:"\u22c0",xwedge:"\u22c0",Wfr:"\u{1d51a}",Wopf:"\u{1d54e}",Wscr:"\u{1d4b2}",Xfr:"\u{1d51b}",Xi:"\u039e",Xopf:"\u{1d54f}",Xscr:"\u{1d4b3}",YAcy:"\u042f",YIcy:"\u0407",YUcy:"\u042e",Yacute:"\xdd",Ycirc:"\u0176",Ycy:"\u042b",Yfr:"\u{1d51c}",Yopf:"\u{1d550}",Yscr:"\u{1d4b4}",Yuml:"\u0178",ZHcy:"\u0416",Zacute:"\u0179",Zcaron:"\u017d",Zcy:"\u0417",Zdot:"\u017b",Zeta:"\u0396",Zfr:"\u2128",zeetrf:"\u2128",Zopf:"\u2124",integers:"\u2124",Zscr:"\u{1d4b5}",aacute:"\xe1",abreve:"\u0103",ac:"\u223e",mstpos:"\u223e",acE:"\u223e\u0333",acd:"\u223f",acirc:"\xe2",acy:"\u0430",aelig:"\xe6",afr:"\u{1d51e}",agrave:"\xe0",alefsym:"\u2135",aleph:"\u2135",alpha:"\u03b1",amacr:"\u0101",amalg:"\u2a3f",and:"\u2227",wedge:"\u2227",andand:"\u2a55",andd:"\u2a5c",andslope:"\u2a58",andv:"\u2a5a",ang:"\u2220",angle:"\u2220",ange:"\u29a4",angmsd:"\u2221",measuredangle:"\u2221",angmsdaa:"\u29a8",angmsdab:"\u29a9",angmsdac:"\u29aa",angmsdad:"\u29ab",angmsdae:"\u29ac",angmsdaf:"\u29ad",angmsdag:"\u29ae",angmsdah:"\u29af",angrt:"\u221f",angrtvb:"\u22be",angrtvbd:"\u299d",angsph:"\u2222",angzarr:"\u237c",aogon:"\u0105",aopf:"\u{1d552}",apE:"\u2a70",apacir:"\u2a6f",ape:"\u224a",approxeq:"\u224a",apid:"\u224b",apos:"'",aring:"\xe5",ascr:"\u{1d4b6}",ast:"*",midast:"*",atilde:"\xe3",auml:"\xe4",awint:"\u2a11",bNot:"\u2aed",backcong:"\u224c",bcong:"\u224c",backepsilon:"\u03f6",bepsi:"\u03f6",backprime:"\u2035",bprime:"\u2035",backsim:"\u223d",bsim:"\u223d",backsimeq:"\u22cd",bsime:"\u22cd",barvee:"\u22bd",barwed:"\u2305",barwedge:"\u2305",bbrktbrk:"\u23b6",bcy:"\u0431",bdquo:"\u201e",ldquor:"\u201e",bemptyv:"\u29b0",beta:"\u03b2",beth:"\u2136",between:"\u226c",twixt:"\u226c",bfr:"\u{1d51f}",bigcirc:"\u25ef",xcirc:"\u25ef",bigodot:"\u2a00",xodot:"\u2a00",bigoplus:"\u2a01",xoplus:"\u2a01",bigotimes:"\u2a02",xotime:"\u2a02",bigsqcup:"\u2a06",xsqcup:"\u2a06",bigstar:"\u2605",starf:"\u2605",bigtriangledown:"\u25bd",xdtri:"\u25bd",bigtriangleup:"\u25b3",xutri:"\u25b3",biguplus:"\u2a04",xuplus:"\u2a04",bkarow:"\u290d",rbarr:"\u290d",blacklozenge:"\u29eb",lozf:"\u29eb",blacktriangle:"\u25b4",utrif:"\u25b4",blacktriangledown:"\u25be",dtrif:"\u25be",blacktriangleleft:"\u25c2",ltrif:"\u25c2",blacktriangleright:"\u25b8",rtrif:"\u25b8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20e5",bnequiv:"\u2261\u20e5",bnot:"\u2310",bopf:"\u{1d553}",bowtie:"\u22c8",boxDL:"\u2557",boxDR:"\u2554",boxDl:"\u2556",boxDr:"\u2553",boxH:"\u2550",boxHD:"\u2566",boxHU:"\u2569",boxHd:"\u2564",boxHu:"\u2567",boxUL:"\u255d",boxUR:"\u255a",boxUl:"\u255c",boxUr:"\u2559",boxV:"\u2551",boxVH:"\u256c",boxVL:"\u2563",boxVR:"\u2560",boxVh:"\u256b",boxVl:"\u2562",boxVr:"\u255f",boxbox:"\u29c9",boxdL:"\u2555",boxdR:"\u2552",boxdl:"\u2510",boxdr:"\u250c",boxhD:"\u2565",boxhU:"\u2568",boxhd:"\u252c",boxhu:"\u2534",boxminus:"\u229f",minusb:"\u229f",boxplus:"\u229e",plusb:"\u229e",boxtimes:"\u22a0",timesb:"\u22a0",boxuL:"\u255b",boxuR:"\u2558",boxul:"\u2518",boxur:"\u2514",boxv:"\u2502",boxvH:"\u256a",boxvL:"\u2561",boxvR:"\u255e",boxvh:"\u253c",boxvl:"\u2524",boxvr:"\u251c",brvbar:"\xa6",bscr:"\u{1d4b7}",bsemi:"\u204f",bsol:"\\",bsolb:"\u29c5",bsolhsub:"\u27c8",bull:"\u2022",bullet:"\u2022",bumpE:"\u2aae",cacute:"\u0107",cap:"\u2229",capand:"\u2a44",capbrcup:"\u2a49",capcap:"\u2a4b",capcup:"\u2a47",capdot:"\u2a40",caps:"\u2229\ufe00",caret:"\u2041",ccaps:"\u2a4d",ccaron:"\u010d",ccedil:"\xe7",ccirc:"\u0109",ccups:"\u2a4c",ccupssm:"\u2a50",cdot:"\u010b",cemptyv:"\u29b2",cent:"\xa2",cfr:"\u{1d520}",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",chi:"\u03c7",cir:"\u25cb",cirE:"\u29c3",circ:"\u02c6",circeq:"\u2257",cire:"\u2257",circlearrowleft:"\u21ba",olarr:"\u21ba",circlearrowright:"\u21bb",orarr:"\u21bb",circledS:"\u24c8",oS:"\u24c8",circledast:"\u229b",oast:"\u229b",circledcirc:"\u229a",ocir:"\u229a",circleddash:"\u229d",odash:"\u229d",cirfnint:"\u2a10",cirmid:"\u2aef",cirscir:"\u29c2",clubs:"\u2663",clubsuit:"\u2663",colon:":",comma:",",commat:"@",comp:"\u2201",complement:"\u2201",congdot:"\u2a6d",copf:"\u{1d554}",copysr:"\u2117",crarr:"\u21b5",cross:"\u2717",cscr:"\u{1d4b8}",csub:"\u2acf",csube:"\u2ad1",csup:"\u2ad0",csupe:"\u2ad2",ctdot:"\u22ef",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22de",curlyeqprec:"\u22de",cuesc:"\u22df",curlyeqsucc:"\u22df",cularr:"\u21b6",curvearrowleft:"\u21b6",cularrp:"\u293d",cup:"\u222a",cupbrcap:"\u2a48",cupcap:"\u2a46",cupcup:"\u2a4a",cupdot:"\u228d",cupor:"\u2a45",cups:"\u222a\ufe00",curarr:"\u21b7",curvearrowright:"\u21b7",curarrm:"\u293c",curlyvee:"\u22ce",cuvee:"\u22ce",curlywedge:"\u22cf",cuwed:"\u22cf",curren:"\xa4",cwint:"\u2231",cylcty:"\u232d",dHar:"\u2965",dagger:"\u2020",daleth:"\u2138",dash:"\u2010",hyphen:"\u2010",dbkarow:"\u290f",rBarr:"\u290f",dcaron:"\u010f",dcy:"\u0434",ddarr:"\u21ca",downdownarrows:"\u21ca",ddotseq:"\u2a77",eDDot:"\u2a77",deg:"\xb0",delta:"\u03b4",demptyv:"\u29b1",dfisht:"\u297f",dfr:"\u{1d521}",diamondsuit:"\u2666",diams:"\u2666",digamma:"\u03dd",gammad:"\u03dd",disin:"\u22f2",div:"\xf7",divide:"\xf7",divideontimes:"\u22c7",divonx:"\u22c7",djcy:"\u0452",dlcorn:"\u231e",llcorner:"\u231e",dlcrop:"\u230d",dollar:"$",dopf:"\u{1d555}",doteqdot:"\u2251",eDot:"\u2251",dotminus:"\u2238",minusd:"\u2238",dotplus:"\u2214",plusdo:"\u2214",dotsquare:"\u22a1",sdotb:"\u22a1",drcorn:"\u231f",lrcorner:"\u231f",drcrop:"\u230c",dscr:"\u{1d4b9}",dscy:"\u0455",dsol:"\u29f6",dstrok:"\u0111",dtdot:"\u22f1",dtri:"\u25bf",triangledown:"\u25bf",dwangle:"\u29a6",dzcy:"\u045f",dzigrarr:"\u27ff",eacute:"\xe9",easter:"\u2a6e",ecaron:"\u011b",ecir:"\u2256",eqcirc:"\u2256",ecirc:"\xea",ecolon:"\u2255",eqcolon:"\u2255",ecy:"\u044d",edot:"\u0117",efDot:"\u2252",fallingdotseq:"\u2252",efr:"\u{1d522}",eg:"\u2a9a",egrave:"\xe8",egs:"\u2a96",eqslantgtr:"\u2a96",egsdot:"\u2a98",el:"\u2a99",elinters:"\u23e7",ell:"\u2113",els:"\u2a95",eqslantless:"\u2a95",elsdot:"\u2a97",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",emptyv:"\u2205",varnothing:"\u2205",emsp13:"\u2004",emsp14:"\u2005",emsp:"\u2003",eng:"\u014b",ensp:"\u2002",eogon:"\u0119",eopf:"\u{1d556}",epar:"\u22d5",eparsl:"\u29e3",eplus:"\u2a71",epsi:"\u03b5",epsilon:"\u03b5",epsiv:"\u03f5",straightepsilon:"\u03f5",varepsilon:"\u03f5",equals:"=",equest:"\u225f",questeq:"\u225f",equivDD:"\u2a78",eqvparsl:"\u29e5",erDot:"\u2253",risingdotseq:"\u2253",erarr:"\u2971",escr:"\u212f",eta:"\u03b7",eth:"\xf0",euml:"\xeb",euro:"\u20ac",excl:"!",fcy:"\u0444",female:"\u2640",ffilig:"\ufb03",fflig:"\ufb00",ffllig:"\ufb04",ffr:"\u{1d523}",filig:"\ufb01",fjlig:"fj",flat:"\u266d",fllig:"\ufb02",fltns:"\u25b1",fnof:"\u0192",fopf:"\u{1d557}",fork:"\u22d4",pitchfork:"\u22d4",forkv:"\u2ad9",fpartint:"\u2a0d",frac12:"\xbd",half:"\xbd",frac13:"\u2153",frac14:"\xbc",frac15:"\u2155",frac16:"\u2159",frac18:"\u215b",frac23:"\u2154",frac25:"\u2156",frac34:"\xbe",frac35:"\u2157",frac38:"\u215c",frac45:"\u2158",frac56:"\u215a",frac58:"\u215d",frac78:"\u215e",frasl:"\u2044",frown:"\u2322",sfrown:"\u2322",fscr:"\u{1d4bb}",gEl:"\u2a8c",gtreqqless:"\u2a8c",gacute:"\u01f5",gamma:"\u03b3",gap:"\u2a86",gtrapprox:"\u2a86",gbreve:"\u011f",gcirc:"\u011d",gcy:"\u0433",gdot:"\u0121",gescc:"\u2aa9",gesdot:"\u2a80",gesdoto:"\u2a82",gesdotol:"\u2a84",gesl:"\u22db\ufe00",gesles:"\u2a94",gfr:"\u{1d524}",gimel:"\u2137",gjcy:"\u0453",glE:"\u2a92",gla:"\u2aa5",glj:"\u2aa4",gnE:"\u2269",gneqq:"\u2269",gnap:"\u2a8a",gnapprox:"\u2a8a",gne:"\u2a88",gneq:"\u2a88",gnsim:"\u22e7",gopf:"\u{1d558}",gscr:"\u210a",gsime:"\u2a8e",gsiml:"\u2a90",gtcc:"\u2aa7",gtcir:"\u2a7a",gtdot:"\u22d7",gtrdot:"\u22d7",gtlPar:"\u2995",gtquest:"\u2a7c",gtrarr:"\u2978",gvertneqq:"\u2269\ufe00",gvnE:"\u2269\ufe00",hardcy:"\u044a",harrcir:"\u2948",harrw:"\u21ad",leftrightsquigarrow:"\u21ad",hbar:"\u210f",hslash:"\u210f",planck:"\u210f",plankv:"\u210f",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",mldr:"\u2026",hercon:"\u22b9",hfr:"\u{1d525}",hksearow:"\u2925",searhk:"\u2925",hkswarow:"\u2926",swarhk:"\u2926",hoarr:"\u21ff",homtht:"\u223b",hookleftarrow:"\u21a9",larrhk:"\u21a9",hookrightarrow:"\u21aa",rarrhk:"\u21aa",hopf:"\u{1d559}",horbar:"\u2015",hscr:"\u{1d4bd}",hstrok:"\u0127",hybull:"\u2043",iacute:"\xed",icirc:"\xee",icy:"\u0438",iecy:"\u0435",iexcl:"\xa1",ifr:"\u{1d526}",igrave:"\xec",iiiint:"\u2a0c",qint:"\u2a0c",iiint:"\u222d",tint:"\u222d",iinfin:"\u29dc",iiota:"\u2129",ijlig:"\u0133",imacr:"\u012b",imath:"\u0131",inodot:"\u0131",imof:"\u22b7",imped:"\u01b5",incare:"\u2105",infin:"\u221e",infintie:"\u29dd",intcal:"\u22ba",intercal:"\u22ba",intlarhk:"\u2a17",intprod:"\u2a3c",iprod:"\u2a3c",iocy:"\u0451",iogon:"\u012f",iopf:"\u{1d55a}",iota:"\u03b9",iquest:"\xbf",iscr:"\u{1d4be}",isinE:"\u22f9",isindot:"\u22f5",isins:"\u22f4",isinsv:"\u22f3",itilde:"\u0129",iukcy:"\u0456",iuml:"\xef",jcirc:"\u0135",jcy:"\u0439",jfr:"\u{1d527}",jmath:"\u0237",jopf:"\u{1d55b}",jscr:"\u{1d4bf}",jsercy:"\u0458",jukcy:"\u0454",kappa:"\u03ba",kappav:"\u03f0",varkappa:"\u03f0",kcedil:"\u0137",kcy:"\u043a",kfr:"\u{1d528}",kgreen:"\u0138",khcy:"\u0445",kjcy:"\u045c",kopf:"\u{1d55c}",kscr:"\u{1d4c0}",lAtail:"\u291b",lBarr:"\u290e",lEg:"\u2a8b",lesseqqgtr:"\u2a8b",lHar:"\u2962",lacute:"\u013a",laemptyv:"\u29b4",lambda:"\u03bb",langd:"\u2991",lap:"\u2a85",lessapprox:"\u2a85",laquo:"\xab",larrbfs:"\u291f",larrfs:"\u291d",larrlp:"\u21ab",looparrowleft:"\u21ab",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21a2",leftarrowtail:"\u21a2",lat:"\u2aab",latail:"\u2919",late:"\u2aad",lates:"\u2aad\ufe00",lbarr:"\u290c",lbbrk:"\u2772",lbrace:"{",lcub:"{",lbrack:"[",lsqb:"[",lbrke:"\u298b",lbrksld:"\u298f",lbrkslu:"\u298d",lcaron:"\u013e",lcedil:"\u013c",lcy:"\u043b",ldca:"\u2936",ldrdhar:"\u2967",ldrushar:"\u294b",ldsh:"\u21b2",le:"\u2264",leq:"\u2264",leftleftarrows:"\u21c7",llarr:"\u21c7",leftthreetimes:"\u22cb",lthree:"\u22cb",lescc:"\u2aa8",lesdot:"\u2a7f",lesdoto:"\u2a81",lesdotor:"\u2a83",lesg:"\u22da\ufe00",lesges:"\u2a93",lessdot:"\u22d6",ltdot:"\u22d6",lfisht:"\u297c",lfr:"\u{1d529}",lgE:"\u2a91",lharul:"\u296a",lhblk:"\u2584",ljcy:"\u0459",llhard:"\u296b",lltri:"\u25fa",lmidot:"\u0140",lmoust:"\u23b0",lmoustache:"\u23b0",lnE:"\u2268",lneqq:"\u2268",lnap:"\u2a89",lnapprox:"\u2a89",lne:"\u2a87",lneq:"\u2a87",lnsim:"\u22e6",loang:"\u27ec",loarr:"\u21fd",longmapsto:"\u27fc",xmap:"\u27fc",looparrowright:"\u21ac",rarrlp:"\u21ac",lopar:"\u2985",lopf:"\u{1d55d}",loplus:"\u2a2d",lotimes:"\u2a34",lowast:"\u2217",loz:"\u25ca",lozenge:"\u25ca",lpar:"(",lparlt:"\u2993",lrhard:"\u296d",lrm:"\u200e",lrtri:"\u22bf",lsaquo:"\u2039",lscr:"\u{1d4c1}",lsime:"\u2a8d",lsimg:"\u2a8f",lsquor:"\u201a",sbquo:"\u201a",lstrok:"\u0142",ltcc:"\u2aa6",ltcir:"\u2a79",ltimes:"\u22c9",ltlarr:"\u2976",ltquest:"\u2a7b",ltrPar:"\u2996",ltri:"\u25c3",triangleleft:"\u25c3",lurdshar:"\u294a",luruhar:"\u2966",lvertneqq:"\u2268\ufe00",lvnE:"\u2268\ufe00",mDDot:"\u223a",macr:"\xaf",strns:"\xaf",male:"\u2642",malt:"\u2720",maltese:"\u2720",marker:"\u25ae",mcomma:"\u2a29",mcy:"\u043c",mdash:"\u2014",mfr:"\u{1d52a}",mho:"\u2127",micro:"\xb5",midcir:"\u2af0",minus:"\u2212",minusdu:"\u2a2a",mlcp:"\u2adb",models:"\u22a7",mopf:"\u{1d55e}",mscr:"\u{1d4c2}",mu:"\u03bc",multimap:"\u22b8",mumap:"\u22b8",nGg:"\u22d9\u0338",nGt:"\u226b\u20d2",nLeftarrow:"\u21cd",nlArr:"\u21cd",nLeftrightarrow:"\u21ce",nhArr:"\u21ce",nLl:"\u22d8\u0338",nLt:"\u226a\u20d2",nRightarrow:"\u21cf",nrArr:"\u21cf",nVDash:"\u22af",nVdash:"\u22ae",nacute:"\u0144",nang:"\u2220\u20d2",napE:"\u2a70\u0338",napid:"\u224b\u0338",napos:"\u0149",natur:"\u266e",natural:"\u266e",ncap:"\u2a43",ncaron:"\u0148",ncedil:"\u0146",ncongdot:"\u2a6d\u0338",ncup:"\u2a42",ncy:"\u043d",ndash:"\u2013",neArr:"\u21d7",nearhk:"\u2924",nedot:"\u2250\u0338",nesear:"\u2928",toea:"\u2928",nfr:"\u{1d52b}",nharr:"\u21ae",nleftrightarrow:"\u21ae",nhpar:"\u2af2",nis:"\u22fc",nisd:"\u22fa",njcy:"\u045a",nlE:"\u2266\u0338",nleqq:"\u2266\u0338",nlarr:"\u219a",nleftarrow:"\u219a",nldr:"\u2025",nopf:"\u{1d55f}",not:"\xac",notinE:"\u22f9\u0338",notindot:"\u22f5\u0338",notinvb:"\u22f7",notinvc:"\u22f6",notnivb:"\u22fe",notnivc:"\u22fd",nparsl:"\u2afd\u20e5",npart:"\u2202\u0338",npolint:"\u2a14",nrarr:"\u219b",nrightarrow:"\u219b",nrarrc:"\u2933\u0338",nrarrw:"\u219d\u0338",nscr:"\u{1d4c3}",nsub:"\u2284",nsubE:"\u2ac5\u0338",nsubseteqq:"\u2ac5\u0338",nsup:"\u2285",nsupE:"\u2ac6\u0338",nsupseteqq:"\u2ac6\u0338",ntilde:"\xf1",nu:"\u03bd",num:"#",numero:"\u2116",numsp:"\u2007",nvDash:"\u22ad",nvHarr:"\u2904",nvap:"\u224d\u20d2",nvdash:"\u22ac",nvge:"\u2265\u20d2",nvgt:">\u20d2",nvinfin:"\u29de",nvlArr:"\u2902",nvle:"\u2264\u20d2",nvlt:"<\u20d2",nvltrie:"\u22b4\u20d2",nvrArr:"\u2903",nvrtrie:"\u22b5\u20d2",nvsim:"\u223c\u20d2",nwArr:"\u21d6",nwarhk:"\u2923",nwnear:"\u2927",oacute:"\xf3",ocirc:"\xf4",ocy:"\u043e",odblac:"\u0151",odiv:"\u2a38",odsold:"\u29bc",oelig:"\u0153",ofcir:"\u29bf",ofr:"\u{1d52c}",ogon:"\u02db",ograve:"\xf2",ogt:"\u29c1",ohbar:"\u29b5",olcir:"\u29be",olcross:"\u29bb",olt:"\u29c0",omacr:"\u014d",omega:"\u03c9",omicron:"\u03bf",omid:"\u29b6",oopf:"\u{1d560}",opar:"\u29b7",operp:"\u29b9",or:"\u2228",vee:"\u2228",ord:"\u2a5d",order:"\u2134",orderof:"\u2134",oscr:"\u2134",ordf:"\xaa",ordm:"\xba",origof:"\u22b6",oror:"\u2a56",orslope:"\u2a57",orv:"\u2a5b",oslash:"\xf8",osol:"\u2298",otilde:"\xf5",otimesas:"\u2a36",ouml:"\xf6",ovbar:"\u233d",para:"\xb6",parsim:"\u2af3",parsl:"\u2afd",pcy:"\u043f",percnt:"%",period:".",permil:"\u2030",pertenk:"\u2031",pfr:"\u{1d52d}",phi:"\u03c6",phiv:"\u03d5",straightphi:"\u03d5",varphi:"\u03d5",phone:"\u260e",pi:"\u03c0",piv:"\u03d6",varpi:"\u03d6",planckh:"\u210e",plus:"+",plusacir:"\u2a23",pluscir:"\u2a22",plusdu:"\u2a25",pluse:"\u2a72",plussim:"\u2a26",plustwo:"\u2a27",pointint:"\u2a15",popf:"\u{1d561}",pound:"\xa3",prE:"\u2ab3",prap:"\u2ab7",precapprox:"\u2ab7",precnapprox:"\u2ab9",prnap:"\u2ab9",precneqq:"\u2ab5",prnE:"\u2ab5",precnsim:"\u22e8",prnsim:"\u22e8",prime:"\u2032",profalar:"\u232e",profline:"\u2312",profsurf:"\u2313",prurel:"\u22b0",pscr:"\u{1d4c5}",psi:"\u03c8",puncsp:"\u2008",qfr:"\u{1d52e}",qopf:"\u{1d562}",qprime:"\u2057",qscr:"\u{1d4c6}",quatint:"\u2a16",quest:"?",rAtail:"\u291c",rHar:"\u2964",race:"\u223d\u0331",racute:"\u0155",raemptyv:"\u29b3",rangd:"\u2992",range:"\u29a5",raquo:"\xbb",rarrap:"\u2975",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291e",rarrpl:"\u2945",rarrsim:"\u2974",rarrtl:"\u21a3",rightarrowtail:"\u21a3",rarrw:"\u219d",rightsquigarrow:"\u219d",ratail:"\u291a",ratio:"\u2236",rbbrk:"\u2773",rbrace:"}",rcub:"}",rbrack:"]",rsqb:"]",rbrke:"\u298c",rbrksld:"\u298e",rbrkslu:"\u2990",rcaron:"\u0159",rcedil:"\u0157",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdsh:"\u21b3",rect:"\u25ad",rfisht:"\u297d",rfr:"\u{1d52f}",rharul:"\u296c",rho:"\u03c1",rhov:"\u03f1",varrho:"\u03f1",rightrightarrows:"\u21c9",rrarr:"\u21c9",rightthreetimes:"\u22cc",rthree:"\u22cc",ring:"\u02da",rlm:"\u200f",rmoust:"\u23b1",rmoustache:"\u23b1",rnmid:"\u2aee",roang:"\u27ed",roarr:"\u21fe",ropar:"\u2986",ropf:"\u{1d563}",roplus:"\u2a2e",rotimes:"\u2a35",rpar:")",rpargt:"\u2994",rppolint:"\u2a12",rsaquo:"\u203a",rscr:"\u{1d4c7}",rtimes:"\u22ca",rtri:"\u25b9",triangleright:"\u25b9",rtriltri:"\u29ce",ruluhar:"\u2968",rx:"\u211e",sacute:"\u015b",scE:"\u2ab4",scap:"\u2ab8",succapprox:"\u2ab8",scaron:"\u0161",scedil:"\u015f",scirc:"\u015d",scnE:"\u2ab6",succneqq:"\u2ab6",scnap:"\u2aba",succnapprox:"\u2aba",scnsim:"\u22e9",succnsim:"\u22e9",scpolint:"\u2a13",scy:"\u0441",sdot:"\u22c5",sdote:"\u2a66",seArr:"\u21d8",sect:"\xa7",semi:";",seswar:"\u2929",tosa:"\u2929",sext:"\u2736",sfr:"\u{1d530}",sharp:"\u266f",shchcy:"\u0449",shcy:"\u0448",shy:"\xad",sigma:"\u03c3",sigmaf:"\u03c2",sigmav:"\u03c2",varsigma:"\u03c2",simdot:"\u2a6a",simg:"\u2a9e",simgE:"\u2aa0",siml:"\u2a9d",simlE:"\u2a9f",simne:"\u2246",simplus:"\u2a24",simrarr:"\u2972",smashp:"\u2a33",smeparsl:"\u29e4",smile:"\u2323",ssmile:"\u2323",smt:"\u2aaa",smte:"\u2aac",smtes:"\u2aac\ufe00",softcy:"\u044c",sol:"/",solb:"\u29c4",solbar:"\u233f",sopf:"\u{1d564}",spades:"\u2660",spadesuit:"\u2660",sqcaps:"\u2293\ufe00",sqcups:"\u2294\ufe00",sscr:"\u{1d4c8}",star:"\u2606",sub:"\u2282",subset:"\u2282",subE:"\u2ac5",subseteqq:"\u2ac5",subdot:"\u2abd",subedot:"\u2ac3",submult:"\u2ac1",subnE:"\u2acb",subsetneqq:"\u2acb",subne:"\u228a",subsetneq:"\u228a",subplus:"\u2abf",subrarr:"\u2979",subsim:"\u2ac7",subsub:"\u2ad5",subsup:"\u2ad3",sung:"\u266a",sup1:"\xb9",sup2:"\xb2",sup3:"\xb3",supE:"\u2ac6",supseteqq:"\u2ac6",supdot:"\u2abe",supdsub:"\u2ad8",supedot:"\u2ac4",suphsol:"\u27c9",suphsub:"\u2ad7",suplarr:"\u297b",supmult:"\u2ac2",supnE:"\u2acc",supsetneqq:"\u2acc",supne:"\u228b",supsetneq:"\u228b",supplus:"\u2ac0",supsim:"\u2ac8",supsub:"\u2ad4",supsup:"\u2ad6",swArr:"\u21d9",swnwar:"\u292a",szlig:"\xdf",target:"\u2316",tau:"\u03c4",tcaron:"\u0165",tcedil:"\u0163",tcy:"\u0442",telrec:"\u2315",tfr:"\u{1d531}",theta:"\u03b8",thetasym:"\u03d1",thetav:"\u03d1",vartheta:"\u03d1",thorn:"\xfe",times:"\xd7",timesbar:"\u2a31",timesd:"\u2a30",topbot:"\u2336",topcir:"\u2af1",topf:"\u{1d565}",topfork:"\u2ada",tprime:"\u2034",triangle:"\u25b5",utri:"\u25b5",triangleq:"\u225c",trie:"\u225c",tridot:"\u25ec",triminus:"\u2a3a",triplus:"\u2a39",trisb:"\u29cd",tritime:"\u2a3b",trpezium:"\u23e2",tscr:"\u{1d4c9}",tscy:"\u0446",tshcy:"\u045b",tstrok:"\u0167",uHar:"\u2963",uacute:"\xfa",ubrcy:"\u045e",ubreve:"\u016d",ucirc:"\xfb",ucy:"\u0443",udblac:"\u0171",ufisht:"\u297e",ufr:"\u{1d532}",ugrave:"\xf9",uhblk:"\u2580",ulcorn:"\u231c",ulcorner:"\u231c",ulcrop:"\u230f",ultri:"\u25f8",umacr:"\u016b",uogon:"\u0173",uopf:"\u{1d566}",upsi:"\u03c5",upsilon:"\u03c5",upuparrows:"\u21c8",uuarr:"\u21c8",urcorn:"\u231d",urcorner:"\u231d",urcrop:"\u230e",uring:"\u016f",urtri:"\u25f9",uscr:"\u{1d4ca}",utdot:"\u22f0",utilde:"\u0169",uuml:"\xfc",uwangle:"\u29a7",vBar:"\u2ae8",vBarv:"\u2ae9",vangrt:"\u299c",varsubsetneq:"\u228a\ufe00",vsubne:"\u228a\ufe00",varsubsetneqq:"\u2acb\ufe00",vsubnE:"\u2acb\ufe00",varsupsetneq:"\u228b\ufe00",vsupne:"\u228b\ufe00",varsupsetneqq:"\u2acc\ufe00",vsupnE:"\u2acc\ufe00",vcy:"\u0432",veebar:"\u22bb",veeeq:"\u225a",vellip:"\u22ee",vfr:"\u{1d533}",vopf:"\u{1d567}",vscr:"\u{1d4cb}",vzigzag:"\u299a",wcirc:"\u0175",wedbar:"\u2a5f",wedgeq:"\u2259",weierp:"\u2118",wp:"\u2118",wfr:"\u{1d534}",wopf:"\u{1d568}",wscr:"\u{1d4cc}",xfr:"\u{1d535}",xi:"\u03be",xnis:"\u22fb",xopf:"\u{1d569}",xscr:"\u{1d4cd}",yacute:"\xfd",yacy:"\u044f",ycirc:"\u0177",ycy:"\u044b",yen:"\xa5",yfr:"\u{1d536}",yicy:"\u0457",yopf:"\u{1d56a}",yscr:"\u{1d4ce}",yucy:"\u044e",yuml:"\xff",zacute:"\u017a",zcaron:"\u017e",zcy:"\u0437",zdot:"\u017c",zeta:"\u03b6",zfr:"\u{1d537}",zhcy:"\u0436",zigrarr:"\u21dd",zopf:"\u{1d56b}",zscr:"\u{1d4cf}",zwj:"\u200d",zwnj:"\u200c",ngsp:"\ue500"};var Ne=(()=>((Ne=Ne||{})[Ne.TAG_OPEN_START=0]="TAG_OPEN_START",Ne[Ne.TAG_OPEN_END=1]="TAG_OPEN_END",Ne[Ne.TAG_OPEN_END_VOID=2]="TAG_OPEN_END_VOID",Ne[Ne.TAG_CLOSE=3]="TAG_CLOSE",Ne[Ne.INCOMPLETE_TAG_OPEN=4]="INCOMPLETE_TAG_OPEN",Ne[Ne.TEXT=5]="TEXT",Ne[Ne.ESCAPABLE_RAW_TEXT=6]="ESCAPABLE_RAW_TEXT",Ne[Ne.RAW_TEXT=7]="RAW_TEXT",Ne[Ne.COMMENT_START=8]="COMMENT_START",Ne[Ne.COMMENT_END=9]="COMMENT_END",Ne[Ne.CDATA_START=10]="CDATA_START",Ne[Ne.CDATA_END=11]="CDATA_END",Ne[Ne.ATTR_NAME=12]="ATTR_NAME",Ne[Ne.ATTR_QUOTE=13]="ATTR_QUOTE",Ne[Ne.ATTR_VALUE=14]="ATTR_VALUE",Ne[Ne.DOC_TYPE=15]="DOC_TYPE",Ne[Ne.EXPANSION_FORM_START=16]="EXPANSION_FORM_START",Ne[Ne.EXPANSION_CASE_VALUE=17]="EXPANSION_CASE_VALUE",Ne[Ne.EXPANSION_CASE_EXP_START=18]="EXPANSION_CASE_EXP_START",Ne[Ne.EXPANSION_CASE_EXP_END=19]="EXPANSION_CASE_EXP_END",Ne[Ne.EXPANSION_FORM_END=20]="EXPANSION_FORM_END",Ne[Ne.EOF=21]="EOF",Ne))();class n3{constructor(t,e,o){this.type=t,this.parts=e,this.sourceSpan=o}}class i2 extends wl{constructor(t,e,o){super(o,t),this.tokenType=e}}class ek{constructor(t,e,o){this.tokens=t,this.errors=e,this.nonNormalizedIcuExpressions=o}}const r3=/\r\n?/g;function vx(a){return`Unexpected character "${0===a?"EOF":String.fromCharCode(a)}"`}function i3(a){return`Unknown entity "${a}" - use the "&#<decimal>;" or  "&#x<hex>;" syntax`}var ev=(()=>((ev=ev||{}).HEX="hexadecimal",ev.DEC="decimal",ev))();class _x{constructor(t){this.error=t}}class s3{constructor(t,e,o){this._getTagDefinition=e,this._currentTokenStart=null,this._currentTokenType=null,this._expansionCaseStack=[],this._inInterpolation=!1,this.tokens=[],this.errors=[],this.nonNormalizedIcuExpressions=[],this._tokenizeIcu=o.tokenizeExpansionForms||!1,this._interpolationConfig=o.interpolationConfig||iu,this._leadingTriviaCodePoints=o.leadingTriviaChars&&o.leadingTriviaChars.map(d=>d.codePointAt(0)||0);const l=o.range||{endPos:t.content.length,startPos:0,startLine:0,startCol:0};this._cursor=o.escapedString?new nv(t,l):new za(t,l),this._preserveLineEndings=o.preserveLineEndings||!1,this._escapedString=o.escapedString||!1,this._i18nNormalizeLineEndingsInICUs=o.i18nNormalizeLineEndingsInICUs||!1;try{this._cursor.init()}catch(d){this.handleError(d)}}_processCarriageReturns(t){return this._preserveLineEndings?t:t.replace(r3,"\n")}tokenize(){for(;0!==this._cursor.peek();){const t=this._cursor.clone();try{this._attemptCharCode(60)?this._attemptCharCode(33)?this._attemptCharCode(91)?this._consumeCdata(t):this._attemptCharCode(45)?this._consumeComment(t):this._consumeDocType(t):this._attemptCharCode(47)?this._consumeTagClose(t):this._consumeTagOpen(t):this._tokenizeIcu&&this._tokenizeExpansionForm()||this._consumeText()}catch(e){this.handleError(e)}}this._beginToken(Ne.EOF),this._endToken([])}_tokenizeExpansionForm(){if(this.isExpansionFormStart())return this._consumeExpansionFormStart(),!0;if(125!==this._cursor.peek()&&this._isInExpansionForm())return this._consumeExpansionCaseStart(),!0;if(125===this._cursor.peek()){if(this._isInExpansionCase())return this._consumeExpansionCaseEnd(),!0;if(this._isInExpansionForm())return this._consumeExpansionFormEnd(),!0}return!1}_beginToken(t,e=this._cursor.clone()){this._currentTokenStart=e,this._currentTokenType=t}_endToken(t,e){if(null===this._currentTokenStart)throw new i2("Programming error - attempted to end a token when there was no start to the token",this._currentTokenType,this._cursor.getSpan(e));if(null===this._currentTokenType)throw new i2("Programming error - attempted to end a token which has no token type",null,this._cursor.getSpan(this._currentTokenStart));const o=new n3(this._currentTokenType,t,this._cursor.getSpan(this._currentTokenStart,this._leadingTriviaCodePoints));return this.tokens.push(o),this._currentTokenStart=null,this._currentTokenType=null,o}_createError(t,e){this._isInExpansionForm()&&(t+=' (Do you have an unescaped "{" in your template? Use "{{ \'{\' }}") to escape it.)');const o=new i2(t,this._currentTokenType,e);return this._currentTokenStart=null,this._currentTokenType=null,new _x(o)}handleError(t){if(t instanceof xx&&(t=this._createError(t.msg,this._cursor.getSpan(t.cursor))),!(t instanceof _x))throw t;this.errors.push(t.error)}_attemptCharCode(t){return this._cursor.peek()===t&&(this._cursor.advance(),!0)}_attemptCharCodeCaseInsensitive(t){return!!function(a,t){return yx(a)===yx(t)}(this._cursor.peek(),t)&&(this._cursor.advance(),!0)}_requireCharCode(t){const e=this._cursor.clone();if(!this._attemptCharCode(t))throw this._createError(vx(this._cursor.peek()),this._cursor.getSpan(e))}_attemptStr(t){const e=t.length;if(this._cursor.charsLeft()<e)return!1;const o=this._cursor.clone();for(let l=0;l<e;l++)if(!this._attemptCharCode(t.charCodeAt(l)))return this._cursor=o,!1;return!0}_attemptStrCaseInsensitive(t){for(let e=0;e<t.length;e++)if(!this._attemptCharCodeCaseInsensitive(t.charCodeAt(e)))return!1;return!0}_requireStr(t){const e=this._cursor.clone();if(!this._attemptStr(t))throw this._createError(vx(this._cursor.peek()),this._cursor.getSpan(e))}_attemptCharCodeUntilFn(t){for(;!t(this._cursor.peek());)this._cursor.advance()}_requireCharCodeUntilFn(t,e){const o=this._cursor.clone();if(this._attemptCharCodeUntilFn(t),this._cursor.diff(o)<e)throw this._createError(vx(this._cursor.peek()),this._cursor.getSpan(o))}_attemptUntilChar(t){for(;this._cursor.peek()!==t;)this._cursor.advance()}_readChar(t){if(t&&38===this._cursor.peek())return this._decodeEntity();{const e=String.fromCodePoint(this._cursor.peek());return this._cursor.advance(),e}}_decodeEntity(){const t=this._cursor.clone();if(this._cursor.advance(),!this._attemptCharCode(35)){const e=this._cursor.clone();if(this._attemptCharCodeUntilFn(c3),59!=this._cursor.peek())return this._cursor=e,"&";const o=this._cursor.getChars(e);this._cursor.advance();const l=e3[o];if(!l)throw this._createError(i3(o),this._cursor.getSpan(t));return l}{const e=this._attemptCharCode(120)||this._attemptCharCode(88),o=this._cursor.clone();if(this._attemptCharCodeUntilFn(C0),59!=this._cursor.peek())throw this._cursor.advance(),this._createError(function(a,t){return`Unable to parse entity "${t}" - ${a} character reference entities must end with ";"`}(e?ev.HEX:ev.DEC,this._cursor.getChars(t)),this._cursor.getSpan());const l=this._cursor.getChars(o);this._cursor.advance();try{const d=parseInt(l,e?16:10);return String.fromCharCode(d)}catch(d){throw this._createError(i3(this._cursor.getChars(t)),this._cursor.getSpan())}}}_consumeRawText(t,e){this._beginToken(t?Ne.ESCAPABLE_RAW_TEXT:Ne.RAW_TEXT);const o=[];for(;;){const l=this._cursor.clone(),d=e();if(this._cursor=l,d)break;o.push(this._readChar(t))}return this._endToken([this._processCarriageReturns(o.join(""))])}_consumeComment(t){this._beginToken(Ne.COMMENT_START,t),this._requireCharCode(45),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("--\x3e")),this._beginToken(Ne.COMMENT_END),this._requireStr("--\x3e"),this._endToken([])}_consumeCdata(t){this._beginToken(Ne.CDATA_START,t),this._requireStr("CDATA["),this._endToken([]),this._consumeRawText(!1,()=>this._attemptStr("]]>")),this._beginToken(Ne.CDATA_END),this._requireStr("]]>"),this._endToken([])}_consumeDocType(t){this._beginToken(Ne.DOC_TYPE,t);const e=this._cursor.clone();this._attemptUntilChar(62);const o=this._cursor.getChars(e);this._cursor.advance(),this._endToken([o])}_consumePrefixAndName(){const t=this._cursor.clone();let e="";for(;58!==this._cursor.peek()&&!(((a=this._cursor.peek())<97||122<a)&&(a<65||90<a)&&(a<48||a>57));)this._cursor.advance();var a;let o;return 58===this._cursor.peek()?(e=this._cursor.getChars(t),this._cursor.advance(),o=this._cursor.clone()):o=t,this._requireCharCodeUntilFn(a3,""===e?0:1),[e,this._cursor.getChars(o)]}_consumeTagOpen(t){let e,o,l;try{if(!DA(this._cursor.peek()))throw this._createError(vx(this._cursor.peek()),this._cursor.getSpan(t));for(l=this._consumeTagOpenStart(t),o=l.parts[0],e=l.parts[1],this._attemptCharCodeUntilFn(ou);47!==this._cursor.peek()&&62!==this._cursor.peek()&&60!==this._cursor.peek()&&0!==this._cursor.peek();)this._consumeAttributeName(),this._attemptCharCodeUntilFn(ou),this._attemptCharCode(61)&&(this._attemptCharCodeUntilFn(ou),this._consumeAttributeValue()),this._attemptCharCodeUntilFn(ou);this._consumeTagOpenEnd()}catch(g){if(g instanceof _x)return void(l?l.type=Ne.INCOMPLETE_TAG_OPEN:(this._beginToken(Ne.TEXT,t),this._endToken(["<"])));throw g}const d=this._getTagDefinition(e).getContentType(o);d===Is.RAW_TEXT?this._consumeRawTextWithTagClose(o,e,!1):d===Is.ESCAPABLE_RAW_TEXT&&this._consumeRawTextWithTagClose(o,e,!0)}_consumeRawTextWithTagClose(t,e,o){this._consumeRawText(o,()=>!!(this._attemptCharCode(60)&&this._attemptCharCode(47)&&(this._attemptCharCodeUntilFn(ou),this._attemptStrCaseInsensitive(e)))&&(this._attemptCharCodeUntilFn(ou),this._attemptCharCode(62))),this._beginToken(Ne.TAG_CLOSE),this._requireCharCodeUntilFn(l=>62===l,3),this._cursor.advance(),this._endToken([t,e])}_consumeTagOpenStart(t){this._beginToken(Ne.TAG_OPEN_START,t);const e=this._consumePrefixAndName();return this._endToken(e)}_consumeAttributeName(){const t=this._cursor.peek();if(39===t||34===t)throw this._createError(vx(t),this._cursor.getSpan());this._beginToken(Ne.ATTR_NAME);const e=this._consumePrefixAndName();this._endToken(e)}_consumeAttributeValue(){let t;if(39===this._cursor.peek()||34===this._cursor.peek()){this._beginToken(Ne.ATTR_QUOTE);const e=this._cursor.peek();this._cursor.advance(),this._endToken([String.fromCodePoint(e)]),this._beginToken(Ne.ATTR_VALUE);const o=[];for(;this._cursor.peek()!==e;)o.push(this._readChar(!0));t=o.join(""),this._endToken([this._processCarriageReturns(t)]),this._beginToken(Ne.ATTR_QUOTE),this._cursor.advance(),this._endToken([String.fromCodePoint(e)])}else{this._beginToken(Ne.ATTR_VALUE);const e=this._cursor.clone();this._requireCharCodeUntilFn(a3,1),t=this._cursor.getChars(e),this._endToken([this._processCarriageReturns(t)])}}_consumeTagOpenEnd(){const t=this._attemptCharCode(47)?Ne.TAG_OPEN_END_VOID:Ne.TAG_OPEN_END;this._beginToken(t),this._requireCharCode(62),this._endToken([])}_consumeTagClose(t){this._beginToken(Ne.TAG_CLOSE,t),this._attemptCharCodeUntilFn(ou);const e=this._consumePrefixAndName();this._attemptCharCodeUntilFn(ou),this._requireCharCode(62),this._endToken(e)}_consumeExpansionFormStart(){this._beginToken(Ne.EXPANSION_FORM_START),this._requireCharCode(123),this._endToken([]),this._expansionCaseStack.push(Ne.EXPANSION_FORM_START),this._beginToken(Ne.RAW_TEXT);const t=this._readUntil(44),e=this._processCarriageReturns(t);if(this._i18nNormalizeLineEndingsInICUs)this._endToken([e]);else{const l=this._endToken([t]);e!==t&&this.nonNormalizedIcuExpressions.push(l)}this._requireCharCode(44),this._attemptCharCodeUntilFn(ou),this._beginToken(Ne.RAW_TEXT);const o=this._readUntil(44);this._endToken([o]),this._requireCharCode(44),this._attemptCharCodeUntilFn(ou)}_consumeExpansionCaseStart(){this._beginToken(Ne.EXPANSION_CASE_VALUE);const t=this._readUntil(123).trim();this._endToken([t]),this._attemptCharCodeUntilFn(ou),this._beginToken(Ne.EXPANSION_CASE_EXP_START),this._requireCharCode(123),this._endToken([]),this._attemptCharCodeUntilFn(ou),this._expansionCaseStack.push(Ne.EXPANSION_CASE_EXP_START)}_consumeExpansionCaseEnd(){this._beginToken(Ne.EXPANSION_CASE_EXP_END),this._requireCharCode(125),this._endToken([]),this._attemptCharCodeUntilFn(ou),this._expansionCaseStack.pop()}_consumeExpansionFormEnd(){this._beginToken(Ne.EXPANSION_FORM_END),this._requireCharCode(125),this._endToken([]),this._expansionCaseStack.pop()}_consumeText(){const t=this._cursor.clone();this._beginToken(Ne.TEXT,t);const e=[];do{this._interpolationConfig&&this._attemptStr(this._interpolationConfig.start)?(e.push(this._interpolationConfig.start),this._inInterpolation=!0):this._interpolationConfig&&this._inInterpolation&&this._attemptStr(this._interpolationConfig.end)?(e.push(this._interpolationConfig.end),this._inInterpolation=!1):e.push(this._readChar(!0))}while(!this._isTextEnd());this._inInterpolation=!1,this._endToken([this._processCarriageReturns(e.join(""))])}_isTextEnd(){return!!(this._isTagStart()||0===this._cursor.peek()||this._tokenizeIcu&&!this._inInterpolation&&(this.isExpansionFormStart()||125===this._cursor.peek()&&this._isInExpansionCase()))}_isTagStart(){if(60===this._cursor.peek()){const t=this._cursor.clone();t.advance();const e=t.peek();if(97<=e&&e<=122||65<=e&&e<=90||47===e||33===e)return!0}return!1}_readUntil(t){const e=this._cursor.clone();return this._attemptUntilChar(t),this._cursor.getChars(e)}_isInExpansionCase(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Ne.EXPANSION_CASE_EXP_START}_isInExpansionForm(){return this._expansionCaseStack.length>0&&this._expansionCaseStack[this._expansionCaseStack.length-1]===Ne.EXPANSION_FORM_START}isExpansionFormStart(){if(123!==this._cursor.peek())return!1;if(this._interpolationConfig){const t=this._cursor.clone(),e=this._attemptStr(this._interpolationConfig.start);return this._cursor=t,!e}return!0}}function ou(a){return!ex(a)||0===a}function a3(a){return ex(a)||62===a||60===a||47===a||39===a||34===a||61===a||0===a}function C0(a){return 59===a||0===a||!function(a){return a>=97&&a<=102||a>=65&&a<=70||function(a){return 48<=a&&a<=57}(a)}(a)}function c3(a){return 59===a||0===a||!DA(a)}function yx(a){return a>=97&&a<=122?a-97+65:a}class za{constructor(t,e){if(t instanceof za){this.file=t.file,this.input=t.input,this.end=t.end;const o=t.state;this.state={peek:o.peek,offset:o.offset,line:o.line,column:o.column}}else{if(!e)throw new Error("Programming error: the range argument must be provided with a file argument.");this.file=t,this.input=t.content,this.end=e.endPos,this.state={peek:-1,offset:e.startPos,line:e.startLine,column:e.startCol}}}clone(){return new za(this)}peek(){return this.state.peek}charsLeft(){return this.end-this.state.offset}diff(t){return this.state.offset-t.state.offset}advance(){this.advanceState(this.state)}init(){this.updatePeek(this.state)}getSpan(t,e){let o=t=t||this;if(e)for(;this.diff(t)>0&&-1!==e.indexOf(t.peek());)o===t&&(t=t.clone()),t.advance();const l=this.locationFromCursor(t),d=this.locationFromCursor(this),g=o!==t?this.locationFromCursor(o):l;return new _a(l,d,g)}getChars(t){return this.input.substring(t.state.offset,this.state.offset)}charAt(t){return this.input.charCodeAt(t)}advanceState(t){if(t.offset>=this.end)throw this.state=t,new xx('Unexpected character "EOF"',this);const e=this.charAt(t.offset);10===e?(t.line++,t.column=0):Hm(e)||t.column++,t.offset++,this.updatePeek(t)}updatePeek(t){t.peek=t.offset>=this.end?0:this.charAt(t.offset)}locationFromCursor(t){return new Up(t.file,t.state.offset,t.state.line,t.state.column)}}class nv extends za{constructor(t,e){t instanceof nv?(super(t),this.internalState=Object.assign({},t.internalState)):(super(t,e),this.internalState=this.state)}advance(){this.state=this.internalState,super.advance(),this.processEscapeSequence()}init(){super.init(),this.processEscapeSequence()}clone(){return new nv(this)}getChars(t){const e=t.clone();let o="";for(;e.internalState.offset<this.internalState.offset;)o+=String.fromCodePoint(e.peek()),e.advance();return o}processEscapeSequence(){const t=()=>this.internalState.peek;if(92===t())if(this.internalState=Object.assign({},this.state),this.advanceState(this.internalState),110===t())this.state.peek=10;else if(114===t())this.state.peek=13;else if(118===t())this.state.peek=11;else if(116===t())this.state.peek=9;else if(98===t())this.state.peek=8;else if(102===t())this.state.peek=12;else if(117===t())if(this.advanceState(this.internalState),123===t()){this.advanceState(this.internalState);const e=this.clone();let o=0;for(;125!==t();)this.advanceState(this.internalState),o++;this.state.peek=this.decodeHexDigits(e,o)}else{const e=this.clone();this.advanceState(this.internalState),this.advanceState(this.internalState),this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,4)}else if(120===t()){this.advanceState(this.internalState);const e=this.clone();this.advanceState(this.internalState),this.state.peek=this.decodeHexDigits(e,2)}else if(IA(t())){let e="",o=0,l=this.clone();for(;IA(t())&&o<3;)l=this.clone(),e+=String.fromCodePoint(t()),this.advanceState(this.internalState),o++;this.state.peek=parseInt(e,8),this.internalState=l.internalState}else Hm(this.internalState.peek)?(this.advanceState(this.internalState),this.state=this.internalState):this.state.peek=this.internalState.peek}decodeHexDigits(t,e){const o=this.input.substr(t.internalState.offset,e),l=parseInt(o,16);if(isNaN(l))throw t.state=t.internalState,new xx("Invalid hexadecimal escape sequence",t);return l}}class xx{constructor(t,e){this.msg=t,this.cursor=e}}class Gd extends wl{constructor(t,e,o){super(e,o),this.elementName=t}static create(t,e,o){return new Gd(t,e,o)}}class rv{constructor(t,e){this.rootNodes=t,this.errors=e}}class Mx{constructor(t,e){this.tokens=t,this.getTagDefinition=e,this._index=-1,this._elementStack=[],this.rootNodes=[],this.errors=[],this._advance()}build(){for(;this._peek.type!==Ne.EOF;)this._peek.type===Ne.TAG_OPEN_START||this._peek.type===Ne.INCOMPLETE_TAG_OPEN?this._consumeStartTag(this._advance()):this._peek.type===Ne.TAG_CLOSE?this._consumeEndTag(this._advance()):this._peek.type===Ne.CDATA_START?(this._closeVoidElement(),this._consumeCdata(this._advance())):this._peek.type===Ne.COMMENT_START?(this._closeVoidElement(),this._consumeComment(this._advance())):this._peek.type===Ne.TEXT||this._peek.type===Ne.RAW_TEXT||this._peek.type===Ne.ESCAPABLE_RAW_TEXT?(this._closeVoidElement(),this._consumeText(this._advance())):this._peek.type===Ne.EXPANSION_FORM_START?this._consumeExpansion(this._advance()):this._advance()}_advance(){const t=this._peek;return this._index<this.tokens.length-1&&this._index++,this._peek=this.tokens[this._index],t}_advanceIf(t){return this._peek.type===t?this._advance():null}_consumeCdata(t){this._consumeText(this._advance()),this._advanceIf(Ne.CDATA_END)}_consumeComment(t){const e=this._advanceIf(Ne.RAW_TEXT);this._advanceIf(Ne.COMMENT_END);const o=null!=e?e.parts[0].trim():null;this._addToParent(new Qf(o,t.sourceSpan))}_consumeExpansion(t){const e=this._advance(),o=this._advance(),l=[];for(;this._peek.type===Ne.EXPANSION_CASE_VALUE;){const g=this._parseExpansionCase();if(!g)return;l.push(g)}if(this._peek.type!==Ne.EXPANSION_FORM_END)return void this.errors.push(Gd.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '}'."));const d=new _a(t.sourceSpan.start,this._peek.sourceSpan.end,t.sourceSpan.fullStart);this._addToParent(new tv(e.parts[0],o.parts[0],l,d,e.sourceSpan)),this._advance()}_parseExpansionCase(){const t=this._advance();if(this._peek.type!==Ne.EXPANSION_CASE_EXP_START)return this.errors.push(Gd.create(null,this._peek.sourceSpan,"Invalid ICU message. Missing '{'.")),null;const e=this._advance(),o=this._collectExpansionExpTokens(e);if(!o)return null;const l=this._advance();o.push(new n3(Ne.EOF,[],l.sourceSpan));const d=new Mx(o,this.getTagDefinition);if(d.build(),d.errors.length>0)return this.errors=this.errors.concat(d.errors),null;const g=new _a(t.sourceSpan.start,l.sourceSpan.end,t.sourceSpan.fullStart),b=new _a(e.sourceSpan.start,l.sourceSpan.end,e.sourceSpan.fullStart);return new r2(t.parts[0],d.rootNodes,g,t.sourceSpan,b)}_collectExpansionExpTokens(t){const e=[],o=[Ne.EXPANSION_CASE_EXP_START];for(;;){if((this._peek.type===Ne.EXPANSION_FORM_START||this._peek.type===Ne.EXPANSION_CASE_EXP_START)&&o.push(this._peek.type),this._peek.type===Ne.EXPANSION_CASE_EXP_END){if(!x1(o,Ne.EXPANSION_CASE_EXP_START))return this.errors.push(Gd.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;if(o.pop(),0===o.length)return e}if(this._peek.type===Ne.EXPANSION_FORM_END){if(!x1(o,Ne.EXPANSION_FORM_START))return this.errors.push(Gd.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;o.pop()}if(this._peek.type===Ne.EOF)return this.errors.push(Gd.create(null,t.sourceSpan,"Invalid ICU message. Missing '}'.")),null;e.push(this._advance())}}_consumeText(t){let e=t.parts[0];if(e.length>0&&"\n"===e[0]){const o=this._getParentElement();null!=o&&0===o.children.length&&this.getTagDefinition(o.name).ignoreFirstLf&&(e=e.substring(1))}e.length>0&&this._addToParent(new Zf(e,t.sourceSpan))}_closeVoidElement(){const t=this._getParentElement();t&&this.getTagDefinition(t.name).isVoid&&this._elementStack.pop()}_consumeStartTag(t){const[e,o]=t.parts,l=[];for(;this._peek.type===Ne.ATTR_NAME;)l.push(this._consumeAttr(this._advance()));const d=this._getElementFullName(e,o,this._getParentElement());let g=!1;if(this._peek.type===Ne.TAG_OPEN_END_VOID){this._advance(),g=!0;const D=this.getTagDefinition(d);D.canSelfClose||null!==Ec(d)||D.isVoid||this.errors.push(Gd.create(d,t.sourceSpan,`Only void and foreign elements can be self closed "${t.parts[1]}"`))}else this._peek.type===Ne.TAG_OPEN_END&&(this._advance(),g=!1);const b=this._peek.sourceSpan.fullStart,M=new _a(t.sourceSpan.start,b,t.sourceSpan.fullStart),O=new _a(t.sourceSpan.start,b,t.sourceSpan.fullStart),T=new Sl(d,l,[],M,O,void 0);this._pushElement(T),g?this._popElement(d,M):t.type===Ne.INCOMPLETE_TAG_OPEN&&(this._popElement(d,null),this.errors.push(Gd.create(d,M,`Opening tag "${d}" not terminated.`)))}_pushElement(t){const e=this._getParentElement();e&&this.getTagDefinition(e.name).isClosedByChild(t.name)&&this._elementStack.pop(),this._addToParent(t),this._elementStack.push(t)}_consumeEndTag(t){const e=this._getElementFullName(t.parts[0],t.parts[1],this._getParentElement());this.getTagDefinition(e).isVoid?this.errors.push(Gd.create(e,t.sourceSpan,`Void elements do not have end tags "${t.parts[1]}"`)):this._popElement(e,t.sourceSpan)||this.errors.push(Gd.create(e,t.sourceSpan,`Unexpected closing tag "${e}". It may happen when the tag has already been closed by another tag. For more info see https://www.w3.org/TR/html5/syntax.html#closing-elements-that-have-implied-end-tags`))}_popElement(t,e){let o=!1;for(let l=this._elementStack.length-1;l>=0;l--){const d=this._elementStack[l];if(d.name===t)return d.endSourceSpan=e,d.sourceSpan.end=null!==e?e.end:d.sourceSpan.end,this._elementStack.splice(l,this._elementStack.length-l),!o;this.getTagDefinition(d.name).closedByParent||(o=!0)}return!1}_consumeAttr(t){const e=Vw(t.parts[0],t.parts[1]);let d,o=t.sourceSpan.end,l="";if(this._peek.type===Ne.ATTR_QUOTE&&this._advance(),this._peek.type===Ne.ATTR_VALUE){const b=this._advance();l=b.parts[0],o=b.sourceSpan.end,d=b.sourceSpan}this._peek.type===Ne.ATTR_QUOTE&&(o=this._advance().sourceSpan.end);const g=new _a(t.sourceSpan.start,t.sourceSpan.end);return new Kf(e,l,new _a(t.sourceSpan.start,o,t.sourceSpan.fullStart),g,d)}_getParentElement(){return this._elementStack.length>0?this._elementStack[this._elementStack.length-1]:null}_addToParent(t){const e=this._getParentElement();null!=e?e.children.push(t):this.rootNodes.push(t)}_getElementFullName(t,e,o){if(""===t&&""===(t=this.getTagDefinition(e).implicitNamespacePrefix||"")&&null!=o){const l=Yc(o.name)[1];this.getTagDefinition(l).preventNamespaceInheritance||(t=Ec(o.name))}return Vw(t,e)}}function x1(a,t){return a.length>0&&a[a.length-1]===t}Object.keys({useClass:null}),Object.keys({useFactory:null}),Object.keys({useValue:null}),Object.keys({useExisting:null});class G2{constructor(){this.closedByParent=!1,this.isVoid=!1,this.ignoreFirstLf=!1,this.canSelfClose=!0,this.preventNamespaceInheritance=!1}requireExtraParent(t){return!1}isClosedByChild(t){return!1}getContentType(){return Is.PARSABLE_DATA}}const eF=new G2;function $0(a){return eF}class ag extends class{constructor(t){this.getTagDefinition=t}parse(t,e,o){const l=function(a,t,e,o={}){const l=new s3(new Uh(a,t),e,o);return l.tokenize(),new ek(function(a){const t=[];let e;for(let o=0;o<a.length;o++){const l=a[o];e&&e.type===Ne.TEXT&&l.type===Ne.TEXT?(e.parts[0]+=l.parts[0],e.sourceSpan.end=l.sourceSpan.end):(e=l,t.push(e))}return t}(l.tokens),l.errors,l.nonNormalizedIcuExpressions)}(t,e,this.getTagDefinition,o),d=new Mx(l.tokens,this.getTagDefinition);return d.build(),new rv(d.rootNodes,l.errors.concat(d.errors))}}{constructor(){super($0)}parse(t,e,o){return super.parse(t,e,o)}}var Oz=ct(4902);function c6(a,t,e,o,l,d,g){try{var b=a[d](g),M=b.value}catch(O){return void e(O)}b.done?t(M):Promise.resolve(M).then(o,l)}const ad=1001,el=1003,Tl=1006,tT=1009,eP=1015,eT=1016,NI=1020,nP=1022,Zp=1023,nT=1026,BI=1027,rT=2400,iT=2401,Kp=3e3,UI=35044,VI=35048;class Z2{addEventListener(t,e){void 0===this._listeners&&(this._listeners={});const o=this._listeners;void 0===o[t]&&(o[t]=[]),-1===o[t].indexOf(e)&&o[t].push(e)}hasEventListener(t,e){if(void 0===this._listeners)return!1;const o=this._listeners;return void 0!==o[t]&&-1!==o[t].indexOf(e)}removeEventListener(t,e){if(void 0===this._listeners)return;const l=this._listeners[t];if(void 0!==l){const d=l.indexOf(e);-1!==d&&l.splice(d,1)}}dispatchEvent(t){if(void 0===this._listeners)return;const o=this._listeners[t.type];if(void 0!==o){t.target=this;const l=o.slice(0);for(let d=0,g=l.length;d<g;d++)l[d].call(this,t);t.target=null}}}const au=[];for(let a=0;a<256;a++)au[a]=(a<16?"0":"")+a.toString(16);const K2=Math.PI/180,zI=180/Math.PI;function Yh(){const a=4294967295*Math.random()|0,t=4294967295*Math.random()|0,e=4294967295*Math.random()|0,o=4294967295*Math.random()|0;return(au[255&a]+au[a>>8&255]+au[a>>16&255]+au[a>>24&255]+"-"+au[255&t]+au[t>>8&255]+"-"+au[t>>16&15|64]+au[t>>24&255]+"-"+au[63&e|128]+au[e>>8&255]+"-"+au[e>>16&255]+au[e>>24&255]+au[255&o]+au[o>>8&255]+au[o>>16&255]+au[o>>24&255]).toUpperCase()}function cu(a,t,e){return Math.max(t,Math.min(e,a))}function HI(a,t,e){return(1-e)*a+e*t}function NF(a){return 0==(a&a-1)&&0!==a}function N6(a){return Math.pow(2,Math.floor(Math.log(a)/Math.LN2))}class vn{constructor(t=0,e=0){this.x=t,this.y=e}get width(){return this.x}set width(t){this.x=t}get height(){return this.y}set height(t){this.y=t}set(t,e){return this.x=t,this.y=e,this}setScalar(t){return this.x=t,this.y=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y)}copy(t){return this.x=t.x,this.y=t.y,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this)}addScalar(t){return this.x+=t,this.y+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this)}subScalar(t){return this.x-=t,this.y-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this}multiply(t){return this.x*=t.x,this.y*=t.y,this}multiplyScalar(t){return this.x*=t,this.y*=t,this}divide(t){return this.x/=t.x,this.y/=t.y,this}divideScalar(t){return this.multiplyScalar(1/t)}applyMatrix3(t){const e=this.x,o=this.y,l=t.elements;return this.x=l[0]*e+l[3]*o+l[6],this.y=l[1]*e+l[4]*o+l[7],this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this}clampLength(t,e){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(e,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(t){return this.x*t.x+this.y*t.y}cross(t){return this.x*t.y-this.y*t.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,o=this.y-t.y;return e*e+o*o}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this}lerpVectors(t,e,o){return this.x=t.x+(e.x-t.x)*o,this.y=t.y+(e.y-t.y)*o,this}equals(t){return t.x===this.x&&t.y===this.y}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t}fromBufferAttribute(t,e,o){return void 0!==o&&console.warn("THREE.Vector2: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this}rotateAround(t,e){const o=Math.cos(e),l=Math.sin(e),d=this.x-t.x,g=this.y-t.y;return this.x=d*o-g*l+t.x,this.y=d*l+g*o+t.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}}vn.prototype.isVector2=!0;class Dl{constructor(){this.elements=[1,0,0,0,1,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.")}set(t,e,o,l,d,g,b,M,O){const T=this.elements;return T[0]=t,T[1]=l,T[2]=b,T[3]=e,T[4]=d,T[5]=M,T[6]=o,T[7]=g,T[8]=O,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(t){const e=this.elements,o=t.elements;return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[8]=o[8],this}extractBasis(t,e,o){return t.setFromMatrix3Column(this,0),e.setFromMatrix3Column(this,1),o.setFromMatrix3Column(this,2),this}setFromMatrix4(t){const e=t.elements;return this.set(e[0],e[4],e[8],e[1],e[5],e[9],e[2],e[6],e[10]),this}multiply(t){return this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const o=t.elements,l=e.elements,d=this.elements,g=o[0],b=o[3],M=o[6],O=o[1],T=o[4],D=o[7],R=o[2],k=o[5],U=o[8],j=l[0],Z=l[3],W=l[6],H=l[1],rt=l[4],Q=l[7],gt=l[2],Ct=l[5],ut=l[8];return d[0]=g*j+b*H+M*gt,d[3]=g*Z+b*rt+M*Ct,d[6]=g*W+b*Q+M*ut,d[1]=O*j+T*H+D*gt,d[4]=O*Z+T*rt+D*Ct,d[7]=O*W+T*Q+D*ut,d[2]=R*j+k*H+U*gt,d[5]=R*Z+k*rt+U*Ct,d[8]=R*W+k*Q+U*ut,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[3]*=t,e[6]*=t,e[1]*=t,e[4]*=t,e[7]*=t,e[2]*=t,e[5]*=t,e[8]*=t,this}determinant(){const t=this.elements,e=t[0],o=t[1],l=t[2],d=t[3],g=t[4],b=t[5],M=t[6],O=t[7],T=t[8];return e*g*T-e*b*O-o*d*T+o*b*M+l*d*O-l*g*M}invert(){const t=this.elements,e=t[0],o=t[1],l=t[2],d=t[3],g=t[4],b=t[5],M=t[6],O=t[7],T=t[8],D=T*g-b*O,R=b*M-T*d,k=O*d-g*M,U=e*D+o*R+l*k;if(0===U)return this.set(0,0,0,0,0,0,0,0,0);const j=1/U;return t[0]=D*j,t[1]=(l*O-T*o)*j,t[2]=(b*o-l*g)*j,t[3]=R*j,t[4]=(T*e-l*M)*j,t[5]=(l*d-b*e)*j,t[6]=k*j,t[7]=(o*M-O*e)*j,t[8]=(g*e-o*d)*j,this}transpose(){let t;const e=this.elements;return t=e[1],e[1]=e[3],e[3]=t,t=e[2],e[2]=e[6],e[6]=t,t=e[5],e[5]=e[7],e[7]=t,this}getNormalMatrix(t){return this.setFromMatrix4(t).invert().transpose()}transposeIntoArray(t){const e=this.elements;return t[0]=e[0],t[1]=e[3],t[2]=e[6],t[3]=e[1],t[4]=e[4],t[5]=e[7],t[6]=e[2],t[7]=e[5],t[8]=e[8],this}setUvTransform(t,e,o,l,d,g,b){const M=Math.cos(d),O=Math.sin(d);return this.set(o*M,o*O,-o*(M*g+O*b)+g+t,-l*O,l*M,-l*(-O*g+M*b)+b+e,0,0,1),this}scale(t,e){const o=this.elements;return o[0]*=t,o[3]*=t,o[6]*=t,o[1]*=e,o[4]*=e,o[7]*=e,this}rotate(t){const e=Math.cos(t),o=Math.sin(t),l=this.elements,d=l[0],g=l[3],b=l[6],M=l[1],O=l[4],T=l[7];return l[0]=e*d+o*M,l[3]=e*g+o*O,l[6]=e*b+o*T,l[1]=-o*d+e*M,l[4]=-o*g+e*O,l[7]=-o*b+e*T,this}translate(t,e){const o=this.elements;return o[0]+=t*o[2],o[3]+=t*o[5],o[6]+=t*o[8],o[1]+=e*o[2],o[4]+=e*o[5],o[7]+=e*o[8],this}equals(t){const e=this.elements,o=t.elements;for(let l=0;l<9;l++)if(e[l]!==o[l])return!1;return!0}fromArray(t,e=0){for(let o=0;o<9;o++)this.elements[o]=t[o+e];return this}toArray(t=[],e=0){const o=this.elements;return t[e]=o[0],t[e+1]=o[1],t[e+2]=o[2],t[e+3]=o[3],t[e+4]=o[4],t[e+5]=o[5],t[e+6]=o[6],t[e+7]=o[7],t[e+8]=o[8],t}clone(){return(new this.constructor).fromArray(this.elements)}}let sT;Dl.prototype.isMatrix3=!0;class aT{static getDataURL(t){if(/^data:/i.test(t.src)||"undefined"==typeof HTMLCanvasElement)return t.src;let e;if(t instanceof HTMLCanvasElement)e=t;else{void 0===sT&&(sT=document.createElementNS("http://www.w3.org/1999/xhtml","canvas")),sT.width=t.width,sT.height=t.height;const o=sT.getContext("2d");t instanceof ImageData?o.putImageData(t,0,0):o.drawImage(t,0,0,t.width,t.height),e=sT}return e.width>2048||e.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",t),e.toDataURL("image/jpeg",.6)):e.toDataURL("image/png")}}let v7=0;class Il extends Z2{constructor(t=Il.DEFAULT_IMAGE,e=Il.DEFAULT_MAPPING,o=ad,l=ad,d=Tl,g=1008,b=Zp,M=tT,O=1,T=Kp){super(),Object.defineProperty(this,"id",{value:v7++}),this.uuid=Yh(),this.name="",this.image=t,this.mipmaps=[],this.mapping=e,this.wrapS=o,this.wrapT=l,this.magFilter=d,this.minFilter=g,this.anisotropy=O,this.format=b,this.internalFormat=null,this.type=M,this.offset=new vn(0,0),this.repeat=new vn(1,1),this.center=new vn(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dl,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=T,this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return(new this.constructor).copy(this)}copy(t){return this.name=t.name,this.image=t.image,this.mipmaps=t.mipmaps.slice(0),this.mapping=t.mapping,this.wrapS=t.wrapS,this.wrapT=t.wrapT,this.magFilter=t.magFilter,this.minFilter=t.minFilter,this.anisotropy=t.anisotropy,this.format=t.format,this.internalFormat=t.internalFormat,this.type=t.type,this.offset.copy(t.offset),this.repeat.copy(t.repeat),this.center.copy(t.center),this.rotation=t.rotation,this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrix.copy(t.matrix),this.generateMipmaps=t.generateMipmaps,this.premultiplyAlpha=t.premultiplyAlpha,this.flipY=t.flipY,this.unpackAlignment=t.unpackAlignment,this.encoding=t.encoding,this}toJSON(t){const e=void 0===t||"string"==typeof t;if(!e&&void 0!==t.textures[this.uuid])return t.textures[this.uuid];const o={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};if(void 0!==this.image){const l=this.image;if(void 0===l.uuid&&(l.uuid=Yh()),!e&&void 0===t.images[l.uuid]){let d;if(Array.isArray(l)){d=[];for(let g=0,b=l.length;g<b;g++)d.push(BF(l[g].isDataTexture?l[g].image:l[g]))}else d=BF(l);t.images[l.uuid]={uuid:l.uuid,url:d}}o.image=l.uuid}return e||(t.textures[this.uuid]=o),o}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(t){if(300!==this.mapping)return t;if(t.applyMatrix3(this.matrix),t.x<0||t.x>1)switch(this.wrapS){case 1e3:t.x=t.x-Math.floor(t.x);break;case ad:t.x=t.x<0?0:1;break;case 1002:t.x=1===Math.abs(Math.floor(t.x)%2)?Math.ceil(t.x)-t.x:t.x-Math.floor(t.x)}if(t.y<0||t.y>1)switch(this.wrapT){case 1e3:t.y=t.y-Math.floor(t.y);break;case ad:t.y=t.y<0?0:1;break;case 1002:t.y=1===Math.abs(Math.floor(t.y)%2)?Math.ceil(t.y)-t.y:t.y-Math.floor(t.y)}return this.flipY&&(t.y=1-t.y),t}set needsUpdate(t){!0===t&&this.version++}}function BF(a){return"undefined"!=typeof HTMLImageElement&&a instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&a instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&a instanceof ImageBitmap?aT.getDataURL(a):a.data?{data:Array.prototype.slice.call(a.data),width:a.width,height:a.height,type:a.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}Il.DEFAULT_IMAGE=void 0,Il.DEFAULT_MAPPING=300,Il.prototype.isTexture=!0;class gs{constructor(t=0,e=0,o=0,l=1){this.x=t,this.y=e,this.z=o,this.w=l}get width(){return this.z}set width(t){this.z=t}get height(){return this.w}set height(t){this.w=t}set(t,e,o,l){return this.x=t,this.y=e,this.z=o,this.w=l,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this.w=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setW(t){return this.w=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;case 3:this.w=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this.w=void 0!==t.w?t.w:1,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this.w+=t.w,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this.w+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this.w=t.w+e.w,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this.w+=t.w*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this.w-=t.w,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this.w-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this.w=t.w-e.w,this}multiply(t){return this.x*=t.x,this.y*=t.y,this.z*=t.z,this.w*=t.w,this}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this.w*=t,this}applyMatrix4(t){const e=this.x,o=this.y,l=this.z,d=this.w,g=t.elements;return this.x=g[0]*e+g[4]*o+g[8]*l+g[12]*d,this.y=g[1]*e+g[5]*o+g[9]*l+g[13]*d,this.z=g[2]*e+g[6]*o+g[10]*l+g[14]*d,this.w=g[3]*e+g[7]*o+g[11]*l+g[15]*d,this}divideScalar(t){return this.multiplyScalar(1/t)}setAxisAngleFromQuaternion(t){this.w=2*Math.acos(t.w);const e=Math.sqrt(1-t.w*t.w);return e<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=t.x/e,this.y=t.y/e,this.z=t.z/e),this}setAxisAngleFromRotationMatrix(t){let e,o,l,d;const g=.01,b=.1,M=t.elements,O=M[0],T=M[4],D=M[8],R=M[1],k=M[5],U=M[9],j=M[2],Z=M[6],W=M[10];if(Math.abs(T-R)<g&&Math.abs(D-j)<g&&Math.abs(U-Z)<g){if(Math.abs(T+R)<b&&Math.abs(D+j)<b&&Math.abs(U+Z)<b&&Math.abs(O+k+W-3)<b)return this.set(1,0,0,0),this;e=Math.PI;const rt=(O+1)/2,Q=(k+1)/2,gt=(W+1)/2,Ct=(T+R)/4,ut=(D+j)/4,Yt=(U+Z)/4;return rt>Q&&rt>gt?rt<g?(o=0,l=.707106781,d=.707106781):(o=Math.sqrt(rt),l=Ct/o,d=ut/o):Q>gt?Q<g?(o=.707106781,l=0,d=.707106781):(l=Math.sqrt(Q),o=Ct/l,d=Yt/l):gt<g?(o=.707106781,l=.707106781,d=0):(d=Math.sqrt(gt),o=ut/d,l=Yt/d),this.set(o,l,d,e),this}let H=Math.sqrt((Z-U)*(Z-U)+(D-j)*(D-j)+(R-T)*(R-T));return Math.abs(H)<.001&&(H=1),this.x=(Z-U)/H,this.y=(D-j)/H,this.z=(R-T)/H,this.w=Math.acos((O+k+W-1)/2),this}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this.w=Math.min(this.w,t.w),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this.w=Math.max(this.w,t.w),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this.w=Math.max(t.w,Math.min(e.w,this.w)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this.w=Math.max(t,Math.min(e,this.w)),this}clampLength(t,e){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(e,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z+this.w*t.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this.w+=(t.w-this.w)*e,this}lerpVectors(t,e,o){return this.x=t.x+(e.x-t.x)*o,this.y=t.y+(e.y-t.y)*o,this.z=t.z+(e.z-t.z)*o,this.w=t.w+(e.w-t.w)*o,this}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z&&t.w===this.w}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this.w=t[e+3],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t[e+3]=this.w,t}fromBufferAttribute(t,e,o){return void 0!==o&&console.warn("THREE.Vector4: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this.w=t.getW(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}}gs.prototype.isVector4=!0;class X0 extends Z2{constructor(t,e,o={}){super(),this.width=t,this.height=e,this.depth=1,this.scissor=new gs(0,0,t,e),this.scissorTest=!1,this.viewport=new gs(0,0,t,e),this.texture=new Il(void 0,o.mapping,o.wrapS,o.wrapT,o.magFilter,o.minFilter,o.format,o.type,o.anisotropy,o.encoding),this.texture.isRenderTargetTexture=!0,this.texture.image={width:t,height:e,depth:1},this.texture.generateMipmaps=void 0!==o.generateMipmaps&&o.generateMipmaps,this.texture.internalFormat=void 0!==o.internalFormat?o.internalFormat:null,this.texture.minFilter=void 0!==o.minFilter?o.minFilter:Tl,this.depthBuffer=void 0===o.depthBuffer||o.depthBuffer,this.stencilBuffer=void 0!==o.stencilBuffer&&o.stencilBuffer,this.depthTexture=void 0!==o.depthTexture?o.depthTexture:null}setTexture(t){t.image={width:this.width,height:this.height,depth:this.depth},this.texture=t}setSize(t,e,o=1){(this.width!==t||this.height!==e||this.depth!==o)&&(this.width=t,this.height=e,this.depth=o,this.texture.image.width=t,this.texture.image.height=e,this.texture.image.depth=o,this.dispose()),this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e)}clone(){return(new this.constructor).copy(this)}copy(t){return this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.copy(t.viewport),this.texture=t.texture.clone(),this.texture.image=yV({},this.texture.image),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this}dispose(){this.dispatchEvent({type:"dispose"})}}X0.prototype.isWebGLRenderTarget=!0,class extends X0{constructor(t,e,o){super(t,e);const l=this.texture;this.texture=[];for(let d=0;d<o;d++)this.texture[d]=l.clone()}setSize(t,e,o=1){if(this.width!==t||this.height!==e||this.depth!==o){this.width=t,this.height=e,this.depth=o;for(let l=0,d=this.texture.length;l<d;l++)this.texture[l].image.width=t,this.texture[l].image.height=e,this.texture[l].image.depth=o;this.dispose()}return this.viewport.set(0,0,t,e),this.scissor.set(0,0,t,e),this}copy(t){this.dispose(),this.width=t.width,this.height=t.height,this.depth=t.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=t.depthBuffer,this.stencilBuffer=t.stencilBuffer,this.depthTexture=t.depthTexture,this.texture.length=0;for(let e=0,o=t.texture.length;e<o;e++)this.texture[e]=t.texture[e].clone();return this}}.prototype.isWebGLMultipleRenderTargets=!0;class B6 extends X0{constructor(t,e,o){super(t,e,o),this.samples=4}copy(t){return super.copy.call(this,t),this.samples=t.samples,this}}B6.prototype.isWebGLMultisampleRenderTarget=!0;class cd{constructor(t=0,e=0,o=0,l=1){this._x=t,this._y=e,this._z=o,this._w=l}static slerp(t,e,o,l){return console.warn("THREE.Quaternion: Static .slerp() has been deprecated. Use qm.slerpQuaternions( qa, qb, t ) instead."),o.slerpQuaternions(t,e,l)}static slerpFlat(t,e,o,l,d,g,b){let M=o[l+0],O=o[l+1],T=o[l+2],D=o[l+3];const R=d[g+0],k=d[g+1],U=d[g+2],j=d[g+3];if(0===b)return t[e+0]=M,t[e+1]=O,t[e+2]=T,void(t[e+3]=D);if(1===b)return t[e+0]=R,t[e+1]=k,t[e+2]=U,void(t[e+3]=j);if(D!==j||M!==R||O!==k||T!==U){let Z=1-b;const W=M*R+O*k+T*U+D*j,H=W>=0?1:-1,rt=1-W*W;if(rt>Number.EPSILON){const gt=Math.sqrt(rt),Ct=Math.atan2(gt,W*H);Z=Math.sin(Z*Ct)/gt,b=Math.sin(b*Ct)/gt}const Q=b*H;if(M=M*Z+R*Q,O=O*Z+k*Q,T=T*Z+U*Q,D=D*Z+j*Q,Z===1-b){const gt=1/Math.sqrt(M*M+O*O+T*T+D*D);M*=gt,O*=gt,T*=gt,D*=gt}}t[e]=M,t[e+1]=O,t[e+2]=T,t[e+3]=D}static multiplyQuaternionsFlat(t,e,o,l,d,g){const b=o[l],M=o[l+1],O=o[l+2],T=o[l+3],D=d[g],R=d[g+1],k=d[g+2],U=d[g+3];return t[e]=b*U+T*D+M*k-O*R,t[e+1]=M*U+T*R+O*D-b*k,t[e+2]=O*U+T*k+b*R-M*D,t[e+3]=T*U-b*D-M*R-O*k,t}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get w(){return this._w}set w(t){this._w=t,this._onChangeCallback()}set(t,e,o,l){return this._x=t,this._y=e,this._z=o,this._w=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(t){return this._x=t.x,this._y=t.y,this._z=t.z,this._w=t.w,this._onChangeCallback(),this}setFromEuler(t,e){if(!t||!t.isEuler)throw new Error("THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.");const o=t._x,l=t._y,d=t._z,g=t._order,b=Math.cos,M=Math.sin,O=b(o/2),T=b(l/2),D=b(d/2),R=M(o/2),k=M(l/2),U=M(d/2);switch(g){case"XYZ":this._x=R*T*D+O*k*U,this._y=O*k*D-R*T*U,this._z=O*T*U+R*k*D,this._w=O*T*D-R*k*U;break;case"YXZ":this._x=R*T*D+O*k*U,this._y=O*k*D-R*T*U,this._z=O*T*U-R*k*D,this._w=O*T*D+R*k*U;break;case"ZXY":this._x=R*T*D-O*k*U,this._y=O*k*D+R*T*U,this._z=O*T*U+R*k*D,this._w=O*T*D-R*k*U;break;case"ZYX":this._x=R*T*D-O*k*U,this._y=O*k*D+R*T*U,this._z=O*T*U-R*k*D,this._w=O*T*D+R*k*U;break;case"YZX":this._x=R*T*D+O*k*U,this._y=O*k*D+R*T*U,this._z=O*T*U-R*k*D,this._w=O*T*D-R*k*U;break;case"XZY":this._x=R*T*D-O*k*U,this._y=O*k*D-R*T*U,this._z=O*T*U+R*k*D,this._w=O*T*D+R*k*U;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+g)}return!1!==e&&this._onChangeCallback(),this}setFromAxisAngle(t,e){const o=e/2,l=Math.sin(o);return this._x=t.x*l,this._y=t.y*l,this._z=t.z*l,this._w=Math.cos(o),this._onChangeCallback(),this}setFromRotationMatrix(t){const e=t.elements,o=e[0],l=e[4],d=e[8],g=e[1],b=e[5],M=e[9],O=e[2],T=e[6],D=e[10],R=o+b+D;if(R>0){const k=.5/Math.sqrt(R+1);this._w=.25/k,this._x=(T-M)*k,this._y=(d-O)*k,this._z=(g-l)*k}else if(o>b&&o>D){const k=2*Math.sqrt(1+o-b-D);this._w=(T-M)/k,this._x=.25*k,this._y=(l+g)/k,this._z=(d+O)/k}else if(b>D){const k=2*Math.sqrt(1+b-o-D);this._w=(d-O)/k,this._x=(l+g)/k,this._y=.25*k,this._z=(M+T)/k}else{const k=2*Math.sqrt(1+D-o-b);this._w=(g-l)/k,this._x=(d+O)/k,this._y=(M+T)/k,this._z=.25*k}return this._onChangeCallback(),this}setFromUnitVectors(t,e){let o=t.dot(e)+1;return o<Number.EPSILON?(o=0,Math.abs(t.x)>Math.abs(t.z)?(this._x=-t.y,this._y=t.x,this._z=0,this._w=o):(this._x=0,this._y=-t.z,this._z=t.y,this._w=o)):(this._x=t.y*e.z-t.z*e.y,this._y=t.z*e.x-t.x*e.z,this._z=t.x*e.y-t.y*e.x,this._w=o),this.normalize()}angleTo(t){return 2*Math.acos(Math.abs(cu(this.dot(t),-1,1)))}rotateTowards(t,e){const o=this.angleTo(t);if(0===o)return this;const l=Math.min(1,e/o);return this.slerp(t,l),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(t){return this._x*t._x+this._y*t._y+this._z*t._z+this._w*t._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let t=this.length();return 0===t?(this._x=0,this._y=0,this._z=0,this._w=1):(t=1/t,this._x=this._x*t,this._y=this._y*t,this._z=this._z*t,this._w=this._w*t),this._onChangeCallback(),this}multiply(t,e){return void 0!==e?(console.warn("THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead."),this.multiplyQuaternions(t,e)):this.multiplyQuaternions(this,t)}premultiply(t){return this.multiplyQuaternions(t,this)}multiplyQuaternions(t,e){const o=t._x,l=t._y,d=t._z,g=t._w,b=e._x,M=e._y,O=e._z,T=e._w;return this._x=o*T+g*b+l*O-d*M,this._y=l*T+g*M+d*b-o*O,this._z=d*T+g*O+o*M-l*b,this._w=g*T-o*b-l*M-d*O,this._onChangeCallback(),this}slerp(t,e){if(0===e)return this;if(1===e)return this.copy(t);const o=this._x,l=this._y,d=this._z,g=this._w;let b=g*t._w+o*t._x+l*t._y+d*t._z;if(b<0?(this._w=-t._w,this._x=-t._x,this._y=-t._y,this._z=-t._z,b=-b):this.copy(t),b>=1)return this._w=g,this._x=o,this._y=l,this._z=d,this;const M=1-b*b;if(M<=Number.EPSILON){const k=1-e;return this._w=k*g+e*this._w,this._x=k*o+e*this._x,this._y=k*l+e*this._y,this._z=k*d+e*this._z,this.normalize(),this._onChangeCallback(),this}const O=Math.sqrt(M),T=Math.atan2(O,b),D=Math.sin((1-e)*T)/O,R=Math.sin(e*T)/O;return this._w=g*D+this._w*R,this._x=o*D+this._x*R,this._y=l*D+this._y*R,this._z=d*D+this._z*R,this._onChangeCallback(),this}slerpQuaternions(t,e,o){this.copy(t).slerp(e,o)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._w===this._w}fromArray(t,e=0){return this._x=t[e],this._y=t[e+1],this._z=t[e+2],this._w=t[e+3],this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._w,t}fromBufferAttribute(t,e){return this._x=t.getX(e),this._y=t.getY(e),this._z=t.getZ(e),this._w=t.getW(e),this}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}cd.prototype.isQuaternion=!0;class Ot{constructor(t=0,e=0,o=0){this.x=t,this.y=e,this.z=o}set(t,e,o){return void 0===o&&(o=this.z),this.x=t,this.y=e,this.z=o,this}setScalar(t){return this.x=t,this.y=t,this.z=t,this}setX(t){return this.x=t,this}setY(t){return this.y=t,this}setZ(t){return this.z=t,this}setComponent(t,e){switch(t){case 0:this.x=e;break;case 1:this.y=e;break;case 2:this.z=e;break;default:throw new Error("index is out of range: "+t)}return this}getComponent(t){switch(t){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+t)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(t){return this.x=t.x,this.y=t.y,this.z=t.z,this}add(t,e){return void 0!==e?(console.warn("THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead."),this.addVectors(t,e)):(this.x+=t.x,this.y+=t.y,this.z+=t.z,this)}addScalar(t){return this.x+=t,this.y+=t,this.z+=t,this}addVectors(t,e){return this.x=t.x+e.x,this.y=t.y+e.y,this.z=t.z+e.z,this}addScaledVector(t,e){return this.x+=t.x*e,this.y+=t.y*e,this.z+=t.z*e,this}sub(t,e){return void 0!==e?(console.warn("THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead."),this.subVectors(t,e)):(this.x-=t.x,this.y-=t.y,this.z-=t.z,this)}subScalar(t){return this.x-=t,this.y-=t,this.z-=t,this}subVectors(t,e){return this.x=t.x-e.x,this.y=t.y-e.y,this.z=t.z-e.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead."),this.multiplyVectors(t,e)):(this.x*=t.x,this.y*=t.y,this.z*=t.z,this)}multiplyScalar(t){return this.x*=t,this.y*=t,this.z*=t,this}multiplyVectors(t,e){return this.x=t.x*e.x,this.y=t.y*e.y,this.z=t.z*e.z,this}applyEuler(t){return t&&t.isEuler||console.error("THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order."),this.applyQuaternion(U6.setFromEuler(t))}applyAxisAngle(t,e){return this.applyQuaternion(U6.setFromAxisAngle(t,e))}applyMatrix3(t){const e=this.x,o=this.y,l=this.z,d=t.elements;return this.x=d[0]*e+d[3]*o+d[6]*l,this.y=d[1]*e+d[4]*o+d[7]*l,this.z=d[2]*e+d[5]*o+d[8]*l,this}applyNormalMatrix(t){return this.applyMatrix3(t).normalize()}applyMatrix4(t){const e=this.x,o=this.y,l=this.z,d=t.elements,g=1/(d[3]*e+d[7]*o+d[11]*l+d[15]);return this.x=(d[0]*e+d[4]*o+d[8]*l+d[12])*g,this.y=(d[1]*e+d[5]*o+d[9]*l+d[13])*g,this.z=(d[2]*e+d[6]*o+d[10]*l+d[14])*g,this}applyQuaternion(t){const e=this.x,o=this.y,l=this.z,d=t.x,g=t.y,b=t.z,M=t.w,O=M*e+g*l-b*o,T=M*o+b*e-d*l,D=M*l+d*o-g*e,R=-d*e-g*o-b*l;return this.x=O*M+R*-d+T*-b-D*-g,this.y=T*M+R*-g+D*-d-O*-b,this.z=D*M+R*-b+O*-g-T*-d,this}project(t){return this.applyMatrix4(t.matrixWorldInverse).applyMatrix4(t.projectionMatrix)}unproject(t){return this.applyMatrix4(t.projectionMatrixInverse).applyMatrix4(t.matrixWorld)}transformDirection(t){const e=this.x,o=this.y,l=this.z,d=t.elements;return this.x=d[0]*e+d[4]*o+d[8]*l,this.y=d[1]*e+d[5]*o+d[9]*l,this.z=d[2]*e+d[6]*o+d[10]*l,this.normalize()}divide(t){return this.x/=t.x,this.y/=t.y,this.z/=t.z,this}divideScalar(t){return this.multiplyScalar(1/t)}min(t){return this.x=Math.min(this.x,t.x),this.y=Math.min(this.y,t.y),this.z=Math.min(this.z,t.z),this}max(t){return this.x=Math.max(this.x,t.x),this.y=Math.max(this.y,t.y),this.z=Math.max(this.z,t.z),this}clamp(t,e){return this.x=Math.max(t.x,Math.min(e.x,this.x)),this.y=Math.max(t.y,Math.min(e.y,this.y)),this.z=Math.max(t.z,Math.min(e.z,this.z)),this}clampScalar(t,e){return this.x=Math.max(t,Math.min(e,this.x)),this.y=Math.max(t,Math.min(e,this.y)),this.z=Math.max(t,Math.min(e,this.z)),this}clampLength(t,e){const o=this.length();return this.divideScalar(o||1).multiplyScalar(Math.max(t,Math.min(e,o)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(t){return this.x*t.x+this.y*t.y+this.z*t.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(t){return this.normalize().multiplyScalar(t)}lerp(t,e){return this.x+=(t.x-this.x)*e,this.y+=(t.y-this.y)*e,this.z+=(t.z-this.z)*e,this}lerpVectors(t,e,o){return this.x=t.x+(e.x-t.x)*o,this.y=t.y+(e.y-t.y)*o,this.z=t.z+(e.z-t.z)*o,this}cross(t,e){return void 0!==e?(console.warn("THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead."),this.crossVectors(t,e)):this.crossVectors(this,t)}crossVectors(t,e){const o=t.x,l=t.y,d=t.z,g=e.x,b=e.y,M=e.z;return this.x=l*M-d*b,this.y=d*g-o*M,this.z=o*b-l*g,this}projectOnVector(t){const e=t.lengthSq();if(0===e)return this.set(0,0,0);const o=t.dot(this)/e;return this.copy(t).multiplyScalar(o)}projectOnPlane(t){return UF.copy(this).projectOnVector(t),this.sub(UF)}reflect(t){return this.sub(UF.copy(t).multiplyScalar(2*this.dot(t)))}angleTo(t){const e=Math.sqrt(this.lengthSq()*t.lengthSq());if(0===e)return Math.PI/2;const o=this.dot(t)/e;return Math.acos(cu(o,-1,1))}distanceTo(t){return Math.sqrt(this.distanceToSquared(t))}distanceToSquared(t){const e=this.x-t.x,o=this.y-t.y,l=this.z-t.z;return e*e+o*o+l*l}manhattanDistanceTo(t){return Math.abs(this.x-t.x)+Math.abs(this.y-t.y)+Math.abs(this.z-t.z)}setFromSpherical(t){return this.setFromSphericalCoords(t.radius,t.phi,t.theta)}setFromSphericalCoords(t,e,o){const l=Math.sin(e)*t;return this.x=l*Math.sin(o),this.y=Math.cos(e)*t,this.z=l*Math.cos(o),this}setFromCylindrical(t){return this.setFromCylindricalCoords(t.radius,t.theta,t.y)}setFromCylindricalCoords(t,e,o){return this.x=t*Math.sin(e),this.y=o,this.z=t*Math.cos(e),this}setFromMatrixPosition(t){const e=t.elements;return this.x=e[12],this.y=e[13],this.z=e[14],this}setFromMatrixScale(t){const e=this.setFromMatrixColumn(t,0).length(),o=this.setFromMatrixColumn(t,1).length(),l=this.setFromMatrixColumn(t,2).length();return this.x=e,this.y=o,this.z=l,this}setFromMatrixColumn(t,e){return this.fromArray(t.elements,4*e)}setFromMatrix3Column(t,e){return this.fromArray(t.elements,3*e)}equals(t){return t.x===this.x&&t.y===this.y&&t.z===this.z}fromArray(t,e=0){return this.x=t[e],this.y=t[e+1],this.z=t[e+2],this}toArray(t=[],e=0){return t[e]=this.x,t[e+1]=this.y,t[e+2]=this.z,t}fromBufferAttribute(t,e,o){return void 0!==o&&console.warn("THREE.Vector3: offset has been removed from .fromBufferAttribute()."),this.x=t.getX(e),this.y=t.getY(e),this.z=t.getZ(e),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}}Ot.prototype.isVector3=!0;const UF=new Ot,U6=new cd;class lg{constructor(t=new Ot(1/0,1/0,1/0),e=new Ot(-1/0,-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromArray(t){let e=1/0,o=1/0,l=1/0,d=-1/0,g=-1/0,b=-1/0;for(let M=0,O=t.length;M<O;M+=3){const T=t[M],D=t[M+1],R=t[M+2];T<e&&(e=T),D<o&&(o=D),R<l&&(l=R),T>d&&(d=T),D>g&&(g=D),R>b&&(b=R)}return this.min.set(e,o,l),this.max.set(d,g,b),this}setFromBufferAttribute(t){let e=1/0,o=1/0,l=1/0,d=-1/0,g=-1/0,b=-1/0;for(let M=0,O=t.count;M<O;M++){const T=t.getX(M),D=t.getY(M),R=t.getZ(M);T<e&&(e=T),D<o&&(o=D),R<l&&(l=R),T>d&&(d=T),D>g&&(g=D),R>b&&(b=R)}return this.min.set(e,o,l),this.max.set(d,g,b),this}setFromPoints(t){this.makeEmpty();for(let e=0,o=t.length;e<o;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const o=GI.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(o),this.max.copy(t).add(o),this}setFromObject(t){return this.makeEmpty(),this.expandByObject(t)}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(t){return this.isEmpty()?t.set(0,0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}expandByObject(t){t.updateWorldMatrix(!1,!1);const e=t.geometry;void 0!==e&&(null===e.boundingBox&&e.computeBoundingBox(),VF.copy(e.boundingBox),VF.applyMatrix4(t.matrixWorld),this.union(VF));const o=t.children;for(let l=0,d=o.length;l<d;l++)this.expandByObject(o[l]);return this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y||t.z<this.min.z||t.z>this.max.z)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y&&this.min.z<=t.min.z&&t.max.z<=this.max.z}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y),(t.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y||t.max.z<this.min.z||t.min.z>this.max.z)}intersectsSphere(t){return this.clampPoint(t.center,GI),GI.distanceToSquared(t.center)<=t.radius*t.radius}intersectsPlane(t){let e,o;return t.normal.x>0?(e=t.normal.x*this.min.x,o=t.normal.x*this.max.x):(e=t.normal.x*this.max.x,o=t.normal.x*this.min.x),t.normal.y>0?(e+=t.normal.y*this.min.y,o+=t.normal.y*this.max.y):(e+=t.normal.y*this.max.y,o+=t.normal.y*this.min.y),t.normal.z>0?(e+=t.normal.z*this.min.z,o+=t.normal.z*this.max.z):(e+=t.normal.z*this.max.z,o+=t.normal.z*this.min.z),e<=-t.constant&&o>=-t.constant}intersectsTriangle(t){if(this.isEmpty())return!1;this.getCenter(jI),Nk.subVectors(this.max,jI),cT.subVectors(t.a,jI),lT.subVectors(t.b,jI),uT.subVectors(t.c,jI),rP.subVectors(lT,cT),iP.subVectors(uT,lT),Q2.subVectors(cT,uT);let e=[0,-rP.z,rP.y,0,-iP.z,iP.y,0,-Q2.z,Q2.y,rP.z,0,-rP.x,iP.z,0,-iP.x,Q2.z,0,-Q2.x,-rP.y,rP.x,0,-iP.y,iP.x,0,-Q2.y,Q2.x,0];return!(!zF(e,cT,lT,uT,Nk)||(e=[1,0,0,0,1,0,0,0,1],!zF(e,cT,lT,uT,Nk)))&&(Bk.crossVectors(rP,iP),e=[Bk.x,Bk.y,Bk.z],zF(e,cT,lT,uT,Nk))}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return GI.copy(t).clamp(this.min,this.max).sub(t).length()}getBoundingSphere(t){return this.getCenter(t.center),t.radius=.5*this.getSize(GI).length(),t}intersect(t){return this.min.max(t.min),this.max.min(t.max),this.isEmpty()&&this.makeEmpty(),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}applyMatrix4(t){return this.isEmpty()||(Vx[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(t),Vx[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(t),Vx[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(t),Vx[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(t),Vx[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(t),Vx[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(t),Vx[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(t),Vx[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(t),this.setFromPoints(Vx)),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}lg.prototype.isBox3=!0;const Vx=[new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot,new Ot],GI=new Ot,VF=new lg,cT=new Ot,lT=new Ot,uT=new Ot,rP=new Ot,iP=new Ot,Q2=new Ot,jI=new Ot,Nk=new Ot,Bk=new Ot,J2=new Ot;function zF(a,t,e,o,l){for(let d=0,g=a.length-3;d<=g;d+=3){J2.fromArray(a,d);const b=l.x*Math.abs(J2.x)+l.y*Math.abs(J2.y)+l.z*Math.abs(J2.z),M=t.dot(J2),O=e.dot(J2),T=o.dot(J2);if(Math.max(-Math.max(M,O,T),Math.min(M,O,T))>b)return!1}return!0}const b7=new lg,V6=new Ot,HF=new Ot,GF=new Ot;class tE{constructor(t=new Ot,e=-1){this.center=t,this.radius=e}set(t,e){return this.center.copy(t),this.radius=e,this}setFromPoints(t,e){const o=this.center;void 0!==e?o.copy(e):b7.setFromPoints(t).getCenter(o);let l=0;for(let d=0,g=t.length;d<g;d++)l=Math.max(l,o.distanceToSquared(t[d]));return this.radius=Math.sqrt(l),this}copy(t){return this.center.copy(t.center),this.radius=t.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(t){return t.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(t){return t.distanceTo(this.center)-this.radius}intersectsSphere(t){const e=this.radius+t.radius;return t.center.distanceToSquared(this.center)<=e*e}intersectsBox(t){return t.intersectsSphere(this)}intersectsPlane(t){return Math.abs(t.distanceToPoint(this.center))<=this.radius}clampPoint(t,e){const o=this.center.distanceToSquared(t);return e.copy(t),o>this.radius*this.radius&&(e.sub(this.center).normalize(),e.multiplyScalar(this.radius).add(this.center)),e}getBoundingBox(t){return this.isEmpty()?(t.makeEmpty(),t):(t.set(this.center,this.center),t.expandByScalar(this.radius),t)}applyMatrix4(t){return this.center.applyMatrix4(t),this.radius=this.radius*t.getMaxScaleOnAxis(),this}translate(t){return this.center.add(t),this}expandByPoint(t){GF.subVectors(t,this.center);const e=GF.lengthSq();if(e>this.radius*this.radius){const o=Math.sqrt(e),l=.5*(o-this.radius);this.center.add(GF.multiplyScalar(l/o)),this.radius+=l}return this}union(t){return HF.subVectors(t.center,this.center).normalize().multiplyScalar(t.radius),this.expandByPoint(V6.copy(t.center).add(HF)),this.expandByPoint(V6.copy(t.center).sub(HF)),this}equals(t){return t.center.equals(this.center)&&t.radius===this.radius}clone(){return(new this.constructor).copy(this)}}const zx=new Ot,jF=new Ot,Uk=new Ot,oP=new Ot,WF=new Ot,Vk=new Ot,qF=new Ot;class eE{constructor(t=new Ot,e=new Ot(0,0,-1)){this.origin=t,this.direction=e}set(t,e){return this.origin.copy(t),this.direction.copy(e),this}copy(t){return this.origin.copy(t.origin),this.direction.copy(t.direction),this}at(t,e){return e.copy(this.direction).multiplyScalar(t).add(this.origin)}lookAt(t){return this.direction.copy(t).sub(this.origin).normalize(),this}recast(t){return this.origin.copy(this.at(t,zx)),this}closestPointToPoint(t,e){e.subVectors(t,this.origin);const o=e.dot(this.direction);return o<0?e.copy(this.origin):e.copy(this.direction).multiplyScalar(o).add(this.origin)}distanceToPoint(t){return Math.sqrt(this.distanceSqToPoint(t))}distanceSqToPoint(t){const e=zx.subVectors(t,this.origin).dot(this.direction);return e<0?this.origin.distanceToSquared(t):(zx.copy(this.direction).multiplyScalar(e).add(this.origin),zx.distanceToSquared(t))}distanceSqToSegment(t,e,o,l){jF.copy(t).add(e).multiplyScalar(.5),Uk.copy(e).sub(t).normalize(),oP.copy(this.origin).sub(jF);const d=.5*t.distanceTo(e),g=-this.direction.dot(Uk),b=oP.dot(this.direction),M=-oP.dot(Uk),O=oP.lengthSq(),T=Math.abs(1-g*g);let D,R,k,U;if(T>0)if(D=g*M-b,R=g*b-M,U=d*T,D>=0)if(R>=-U)if(R<=U){const j=1/T;D*=j,R*=j,k=D*(D+g*R+2*b)+R*(g*D+R+2*M)+O}else R=d,D=Math.max(0,-(g*R+b)),k=-D*D+R*(R+2*M)+O;else R=-d,D=Math.max(0,-(g*R+b)),k=-D*D+R*(R+2*M)+O;else R<=-U?(D=Math.max(0,-(-g*d+b)),R=D>0?-d:Math.min(Math.max(-d,-M),d),k=-D*D+R*(R+2*M)+O):R<=U?(D=0,R=Math.min(Math.max(-d,-M),d),k=R*(R+2*M)+O):(D=Math.max(0,-(g*d+b)),R=D>0?d:Math.min(Math.max(-d,-M),d),k=-D*D+R*(R+2*M)+O);else R=g>0?-d:d,D=Math.max(0,-(g*R+b)),k=-D*D+R*(R+2*M)+O;return o&&o.copy(this.direction).multiplyScalar(D).add(this.origin),l&&l.copy(Uk).multiplyScalar(R).add(jF),k}intersectSphere(t,e){zx.subVectors(t.center,this.origin);const o=zx.dot(this.direction),l=zx.dot(zx)-o*o,d=t.radius*t.radius;if(l>d)return null;const g=Math.sqrt(d-l),b=o-g,M=o+g;return b<0&&M<0?null:this.at(b<0?M:b,e)}intersectsSphere(t){return this.distanceSqToPoint(t.center)<=t.radius*t.radius}distanceToPlane(t){const e=t.normal.dot(this.direction);if(0===e)return 0===t.distanceToPoint(this.origin)?0:null;const o=-(this.origin.dot(t.normal)+t.constant)/e;return o>=0?o:null}intersectPlane(t,e){const o=this.distanceToPlane(t);return null===o?null:this.at(o,e)}intersectsPlane(t){const e=t.distanceToPoint(this.origin);return 0===e||t.normal.dot(this.direction)*e<0}intersectBox(t,e){let o,l,d,g,b,M;const O=1/this.direction.x,T=1/this.direction.y,D=1/this.direction.z,R=this.origin;return O>=0?(o=(t.min.x-R.x)*O,l=(t.max.x-R.x)*O):(o=(t.max.x-R.x)*O,l=(t.min.x-R.x)*O),T>=0?(d=(t.min.y-R.y)*T,g=(t.max.y-R.y)*T):(d=(t.max.y-R.y)*T,g=(t.min.y-R.y)*T),o>g||d>l||((d>o||o!=o)&&(o=d),(g<l||l!=l)&&(l=g),D>=0?(b=(t.min.z-R.z)*D,M=(t.max.z-R.z)*D):(b=(t.max.z-R.z)*D,M=(t.min.z-R.z)*D),o>M||b>l)||((b>o||o!=o)&&(o=b),(M<l||l!=l)&&(l=M),l<0)?null:this.at(o>=0?o:l,e)}intersectsBox(t){return null!==this.intersectBox(t,zx)}intersectTriangle(t,e,o,l,d){WF.subVectors(e,t),Vk.subVectors(o,t),qF.crossVectors(WF,Vk);let b,g=this.direction.dot(qF);if(g>0){if(l)return null;b=1}else{if(!(g<0))return null;b=-1,g=-g}oP.subVectors(this.origin,t);const M=b*this.direction.dot(Vk.crossVectors(oP,Vk));if(M<0)return null;const O=b*this.direction.dot(WF.cross(oP));if(O<0||M+O>g)return null;const T=-b*oP.dot(qF);return T<0?null:this.at(T/g,d)}applyMatrix4(t){return this.origin.applyMatrix4(t),this.direction.transformDirection(t),this}equals(t){return t.origin.equals(this.origin)&&t.direction.equals(this.direction)}clone(){return(new this.constructor).copy(this)}}class fr{constructor(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],arguments.length>0&&console.error("THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.")}set(t,e,o,l,d,g,b,M,O,T,D,R,k,U,j,Z){const W=this.elements;return W[0]=t,W[4]=e,W[8]=o,W[12]=l,W[1]=d,W[5]=g,W[9]=b,W[13]=M,W[2]=O,W[6]=T,W[10]=D,W[14]=R,W[3]=k,W[7]=U,W[11]=j,W[15]=Z,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return(new fr).fromArray(this.elements)}copy(t){const e=this.elements,o=t.elements;return e[0]=o[0],e[1]=o[1],e[2]=o[2],e[3]=o[3],e[4]=o[4],e[5]=o[5],e[6]=o[6],e[7]=o[7],e[8]=o[8],e[9]=o[9],e[10]=o[10],e[11]=o[11],e[12]=o[12],e[13]=o[13],e[14]=o[14],e[15]=o[15],this}copyPosition(t){const e=this.elements,o=t.elements;return e[12]=o[12],e[13]=o[13],e[14]=o[14],this}setFromMatrix3(t){const e=t.elements;return this.set(e[0],e[3],e[6],0,e[1],e[4],e[7],0,e[2],e[5],e[8],0,0,0,0,1),this}extractBasis(t,e,o){return t.setFromMatrixColumn(this,0),e.setFromMatrixColumn(this,1),o.setFromMatrixColumn(this,2),this}makeBasis(t,e,o){return this.set(t.x,e.x,o.x,0,t.y,e.y,o.y,0,t.z,e.z,o.z,0,0,0,0,1),this}extractRotation(t){const e=this.elements,o=t.elements,l=1/dT.setFromMatrixColumn(t,0).length(),d=1/dT.setFromMatrixColumn(t,1).length(),g=1/dT.setFromMatrixColumn(t,2).length();return e[0]=o[0]*l,e[1]=o[1]*l,e[2]=o[2]*l,e[3]=0,e[4]=o[4]*d,e[5]=o[5]*d,e[6]=o[6]*d,e[7]=0,e[8]=o[8]*g,e[9]=o[9]*g,e[10]=o[10]*g,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromEuler(t){t&&t.isEuler||console.error("THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.");const e=this.elements,o=t.x,l=t.y,d=t.z,g=Math.cos(o),b=Math.sin(o),M=Math.cos(l),O=Math.sin(l),T=Math.cos(d),D=Math.sin(d);if("XYZ"===t.order){const R=g*T,k=g*D,U=b*T,j=b*D;e[0]=M*T,e[4]=-M*D,e[8]=O,e[1]=k+U*O,e[5]=R-j*O,e[9]=-b*M,e[2]=j-R*O,e[6]=U+k*O,e[10]=g*M}else if("YXZ"===t.order){const R=M*T,k=M*D,U=O*T,j=O*D;e[0]=R+j*b,e[4]=U*b-k,e[8]=g*O,e[1]=g*D,e[5]=g*T,e[9]=-b,e[2]=k*b-U,e[6]=j+R*b,e[10]=g*M}else if("ZXY"===t.order){const R=M*T,k=M*D,U=O*T,j=O*D;e[0]=R-j*b,e[4]=-g*D,e[8]=U+k*b,e[1]=k+U*b,e[5]=g*T,e[9]=j-R*b,e[2]=-g*O,e[6]=b,e[10]=g*M}else if("ZYX"===t.order){const R=g*T,k=g*D,U=b*T,j=b*D;e[0]=M*T,e[4]=U*O-k,e[8]=R*O+j,e[1]=M*D,e[5]=j*O+R,e[9]=k*O-U,e[2]=-O,e[6]=b*M,e[10]=g*M}else if("YZX"===t.order){const R=g*M,k=g*O,U=b*M,j=b*O;e[0]=M*T,e[4]=j-R*D,e[8]=U*D+k,e[1]=D,e[5]=g*T,e[9]=-b*T,e[2]=-O*T,e[6]=k*D+U,e[10]=R-j*D}else if("XZY"===t.order){const R=g*M,k=g*O,U=b*M,j=b*O;e[0]=M*T,e[4]=-D,e[8]=O*T,e[1]=R*D+j,e[5]=g*T,e[9]=k*D-U,e[2]=U*D-k,e[6]=b*T,e[10]=j*D+R}return e[3]=0,e[7]=0,e[11]=0,e[12]=0,e[13]=0,e[14]=0,e[15]=1,this}makeRotationFromQuaternion(t){return this.compose(y7,t,x7)}lookAt(t,e,o){const l=this.elements;return Xh.subVectors(t,e),0===Xh.lengthSq()&&(Xh.z=1),Xh.normalize(),sP.crossVectors(o,Xh),0===sP.lengthSq()&&(1===Math.abs(o.z)?Xh.x+=1e-4:Xh.z+=1e-4,Xh.normalize(),sP.crossVectors(o,Xh)),sP.normalize(),zk.crossVectors(Xh,sP),l[0]=sP.x,l[4]=zk.x,l[8]=Xh.x,l[1]=sP.y,l[5]=zk.y,l[9]=Xh.y,l[2]=sP.z,l[6]=zk.z,l[10]=Xh.z,this}multiply(t,e){return void 0!==e?(console.warn("THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead."),this.multiplyMatrices(t,e)):this.multiplyMatrices(this,t)}premultiply(t){return this.multiplyMatrices(t,this)}multiplyMatrices(t,e){const o=t.elements,l=e.elements,d=this.elements,g=o[0],b=o[4],M=o[8],O=o[12],T=o[1],D=o[5],R=o[9],k=o[13],U=o[2],j=o[6],Z=o[10],W=o[14],H=o[3],rt=o[7],Q=o[11],gt=o[15],Ct=l[0],ut=l[4],Yt=l[8],re=l[12],ee=l[1],kt=l[5],je=l[9],de=l[13],fe=l[2],De=l[6],Ee=l[10],Be=l[14],pn=l[3],Nn=l[7],Jn=l[11],kn=l[15];return d[0]=g*Ct+b*ee+M*fe+O*pn,d[4]=g*ut+b*kt+M*De+O*Nn,d[8]=g*Yt+b*je+M*Ee+O*Jn,d[12]=g*re+b*de+M*Be+O*kn,d[1]=T*Ct+D*ee+R*fe+k*pn,d[5]=T*ut+D*kt+R*De+k*Nn,d[9]=T*Yt+D*je+R*Ee+k*Jn,d[13]=T*re+D*de+R*Be+k*kn,d[2]=U*Ct+j*ee+Z*fe+W*pn,d[6]=U*ut+j*kt+Z*De+W*Nn,d[10]=U*Yt+j*je+Z*Ee+W*Jn,d[14]=U*re+j*de+Z*Be+W*kn,d[3]=H*Ct+rt*ee+Q*fe+gt*pn,d[7]=H*ut+rt*kt+Q*De+gt*Nn,d[11]=H*Yt+rt*je+Q*Ee+gt*Jn,d[15]=H*re+rt*de+Q*Be+gt*kn,this}multiplyScalar(t){const e=this.elements;return e[0]*=t,e[4]*=t,e[8]*=t,e[12]*=t,e[1]*=t,e[5]*=t,e[9]*=t,e[13]*=t,e[2]*=t,e[6]*=t,e[10]*=t,e[14]*=t,e[3]*=t,e[7]*=t,e[11]*=t,e[15]*=t,this}determinant(){const t=this.elements,e=t[0],o=t[4],l=t[8],d=t[12],g=t[1],b=t[5],M=t[9],O=t[13],T=t[2],D=t[6],R=t[10],k=t[14];return t[3]*(+d*M*D-l*O*D-d*b*R+o*O*R+l*b*k-o*M*k)+t[7]*(+e*M*k-e*O*R+d*g*R-l*g*k+l*O*T-d*M*T)+t[11]*(+e*O*D-e*b*k-d*g*D+o*g*k+d*b*T-o*O*T)+t[15]*(-l*b*T-e*M*D+e*b*R+l*g*D-o*g*R+o*M*T)}transpose(){const t=this.elements;let e;return e=t[1],t[1]=t[4],t[4]=e,e=t[2],t[2]=t[8],t[8]=e,e=t[6],t[6]=t[9],t[9]=e,e=t[3],t[3]=t[12],t[12]=e,e=t[7],t[7]=t[13],t[13]=e,e=t[11],t[11]=t[14],t[14]=e,this}setPosition(t,e,o){const l=this.elements;return t.isVector3?(l[12]=t.x,l[13]=t.y,l[14]=t.z):(l[12]=t,l[13]=e,l[14]=o),this}invert(){const t=this.elements,e=t[0],o=t[1],l=t[2],d=t[3],g=t[4],b=t[5],M=t[6],O=t[7],T=t[8],D=t[9],R=t[10],k=t[11],U=t[12],j=t[13],Z=t[14],W=t[15],H=D*Z*O-j*R*O+j*M*k-b*Z*k-D*M*W+b*R*W,rt=U*R*O-T*Z*O-U*M*k+g*Z*k+T*M*W-g*R*W,Q=T*j*O-U*D*O+U*b*k-g*j*k-T*b*W+g*D*W,gt=U*D*M-T*j*M-U*b*R+g*j*R+T*b*Z-g*D*Z,Ct=e*H+o*rt+l*Q+d*gt;if(0===Ct)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const ut=1/Ct;return t[0]=H*ut,t[1]=(j*R*d-D*Z*d-j*l*k+o*Z*k+D*l*W-o*R*W)*ut,t[2]=(b*Z*d-j*M*d+j*l*O-o*Z*O-b*l*W+o*M*W)*ut,t[3]=(D*M*d-b*R*d-D*l*O+o*R*O+b*l*k-o*M*k)*ut,t[4]=rt*ut,t[5]=(T*Z*d-U*R*d+U*l*k-e*Z*k-T*l*W+e*R*W)*ut,t[6]=(U*M*d-g*Z*d-U*l*O+e*Z*O+g*l*W-e*M*W)*ut,t[7]=(g*R*d-T*M*d+T*l*O-e*R*O-g*l*k+e*M*k)*ut,t[8]=Q*ut,t[9]=(U*D*d-T*j*d-U*o*k+e*j*k+T*o*W-e*D*W)*ut,t[10]=(g*j*d-U*b*d+U*o*O-e*j*O-g*o*W+e*b*W)*ut,t[11]=(T*b*d-g*D*d-T*o*O+e*D*O+g*o*k-e*b*k)*ut,t[12]=gt*ut,t[13]=(T*j*l-U*D*l+U*o*R-e*j*R-T*o*Z+e*D*Z)*ut,t[14]=(U*b*l-g*j*l-U*o*M+e*j*M+g*o*Z-e*b*Z)*ut,t[15]=(g*D*l-T*b*l+T*o*M-e*D*M-g*o*R+e*b*R)*ut,this}scale(t){const e=this.elements,o=t.x,l=t.y,d=t.z;return e[0]*=o,e[4]*=l,e[8]*=d,e[1]*=o,e[5]*=l,e[9]*=d,e[2]*=o,e[6]*=l,e[10]*=d,e[3]*=o,e[7]*=l,e[11]*=d,this}getMaxScaleOnAxis(){const t=this.elements;return Math.sqrt(Math.max(t[0]*t[0]+t[1]*t[1]+t[2]*t[2],t[4]*t[4]+t[5]*t[5]+t[6]*t[6],t[8]*t[8]+t[9]*t[9]+t[10]*t[10]))}makeTranslation(t,e,o){return this.set(1,0,0,t,0,1,0,e,0,0,1,o,0,0,0,1),this}makeRotationX(t){const e=Math.cos(t),o=Math.sin(t);return this.set(1,0,0,0,0,e,-o,0,0,o,e,0,0,0,0,1),this}makeRotationY(t){const e=Math.cos(t),o=Math.sin(t);return this.set(e,0,o,0,0,1,0,0,-o,0,e,0,0,0,0,1),this}makeRotationZ(t){const e=Math.cos(t),o=Math.sin(t);return this.set(e,-o,0,0,o,e,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(t,e){const o=Math.cos(e),l=Math.sin(e),d=1-o,g=t.x,b=t.y,M=t.z,O=d*g,T=d*b;return this.set(O*g+o,O*b-l*M,O*M+l*b,0,O*b+l*M,T*b+o,T*M-l*g,0,O*M-l*b,T*M+l*g,d*M*M+o,0,0,0,0,1),this}makeScale(t,e,o){return this.set(t,0,0,0,0,e,0,0,0,0,o,0,0,0,0,1),this}makeShear(t,e,o,l,d,g){return this.set(1,o,d,0,t,1,g,0,e,l,1,0,0,0,0,1),this}compose(t,e,o){const l=this.elements,d=e._x,g=e._y,b=e._z,M=e._w,O=d+d,T=g+g,D=b+b,R=d*O,k=d*T,U=d*D,j=g*T,Z=g*D,W=b*D,H=M*O,rt=M*T,Q=M*D,gt=o.x,Ct=o.y,ut=o.z;return l[0]=(1-(j+W))*gt,l[1]=(k+Q)*gt,l[2]=(U-rt)*gt,l[3]=0,l[4]=(k-Q)*Ct,l[5]=(1-(R+W))*Ct,l[6]=(Z+H)*Ct,l[7]=0,l[8]=(U+rt)*ut,l[9]=(Z-H)*ut,l[10]=(1-(R+j))*ut,l[11]=0,l[12]=t.x,l[13]=t.y,l[14]=t.z,l[15]=1,this}decompose(t,e,o){const l=this.elements;let d=dT.set(l[0],l[1],l[2]).length();const g=dT.set(l[4],l[5],l[6]).length(),b=dT.set(l[8],l[9],l[10]).length();this.determinant()<0&&(d=-d),t.x=l[12],t.y=l[13],t.z=l[14],pv.copy(this);const O=1/d,T=1/g,D=1/b;return pv.elements[0]*=O,pv.elements[1]*=O,pv.elements[2]*=O,pv.elements[4]*=T,pv.elements[5]*=T,pv.elements[6]*=T,pv.elements[8]*=D,pv.elements[9]*=D,pv.elements[10]*=D,e.setFromRotationMatrix(pv),o.x=d,o.y=g,o.z=b,this}makePerspective(t,e,o,l,d,g){void 0===g&&console.warn("THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.");const b=this.elements,O=2*d/(o-l),T=(e+t)/(e-t),D=(o+l)/(o-l),R=-(g+d)/(g-d),k=-2*g*d/(g-d);return b[0]=2*d/(e-t),b[4]=0,b[8]=T,b[12]=0,b[1]=0,b[5]=O,b[9]=D,b[13]=0,b[2]=0,b[6]=0,b[10]=R,b[14]=k,b[3]=0,b[7]=0,b[11]=-1,b[15]=0,this}makeOrthographic(t,e,o,l,d,g){const b=this.elements,M=1/(e-t),O=1/(o-l),T=1/(g-d),D=(e+t)*M,R=(o+l)*O,k=(g+d)*T;return b[0]=2*M,b[4]=0,b[8]=0,b[12]=-D,b[1]=0,b[5]=2*O,b[9]=0,b[13]=-R,b[2]=0,b[6]=0,b[10]=-2*T,b[14]=-k,b[3]=0,b[7]=0,b[11]=0,b[15]=1,this}equals(t){const e=this.elements,o=t.elements;for(let l=0;l<16;l++)if(e[l]!==o[l])return!1;return!0}fromArray(t,e=0){for(let o=0;o<16;o++)this.elements[o]=t[o+e];return this}toArray(t=[],e=0){const o=this.elements;return t[e]=o[0],t[e+1]=o[1],t[e+2]=o[2],t[e+3]=o[3],t[e+4]=o[4],t[e+5]=o[5],t[e+6]=o[6],t[e+7]=o[7],t[e+8]=o[8],t[e+9]=o[9],t[e+10]=o[10],t[e+11]=o[11],t[e+12]=o[12],t[e+13]=o[13],t[e+14]=o[14],t[e+15]=o[15],t}}fr.prototype.isMatrix4=!0;const dT=new Ot,pv=new fr,y7=new Ot(0,0,0),x7=new Ot(1,1,1),sP=new Ot,zk=new Ot,Xh=new Ot,z6=new fr,H6=new cd;class pT{constructor(t=0,e=0,o=0,l=pT.DefaultOrder){this._x=t,this._y=e,this._z=o,this._order=l}get x(){return this._x}set x(t){this._x=t,this._onChangeCallback()}get y(){return this._y}set y(t){this._y=t,this._onChangeCallback()}get z(){return this._z}set z(t){this._z=t,this._onChangeCallback()}get order(){return this._order}set order(t){this._order=t,this._onChangeCallback()}set(t,e,o,l=this._order){return this._x=t,this._y=e,this._z=o,this._order=l,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(t){return this._x=t._x,this._y=t._y,this._z=t._z,this._order=t._order,this._onChangeCallback(),this}setFromRotationMatrix(t,e=this._order,o=!0){const l=t.elements,d=l[0],g=l[4],b=l[8],M=l[1],O=l[5],T=l[9],D=l[2],R=l[6],k=l[10];switch(e){case"XYZ":this._y=Math.asin(cu(b,-1,1)),Math.abs(b)<.9999999?(this._x=Math.atan2(-T,k),this._z=Math.atan2(-g,d)):(this._x=Math.atan2(R,O),this._z=0);break;case"YXZ":this._x=Math.asin(-cu(T,-1,1)),Math.abs(T)<.9999999?(this._y=Math.atan2(b,k),this._z=Math.atan2(M,O)):(this._y=Math.atan2(-D,d),this._z=0);break;case"ZXY":this._x=Math.asin(cu(R,-1,1)),Math.abs(R)<.9999999?(this._y=Math.atan2(-D,k),this._z=Math.atan2(-g,O)):(this._y=0,this._z=Math.atan2(M,d));break;case"ZYX":this._y=Math.asin(-cu(D,-1,1)),Math.abs(D)<.9999999?(this._x=Math.atan2(R,k),this._z=Math.atan2(M,d)):(this._x=0,this._z=Math.atan2(-g,O));break;case"YZX":this._z=Math.asin(cu(M,-1,1)),Math.abs(M)<.9999999?(this._x=Math.atan2(-T,O),this._y=Math.atan2(-D,d)):(this._x=0,this._y=Math.atan2(b,k));break;case"XZY":this._z=Math.asin(-cu(g,-1,1)),Math.abs(g)<.9999999?(this._x=Math.atan2(R,O),this._y=Math.atan2(b,d)):(this._x=Math.atan2(-T,k),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+e)}return this._order=e,!0===o&&this._onChangeCallback(),this}setFromQuaternion(t,e,o){return z6.makeRotationFromQuaternion(t),this.setFromRotationMatrix(z6,e,o)}setFromVector3(t,e=this._order){return this.set(t.x,t.y,t.z,e)}reorder(t){return H6.setFromEuler(this),this.setFromQuaternion(H6,t)}equals(t){return t._x===this._x&&t._y===this._y&&t._z===this._z&&t._order===this._order}fromArray(t){return this._x=t[0],this._y=t[1],this._z=t[2],void 0!==t[3]&&(this._order=t[3]),this._onChangeCallback(),this}toArray(t=[],e=0){return t[e]=this._x,t[e+1]=this._y,t[e+2]=this._z,t[e+3]=this._order,t}toVector3(t){return t?t.set(this._x,this._y,this._z):new Ot(this._x,this._y,this._z)}_onChange(t){return this._onChangeCallback=t,this}_onChangeCallback(){}}pT.prototype.isEuler=!0,pT.DefaultOrder="XYZ",pT.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class G6{constructor(){this.mask=1}set(t){this.mask=1<<t|0}enable(t){this.mask|=1<<t|0}enableAll(){this.mask=-1}toggle(t){this.mask^=1<<t|0}disable(t){this.mask&=~(1<<t|0)}disableAll(){this.mask=0}test(t){return 0!=(this.mask&t.mask)}}let C7=0;const j6=new Ot,hT=new cd,Hx=new fr,Hk=new Ot,WI=new Ot,M7=new Ot,P7=new cd,W6=new Ot(1,0,0),q6=new Ot(0,1,0),$6=new Ot(0,0,1),w7={type:"added"},Y6={type:"removed"};class ts extends Z2{constructor(){super(),Object.defineProperty(this,"id",{value:C7++}),this.uuid=Yh(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=ts.DefaultUp.clone();const t=new Ot,e=new pT,o=new cd,l=new Ot(1,1,1);e._onChange(function(){o.setFromEuler(e,!1)}),o._onChange(function(){e.setFromQuaternion(o,void 0,!1)}),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:t},rotation:{configurable:!0,enumerable:!0,value:e},quaternion:{configurable:!0,enumerable:!0,value:o},scale:{configurable:!0,enumerable:!0,value:l},modelViewMatrix:{value:new fr},normalMatrix:{value:new Dl}}),this.matrix=new fr,this.matrixWorld=new fr,this.matrixAutoUpdate=ts.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.layers=new G6,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(t){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(t),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(t){return this.quaternion.premultiply(t),this}setRotationFromAxisAngle(t,e){this.quaternion.setFromAxisAngle(t,e)}setRotationFromEuler(t){this.quaternion.setFromEuler(t,!0)}setRotationFromMatrix(t){this.quaternion.setFromRotationMatrix(t)}setRotationFromQuaternion(t){this.quaternion.copy(t)}rotateOnAxis(t,e){return hT.setFromAxisAngle(t,e),this.quaternion.multiply(hT),this}rotateOnWorldAxis(t,e){return hT.setFromAxisAngle(t,e),this.quaternion.premultiply(hT),this}rotateX(t){return this.rotateOnAxis(W6,t)}rotateY(t){return this.rotateOnAxis(q6,t)}rotateZ(t){return this.rotateOnAxis($6,t)}translateOnAxis(t,e){return j6.copy(t).applyQuaternion(this.quaternion),this.position.add(j6.multiplyScalar(e)),this}translateX(t){return this.translateOnAxis(W6,t)}translateY(t){return this.translateOnAxis(q6,t)}translateZ(t){return this.translateOnAxis($6,t)}localToWorld(t){return t.applyMatrix4(this.matrixWorld)}worldToLocal(t){return t.applyMatrix4(Hx.copy(this.matrixWorld).invert())}lookAt(t,e,o){t.isVector3?Hk.copy(t):Hk.set(t,e,o);const l=this.parent;this.updateWorldMatrix(!0,!1),WI.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Hx.lookAt(WI,Hk,this.up):Hx.lookAt(Hk,WI,this.up),this.quaternion.setFromRotationMatrix(Hx),l&&(Hx.extractRotation(l.matrixWorld),hT.setFromRotationMatrix(Hx),this.quaternion.premultiply(hT.invert()))}add(t){if(arguments.length>1){for(let e=0;e<arguments.length;e++)this.add(arguments[e]);return this}return t===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",t),this):(t&&t.isObject3D?(null!==t.parent&&t.parent.remove(t),t.parent=this,this.children.push(t),t.dispatchEvent(w7)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",t),this)}remove(t){if(arguments.length>1){for(let o=0;o<arguments.length;o++)this.remove(arguments[o]);return this}const e=this.children.indexOf(t);return-1!==e&&(t.parent=null,this.children.splice(e,1),t.dispatchEvent(Y6)),this}removeFromParent(){const t=this.parent;return null!==t&&t.remove(this),this}clear(){for(let t=0;t<this.children.length;t++){const e=this.children[t];e.parent=null,e.dispatchEvent(Y6)}return this.children.length=0,this}attach(t){return this.updateWorldMatrix(!0,!1),Hx.copy(this.matrixWorld).invert(),null!==t.parent&&(t.parent.updateWorldMatrix(!0,!1),Hx.multiply(t.parent.matrixWorld)),t.applyMatrix4(Hx),this.add(t),t.updateWorldMatrix(!1,!0),this}getObjectById(t){return this.getObjectByProperty("id",t)}getObjectByName(t){return this.getObjectByProperty("name",t)}getObjectByProperty(t,e){if(this[t]===e)return this;for(let o=0,l=this.children.length;o<l;o++){const g=this.children[o].getObjectByProperty(t,e);if(void 0!==g)return g}}getWorldPosition(t){return this.updateWorldMatrix(!0,!1),t.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(WI,t,M7),t}getWorldScale(t){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(WI,P7,t),t}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(e[8],e[9],e[10]).normalize()}raycast(){}traverse(t){t(this);const e=this.children;for(let o=0,l=e.length;o<l;o++)e[o].traverse(t)}traverseVisible(t){if(!1===this.visible)return;t(this);const e=this.children;for(let o=0,l=e.length;o<l;o++)e[o].traverseVisible(t)}traverseAncestors(t){const e=this.parent;null!==e&&(t(e),e.traverseAncestors(t))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(t){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||t)&&(null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,t=!0);const e=this.children;for(let o=0,l=e.length;o<l;o++)e[o].updateMatrixWorld(t)}updateWorldMatrix(t,e){const o=this.parent;if(!0===t&&null!==o&&o.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),null===this.parent?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),!0===e){const l=this.children;for(let d=0,g=l.length;d<g;d++)l[d].updateWorldMatrix(!1,!0)}}toJSON(t){const e=void 0===t||"string"==typeof t,o={};e&&(t={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{}},o.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const l={};function d(b,M){return void 0===b[M.uuid]&&(b[M.uuid]=M.toJSON(t)),M.uuid}if(l.uuid=this.uuid,l.type=this.type,""!==this.name&&(l.name=this.name),!0===this.castShadow&&(l.castShadow=!0),!0===this.receiveShadow&&(l.receiveShadow=!0),!1===this.visible&&(l.visible=!1),!1===this.frustumCulled&&(l.frustumCulled=!1),0!==this.renderOrder&&(l.renderOrder=this.renderOrder),"{}"!==JSON.stringify(this.userData)&&(l.userData=this.userData),l.layers=this.layers.mask,l.matrix=this.matrix.toArray(),!1===this.matrixAutoUpdate&&(l.matrixAutoUpdate=!1),this.isInstancedMesh&&(l.type="InstancedMesh",l.count=this.count,l.instanceMatrix=this.instanceMatrix.toJSON(),null!==this.instanceColor&&(l.instanceColor=this.instanceColor.toJSON())),this.isScene)this.background&&(this.background.isColor?l.background=this.background.toJSON():this.background.isTexture&&(l.background=this.background.toJSON(t).uuid)),this.environment&&this.environment.isTexture&&(l.environment=this.environment.toJSON(t).uuid);else if(this.isMesh||this.isLine||this.isPoints){l.geometry=d(t.geometries,this.geometry);const b=this.geometry.parameters;if(void 0!==b&&void 0!==b.shapes){const M=b.shapes;if(Array.isArray(M))for(let O=0,T=M.length;O<T;O++)d(t.shapes,M[O]);else d(t.shapes,M)}}if(this.isSkinnedMesh&&(l.bindMode=this.bindMode,l.bindMatrix=this.bindMatrix.toArray(),void 0!==this.skeleton&&(d(t.skeletons,this.skeleton),l.skeleton=this.skeleton.uuid)),void 0!==this.material)if(Array.isArray(this.material)){const b=[];for(let M=0,O=this.material.length;M<O;M++)b.push(d(t.materials,this.material[M]));l.material=b}else l.material=d(t.materials,this.material);if(this.children.length>0){l.children=[];for(let b=0;b<this.children.length;b++)l.children.push(this.children[b].toJSON(t).object)}if(this.animations.length>0){l.animations=[];for(let b=0;b<this.animations.length;b++)l.animations.push(d(t.animations,this.animations[b]))}if(e){const b=g(t.geometries),M=g(t.materials),O=g(t.textures),T=g(t.images),D=g(t.shapes),R=g(t.skeletons),k=g(t.animations);b.length>0&&(o.geometries=b),M.length>0&&(o.materials=M),O.length>0&&(o.textures=O),T.length>0&&(o.images=T),D.length>0&&(o.shapes=D),R.length>0&&(o.skeletons=R),k.length>0&&(o.animations=k)}return o.object=l,o;function g(b){const M=[];for(const O in b){const T=b[O];delete T.metadata,M.push(T)}return M}}clone(t){return(new this.constructor).copy(this,t)}copy(t,e=!0){if(this.name=t.name,this.up.copy(t.up),this.position.copy(t.position),this.rotation.order=t.rotation.order,this.quaternion.copy(t.quaternion),this.scale.copy(t.scale),this.matrix.copy(t.matrix),this.matrixWorld.copy(t.matrixWorld),this.matrixAutoUpdate=t.matrixAutoUpdate,this.matrixWorldNeedsUpdate=t.matrixWorldNeedsUpdate,this.layers.mask=t.layers.mask,this.visible=t.visible,this.castShadow=t.castShadow,this.receiveShadow=t.receiveShadow,this.frustumCulled=t.frustumCulled,this.renderOrder=t.renderOrder,this.userData=JSON.parse(JSON.stringify(t.userData)),!0===e)for(let o=0;o<t.children.length;o++)this.add(t.children[o].clone());return this}}ts.DefaultUp=new Ot(0,1,0),ts.DefaultMatrixAutoUpdate=!0,ts.prototype.isObject3D=!0;const hv=new Ot,Gx=new Ot,$F=new Ot,jx=new Ot,fT=new Ot,gT=new Ot,X6=new Ot,YF=new Ot,XF=new Ot,ZF=new Ot;class Bc{constructor(t=new Ot,e=new Ot,o=new Ot){this.a=t,this.b=e,this.c=o}static getNormal(t,e,o,l){l.subVectors(o,e),hv.subVectors(t,e),l.cross(hv);const d=l.lengthSq();return d>0?l.multiplyScalar(1/Math.sqrt(d)):l.set(0,0,0)}static getBarycoord(t,e,o,l,d){hv.subVectors(l,e),Gx.subVectors(o,e),$F.subVectors(t,e);const g=hv.dot(hv),b=hv.dot(Gx),M=hv.dot($F),O=Gx.dot(Gx),T=Gx.dot($F),D=g*O-b*b;if(0===D)return d.set(-2,-1,-1);const R=1/D,k=(O*M-b*T)*R,U=(g*T-b*M)*R;return d.set(1-k-U,U,k)}static containsPoint(t,e,o,l){return this.getBarycoord(t,e,o,l,jx),jx.x>=0&&jx.y>=0&&jx.x+jx.y<=1}static getUV(t,e,o,l,d,g,b,M){return this.getBarycoord(t,e,o,l,jx),M.set(0,0),M.addScaledVector(d,jx.x),M.addScaledVector(g,jx.y),M.addScaledVector(b,jx.z),M}static isFrontFacing(t,e,o,l){return hv.subVectors(o,e),Gx.subVectors(t,e),hv.cross(Gx).dot(l)<0}set(t,e,o){return this.a.copy(t),this.b.copy(e),this.c.copy(o),this}setFromPointsAndIndices(t,e,o,l){return this.a.copy(t[e]),this.b.copy(t[o]),this.c.copy(t[l]),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.a.copy(t.a),this.b.copy(t.b),this.c.copy(t.c),this}getArea(){return hv.subVectors(this.c,this.b),Gx.subVectors(this.a,this.b),.5*hv.cross(Gx).length()}getMidpoint(t){return t.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(t){return Bc.getNormal(this.a,this.b,this.c,t)}getPlane(t){return t.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(t,e){return Bc.getBarycoord(t,this.a,this.b,this.c,e)}getUV(t,e,o,l,d){return Bc.getUV(t,this.a,this.b,this.c,e,o,l,d)}containsPoint(t){return Bc.containsPoint(t,this.a,this.b,this.c)}isFrontFacing(t){return Bc.isFrontFacing(this.a,this.b,this.c,t)}intersectsBox(t){return t.intersectsTriangle(this)}closestPointToPoint(t,e){const o=this.a,l=this.b,d=this.c;let g,b;fT.subVectors(l,o),gT.subVectors(d,o),YF.subVectors(t,o);const M=fT.dot(YF),O=gT.dot(YF);if(M<=0&&O<=0)return e.copy(o);XF.subVectors(t,l);const T=fT.dot(XF),D=gT.dot(XF);if(T>=0&&D<=T)return e.copy(l);const R=M*D-T*O;if(R<=0&&M>=0&&T<=0)return g=M/(M-T),e.copy(o).addScaledVector(fT,g);ZF.subVectors(t,d);const k=fT.dot(ZF),U=gT.dot(ZF);if(U>=0&&k<=U)return e.copy(d);const j=k*O-M*U;if(j<=0&&O>=0&&U<=0)return b=O/(O-U),e.copy(o).addScaledVector(gT,b);const Z=T*U-k*D;if(Z<=0&&D-T>=0&&k-U>=0)return X6.subVectors(d,l),b=(D-T)/(D-T+(k-U)),e.copy(l).addScaledVector(X6,b);const W=1/(Z+j+R);return g=j*W,b=R*W,e.copy(o).addScaledVector(fT,g).addScaledVector(gT,b)}equals(t){return t.a.equals(this.a)&&t.b.equals(this.b)&&t.c.equals(this.c)}}let O7=0;class lu extends Z2{constructor(){super(),Object.defineProperty(this,"id",{value:O7++}),this.uuid=Yh(),this.name="",this.type="Material",this.fog=!0,this.blending=1,this.side=0,this.vertexColors=!1,this.opacity=1,this.format=Zp,this.transparent=!1,this.blendSrc=204,this.blendDst=205,this.blendEquation=100,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=3,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=519,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=7680,this.stencilZFail=7680,this.stencilZPass=7680,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(t){this._alphaTest>0!=t>0&&this.version++,this._alphaTest=t}onBuild(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(t){if(void 0!==t)for(const e in t){const o=t[e];if(void 0===o){console.warn("THREE.Material: '"+e+"' parameter is undefined.");continue}if("shading"===e){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===o;continue}const l=this[e];void 0!==l?l&&l.isColor?l.set(o):l&&l.isVector3&&o&&o.isVector3?l.copy(o):this[e]=o:console.warn("THREE."+this.type+": '"+e+"' is not a property of this material.")}}toJSON(t){const e=void 0===t||"string"==typeof t;e&&(t={textures:{},images:{}});const o={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};function l(d){const g=[];for(const b in d){const M=d[b];delete M.metadata,g.push(M)}return g}if(o.uuid=this.uuid,o.type=this.type,""!==this.name&&(o.name=this.name),this.color&&this.color.isColor&&(o.color=this.color.getHex()),void 0!==this.roughness&&(o.roughness=this.roughness),void 0!==this.metalness&&(o.metalness=this.metalness),this.sheenTint&&this.sheenTint.isColor&&(o.sheenTint=this.sheenTint.getHex()),this.emissive&&this.emissive.isColor&&(o.emissive=this.emissive.getHex()),this.emissiveIntensity&&1!==this.emissiveIntensity&&(o.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(o.specular=this.specular.getHex()),void 0!==this.specularIntensity&&(o.specularIntensity=this.specularIntensity),this.specularTint&&this.specularTint.isColor&&(o.specularTint=this.specularTint.getHex()),void 0!==this.shininess&&(o.shininess=this.shininess),void 0!==this.clearcoat&&(o.clearcoat=this.clearcoat),void 0!==this.clearcoatRoughness&&(o.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(o.clearcoatMap=this.clearcoatMap.toJSON(t).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(o.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(t).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(o.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(t).uuid,o.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.map&&this.map.isTexture&&(o.map=this.map.toJSON(t).uuid),this.matcap&&this.matcap.isTexture&&(o.matcap=this.matcap.toJSON(t).uuid),this.alphaMap&&this.alphaMap.isTexture&&(o.alphaMap=this.alphaMap.toJSON(t).uuid),this.lightMap&&this.lightMap.isTexture&&(o.lightMap=this.lightMap.toJSON(t).uuid,o.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(o.aoMap=this.aoMap.toJSON(t).uuid,o.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(o.bumpMap=this.bumpMap.toJSON(t).uuid,o.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(o.normalMap=this.normalMap.toJSON(t).uuid,o.normalMapType=this.normalMapType,o.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(o.displacementMap=this.displacementMap.toJSON(t).uuid,o.displacementScale=this.displacementScale,o.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(o.roughnessMap=this.roughnessMap.toJSON(t).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(o.metalnessMap=this.metalnessMap.toJSON(t).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(o.emissiveMap=this.emissiveMap.toJSON(t).uuid),this.specularMap&&this.specularMap.isTexture&&(o.specularMap=this.specularMap.toJSON(t).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(o.specularIntensityMap=this.specularIntensityMap.toJSON(t).uuid),this.specularTintMap&&this.specularTintMap.isTexture&&(o.specularTintMap=this.specularTintMap.toJSON(t).uuid),this.envMap&&this.envMap.isTexture&&(o.envMap=this.envMap.toJSON(t).uuid,void 0!==this.combine&&(o.combine=this.combine)),void 0!==this.envMapIntensity&&(o.envMapIntensity=this.envMapIntensity),void 0!==this.reflectivity&&(o.reflectivity=this.reflectivity),void 0!==this.refractionRatio&&(o.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(o.gradientMap=this.gradientMap.toJSON(t).uuid),void 0!==this.transmission&&(o.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(o.transmissionMap=this.transmissionMap.toJSON(t).uuid),void 0!==this.thickness&&(o.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(o.thicknessMap=this.thicknessMap.toJSON(t).uuid),void 0!==this.attenuationDistance&&(o.attenuationDistance=this.attenuationDistance),void 0!==this.attenuationTint&&(o.attenuationTint=this.attenuationTint.getHex()),void 0!==this.size&&(o.size=this.size),null!==this.shadowSide&&(o.shadowSide=this.shadowSide),void 0!==this.sizeAttenuation&&(o.sizeAttenuation=this.sizeAttenuation),1!==this.blending&&(o.blending=this.blending),0!==this.side&&(o.side=this.side),this.vertexColors&&(o.vertexColors=!0),this.opacity<1&&(o.opacity=this.opacity),this.format!==Zp&&(o.format=this.format),!0===this.transparent&&(o.transparent=this.transparent),o.depthFunc=this.depthFunc,o.depthTest=this.depthTest,o.depthWrite=this.depthWrite,o.colorWrite=this.colorWrite,o.stencilWrite=this.stencilWrite,o.stencilWriteMask=this.stencilWriteMask,o.stencilFunc=this.stencilFunc,o.stencilRef=this.stencilRef,o.stencilFuncMask=this.stencilFuncMask,o.stencilFail=this.stencilFail,o.stencilZFail=this.stencilZFail,o.stencilZPass=this.stencilZPass,this.rotation&&0!==this.rotation&&(o.rotation=this.rotation),!0===this.polygonOffset&&(o.polygonOffset=!0),0!==this.polygonOffsetFactor&&(o.polygonOffsetFactor=this.polygonOffsetFactor),0!==this.polygonOffsetUnits&&(o.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth&&1!==this.linewidth&&(o.linewidth=this.linewidth),void 0!==this.dashSize&&(o.dashSize=this.dashSize),void 0!==this.gapSize&&(o.gapSize=this.gapSize),void 0!==this.scale&&(o.scale=this.scale),!0===this.dithering&&(o.dithering=!0),this.alphaTest>0&&(o.alphaTest=this.alphaTest),!0===this.alphaToCoverage&&(o.alphaToCoverage=this.alphaToCoverage),!0===this.premultipliedAlpha&&(o.premultipliedAlpha=this.premultipliedAlpha),!0===this.wireframe&&(o.wireframe=this.wireframe),this.wireframeLinewidth>1&&(o.wireframeLinewidth=this.wireframeLinewidth),"round"!==this.wireframeLinecap&&(o.wireframeLinecap=this.wireframeLinecap),"round"!==this.wireframeLinejoin&&(o.wireframeLinejoin=this.wireframeLinejoin),!0===this.flatShading&&(o.flatShading=this.flatShading),!1===this.visible&&(o.visible=!1),!1===this.toneMapped&&(o.toneMapped=!1),"{}"!==JSON.stringify(this.userData)&&(o.userData=this.userData),e){const d=l(t.textures),g=l(t.images);d.length>0&&(o.textures=d),g.length>0&&(o.images=g)}return o}clone(){return(new this.constructor).copy(this)}copy(t){this.name=t.name,this.fog=t.fog,this.blending=t.blending,this.side=t.side,this.vertexColors=t.vertexColors,this.opacity=t.opacity,this.format=t.format,this.transparent=t.transparent,this.blendSrc=t.blendSrc,this.blendDst=t.blendDst,this.blendEquation=t.blendEquation,this.blendSrcAlpha=t.blendSrcAlpha,this.blendDstAlpha=t.blendDstAlpha,this.blendEquationAlpha=t.blendEquationAlpha,this.depthFunc=t.depthFunc,this.depthTest=t.depthTest,this.depthWrite=t.depthWrite,this.stencilWriteMask=t.stencilWriteMask,this.stencilFunc=t.stencilFunc,this.stencilRef=t.stencilRef,this.stencilFuncMask=t.stencilFuncMask,this.stencilFail=t.stencilFail,this.stencilZFail=t.stencilZFail,this.stencilZPass=t.stencilZPass,this.stencilWrite=t.stencilWrite;const e=t.clippingPlanes;let o=null;if(null!==e){const l=e.length;o=new Array(l);for(let d=0;d!==l;++d)o[d]=e[d].clone()}return this.clippingPlanes=o,this.clipIntersection=t.clipIntersection,this.clipShadows=t.clipShadows,this.shadowSide=t.shadowSide,this.colorWrite=t.colorWrite,this.precision=t.precision,this.polygonOffset=t.polygonOffset,this.polygonOffsetFactor=t.polygonOffsetFactor,this.polygonOffsetUnits=t.polygonOffsetUnits,this.dithering=t.dithering,this.alphaTest=t.alphaTest,this.alphaToCoverage=t.alphaToCoverage,this.premultipliedAlpha=t.premultipliedAlpha,this.visible=t.visible,this.toneMapped=t.toneMapped,this.userData=JSON.parse(JSON.stringify(t.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(t){!0===t&&this.version++}}lu.prototype.isMaterial=!0;const Z6={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},fv={h:0,s:0,l:0},Gk={h:0,s:0,l:0};function KF(a,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?a+6*(t-a)*e:e<.5?t:e<2/3?a+6*(t-a)*(2/3-e):a}function QF(a){return a<.04045?.0773993808*a:Math.pow(.9478672986*a+.0521327014,2.4)}function JF(a){return a<.0031308?12.92*a:1.055*Math.pow(a,.41666)-.055}let zn=(()=>{class a{constructor(e,o,l){return void 0===o&&void 0===l?this.set(e):this.setRGB(e,o,l)}set(e){return e&&e.isColor?this.copy(e):"number"==typeof e?this.setHex(e):"string"==typeof e&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(255&e)/255,this}setRGB(e,o,l){return this.r=e,this.g=o,this.b=l,this}setHSL(e,o,l){if(e=function(a,t){return(a%t+t)%t}(e,1),o=cu(o,0,1),l=cu(l,0,1),0===o)this.r=this.g=this.b=l;else{const d=l<=.5?l*(1+o):l+o-l*o,g=2*l-d;this.r=KF(g,d,e+1/3),this.g=KF(g,d,e),this.b=KF(g,d,e-1/3)}return this}setStyle(e){function o(d){void 0!==d&&parseFloat(d)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let l;if(l=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(e)){let d;const b=l[2];switch(l[1]){case"rgb":case"rgba":if(d=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return this.r=Math.min(255,parseInt(d[1],10))/255,this.g=Math.min(255,parseInt(d[2],10))/255,this.b=Math.min(255,parseInt(d[3],10))/255,o(d[4]),this;if(d=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b))return this.r=Math.min(100,parseInt(d[1],10))/100,this.g=Math.min(100,parseInt(d[2],10))/100,this.b=Math.min(100,parseInt(d[3],10))/100,o(d[4]),this;break;case"hsl":case"hsla":if(d=/^\s*(\d*\.?\d+)\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(b)){const M=parseFloat(d[1])/360,O=parseInt(d[2],10)/100,T=parseInt(d[3],10)/100;return o(d[4]),this.setHSL(M,O,T)}}}else if(l=/^\#([A-Fa-f\d]+)$/.exec(e)){const d=l[1],g=d.length;if(3===g)return this.r=parseInt(d.charAt(0)+d.charAt(0),16)/255,this.g=parseInt(d.charAt(1)+d.charAt(1),16)/255,this.b=parseInt(d.charAt(2)+d.charAt(2),16)/255,this;if(6===g)return this.r=parseInt(d.charAt(0)+d.charAt(1),16)/255,this.g=parseInt(d.charAt(2)+d.charAt(3),16)/255,this.b=parseInt(d.charAt(4)+d.charAt(5),16)/255,this}return e&&e.length>0?this.setColorName(e):this}setColorName(e){const o=Z6[e.toLowerCase()];return void 0!==o?this.setHex(o):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copyGammaToLinear(e,o=2){return this.r=Math.pow(e.r,o),this.g=Math.pow(e.g,o),this.b=Math.pow(e.b,o),this}copyLinearToGamma(e,o=2){const l=o>0?1/o:1;return this.r=Math.pow(e.r,l),this.g=Math.pow(e.g,l),this.b=Math.pow(e.b,l),this}convertGammaToLinear(e){return this.copyGammaToLinear(this,e),this}convertLinearToGamma(e){return this.copyLinearToGamma(this,e),this}copySRGBToLinear(e){return this.r=QF(e.r),this.g=QF(e.g),this.b=QF(e.b),this}copyLinearToSRGB(e){return this.r=JF(e.r),this.g=JF(e.g),this.b=JF(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(){return 255*this.r<<16^255*this.g<<8^255*this.b<<0}getHexString(){return("000000"+this.getHex().toString(16)).slice(-6)}getHSL(e){const o=this.r,l=this.g,d=this.b,g=Math.max(o,l,d),b=Math.min(o,l,d);let M,O;const T=(b+g)/2;if(b===g)M=0,O=0;else{const D=g-b;switch(O=T<=.5?D/(g+b):D/(2-g-b),g){case o:M=(l-d)/D+(l<d?6:0);break;case l:M=(d-o)/D+2;break;case d:M=(o-l)/D+4}M/=6}return e.h=M,e.s=O,e.l=T,e}getStyle(){return"rgb("+(255*this.r|0)+","+(255*this.g|0)+","+(255*this.b|0)+")"}offsetHSL(e,o,l){return this.getHSL(fv),fv.h+=e,fv.s+=o,fv.l+=l,this.setHSL(fv.h,fv.s,fv.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,o){return this.r=e.r+o.r,this.g=e.g+o.g,this.b=e.b+o.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,o){return this.r+=(e.r-this.r)*o,this.g+=(e.g-this.g)*o,this.b+=(e.b-this.b)*o,this}lerpColors(e,o,l){return this.r=e.r+(o.r-e.r)*l,this.g=e.g+(o.g-e.g)*l,this.b=e.b+(o.b-e.b)*l,this}lerpHSL(e,o){this.getHSL(fv),e.getHSL(Gk);const l=HI(fv.h,Gk.h,o),d=HI(fv.s,Gk.s,o),g=HI(fv.l,Gk.l,o);return this.setHSL(l,d,g),this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,o=0){return this.r=e[o],this.g=e[o+1],this.b=e[o+2],this}toArray(e=[],o=0){return e[o]=this.r,e[o+1]=this.g,e[o+2]=this.b,e}fromBufferAttribute(e,o){return this.r=e.getX(o),this.g=e.getY(o),this.b=e.getZ(o),!0===e.normalized&&(this.r/=255,this.g/=255,this.b/=255),this}toJSON(){return this.getHex()}}return a.NAMES=Z6,a})();zn.prototype.isColor=!0,zn.prototype.r=1,zn.prototype.g=1,zn.prototype.b=1;class aP extends lu{constructor(t){super(),this.type="MeshBasicMaterial",this.color=new zn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}aP.prototype.isMeshBasicMaterial=!0;const Us=new Ot,jk=new vn;class Os{constructor(t,e,o){if(Array.isArray(t))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.name="",this.array=t,this.itemSize=e,this.count=void 0!==t?t.length/e:0,this.normalized=!0===o,this.usage=UI,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.name=t.name,this.array=new t.array.constructor(t.array),this.itemSize=t.itemSize,this.count=t.count,this.normalized=t.normalized,this.usage=t.usage,this}copyAt(t,e,o){t*=this.itemSize,o*=e.itemSize;for(let l=0,d=this.itemSize;l<d;l++)this.array[t+l]=e.array[o+l];return this}copyArray(t){return this.array.set(t),this}copyColorsArray(t){const e=this.array;let o=0;for(let l=0,d=t.length;l<d;l++){let g=t[l];void 0===g&&(console.warn("THREE.BufferAttribute.copyColorsArray(): color is undefined",l),g=new zn),e[o++]=g.r,e[o++]=g.g,e[o++]=g.b}return this}copyVector2sArray(t){const e=this.array;let o=0;for(let l=0,d=t.length;l<d;l++){let g=t[l];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector2sArray(): vector is undefined",l),g=new vn),e[o++]=g.x,e[o++]=g.y}return this}copyVector3sArray(t){const e=this.array;let o=0;for(let l=0,d=t.length;l<d;l++){let g=t[l];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector3sArray(): vector is undefined",l),g=new Ot),e[o++]=g.x,e[o++]=g.y,e[o++]=g.z}return this}copyVector4sArray(t){const e=this.array;let o=0;for(let l=0,d=t.length;l<d;l++){let g=t[l];void 0===g&&(console.warn("THREE.BufferAttribute.copyVector4sArray(): vector is undefined",l),g=new gs),e[o++]=g.x,e[o++]=g.y,e[o++]=g.z,e[o++]=g.w}return this}applyMatrix3(t){if(2===this.itemSize)for(let e=0,o=this.count;e<o;e++)jk.fromBufferAttribute(this,e),jk.applyMatrix3(t),this.setXY(e,jk.x,jk.y);else if(3===this.itemSize)for(let e=0,o=this.count;e<o;e++)Us.fromBufferAttribute(this,e),Us.applyMatrix3(t),this.setXYZ(e,Us.x,Us.y,Us.z);return this}applyMatrix4(t){for(let e=0,o=this.count;e<o;e++)Us.x=this.getX(e),Us.y=this.getY(e),Us.z=this.getZ(e),Us.applyMatrix4(t),this.setXYZ(e,Us.x,Us.y,Us.z);return this}applyNormalMatrix(t){for(let e=0,o=this.count;e<o;e++)Us.x=this.getX(e),Us.y=this.getY(e),Us.z=this.getZ(e),Us.applyNormalMatrix(t),this.setXYZ(e,Us.x,Us.y,Us.z);return this}transformDirection(t){for(let e=0,o=this.count;e<o;e++)Us.x=this.getX(e),Us.y=this.getY(e),Us.z=this.getZ(e),Us.transformDirection(t),this.setXYZ(e,Us.x,Us.y,Us.z);return this}set(t,e=0){return this.array.set(t,e),this}getX(t){return this.array[t*this.itemSize]}setX(t,e){return this.array[t*this.itemSize]=e,this}getY(t){return this.array[t*this.itemSize+1]}setY(t,e){return this.array[t*this.itemSize+1]=e,this}getZ(t){return this.array[t*this.itemSize+2]}setZ(t,e){return this.array[t*this.itemSize+2]=e,this}getW(t){return this.array[t*this.itemSize+3]}setW(t,e){return this.array[t*this.itemSize+3]=e,this}setXY(t,e,o){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=o,this}setXYZ(t,e,o,l){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=o,this.array[t+2]=l,this}setXYZW(t,e,o,l,d){return this.array[0+(t*=this.itemSize)]=e,this.array[t+1]=o,this.array[t+2]=l,this.array[t+3]=d,this}onUpload(t){return this.onUploadCallback=t,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const t={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.prototype.slice.call(this.array),normalized:this.normalized};return""!==this.name&&(t.name=this.name),this.usage!==UI&&(t.usage=this.usage),(0!==this.updateRange.offset||-1!==this.updateRange.count)&&(t.updateRange=this.updateRange),t}}Os.prototype.isBufferAttribute=!0;class tN extends Os{constructor(t,e,o){super(new Uint16Array(t),e,o)}}class eN extends Os{constructor(t,e,o){super(new Uint32Array(t),e,o)}}(class extends Os{constructor(t,e,o){super(new Uint16Array(t),e,o)}}).prototype.isFloat16BufferAttribute=!0;class er extends Os{constructor(t,e,o){super(new Float32Array(t),e,o)}}function K6(a){if(0===a.length)return-1/0;let t=a[0];for(let e=1,o=a.length;e<o;++e)a[e]>t&&(t=a[e]);return t}Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array;let L7=0;const ug=new fr,nN=new ts,vT=new Ot,Zh=new lg,qI=new lg,Rl=new Ot;class Qr extends Z2{constructor(){super(),Object.defineProperty(this,"id",{value:L7++}),this.uuid=Yh(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(t){return this.index=Array.isArray(t)?new(K6(t)>65535?eN:tN)(t,1):t,this}getAttribute(t){return this.attributes[t]}setAttribute(t,e){return this.attributes[t]=e,this}deleteAttribute(t){return delete this.attributes[t],this}hasAttribute(t){return void 0!==this.attributes[t]}addGroup(t,e,o=0){this.groups.push({start:t,count:e,materialIndex:o})}clearGroups(){this.groups=[]}setDrawRange(t,e){this.drawRange.start=t,this.drawRange.count=e}applyMatrix4(t){const e=this.attributes.position;void 0!==e&&(e.applyMatrix4(t),e.needsUpdate=!0);const o=this.attributes.normal;if(void 0!==o){const d=(new Dl).getNormalMatrix(t);o.applyNormalMatrix(d),o.needsUpdate=!0}const l=this.attributes.tangent;return void 0!==l&&(l.transformDirection(t),l.needsUpdate=!0),null!==this.boundingBox&&this.computeBoundingBox(),null!==this.boundingSphere&&this.computeBoundingSphere(),this}applyQuaternion(t){return ug.makeRotationFromQuaternion(t),this.applyMatrix4(ug),this}rotateX(t){return ug.makeRotationX(t),this.applyMatrix4(ug),this}rotateY(t){return ug.makeRotationY(t),this.applyMatrix4(ug),this}rotateZ(t){return ug.makeRotationZ(t),this.applyMatrix4(ug),this}translate(t,e,o){return ug.makeTranslation(t,e,o),this.applyMatrix4(ug),this}scale(t,e,o){return ug.makeScale(t,e,o),this.applyMatrix4(ug),this}lookAt(t){return nN.lookAt(t),nN.updateMatrix(),this.applyMatrix4(nN.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(vT).negate(),this.translate(vT.x,vT.y,vT.z),this}setFromPoints(t){const e=[];for(let o=0,l=t.length;o<l;o++){const d=t[o];e.push(d.x,d.y,d.z||0)}return this.setAttribute("position",new er(e,3)),this}computeBoundingBox(){null===this.boundingBox&&(this.boundingBox=new lg);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingBox.set(new Ot(-1/0,-1/0,-1/0),new Ot(1/0,1/0,1/0));if(void 0!==t){if(this.boundingBox.setFromBufferAttribute(t),e)for(let o=0,l=e.length;o<l;o++)Zh.setFromBufferAttribute(e[o]),this.morphTargetsRelative?(Rl.addVectors(this.boundingBox.min,Zh.min),this.boundingBox.expandByPoint(Rl),Rl.addVectors(this.boundingBox.max,Zh.max),this.boundingBox.expandByPoint(Rl)):(this.boundingBox.expandByPoint(Zh.min),this.boundingBox.expandByPoint(Zh.max))}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){null===this.boundingSphere&&(this.boundingSphere=new tE);const t=this.attributes.position,e=this.morphAttributes.position;if(t&&t.isGLBufferAttribute)return console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),void this.boundingSphere.set(new Ot,1/0);if(t){const o=this.boundingSphere.center;if(Zh.setFromBufferAttribute(t),e)for(let d=0,g=e.length;d<g;d++)qI.setFromBufferAttribute(e[d]),this.morphTargetsRelative?(Rl.addVectors(Zh.min,qI.min),Zh.expandByPoint(Rl),Rl.addVectors(Zh.max,qI.max),Zh.expandByPoint(Rl)):(Zh.expandByPoint(qI.min),Zh.expandByPoint(qI.max));Zh.getCenter(o);let l=0;for(let d=0,g=t.count;d<g;d++)Rl.fromBufferAttribute(t,d),l=Math.max(l,o.distanceToSquared(Rl));if(e)for(let d=0,g=e.length;d<g;d++){const b=e[d],M=this.morphTargetsRelative;for(let O=0,T=b.count;O<T;O++)Rl.fromBufferAttribute(b,O),M&&(vT.fromBufferAttribute(t,O),Rl.add(vT)),l=Math.max(l,o.distanceToSquared(Rl))}this.boundingSphere.radius=Math.sqrt(l),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const t=this.index,e=this.attributes;if(null===t||void 0===e.position||void 0===e.normal||void 0===e.uv)return void console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");const o=t.array,l=e.position.array,d=e.normal.array,g=e.uv.array,b=l.length/3;void 0===e.tangent&&this.setAttribute("tangent",new Os(new Float32Array(4*b),4));const M=e.tangent.array,O=[],T=[];for(let ee=0;ee<b;ee++)O[ee]=new Ot,T[ee]=new Ot;const D=new Ot,R=new Ot,k=new Ot,U=new vn,j=new vn,Z=new vn,W=new Ot,H=new Ot;function rt(ee,kt,je){D.fromArray(l,3*ee),R.fromArray(l,3*kt),k.fromArray(l,3*je),U.fromArray(g,2*ee),j.fromArray(g,2*kt),Z.fromArray(g,2*je),R.sub(D),k.sub(D),j.sub(U),Z.sub(U);const de=1/(j.x*Z.y-Z.x*j.y);!isFinite(de)||(W.copy(R).multiplyScalar(Z.y).addScaledVector(k,-j.y).multiplyScalar(de),H.copy(k).multiplyScalar(j.x).addScaledVector(R,-Z.x).multiplyScalar(de),O[ee].add(W),O[kt].add(W),O[je].add(W),T[ee].add(H),T[kt].add(H),T[je].add(H))}let Q=this.groups;0===Q.length&&(Q=[{start:0,count:o.length}]);for(let ee=0,kt=Q.length;ee<kt;++ee){const je=Q[ee],de=je.start;for(let De=de,Ee=de+je.count;De<Ee;De+=3)rt(o[De+0],o[De+1],o[De+2])}const gt=new Ot,Ct=new Ot,ut=new Ot,Yt=new Ot;function re(ee){ut.fromArray(d,3*ee),Yt.copy(ut);const kt=O[ee];gt.copy(kt),gt.sub(ut.multiplyScalar(ut.dot(kt))).normalize(),Ct.crossVectors(Yt,kt);const de=Ct.dot(T[ee])<0?-1:1;M[4*ee]=gt.x,M[4*ee+1]=gt.y,M[4*ee+2]=gt.z,M[4*ee+3]=de}for(let ee=0,kt=Q.length;ee<kt;++ee){const je=Q[ee],de=je.start;for(let De=de,Ee=de+je.count;De<Ee;De+=3)re(o[De+0]),re(o[De+1]),re(o[De+2])}}computeVertexNormals(){const t=this.index,e=this.getAttribute("position");if(void 0!==e){let o=this.getAttribute("normal");if(void 0===o)o=new Os(new Float32Array(3*e.count),3),this.setAttribute("normal",o);else for(let R=0,k=o.count;R<k;R++)o.setXYZ(R,0,0,0);const l=new Ot,d=new Ot,g=new Ot,b=new Ot,M=new Ot,O=new Ot,T=new Ot,D=new Ot;if(t)for(let R=0,k=t.count;R<k;R+=3){const U=t.getX(R+0),j=t.getX(R+1),Z=t.getX(R+2);l.fromBufferAttribute(e,U),d.fromBufferAttribute(e,j),g.fromBufferAttribute(e,Z),T.subVectors(g,d),D.subVectors(l,d),T.cross(D),b.fromBufferAttribute(o,U),M.fromBufferAttribute(o,j),O.fromBufferAttribute(o,Z),b.add(T),M.add(T),O.add(T),o.setXYZ(U,b.x,b.y,b.z),o.setXYZ(j,M.x,M.y,M.z),o.setXYZ(Z,O.x,O.y,O.z)}else for(let R=0,k=e.count;R<k;R+=3)l.fromBufferAttribute(e,R+0),d.fromBufferAttribute(e,R+1),g.fromBufferAttribute(e,R+2),T.subVectors(g,d),D.subVectors(l,d),T.cross(D),o.setXYZ(R+0,T.x,T.y,T.z),o.setXYZ(R+1,T.x,T.y,T.z),o.setXYZ(R+2,T.x,T.y,T.z);this.normalizeNormals(),o.needsUpdate=!0}}merge(t,e){if(!t||!t.isBufferGeometry)return void console.error("THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.",t);void 0===e&&(e=0,console.warn("THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge."));const o=this.attributes;for(const l in o){if(void 0===t.attributes[l])continue;const g=o[l].array,b=t.attributes[l],M=b.array,O=b.itemSize*e,T=Math.min(M.length,g.length-O);for(let D=0,R=O;D<T;D++,R++)g[R]=M[D]}return this}normalizeNormals(){const t=this.attributes.normal;for(let e=0,o=t.count;e<o;e++)Rl.fromBufferAttribute(t,e),Rl.normalize(),t.setXYZ(e,Rl.x,Rl.y,Rl.z)}toNonIndexed(){function t(b,M){const O=b.array,T=b.itemSize,D=b.normalized,R=new O.constructor(M.length*T);let k=0,U=0;for(let j=0,Z=M.length;j<Z;j++){k=b.isInterleavedBufferAttribute?M[j]*b.data.stride+b.offset:M[j]*T;for(let W=0;W<T;W++)R[U++]=O[k++]}return new Os(R,T,D)}if(null===this.index)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const e=new Qr,o=this.index.array,l=this.attributes;for(const b in l){const O=t(l[b],o);e.setAttribute(b,O)}const d=this.morphAttributes;for(const b in d){const M=[],O=d[b];for(let T=0,D=O.length;T<D;T++){const k=t(O[T],o);M.push(k)}e.morphAttributes[b]=M}e.morphTargetsRelative=this.morphTargetsRelative;const g=this.groups;for(let b=0,M=g.length;b<M;b++){const O=g[b];e.addGroup(O.start,O.count,O.materialIndex)}return e}toJSON(){const t={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(t.uuid=this.uuid,t.type=this.type,""!==this.name&&(t.name=this.name),Object.keys(this.userData).length>0&&(t.userData=this.userData),void 0!==this.parameters){const M=this.parameters;for(const O in M)void 0!==M[O]&&(t[O]=M[O]);return t}t.data={attributes:{}};const e=this.index;null!==e&&(t.data.index={type:e.array.constructor.name,array:Array.prototype.slice.call(e.array)});const o=this.attributes;for(const M in o)t.data.attributes[M]=o[M].toJSON(t.data);const l={};let d=!1;for(const M in this.morphAttributes){const O=this.morphAttributes[M],T=[];for(let D=0,R=O.length;D<R;D++)T.push(O[D].toJSON(t.data));T.length>0&&(l[M]=T,d=!0)}d&&(t.data.morphAttributes=l,t.data.morphTargetsRelative=this.morphTargetsRelative);const g=this.groups;g.length>0&&(t.data.groups=JSON.parse(JSON.stringify(g)));const b=this.boundingSphere;return null!==b&&(t.data.boundingSphere={center:b.center.toArray(),radius:b.radius}),t}clone(){return(new Qr).copy(this)}copy(t){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const e={};this.name=t.name;const o=t.index;null!==o&&this.setIndex(o.clone(e));const l=t.attributes;for(const O in l)this.setAttribute(O,l[O].clone(e));const d=t.morphAttributes;for(const O in d){const T=[],D=d[O];for(let R=0,k=D.length;R<k;R++)T.push(D[R].clone(e));this.morphAttributes[O]=T}this.morphTargetsRelative=t.morphTargetsRelative;const g=t.groups;for(let O=0,T=g.length;O<T;O++){const D=g[O];this.addGroup(D.start,D.count,D.materialIndex)}const b=t.boundingBox;null!==b&&(this.boundingBox=b.clone());const M=t.boundingSphere;return null!==M&&(this.boundingSphere=M.clone()),this.drawRange.start=t.drawRange.start,this.drawRange.count=t.drawRange.count,this.userData=t.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}Qr.prototype.isBufferGeometry=!0;const Q6=new fr,_T=new eE,rN=new tE,cP=new Ot,lP=new Ot,uP=new Ot,iN=new Ot,oN=new Ot,sN=new Ot,Wk=new Ot,qk=new Ot,$k=new Ot,Yk=new vn,Xk=new vn,Zk=new vn,aN=new Ot,Kk=new Ot;class kl extends ts{constructor(t=new Qr,e=new aP){super(),this.type="Mesh",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),void 0!==t.morphTargetInfluences&&(this.morphTargetInfluences=t.morphTargetInfluences.slice()),void 0!==t.morphTargetDictionary&&(this.morphTargetDictionary=Object.assign({},t.morphTargetDictionary)),this.material=t.material,this.geometry=t.geometry,this}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,o=Object.keys(e);if(o.length>0){const l=e[o[0]];if(void 0!==l){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,g=l.length;d<g;d++){const b=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=d}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}raycast(t,e){const o=this.geometry,l=this.material,d=this.matrixWorld;if(void 0===l||(null===o.boundingSphere&&o.computeBoundingSphere(),rN.copy(o.boundingSphere),rN.applyMatrix4(d),!1===t.ray.intersectsSphere(rN))||(Q6.copy(d).invert(),_T.copy(t.ray).applyMatrix4(Q6),null!==o.boundingBox&&!1===_T.intersectsBox(o.boundingBox)))return;let g;if(o.isBufferGeometry){const b=o.index,M=o.attributes.position,O=o.morphAttributes.position,T=o.morphTargetsRelative,D=o.attributes.uv,R=o.attributes.uv2,k=o.groups,U=o.drawRange;if(null!==b)if(Array.isArray(l))for(let j=0,Z=k.length;j<Z;j++){const W=k[j],H=l[W.materialIndex];for(let gt=Math.max(W.start,U.start),Ct=Math.min(W.start+W.count,U.start+U.count);gt<Ct;gt+=3){const ut=b.getX(gt),Yt=b.getX(gt+1),re=b.getX(gt+2);g=Qk(this,H,t,_T,M,O,T,D,R,ut,Yt,re),g&&(g.faceIndex=Math.floor(gt/3),g.face.materialIndex=W.materialIndex,e.push(g))}}else for(let W=Math.max(0,U.start),H=Math.min(b.count,U.start+U.count);W<H;W+=3){const rt=b.getX(W),Q=b.getX(W+1),gt=b.getX(W+2);g=Qk(this,l,t,_T,M,O,T,D,R,rt,Q,gt),g&&(g.faceIndex=Math.floor(W/3),e.push(g))}else if(void 0!==M)if(Array.isArray(l))for(let j=0,Z=k.length;j<Z;j++){const W=k[j],H=l[W.materialIndex];for(let gt=Math.max(W.start,U.start),Ct=Math.min(W.start+W.count,U.start+U.count);gt<Ct;gt+=3)g=Qk(this,H,t,_T,M,O,T,D,R,gt,gt+1,gt+2),g&&(g.faceIndex=Math.floor(gt/3),g.face.materialIndex=W.materialIndex,e.push(g))}else for(let W=Math.max(0,U.start),H=Math.min(M.count,U.start+U.count);W<H;W+=3)g=Qk(this,l,t,_T,M,O,T,D,R,W,W+1,W+2),g&&(g.faceIndex=Math.floor(W/3),e.push(g))}else o.isGeometry&&console.error("THREE.Mesh.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}}function Qk(a,t,e,o,l,d,g,b,M,O,T,D){cP.fromBufferAttribute(l,O),lP.fromBufferAttribute(l,T),uP.fromBufferAttribute(l,D);const R=a.morphTargetInfluences;if(d&&R){Wk.set(0,0,0),qk.set(0,0,0),$k.set(0,0,0);for(let U=0,j=d.length;U<j;U++){const Z=R[U],W=d[U];0!==Z&&(iN.fromBufferAttribute(W,O),oN.fromBufferAttribute(W,T),sN.fromBufferAttribute(W,D),g?(Wk.addScaledVector(iN,Z),qk.addScaledVector(oN,Z),$k.addScaledVector(sN,Z)):(Wk.addScaledVector(iN.sub(cP),Z),qk.addScaledVector(oN.sub(lP),Z),$k.addScaledVector(sN.sub(uP),Z)))}cP.add(Wk),lP.add(qk),uP.add($k)}a.isSkinnedMesh&&(a.boneTransform(O,cP),a.boneTransform(T,lP),a.boneTransform(D,uP));const k=function(a,t,e,o,l,d,g,b){let M;if(M=1===t.side?o.intersectTriangle(g,d,l,!0,b):o.intersectTriangle(l,d,g,2!==t.side,b),null===M)return null;Kk.copy(b),Kk.applyMatrix4(a.matrixWorld);const O=e.ray.origin.distanceTo(Kk);return O<e.near||O>e.far?null:{distance:O,point:Kk.clone(),object:a}}(a,t,e,o,cP,lP,uP,aN);if(k){b&&(Yk.fromBufferAttribute(b,O),Xk.fromBufferAttribute(b,T),Zk.fromBufferAttribute(b,D),k.uv=Bc.getUV(aN,cP,lP,uP,Yk,Xk,Zk,new vn)),M&&(Yk.fromBufferAttribute(M,O),Xk.fromBufferAttribute(M,T),Zk.fromBufferAttribute(M,D),k.uv2=Bc.getUV(aN,cP,lP,uP,Yk,Xk,Zk,new vn));const U={a:O,b:T,c:D,normal:new Ot,materialIndex:0};Bc.getNormal(cP,lP,uP,U.normal),k.face=U}return k}kl.prototype.isMesh=!0;class nE extends Qr{constructor(t=1,e=1,o=1,l=1,d=1,g=1){super(),this.type="BoxGeometry",this.parameters={width:t,height:e,depth:o,widthSegments:l,heightSegments:d,depthSegments:g};const b=this;l=Math.floor(l),d=Math.floor(d),g=Math.floor(g);const M=[],O=[],T=[],D=[];let R=0,k=0;function U(j,Z,W,H,rt,Q,gt,Ct,ut,Yt,re){const ee=Q/ut,kt=gt/Yt,je=Q/2,de=gt/2,fe=Ct/2,De=ut+1,Ee=Yt+1;let Be=0,pn=0;const Nn=new Ot;for(let Jn=0;Jn<Ee;Jn++){const kn=Jn*kt-de;for(let ci=0;ci<De;ci++)Nn[j]=(ci*ee-je)*H,Nn[Z]=kn*rt,Nn[W]=fe,O.push(Nn.x,Nn.y,Nn.z),Nn[j]=0,Nn[Z]=0,Nn[W]=Ct>0?1:-1,T.push(Nn.x,Nn.y,Nn.z),D.push(ci/ut),D.push(1-Jn/Yt),Be+=1}for(let Jn=0;Jn<Yt;Jn++)for(let kn=0;kn<ut;kn++){const hn=R+kn+De*(Jn+1),Xn=R+(kn+1)+De*(Jn+1),nr=R+(kn+1)+De*Jn;M.push(R+kn+De*Jn,hn,nr),M.push(hn,Xn,nr),pn+=6}b.addGroup(k,pn,re),k+=pn,R+=Be}U("z","y","x",-1,-1,o,e,t,g,d,0),U("z","y","x",1,-1,o,e,-t,g,d,1),U("x","z","y",1,1,t,o,e,l,g,2),U("x","z","y",1,-1,t,o,-e,l,g,3),U("x","y","z",1,-1,t,e,o,l,d,4),U("x","y","z",-1,-1,t,e,-o,l,d,5),this.setIndex(M),this.setAttribute("position",new er(O,3)),this.setAttribute("normal",new er(T,3)),this.setAttribute("uv",new er(D,2))}static fromJSON(t){return new nE(t.width,t.height,t.depth,t.widthSegments,t.heightSegments,t.depthSegments)}}function bT(a){const t={};for(const e in a){t[e]={};for(const o in a[e]){const l=a[e][o];t[e][o]=l&&(l.isColor||l.isMatrix3||l.isMatrix4||l.isVector2||l.isVector3||l.isVector4||l.isTexture||l.isQuaternion)?l.clone():Array.isArray(l)?l.slice():l}}return t}function ld(a){const t={};for(let e=0;e<a.length;e++){const o=bT(a[e]);for(const l in o)t[l]=o[l]}return t}const N7={clone:bT,merge:ld};class dP extends lu{constructor(t){super(),this.type="ShaderMaterial",this.defines={},this.uniforms={},this.vertexShader="void main() {\n\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\n}",this.fragmentShader="void main() {\n\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\n}",this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,void 0!==t&&(void 0!==t.attributes&&console.error("THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead."),this.setValues(t))}copy(t){return super.copy(t),this.fragmentShader=t.fragmentShader,this.vertexShader=t.vertexShader,this.uniforms=bT(t.uniforms),this.defines=Object.assign({},t.defines),this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.lights=t.lights,this.clipping=t.clipping,this.extensions=Object.assign({},t.extensions),this.glslVersion=t.glslVersion,this}toJSON(t){const e=super.toJSON(t);e.glslVersion=this.glslVersion,e.uniforms={};for(const l in this.uniforms){const g=this.uniforms[l].value;e.uniforms[l]=g&&g.isTexture?{type:"t",value:g.toJSON(t).uuid}:g&&g.isColor?{type:"c",value:g.getHex()}:g&&g.isVector2?{type:"v2",value:g.toArray()}:g&&g.isVector3?{type:"v3",value:g.toArray()}:g&&g.isVector4?{type:"v4",value:g.toArray()}:g&&g.isMatrix3?{type:"m3",value:g.toArray()}:g&&g.isMatrix4?{type:"m4",value:g.toArray()}:{value:g}}Object.keys(this.defines).length>0&&(e.defines=this.defines),e.vertexShader=this.vertexShader,e.fragmentShader=this.fragmentShader;const o={};for(const l in this.extensions)!0===this.extensions[l]&&(o[l]=!0);return Object.keys(o).length>0&&(e.extensions=o),e}}dP.prototype.isShaderMaterial=!0;class Jk extends ts{constructor(){super(),this.type="Camera",this.matrixWorldInverse=new fr,this.projectionMatrix=new fr,this.projectionMatrixInverse=new fr}copy(t,e){return super.copy(t,e),this.matrixWorldInverse.copy(t.matrixWorldInverse),this.projectionMatrix.copy(t.projectionMatrix),this.projectionMatrixInverse.copy(t.projectionMatrixInverse),this}getWorldDirection(t){this.updateWorldMatrix(!0,!1);const e=this.matrixWorld.elements;return t.set(-e[8],-e[9],-e[10]).normalize()}updateMatrixWorld(t){super.updateMatrixWorld(t),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(t,e){super.updateWorldMatrix(t,e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return(new this.constructor).copy(this)}}Jk.prototype.isCamera=!0;class uu extends Jk{constructor(t=50,e=1,o=.1,l=2e3){super(),this.type="PerspectiveCamera",this.fov=t,this.zoom=1,this.near=o,this.far=l,this.focus=10,this.aspect=e,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.fov=t.fov,this.zoom=t.zoom,this.near=t.near,this.far=t.far,this.focus=t.focus,this.aspect=t.aspect,this.view=null===t.view?null:Object.assign({},t.view),this.filmGauge=t.filmGauge,this.filmOffset=t.filmOffset,this}setFocalLength(t){const e=.5*this.getFilmHeight()/t;this.fov=2*zI*Math.atan(e),this.updateProjectionMatrix()}getFocalLength(){const t=Math.tan(.5*K2*this.fov);return.5*this.getFilmHeight()/t}getEffectiveFOV(){return 2*zI*Math.atan(Math.tan(.5*K2*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(t,e,o,l,d,g){this.aspect=t/e,null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=o,this.view.offsetY=l,this.view.width=d,this.view.height=g,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=this.near;let e=t*Math.tan(.5*K2*this.fov)/this.zoom,o=2*e,l=this.aspect*o,d=-.5*l;const g=this.view;if(null!==this.view&&this.view.enabled){const M=g.fullWidth,O=g.fullHeight;d+=g.offsetX*l/M,e-=g.offsetY*o/O,l*=g.width/M,o*=g.height/O}const b=this.filmOffset;0!==b&&(d+=t*b/this.getFilmWidth()),this.projectionMatrix.makePerspective(d,d+l,e,e-o,t,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.fov=this.fov,e.object.zoom=this.zoom,e.object.near=this.near,e.object.far=this.far,e.object.focus=this.focus,e.object.aspect=this.aspect,null!==this.view&&(e.object.view=Object.assign({},this.view)),e.object.filmGauge=this.filmGauge,e.object.filmOffset=this.filmOffset,e}}uu.prototype.isPerspectiveCamera=!0;class cN extends ts{constructor(t,e,o){if(super(),this.type="CubeCamera",!0!==o.isWebGLCubeRenderTarget)return void console.error("THREE.CubeCamera: The constructor now expects an instance of WebGLCubeRenderTarget as third parameter.");this.renderTarget=o;const l=new uu(90,1,t,e);l.layers=this.layers,l.up.set(0,-1,0),l.lookAt(new Ot(1,0,0)),this.add(l);const d=new uu(90,1,t,e);d.layers=this.layers,d.up.set(0,-1,0),d.lookAt(new Ot(-1,0,0)),this.add(d);const g=new uu(90,1,t,e);g.layers=this.layers,g.up.set(0,0,1),g.lookAt(new Ot(0,1,0)),this.add(g);const b=new uu(90,1,t,e);b.layers=this.layers,b.up.set(0,0,-1),b.lookAt(new Ot(0,-1,0)),this.add(b);const M=new uu(90,1,t,e);M.layers=this.layers,M.up.set(0,-1,0),M.lookAt(new Ot(0,0,1)),this.add(M);const O=new uu(90,1,t,e);O.layers=this.layers,O.up.set(0,-1,0),O.lookAt(new Ot(0,0,-1)),this.add(O)}update(t,e){null===this.parent&&this.updateMatrixWorld();const o=this.renderTarget,[l,d,g,b,M,O]=this.children,T=t.xr.enabled,D=t.getRenderTarget();t.xr.enabled=!1;const R=o.texture.generateMipmaps;o.texture.generateMipmaps=!1,t.setRenderTarget(o,0),t.render(e,l),t.setRenderTarget(o,1),t.render(e,d),t.setRenderTarget(o,2),t.render(e,g),t.setRenderTarget(o,3),t.render(e,b),t.setRenderTarget(o,4),t.render(e,M),o.texture.generateMipmaps=R,t.setRenderTarget(o,5),t.render(e,O),t.setRenderTarget(D),t.xr.enabled=T}}class $I extends Il{constructor(t,e,o,l,d,g,b,M,O,T){super(t=void 0!==t?t:[],e=void 0!==e?e:301,o,l,d,g,b=void 0!==b?b:nP,M,O,T),this.flipY=!1}get images(){return this.image}set images(t){this.image=t}}$I.prototype.isCubeTexture=!0;class lN extends X0{constructor(t,e,o){Number.isInteger(e)&&(console.warn("THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )"),e=o),super(t,t,e),this.texture=new $I(void 0,(e=e||{}).mapping,e.wrapS,e.wrapT,e.magFilter,e.minFilter,e.format,e.type,e.anisotropy,e.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=void 0!==e.generateMipmaps&&e.generateMipmaps,this.texture.minFilter=void 0!==e.minFilter?e.minFilter:Tl,this.texture._needsFlipEnvMap=!1}fromEquirectangularTexture(t,e){this.texture.type=e.type,this.texture.format=Zp,this.texture.encoding=e.encoding,this.texture.generateMipmaps=e.generateMipmaps,this.texture.minFilter=e.minFilter,this.texture.magFilter=e.magFilter;const o_uniforms={tEquirect:{value:null}},o_vertexShader="\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\tvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\n\t\t\t\t\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n\n\t\t\t\t}\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvWorldDirection = transformDirection( position, modelMatrix );\n\n\t\t\t\t\t#include <begin_vertex>\n\t\t\t\t\t#include <project_vertex>\n\n\t\t\t\t}\n\t\t\t",o_fragmentShader="\n\n\t\t\t\tuniform sampler2D tEquirect;\n\n\t\t\t\tvarying vec3 vWorldDirection;\n\n\t\t\t\t#include <common>\n\n\t\t\t\tvoid main() {\n\n\t\t\t\t\tvec3 direction = normalize( vWorldDirection );\n\n\t\t\t\t\tvec2 sampleUV = equirectUv( direction );\n\n\t\t\t\t\tgl_FragColor = texture2D( tEquirect, sampleUV );\n\n\t\t\t\t}\n\t\t\t",l=new nE(5,5,5),d=new dP({name:"CubemapFromEquirect",uniforms:bT(o_uniforms),vertexShader:o_vertexShader,fragmentShader:o_fragmentShader,side:1,blending:0});d.uniforms.tEquirect.value=e;const g=new kl(l,d),b=e.minFilter;return 1008===e.minFilter&&(e.minFilter=Tl),new cN(1,10,this).update(t,g),e.minFilter=b,g.geometry.dispose(),g.material.dispose(),this}clear(t,e,o,l){const d=t.getRenderTarget();for(let g=0;g<6;g++)t.setRenderTarget(this,g),t.clear(e,o,l);t.setRenderTarget(d)}}lN.prototype.isWebGLCubeRenderTarget=!0;const uN=new Ot,V7=new Ot,z7=new Dl;class Wx{constructor(t=new Ot(1,0,0),e=0){this.normal=t,this.constant=e}set(t,e){return this.normal.copy(t),this.constant=e,this}setComponents(t,e,o,l){return this.normal.set(t,e,o),this.constant=l,this}setFromNormalAndCoplanarPoint(t,e){return this.normal.copy(t),this.constant=-e.dot(this.normal),this}setFromCoplanarPoints(t,e,o){const l=uN.subVectors(o,e).cross(V7.subVectors(t,e)).normalize();return this.setFromNormalAndCoplanarPoint(l,t),this}copy(t){return this.normal.copy(t.normal),this.constant=t.constant,this}normalize(){const t=1/this.normal.length();return this.normal.multiplyScalar(t),this.constant*=t,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(t){return this.normal.dot(t)+this.constant}distanceToSphere(t){return this.distanceToPoint(t.center)-t.radius}projectPoint(t,e){return e.copy(this.normal).multiplyScalar(-this.distanceToPoint(t)).add(t)}intersectLine(t,e){const o=t.delta(uN),l=this.normal.dot(o);if(0===l)return 0===this.distanceToPoint(t.start)?e.copy(t.start):null;const d=-(t.start.dot(this.normal)+this.constant)/l;return d<0||d>1?null:e.copy(o).multiplyScalar(d).add(t.start)}intersectsLine(t){const e=this.distanceToPoint(t.start),o=this.distanceToPoint(t.end);return e<0&&o>0||o<0&&e>0}intersectsBox(t){return t.intersectsPlane(this)}intersectsSphere(t){return t.intersectsPlane(this)}coplanarPoint(t){return t.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(t,e){const o=e||z7.getNormalMatrix(t),l=this.coplanarPoint(uN).applyMatrix4(t),d=this.normal.applyMatrix3(o).normalize();return this.constant=-l.dot(d),this}translate(t){return this.constant-=t.dot(this.normal),this}equals(t){return t.normal.equals(this.normal)&&t.constant===this.constant}clone(){return(new this.constructor).copy(this)}}Wx.prototype.isPlane=!0;const CT=new tE,tL=new Ot;class eL{constructor(t=new Wx,e=new Wx,o=new Wx,l=new Wx,d=new Wx,g=new Wx){this.planes=[t,e,o,l,d,g]}set(t,e,o,l,d,g){const b=this.planes;return b[0].copy(t),b[1].copy(e),b[2].copy(o),b[3].copy(l),b[4].copy(d),b[5].copy(g),this}copy(t){const e=this.planes;for(let o=0;o<6;o++)e[o].copy(t.planes[o]);return this}setFromProjectionMatrix(t){const e=this.planes,o=t.elements,l=o[0],d=o[1],g=o[2],b=o[3],M=o[4],O=o[5],T=o[6],D=o[7],R=o[8],k=o[9],U=o[10],j=o[11],Z=o[12],W=o[13],H=o[14],rt=o[15];return e[0].setComponents(b-l,D-M,j-R,rt-Z).normalize(),e[1].setComponents(b+l,D+M,j+R,rt+Z).normalize(),e[2].setComponents(b+d,D+O,j+k,rt+W).normalize(),e[3].setComponents(b-d,D-O,j-k,rt-W).normalize(),e[4].setComponents(b-g,D-T,j-U,rt-H).normalize(),e[5].setComponents(b+g,D+T,j+U,rt+H).normalize(),this}intersectsObject(t){const e=t.geometry;return null===e.boundingSphere&&e.computeBoundingSphere(),CT.copy(e.boundingSphere).applyMatrix4(t.matrixWorld),this.intersectsSphere(CT)}intersectsSprite(t){return CT.center.set(0,0,0),CT.radius=.7071067811865476,CT.applyMatrix4(t.matrixWorld),this.intersectsSphere(CT)}intersectsSphere(t){const e=this.planes,o=t.center,l=-t.radius;for(let d=0;d<6;d++)if(e[d].distanceToPoint(o)<l)return!1;return!0}intersectsBox(t){const e=this.planes;for(let o=0;o<6;o++){const l=e[o];if(tL.x=l.normal.x>0?t.max.x:t.min.x,tL.y=l.normal.y>0?t.max.y:t.min.y,tL.z=l.normal.z>0?t.max.z:t.min.z,l.distanceToPoint(tL)<0)return!1}return!0}containsPoint(t){const e=this.planes;for(let o=0;o<6;o++)if(e[o].distanceToPoint(t)<0)return!1;return!0}clone(){return(new this.constructor).copy(this)}}function J6(){let a=null,t=!1,e=null,o=null;function l(d,g){e(d,g),o=a.requestAnimationFrame(l)}return{start:function(){!0!==t&&null!==e&&(o=a.requestAnimationFrame(l),t=!0)},stop:function(){a.cancelAnimationFrame(o),t=!1},setAnimationLoop:function(d){e=d},setContext:function(d){a=d}}}function H7(a,t){const e=t.isWebGL2,o=new WeakMap;return{get:function(O){return O.isInterleavedBufferAttribute&&(O=O.data),o.get(O)},remove:function(O){O.isInterleavedBufferAttribute&&(O=O.data);const T=o.get(O);T&&(a.deleteBuffer(T.buffer),o.delete(O))},update:function(O,T){if(O.isGLBufferAttribute){const R=o.get(O);return void((!R||R.version<O.version)&&o.set(O,{buffer:O.buffer,type:O.type,bytesPerElement:O.elementSize,version:O.version}))}O.isInterleavedBufferAttribute&&(O=O.data);const D=o.get(O);void 0===D?o.set(O,function(O,T){const D=O.array,R=O.usage,k=a.createBuffer();a.bindBuffer(T,k),a.bufferData(T,D,R),O.onUploadCallback();let U=5126;return D instanceof Float32Array?U=5126:D instanceof Float64Array?console.warn("THREE.WebGLAttributes: Unsupported data buffer format: Float64Array."):D instanceof Uint16Array?O.isFloat16BufferAttribute?e?U=5131:console.warn("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2."):U=5123:D instanceof Int16Array?U=5122:D instanceof Uint32Array?U=5125:D instanceof Int32Array?U=5124:D instanceof Int8Array?U=5120:(D instanceof Uint8Array||D instanceof Uint8ClampedArray)&&(U=5121),{buffer:k,type:U,bytesPerElement:D.BYTES_PER_ELEMENT,version:O.version}}(O,T)):D.version<O.version&&(function(O,T,D){const R=T.array,k=T.updateRange;a.bindBuffer(D,O),-1===k.count?a.bufferSubData(D,0,R):(e?a.bufferSubData(D,k.offset*R.BYTES_PER_ELEMENT,R,k.offset,k.count):a.bufferSubData(D,k.offset*R.BYTES_PER_ELEMENT,R.subarray(k.offset,k.offset+k.count)),k.count=-1)}(D.buffer,O,T),D.version=O.version)}}}class YI extends Qr{constructor(t=1,e=1,o=1,l=1){super(),this.type="PlaneGeometry",this.parameters={width:t,height:e,widthSegments:o,heightSegments:l};const d=t/2,g=e/2,b=Math.floor(o),M=Math.floor(l),O=b+1,T=M+1,D=t/b,R=e/M,k=[],U=[],j=[],Z=[];for(let W=0;W<T;W++){const H=W*R-g;for(let rt=0;rt<O;rt++)U.push(rt*D-d,-H,0),j.push(0,0,1),Z.push(rt/b),Z.push(1-W/M)}for(let W=0;W<M;W++)for(let H=0;H<b;H++){const Q=H+O*(W+1),gt=H+1+O*(W+1),Ct=H+1+O*W;k.push(H+O*W,Q,Ct),k.push(Q,gt,Ct)}this.setIndex(k),this.setAttribute("position",new er(U,3)),this.setAttribute("normal",new er(j,3)),this.setAttribute("uv",new er(Z,2))}static fromJSON(t){return new YI(t.width,t.height,t.widthSegments,t.heightSegments)}}const fo={alphamap_fragment:"#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\n#endif",alphamap_pars_fragment:"#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",alphatest_fragment:"#ifdef USE_ALPHATEST\n\tif ( diffuseColor.a < alphaTest ) discard;\n#endif",alphatest_pars_fragment:"#ifdef USE_ALPHATEST\n\tuniform float alphaTest;\n#endif",aomap_fragment:"#ifdef USE_AOMAP\n\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\n\treflectedLight.indirectDiffuse *= ambientOcclusion;\n\t#if defined( USE_ENVMAP ) && defined( STANDARD )\n\t\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\n\t\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );\n\t#endif\n#endif",aomap_pars_fragment:"#ifdef USE_AOMAP\n\tuniform sampler2D aoMap;\n\tuniform float aoMapIntensity;\n#endif",begin_vertex:"vec3 transformed = vec3( position );",beginnormal_vertex:"vec3 objectNormal = vec3( normal );\n#ifdef USE_TANGENT\n\tvec3 objectTangent = vec3( tangent.xyz );\n#endif",bsdfs:"vec3 BRDF_Lambert( const in vec3 diffuseColor ) {\n\treturn RECIPROCAL_PI * diffuseColor;\n}\nvec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {\n\tfloat fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );\n\treturn f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );\n}\nfloat V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\n\tfloat a2 = pow2( alpha );\n\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\n\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\n\treturn 0.5 / max( gv + gl, EPSILON );\n}\nfloat D_GGX( const in float alpha, const in float dotNH ) {\n\tfloat a2 = pow2( alpha );\n\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\n\treturn RECIPROCAL_PI * a2 / pow2( denom );\n}\nvec3 BRDF_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {\n\tfloat alpha = pow2( roughness );\n\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\n\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tfloat dotNH = saturate( dot( normal, halfDir ) );\n\tfloat dotVH = saturate( dot( viewDir, halfDir ) );\n\tvec3 F = F_Schlick( f0, f90, dotVH );\n\tfloat V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );\n\tfloat D = D_GGX( alpha, dotNH );\n\treturn F * ( V * D );\n}\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\n\tconst float LUT_SIZE = 64.0;\n\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\n\tconst float LUT_BIAS = 0.5 / LUT_SIZE;\n\tfloat dotNV = saturate( dot( N, V ) );\n\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\n\tuv = uv * LUT_SCALE + LUT_BIAS;\n\treturn uv;\n}\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\n\tfloat l = length( f );\n\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\n}\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\n\tfloat x = dot( v1, v2 );\n\tfloat y = abs( x );\n\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\n\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\n\tfloat v = a / b;\n\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\n\treturn cross( v1, v2 ) * theta_sintheta;\n}\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\n\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\n\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\n\tvec3 lightNormal = cross( v1, v2 );\n\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\n\tvec3 T1, T2;\n\tT1 = normalize( V - N * dot( V, N ) );\n\tT2 = - cross( N, T1 );\n\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\n\tvec3 coords[ 4 ];\n\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\n\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\n\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\n\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\n\tcoords[ 0 ] = normalize( coords[ 0 ] );\n\tcoords[ 1 ] = normalize( coords[ 1 ] );\n\tcoords[ 2 ] = normalize( coords[ 2 ] );\n\tcoords[ 3 ] = normalize( coords[ 3 ] );\n\tvec3 vectorFormFactor = vec3( 0.0 );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\n\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\n\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\n\treturn vec3( result );\n}\nfloat G_BlinnPhong_Implicit( ) {\n\treturn 0.25;\n}\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\n\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\n}\nvec3 BRDF_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\n\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\n\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\n\tfloat dotVH = saturate( dot( geometry.viewDir, halfDir ) );\n\tvec3 F = F_Schlick( specularColor, 1.0, dotVH );\n\tfloat G = G_BlinnPhong_Implicit( );\n\tfloat D = D_BlinnPhong( shininess, dotNH );\n\treturn F * ( G * D );\n}\n#if defined( USE_SHEEN )\nfloat D_Charlie( float roughness, float NoH ) {\n\tfloat invAlpha = 1.0 / roughness;\n\tfloat cos2h = NoH * NoH;\n\tfloat sin2h = max( 1.0 - cos2h, 0.0078125 );\n\treturn ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );\n}\nfloat V_Neubelt( float NoV, float NoL ) {\n\treturn saturate( 1.0 / ( 4.0 * ( NoL + NoV - NoL * NoV ) ) );\n}\nvec3 BRDF_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\n\tvec3 N = geometry.normal;\n\tvec3 V = geometry.viewDir;\n\tvec3 H = normalize( V + L );\n\tfloat dotNH = saturate( dot( N, H ) );\n\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\n}\n#endif",bumpmap_pars_fragment:"#ifdef USE_BUMPMAP\n\tuniform sampler2D bumpMap;\n\tuniform float bumpScale;\n\tvec2 dHdxy_fwd() {\n\t\tvec2 dSTdx = dFdx( vUv );\n\t\tvec2 dSTdy = dFdy( vUv );\n\t\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\n\t\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\n\t\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\n\t\treturn vec2( dBx, dBy );\n\t}\n\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {\n\t\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\n\t\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\n\t\tvec3 vN = surf_norm;\n\t\tvec3 R1 = cross( vSigmaY, vN );\n\t\tvec3 R2 = cross( vN, vSigmaX );\n\t\tfloat fDet = dot( vSigmaX, R1 ) * faceDirection;\n\t\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\n\t\treturn normalize( abs( fDet ) * surf_norm - vGrad );\n\t}\n#endif",clipping_planes_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvec4 plane;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\n\t\tplane = clippingPlanes[ i ];\n\t\tif ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;\n\t}\n\t#pragma unroll_loop_end\n\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\n\t\tbool clipped = true;\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\n\t\t\tplane = clippingPlanes[ i ];\n\t\t\tclipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;\n\t\t}\n\t\t#pragma unroll_loop_end\n\t\tif ( clipped ) discard;\n\t#endif\n#endif",clipping_planes_pars_fragment:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\n#endif",clipping_planes_pars_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvarying vec3 vClipPosition;\n#endif",clipping_planes_vertex:"#if NUM_CLIPPING_PLANES > 0\n\tvClipPosition = - mvPosition.xyz;\n#endif",color_fragment:"#if defined( USE_COLOR_ALPHA )\n\tdiffuseColor *= vColor;\n#elif defined( USE_COLOR )\n\tdiffuseColor.rgb *= vColor;\n#endif",color_pars_fragment:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR )\n\tvarying vec3 vColor;\n#endif",color_pars_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvarying vec4 vColor;\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvarying vec3 vColor;\n#endif",color_vertex:"#if defined( USE_COLOR_ALPHA )\n\tvColor = vec4( 1.0 );\n#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )\n\tvColor = vec3( 1.0 );\n#endif\n#ifdef USE_COLOR\n\tvColor *= color;\n#endif\n#ifdef USE_INSTANCING_COLOR\n\tvColor.xyz *= instanceColor.xyz;\n#endif",common:"#define PI 3.141592653589793\n#define PI2 6.283185307179586\n#define PI_HALF 1.5707963267948966\n#define RECIPROCAL_PI 0.3183098861837907\n#define RECIPROCAL_PI2 0.15915494309189535\n#define EPSILON 1e-6\n#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\n#define whiteComplement( a ) ( 1.0 - saturate( a ) )\nfloat pow2( const in float x ) { return x*x; }\nfloat pow3( const in float x ) { return x*x*x; }\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\nfloat max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\nhighp float rand( const in vec2 uv ) {\n\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\n\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\n\treturn fract( sin( sn ) * c );\n}\n#ifdef HIGH_PRECISION\n\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\n#else\n\tfloat precisionSafeLength( vec3 v ) {\n\t\tfloat maxComponent = max3( abs( v ) );\n\t\treturn length( v / maxComponent ) * maxComponent;\n\t}\n#endif\nstruct IncidentLight {\n\tvec3 color;\n\tvec3 direction;\n\tbool visible;\n};\nstruct ReflectedLight {\n\tvec3 directDiffuse;\n\tvec3 directSpecular;\n\tvec3 indirectDiffuse;\n\tvec3 indirectSpecular;\n};\nstruct GeometricContext {\n\tvec3 position;\n\tvec3 normal;\n\tvec3 viewDir;\n#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal;\n#endif\n};\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\n}\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\n\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\n}\nmat3 transposeMat3( const in mat3 m ) {\n\tmat3 tmp;\n\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\n\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\n\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\n\treturn tmp;\n}\nfloat linearToRelativeLuminance( const in vec3 color ) {\n\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\n\treturn dot( weights, color.rgb );\n}\nbool isPerspectiveMatrix( mat4 m ) {\n\treturn m[ 2 ][ 3 ] == - 1.0;\n}\nvec2 equirectUv( in vec3 dir ) {\n\tfloat u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;\n\tfloat v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\n\treturn vec2( u, v );\n}",cube_uv_reflection_fragment:"#ifdef ENVMAP_TYPE_CUBE_UV\n\t#define cubeUV_maxMipLevel 8.0\n\t#define cubeUV_minMipLevel 4.0\n\t#define cubeUV_maxTileSize 256.0\n\t#define cubeUV_minTileSize 16.0\n\tfloat getFace( vec3 direction ) {\n\t\tvec3 absDirection = abs( direction );\n\t\tfloat face = - 1.0;\n\t\tif ( absDirection.x > absDirection.z ) {\n\t\t\tif ( absDirection.x > absDirection.y )\n\t\t\t\tface = direction.x > 0.0 ? 0.0 : 3.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t} else {\n\t\t\tif ( absDirection.z > absDirection.y )\n\t\t\t\tface = direction.z > 0.0 ? 2.0 : 5.0;\n\t\t\telse\n\t\t\t\tface = direction.y > 0.0 ? 1.0 : 4.0;\n\t\t}\n\t\treturn face;\n\t}\n\tvec2 getUV( vec3 direction, float face ) {\n\t\tvec2 uv;\n\t\tif ( face == 0.0 ) {\n\t\t\tuv = vec2( direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 1.0 ) {\n\t\t\tuv = vec2( - direction.x, - direction.z ) / abs( direction.y );\n\t\t} else if ( face == 2.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.y ) / abs( direction.z );\n\t\t} else if ( face == 3.0 ) {\n\t\t\tuv = vec2( - direction.z, direction.y ) / abs( direction.x );\n\t\t} else if ( face == 4.0 ) {\n\t\t\tuv = vec2( - direction.x, direction.z ) / abs( direction.y );\n\t\t} else {\n\t\t\tuv = vec2( direction.x, direction.y ) / abs( direction.z );\n\t\t}\n\t\treturn 0.5 * ( uv + 1.0 );\n\t}\n\tvec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {\n\t\tfloat face = getFace( direction );\n\t\tfloat filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );\n\t\tmipInt = max( mipInt, cubeUV_minMipLevel );\n\t\tfloat faceSize = exp2( mipInt );\n\t\tfloat texelSize = 1.0 / ( 3.0 * cubeUV_maxTileSize );\n\t\tvec2 uv = getUV( direction, face ) * ( faceSize - 1.0 );\n\t\tvec2 f = fract( uv );\n\t\tuv += 0.5 - f;\n\t\tif ( face > 2.0 ) {\n\t\t\tuv.y += faceSize;\n\t\t\tface -= 3.0;\n\t\t}\n\t\tuv.x += face * faceSize;\n\t\tif ( mipInt < cubeUV_maxMipLevel ) {\n\t\t\tuv.y += 2.0 * cubeUV_maxTileSize;\n\t\t}\n\t\tuv.y += filterInt * 2.0 * cubeUV_minTileSize;\n\t\tuv.x += 3.0 * max( 0.0, cubeUV_maxTileSize - 2.0 * faceSize );\n\t\tuv *= texelSize;\n\t\tvec3 tl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x += texelSize;\n\t\tvec3 tr = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.y += texelSize;\n\t\tvec3 br = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tuv.x -= texelSize;\n\t\tvec3 bl = envMapTexelToLinear( texture2D( envMap, uv ) ).rgb;\n\t\tvec3 tm = mix( tl, tr, f.x );\n\t\tvec3 bm = mix( bl, br, f.x );\n\t\treturn mix( tm, bm, f.y );\n\t}\n\t#define r0 1.0\n\t#define v0 0.339\n\t#define m0 - 2.0\n\t#define r1 0.8\n\t#define v1 0.276\n\t#define m1 - 1.0\n\t#define r4 0.4\n\t#define v4 0.046\n\t#define m4 2.0\n\t#define r5 0.305\n\t#define v5 0.016\n\t#define m5 3.0\n\t#define r6 0.21\n\t#define v6 0.0038\n\t#define m6 4.0\n\tfloat roughnessToMip( float roughness ) {\n\t\tfloat mip = 0.0;\n\t\tif ( roughness >= r1 ) {\n\t\t\tmip = ( r0 - roughness ) * ( m1 - m0 ) / ( r0 - r1 ) + m0;\n\t\t} else if ( roughness >= r4 ) {\n\t\t\tmip = ( r1 - roughness ) * ( m4 - m1 ) / ( r1 - r4 ) + m1;\n\t\t} else if ( roughness >= r5 ) {\n\t\t\tmip = ( r4 - roughness ) * ( m5 - m4 ) / ( r4 - r5 ) + m4;\n\t\t} else if ( roughness >= r6 ) {\n\t\t\tmip = ( r5 - roughness ) * ( m6 - m5 ) / ( r5 - r6 ) + m5;\n\t\t} else {\n\t\t\tmip = - 2.0 * log2( 1.16 * roughness );\t\t}\n\t\treturn mip;\n\t}\n\tvec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {\n\t\tfloat mip = clamp( roughnessToMip( roughness ), m0, cubeUV_maxMipLevel );\n\t\tfloat mipF = fract( mip );\n\t\tfloat mipInt = floor( mip );\n\t\tvec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );\n\t\tif ( mipF == 0.0 ) {\n\t\t\treturn vec4( color0, 1.0 );\n\t\t} else {\n\t\t\tvec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );\n\t\t\treturn vec4( mix( color0, color1, mipF ), 1.0 );\n\t\t}\n\t}\n#endif",defaultnormal_vertex:"vec3 transformedNormal = objectNormal;\n#ifdef USE_INSTANCING\n\tmat3 m = mat3( instanceMatrix );\n\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\n\ttransformedNormal = m * transformedNormal;\n#endif\ntransformedNormal = normalMatrix * transformedNormal;\n#ifdef FLIP_SIDED\n\ttransformedNormal = - transformedNormal;\n#endif\n#ifdef USE_TANGENT\n\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#ifdef FLIP_SIDED\n\t\ttransformedTangent = - transformedTangent;\n\t#endif\n#endif",displacementmap_pars_vertex:"#ifdef USE_DISPLACEMENTMAP\n\tuniform sampler2D displacementMap;\n\tuniform float displacementScale;\n\tuniform float displacementBias;\n#endif",displacementmap_vertex:"#ifdef USE_DISPLACEMENTMAP\n\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\n#endif",emissivemap_fragment:"#ifdef USE_EMISSIVEMAP\n\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\n\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\n\ttotalEmissiveRadiance *= emissiveColor.rgb;\n#endif",emissivemap_pars_fragment:"#ifdef USE_EMISSIVEMAP\n\tuniform sampler2D emissiveMap;\n#endif",encodings_fragment:"gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment:"\nvec4 LinearToLinear( in vec4 value ) {\n\treturn value;\n}\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\n}\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\n\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\n}\nvec4 sRGBToLinear( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\n}\nvec4 LinearTosRGB( in vec4 value ) {\n\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\n}\nvec4 RGBEToLinear( in vec4 value ) {\n\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\n}\nvec4 LinearToRGBE( in vec4 value ) {\n\tfloat maxComponent = max( max( value.r, value.g ), value.b );\n\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\n\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\n}\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\n}\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\n\tM = ceil( M * 255.0 ) / 255.0;\n\treturn vec4( value.rgb / ( M * maxRange ), M );\n}\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\n\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\n}\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\n\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\n\tfloat D = max( maxRange / maxRGB, 1.0 );\n\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\n\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\n}\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\nvec4 LinearToLogLuv( in vec4 value ) {\n\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\n\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\n\tvec4 vResult;\n\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\n\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\n\tvResult.w = fract( Le );\n\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\n\treturn vResult;\n}\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\nvec4 LogLuvToLinear( in vec4 value ) {\n\tfloat Le = value.z * 255.0 + value.w;\n\tvec3 Xp_Y_XYZp;\n\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\n\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\n\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\n\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\n\treturn vec4( max( vRGB, 0.0 ), 1.0 );\n}",envmap_fragment:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvec3 cameraToFrag;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\n\t\t#else\n\t\t\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\n\t\t#endif\n\t#else\n\t\tvec3 reflectVec = vReflect;\n\t#endif\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\n\t\tenvColor = envMapTexelToLinear( envColor );\n\t#elif defined( ENVMAP_TYPE_CUBE_UV )\n\t\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\n\t#else\n\t\tvec4 envColor = vec4( 0.0 );\n\t#endif\n\t#ifdef ENVMAP_BLENDING_MULTIPLY\n\t\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_MIX )\n\t\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\n\t#elif defined( ENVMAP_BLENDING_ADD )\n\t\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\n\t#endif\n#endif",envmap_common_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float envMapIntensity;\n\tuniform float flipEnvMap;\n\tuniform int maxMipLevel;\n\t#ifdef ENVMAP_TYPE_CUBE\n\t\tuniform samplerCube envMap;\n\t#else\n\t\tuniform sampler2D envMap;\n\t#endif\n\t\n#endif",envmap_pars_fragment:"#ifdef USE_ENVMAP\n\tuniform float reflectivity;\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\tvarying vec3 vWorldPosition;\n\t\tuniform float refractionRatio;\n\t#else\n\t\tvarying vec3 vReflect;\n\t#endif\n#endif",envmap_pars_vertex:"#ifdef USE_ENVMAP\n\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\n\t\t#define ENV_WORLDPOS\n\t#endif\n\t#ifdef ENV_WORLDPOS\n\t\t\n\t\tvarying vec3 vWorldPosition;\n\t#else\n\t\tvarying vec3 vReflect;\n\t\tuniform float refractionRatio;\n\t#endif\n#endif",envmap_physical_pars_fragment:"#if defined( USE_ENVMAP )\n\t#ifdef ENVMAP_MODE_REFRACTION\n\t\tuniform float refractionRatio;\n\t#endif\n\tvec3 getIBLIrradiance( const in GeometricContext geometry ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\n\t\t\treturn PI * envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n\tvec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {\n\t\t#if defined( ENVMAP_TYPE_CUBE_UV )\n\t\t\tvec3 reflectVec;\n\t\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\t\treflectVec = reflect( - viewDir, normal );\n\t\t\t\treflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\n\t\t\t#else\n\t\t\t\treflectVec = refract( - viewDir, normal, refractionRatio );\n\t\t\t#endif\n\t\t\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\n\t\t\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\n\t\t\treturn envMapColor.rgb * envMapIntensity;\n\t\t#else\n\t\t\treturn vec3( 0.0 );\n\t\t#endif\n\t}\n#endif",envmap_vertex:"#ifdef USE_ENVMAP\n\t#ifdef ENV_WORLDPOS\n\t\tvWorldPosition = worldPosition.xyz;\n\t#else\n\t\tvec3 cameraToVertex;\n\t\tif ( isOrthographic ) {\n\t\t\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\n\t\t} else {\n\t\t\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\n\t\t}\n\t\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\t#ifdef ENVMAP_MODE_REFLECTION\n\t\t\tvReflect = reflect( cameraToVertex, worldNormal );\n\t\t#else\n\t\t\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\n\t\t#endif\n\t#endif\n#endif",fog_vertex:"#ifdef USE_FOG\n\tvFogDepth = - mvPosition.z;\n#endif",fog_pars_vertex:"#ifdef USE_FOG\n\tvarying float vFogDepth;\n#endif",fog_fragment:"#ifdef USE_FOG\n\t#ifdef FOG_EXP2\n\t\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );\n\t#else\n\t\tfloat fogFactor = smoothstep( fogNear, fogFar, vFogDepth );\n\t#endif\n\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\n#endif",fog_pars_fragment:"#ifdef USE_FOG\n\tuniform vec3 fogColor;\n\tvarying float vFogDepth;\n\t#ifdef FOG_EXP2\n\t\tuniform float fogDensity;\n\t#else\n\t\tuniform float fogNear;\n\t\tuniform float fogFar;\n\t#endif\n#endif",gradientmap_pars_fragment:"#ifdef USE_GRADIENTMAP\n\tuniform sampler2D gradientMap;\n#endif\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\n\tfloat dotNL = dot( normal, lightDirection );\n\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\n\t#ifdef USE_GRADIENTMAP\n\t\treturn texture2D( gradientMap, coord ).rgb;\n\t#else\n\t\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\n\t#endif\n}",lightmap_fragment:"#ifdef USE_LIGHTMAP\n\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\tlightMapIrradiance *= PI;\n\t#endif\n\treflectedLight.indirectDiffuse += lightMapIrradiance;\n#endif",lightmap_pars_fragment:"#ifdef USE_LIGHTMAP\n\tuniform sampler2D lightMap;\n\tuniform float lightMapIntensity;\n#endif",lights_lambert_vertex:"vec3 diffuse = vec3( 1.0 );\nGeometricContext geometry;\ngeometry.position = mvPosition.xyz;\ngeometry.normal = normalize( transformedNormal );\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\nGeometricContext backGeometry;\nbackGeometry.position = geometry.position;\nbackGeometry.normal = -geometry.normal;\nbackGeometry.viewDir = geometry.viewDir;\nvLightFront = vec3( 0.0 );\nvIndirectFront = vec3( 0.0 );\n#ifdef DOUBLE_SIDED\n\tvLightBack = vec3( 0.0 );\n\tvIndirectBack = vec3( 0.0 );\n#endif\nIncidentLight directLight;\nfloat dotNL;\nvec3 directLightColor_Diffuse;\nvIndirectFront += getAmbientLightIrradiance( ambientLightColor );\nvIndirectFront += getLightProbeIrradiance( lightProbe, geometry );\n#ifdef DOUBLE_SIDED\n\tvIndirectBack += getAmbientLightIrradiance( ambientLightColor );\n\tvIndirectBack += getLightProbeIrradiance( lightProbe, backGeometry );\n#endif\n#if NUM_POINT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tgetPointLightInfo( pointLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tgetSpotLightInfo( spotLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_DIR_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tgetDirectionalLightInfo( directionalLights[ i ], geometry, directLight );\n\t\tdotNL = dot( geometry.normal, directLight.direction );\n\t\tdirectLightColor_Diffuse = directLight.color;\n\t\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvLightBack += saturate( - dotNL ) * directLightColor_Diffuse;\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\n\t\t#endif\n\t}\n\t#pragma unroll_loop_end\n#endif",lights_pars_begin:"uniform bool receiveShadow;\nuniform vec3 ambientLightColor;\nuniform vec3 lightProbe[ 9 ];\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\n\tfloat x = normal.x, y = normal.y, z = normal.z;\n\tvec3 result = shCoefficients[ 0 ] * 0.886227;\n\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\n\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\n\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\n\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\n\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\n\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\n\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\n\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\n\treturn result;\n}\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\n\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\n\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\n\treturn irradiance;\n}\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\n\tvec3 irradiance = ambientLightColor;\n\treturn irradiance;\n}\nfloat getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\n\t#if defined ( PHYSICALLY_CORRECT_LIGHTS )\n\t\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\n\t\tif ( cutoffDistance > 0.0 ) {\n\t\t\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\n\t\t}\n\t\treturn distanceFalloff;\n\t#else\n\t\tif ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\n\t\t\treturn pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );\n\t\t}\n\t\treturn 1.0;\n\t#endif\n}\nfloat getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {\n\treturn smoothstep( coneCosine, penumbraCosine, angleCosine );\n}\n#if NUM_DIR_LIGHTS > 0\n\tstruct DirectionalLight {\n\t\tvec3 direction;\n\t\tvec3 color;\n\t};\n\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\n\tvoid getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tlight.color = directionalLight.color;\n\t\tlight.direction = directionalLight.direction;\n\t\tlight.visible = true;\n\t}\n#endif\n#if NUM_POINT_LIGHTS > 0\n\tstruct PointLight {\n\t\tvec3 position;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t};\n\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\n\tvoid getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = pointLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat lightDistance = length( lVector );\n\t\tlight.color = pointLight.color;\n\t\tlight.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );\n\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t}\n#endif\n#if NUM_SPOT_LIGHTS > 0\n\tstruct SpotLight {\n\t\tvec3 position;\n\t\tvec3 direction;\n\t\tvec3 color;\n\t\tfloat distance;\n\t\tfloat decay;\n\t\tfloat coneCos;\n\t\tfloat penumbraCos;\n\t};\n\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\n\tvoid getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {\n\t\tvec3 lVector = spotLight.position - geometry.position;\n\t\tlight.direction = normalize( lVector );\n\t\tfloat angleCos = dot( light.direction, spotLight.direction );\n\t\tfloat spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );\n\t\tif ( spotAttenuation > 0.0 ) {\n\t\t\tfloat lightDistance = length( lVector );\n\t\t\tlight.color = spotLight.color * spotAttenuation;\n\t\t\tlight.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );\n\t\t\tlight.visible = ( light.color != vec3( 0.0 ) );\n\t\t} else {\n\t\t\tlight.color = vec3( 0.0 );\n\t\t\tlight.visible = false;\n\t\t}\n\t}\n#endif\n#if NUM_RECT_AREA_LIGHTS > 0\n\tstruct RectAreaLight {\n\t\tvec3 color;\n\t\tvec3 position;\n\t\tvec3 halfWidth;\n\t\tvec3 halfHeight;\n\t};\n\tuniform sampler2D ltc_1;\tuniform sampler2D ltc_2;\n\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\n#endif\n#if NUM_HEMI_LIGHTS > 0\n\tstruct HemisphereLight {\n\t\tvec3 direction;\n\t\tvec3 skyColor;\n\t\tvec3 groundColor;\n\t};\n\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\n\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\n\t\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\n\t\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\n\t\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\n\t\treturn irradiance;\n\t}\n#endif",lights_toon_fragment:"ToonMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;",lights_toon_pars_fragment:"varying vec3 vViewPosition;\nstruct ToonMaterial {\n\tvec3 diffuseColor;\n};\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_Toon\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Toon\n#define Material_LightProbeLOD( material )\t(0)",lights_phong_fragment:"BlinnPhongMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb;\nmaterial.specularColor = specular;\nmaterial.specularShininess = shininess;\nmaterial.specularStrength = specularStrength;",lights_phong_pars_fragment:"varying vec3 vViewPosition;\nstruct BlinnPhongMaterial {\n\tvec3 diffuseColor;\n\tvec3 specularColor;\n\tfloat specularShininess;\n\tfloat specularStrength;\n};\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n\treflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\n}\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\n#define RE_Direct\t\t\t\tRE_Direct_BlinnPhong\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_BlinnPhong\n#define Material_LightProbeLOD( material )\t(0)",lights_physical_fragment:"PhysicalMaterial material;\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\nmaterial.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;\nmaterial.roughness = min( material.roughness, 1.0 );\n#ifdef IOR\n\t#ifdef SPECULAR\n\t\tfloat specularIntensityFactor = specularIntensity;\n\t\tvec3 specularTintFactor = specularTint;\n\t\t#ifdef USE_SPECULARINTENSITYMAP\n\t\t\tspecularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;\n\t\t#endif\n\t\t#ifdef USE_SPECULARTINTMAP\n\t\t\tspecularTintFactor *= specularTintMapTexelToLinear( texture2D( specularTintMap, vUv ) ).rgb;\n\t\t#endif\n\t\tmaterial.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );\n\t#else\n\t\tfloat specularIntensityFactor = 1.0;\n\t\tvec3 specularTintFactor = vec3( 1.0 );\n\t\tmaterial.specularF90 = 1.0;\n\t#endif\n\tmaterial.specularColor = mix( min( pow2( ( ior - 1.0 ) / ( ior + 1.0 ) ) * specularTintFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );\n#else\n\tmaterial.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );\n\tmaterial.specularF90 = 1.0;\n#endif\n#ifdef USE_CLEARCOAT\n\tmaterial.clearcoat = clearcoat;\n\tmaterial.clearcoatRoughness = clearcoatRoughness;\n\tmaterial.clearcoatF0 = vec3( 0.04 );\n\tmaterial.clearcoatF90 = 1.0;\n\t#ifdef USE_CLEARCOATMAP\n\t\tmaterial.clearcoat *= texture2D( clearcoatMap, vUv ).x;\n\t#endif\n\t#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\t\tmaterial.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;\n\t#endif\n\tmaterial.clearcoat = saturate( material.clearcoat );\tmaterial.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );\n\tmaterial.clearcoatRoughness += geometryRoughness;\n\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\n#endif\n#ifdef USE_SHEEN\n\tmaterial.sheenTint = sheenTint;\n#endif",lights_physical_pars_fragment:"struct PhysicalMaterial {\n\tvec3 diffuseColor;\n\tfloat roughness;\n\tvec3 specularColor;\n\tfloat specularF90;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat clearcoat;\n\t\tfloat clearcoatRoughness;\n\t\tvec3 clearcoatF0;\n\t\tfloat clearcoatF90;\n\t#endif\n\t#ifdef USE_SHEEN\n\t\tvec3 sheenTint;\n\t#endif\n};\nvec3 clearcoatSpecular = vec3( 0.0 );\nvec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {\n\tfloat dotNV = saturate( dot( normal, viewDir ) );\n\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\n\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\n\tvec4 r = roughness * c0 + c1;\n\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\n\tvec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;\n\treturn fab;\n}\nvec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\treturn specularColor * fab.x + specularF90 * fab.y;\n}\nvoid computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\n\tvec2 fab = DFGApprox( normal, viewDir, roughness );\n\tvec3 FssEss = specularColor * fab.x + specularF90 * fab.y;\n\tfloat Ess = fab.x + fab.y;\n\tfloat Ems = 1.0 - Ess;\n\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\n\tsingleScatter += FssEss;\n\tmultiScatter += Fms * Ems;\n}\n#if NUM_RECT_AREA_LIGHTS > 0\n\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\t\tvec3 normal = geometry.normal;\n\t\tvec3 viewDir = geometry.viewDir;\n\t\tvec3 position = geometry.position;\n\t\tvec3 lightPos = rectAreaLight.position;\n\t\tvec3 halfWidth = rectAreaLight.halfWidth;\n\t\tvec3 halfHeight = rectAreaLight.halfHeight;\n\t\tvec3 lightColor = rectAreaLight.color;\n\t\tfloat roughness = material.roughness;\n\t\tvec3 rectCoords[ 4 ];\n\t\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\t\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\n\t\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\n\t\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\n\t\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\n\t\tvec4 t1 = texture2D( ltc_1, uv );\n\t\tvec4 t2 = texture2D( ltc_2, uv );\n\t\tmat3 mInv = mat3(\n\t\t\tvec3( t1.x, 0, t1.y ),\n\t\t\tvec3(    0, 1,    0 ),\n\t\t\tvec3( t1.z, 0, t1.w )\n\t\t);\n\t\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\n\t\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\n\t\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\n\t}\n#endif\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\n\tvec3 irradiance = dotNL * directLight.color;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\n\t\tvec3 ccIrradiance = dotNLcc * directLight.color;\n\t\tclearcoatSpecular += ccIrradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\t#ifdef USE_SHEEN\n\t\treflectedLight.directSpecular += irradiance * BRDF_Sheen( material.roughness, directLight.direction, geometry, material.sheenTint );\n\t#else\n\t\treflectedLight.directSpecular += irradiance * BRDF_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );\n\t#endif\n\treflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\n\treflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );\n}\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );\n\t#endif\n\tvec3 singleScattering = vec3( 0.0 );\n\tvec3 multiScattering = vec3( 0.0 );\n\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\n\tcomputeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );\n\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\n\treflectedLight.indirectSpecular += radiance * singleScattering;\n\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\n\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\n}\n#define RE_Direct\t\t\t\tRE_Direct_Physical\n#define RE_Direct_RectArea\t\tRE_Direct_RectArea_Physical\n#define RE_IndirectDiffuse\t\tRE_IndirectDiffuse_Physical\n#define RE_IndirectSpecular\t\tRE_IndirectSpecular_Physical\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\n\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\n}",lights_fragment_begin:"\nGeometricContext geometry;\ngeometry.position = - vViewPosition;\ngeometry.normal = normal;\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\n#ifdef USE_CLEARCOAT\n\tgeometry.clearcoatNormal = clearcoatNormal;\n#endif\nIncidentLight directLight;\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\n\tPointLight pointLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\n\t\tpointLight = pointLights[ i ];\n\t\tgetPointLightInfo( pointLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\n\t\tpointLightShadow = pointLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\n\tSpotLight spotLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\n\t\tspotLight = spotLights[ i ];\n\t\tgetSpotLightInfo( spotLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\n\t\tspotLightShadow = spotLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\n\tDirectionalLight directionalLight;\n\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLightShadow;\n\t#endif\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\n\t\tdirectionalLight = directionalLights[ i ];\n\t\tgetDirectionalLightInfo( directionalLight, geometry, directLight );\n\t\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\n\t\tdirectionalLightShadow = directionalLightShadows[ i ];\n\t\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t\t#endif\n\t\tRE_Direct( directLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\n\tRectAreaLight rectAreaLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\n\t\trectAreaLight = rectAreaLights[ i ];\n\t\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\n\t}\n\t#pragma unroll_loop_end\n#endif\n#if defined( RE_IndirectDiffuse )\n\tvec3 iblIrradiance = vec3( 0.0 );\n\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\n\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\n\t#if ( NUM_HEMI_LIGHTS > 0 )\n\t\t#pragma unroll_loop_start\n\t\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\n\t\t\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\n\t\t}\n\t\t#pragma unroll_loop_end\n\t#endif\n#endif\n#if defined( RE_IndirectSpecular )\n\tvec3 radiance = vec3( 0.0 );\n\tvec3 clearcoatRadiance = vec3( 0.0 );\n#endif",lights_fragment_maps:"#if defined( RE_IndirectDiffuse )\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel = texture2D( lightMap, vUv2 );\n\t\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t\t#ifndef PHYSICALLY_CORRECT_LIGHTS\n\t\t\tlightMapIrradiance *= PI;\n\t\t#endif\n\t\tirradiance += lightMapIrradiance;\n\t#endif\n\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\n\t\tiblIrradiance += getIBLIrradiance( geometry );\n\t#endif\n#endif\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\n\tradiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );\n\t#ifdef USE_CLEARCOAT\n\t\tclearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );\n\t#endif\n#endif",lights_fragment_end:"#if defined( RE_IndirectDiffuse )\n\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\n#endif\n#if defined( RE_IndirectSpecular )\n\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\n#endif",logdepthbuf_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\n#endif",logdepthbuf_pars_fragment:"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\n\tuniform float logDepthBufFC;\n\tvarying float vFragDepth;\n\tvarying float vIsPerspective;\n#endif",logdepthbuf_pars_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvarying float vFragDepth;\n\t\tvarying float vIsPerspective;\n\t#else\n\t\tuniform float logDepthBufFC;\n\t#endif\n#endif",logdepthbuf_vertex:"#ifdef USE_LOGDEPTHBUF\n\t#ifdef USE_LOGDEPTHBUF_EXT\n\t\tvFragDepth = 1.0 + gl_Position.w;\n\t\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\n\t#else\n\t\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\n\t\t\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\n\t\t\tgl_Position.z *= gl_Position.w;\n\t\t}\n\t#endif\n#endif",map_fragment:"#ifdef USE_MAP\n\tvec4 texelColor = texture2D( map, vUv );\n\ttexelColor = mapTexelToLinear( texelColor );\n\tdiffuseColor *= texelColor;\n#endif",map_pars_fragment:"#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif",map_particle_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\n#endif\n#ifdef USE_MAP\n\tvec4 mapTexel = texture2D( map, uv );\n\tdiffuseColor *= mapTexelToLinear( mapTexel );\n#endif\n#ifdef USE_ALPHAMAP\n\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\n#endif",map_particle_pars_fragment:"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\n\tuniform mat3 uvTransform;\n#endif\n#ifdef USE_MAP\n\tuniform sampler2D map;\n#endif\n#ifdef USE_ALPHAMAP\n\tuniform sampler2D alphaMap;\n#endif",metalnessmap_fragment:"float metalnessFactor = metalness;\n#ifdef USE_METALNESSMAP\n\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\n\tmetalnessFactor *= texelMetalness.b;\n#endif",metalnessmap_pars_fragment:"#ifdef USE_METALNESSMAP\n\tuniform sampler2D metalnessMap;\n#endif",morphnormal_vertex:"#ifdef USE_MORPHNORMALS\n\tobjectNormal *= morphTargetBaseInfluence;\n\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\n\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\n\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\n\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\n#endif",morphtarget_pars_vertex:"#ifdef USE_MORPHTARGETS\n\tuniform float morphTargetBaseInfluence;\n\t#ifndef USE_MORPHNORMALS\n\t\tuniform float morphTargetInfluences[ 8 ];\n\t#else\n\t\tuniform float morphTargetInfluences[ 4 ];\n\t#endif\n#endif",morphtarget_vertex:"#ifdef USE_MORPHTARGETS\n\ttransformed *= morphTargetBaseInfluence;\n\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\n\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\n\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\n\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\n\t#ifndef USE_MORPHNORMALS\n\t\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\n\t\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\n\t\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\n\t\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\n\t#endif\n#endif",normal_fragment_begin:"float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;\n#ifdef FLAT_SHADED\n\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\n\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\n\tvec3 normal = normalize( cross( fdx, fdy ) );\n#else\n\tvec3 normal = normalize( vNormal );\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\t#ifdef USE_TANGENT\n\t\tvec3 tangent = normalize( vTangent );\n\t\tvec3 bitangent = normalize( vBitangent );\n\t\t#ifdef DOUBLE_SIDED\n\t\t\ttangent = tangent * faceDirection;\n\t\t\tbitangent = bitangent * faceDirection;\n\t\t#endif\n\t\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\n\t\t\tmat3 vTBN = mat3( tangent, bitangent, normal );\n\t\t#endif\n\t#endif\n#endif\nvec3 geometryNormal = normal;",normal_fragment_maps:"#ifdef OBJECTSPACE_NORMALMAP\n\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\t#ifdef FLIP_SIDED\n\t\tnormal = - normal;\n\t#endif\n\t#ifdef DOUBLE_SIDED\n\t\tnormal = normal * faceDirection;\n\t#endif\n\tnormal = normalize( normalMatrix * normal );\n#elif defined( TANGENTSPACE_NORMALMAP )\n\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\n\tmapN.xy *= normalScale;\n\t#ifdef USE_TANGENT\n\t\tnormal = normalize( vTBN * mapN );\n\t#else\n\t\tnormal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );\n\t#endif\n#elif defined( USE_BUMPMAP )\n\tnormal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );\n#endif",normal_pars_fragment:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_pars_vertex:"#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n\t#ifdef USE_TANGENT\n\t\tvarying vec3 vTangent;\n\t\tvarying vec3 vBitangent;\n\t#endif\n#endif",normal_vertex:"#ifndef FLAT_SHADED\n\tvNormal = normalize( transformedNormal );\n\t#ifdef USE_TANGENT\n\t\tvTangent = normalize( transformedTangent );\n\t\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\n\t#endif\n#endif",normalmap_pars_fragment:"#ifdef USE_NORMALMAP\n\tuniform sampler2D normalMap;\n\tuniform vec2 normalScale;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\n\tuniform mat3 normalMatrix;\n#endif\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\n\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {\n\t\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\n\t\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\n\t\tvec2 st0 = dFdx( vUv.st );\n\t\tvec2 st1 = dFdy( vUv.st );\n\t\tvec3 N = surf_norm;\n\t\tvec3 q1perp = cross( q1, N );\n\t\tvec3 q0perp = cross( N, q0 );\n\t\tvec3 T = q1perp * st0.x + q0perp * st1.x;\n\t\tvec3 B = q1perp * st0.y + q0perp * st1.y;\n\t\tfloat det = max( dot( T, T ), dot( B, B ) );\n\t\tfloat scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );\n\t\treturn normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );\n\t}\n#endif",clearcoat_normal_fragment_begin:"#ifdef USE_CLEARCOAT\n\tvec3 clearcoatNormal = geometryNormal;\n#endif",clearcoat_normal_fragment_maps:"#ifdef USE_CLEARCOAT_NORMALMAP\n\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\n\tclearcoatMapN.xy *= clearcoatNormalScale;\n\t#ifdef USE_TANGENT\n\t\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\n\t#else\n\t\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );\n\t#endif\n#endif",clearcoat_pars_fragment:"#ifdef USE_CLEARCOATMAP\n\tuniform sampler2D clearcoatMap;\n#endif\n#ifdef USE_CLEARCOAT_ROUGHNESSMAP\n\tuniform sampler2D clearcoatRoughnessMap;\n#endif\n#ifdef USE_CLEARCOAT_NORMALMAP\n\tuniform sampler2D clearcoatNormalMap;\n\tuniform vec2 clearcoatNormalScale;\n#endif",output_fragment:"#ifdef OPAQUE\ndiffuseColor.a = 1.0;\n#endif\n#ifdef USE_TRANSMISSION\ndiffuseColor.a *= transmissionAlpha + 0.1;\n#endif\ngl_FragColor = vec4( outgoingLight, diffuseColor.a );",packing:"vec3 packNormalToRGB( const in vec3 normal ) {\n\treturn normalize( normal ) * 0.5 + 0.5;\n}\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\n\treturn 2.0 * rgb.xyz - 1.0;\n}\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\nconst float ShiftRight8 = 1. / 256.;\nvec4 packDepthToRGBA( const in float v ) {\n\tvec4 r = vec4( fract( v * PackFactors ), v );\n\tr.yzw -= r.xyz * ShiftRight8;\treturn r * PackUpscale;\n}\nfloat unpackRGBAToDepth( const in vec4 v ) {\n\treturn dot( v, UnpackFactors );\n}\nvec4 pack2HalfToRGBA( vec2 v ) {\n\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );\n\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );\n}\nvec2 unpackRGBATo2Half( vec4 v ) {\n\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\n}\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( viewZ + near ) / ( near - far );\n}\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\n\treturn linearClipZ * ( near - far ) - near;\n}\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\n\treturn ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );\n}\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\n\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\n}",premultiplied_alpha_fragment:"#ifdef PREMULTIPLIED_ALPHA\n\tgl_FragColor.rgb *= gl_FragColor.a;\n#endif",project_vertex:"vec4 mvPosition = vec4( transformed, 1.0 );\n#ifdef USE_INSTANCING\n\tmvPosition = instanceMatrix * mvPosition;\n#endif\nmvPosition = modelViewMatrix * mvPosition;\ngl_Position = projectionMatrix * mvPosition;",dithering_fragment:"#ifdef DITHERING\n\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\n#endif",dithering_pars_fragment:"#ifdef DITHERING\n\tvec3 dithering( vec3 color ) {\n\t\tfloat grid_position = rand( gl_FragCoord.xy );\n\t\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\n\t\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\n\t\treturn color + dither_shift_RGB;\n\t}\n#endif",roughnessmap_fragment:"float roughnessFactor = roughness;\n#ifdef USE_ROUGHNESSMAP\n\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\n\troughnessFactor *= texelRoughness.g;\n#endif",roughnessmap_pars_fragment:"#ifdef USE_ROUGHNESSMAP\n\tuniform sampler2D roughnessMap;\n#endif",shadowmap_pars_fragment:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\n\t\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\n\t}\n\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\n\t\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\n\t}\n\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\n\t\tfloat occlusion = 1.0;\n\t\tvec2 distribution = texture2DDistribution( shadow, uv );\n\t\tfloat hard_shadow = step( compare , distribution.x );\n\t\tif (hard_shadow != 1.0 ) {\n\t\t\tfloat distance = compare - distribution.x ;\n\t\t\tfloat variance = max( 0.00000, distribution.y * distribution.y );\n\t\t\tfloat softness_probability = variance / (variance + distance * distance );\t\t\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\t\t\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\n\t\t}\n\t\treturn occlusion;\n\t}\n\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\n\t\tfloat shadow = 1.0;\n\t\tshadowCoord.xyz /= shadowCoord.w;\n\t\tshadowCoord.z += shadowBias;\n\t\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\n\t\tbool inFrustum = all( inFrustumVec );\n\t\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\n\t\tbool frustumTest = all( frustumTestVec );\n\t\tif ( frustumTest ) {\n\t\t#if defined( SHADOWMAP_TYPE_PCF )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx0 = - texelSize.x * shadowRadius;\n\t\t\tfloat dy0 = - texelSize.y * shadowRadius;\n\t\t\tfloat dx1 = + texelSize.x * shadowRadius;\n\t\t\tfloat dy1 = + texelSize.y * shadowRadius;\n\t\t\tfloat dx2 = dx0 / 2.0;\n\t\t\tfloat dy2 = dy0 / 2.0;\n\t\t\tfloat dx3 = dx1 / 2.0;\n\t\t\tfloat dy3 = dy1 / 2.0;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\n\t\t\t) * ( 1.0 / 17.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\n\t\t\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\n\t\t\tfloat dx = texelSize.x;\n\t\t\tfloat dy = texelSize.y;\n\t\t\tvec2 uv = shadowCoord.xy;\n\t\t\tvec2 f = fract( uv * shadowMapSize + 0.5 );\n\t\t\tuv -= f * texelSize;\n\t\t\tshadow = (\n\t\t\t\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\n\t\t\t\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\n\t\t\t\t\t f.x ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t f.y ) +\n\t\t\t\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \n\t\t\t\t\t\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\n\t\t\t\t\t\t  f.x ),\n\t\t\t\t\t f.y )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#elif defined( SHADOWMAP_TYPE_VSM )\n\t\t\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#else\n\t\t\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\n\t\t#endif\n\t\t}\n\t\treturn shadow;\n\t}\n\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\n\t\tvec3 absV = abs( v );\n\t\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\n\t\tabsV *= scaleToCube;\n\t\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\n\t\tvec2 planar = v.xy;\n\t\tfloat almostATexel = 1.5 * texelSizeY;\n\t\tfloat almostOne = 1.0 - almostATexel;\n\t\tif ( absV.z >= almostOne ) {\n\t\t\tif ( v.z > 0.0 )\n\t\t\t\tplanar.x = 4.0 - v.x;\n\t\t} else if ( absV.x >= almostOne ) {\n\t\t\tfloat signX = sign( v.x );\n\t\t\tplanar.x = v.z * signX + 2.0 * signX;\n\t\t} else if ( absV.y >= almostOne ) {\n\t\t\tfloat signY = sign( v.y );\n\t\t\tplanar.x = v.x + 2.0 * signY + 2.0;\n\t\t\tplanar.y = v.z * signY - 2.0;\n\t\t}\n\t\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\n\t}\n\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\n\t\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\n\t\tvec3 lightToPosition = shadowCoord.xyz;\n\t\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\t\tdp += shadowBias;\n\t\tvec3 bd3D = normalize( lightToPosition );\n\t\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\n\t\t\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\n\t\t\treturn (\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\n\t\t\t\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\n\t\t\t) * ( 1.0 / 9.0 );\n\t\t#else\n\t\t\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\n\t\t#endif\n\t}\n#endif",shadowmap_pars_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\n\t\tstruct DirectionalLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\n\t\tstruct SpotLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t};\n\t\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\n\t\tstruct PointLightShadow {\n\t\t\tfloat shadowBias;\n\t\t\tfloat shadowNormalBias;\n\t\t\tfloat shadowRadius;\n\t\t\tvec2 shadowMapSize;\n\t\t\tfloat shadowCameraNear;\n\t\t\tfloat shadowCameraFar;\n\t\t};\n\t\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\n\t#endif\n#endif",shadowmap_vertex:"#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0\n\t\tvec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\n\t\tvec4 shadowWorldPosition;\n\t#endif\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tshadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );\n\t\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n#endif",shadowmask_pars_fragment:"float getShadowMask() {\n\tfloat shadow = 1.0;\n\t#ifdef USE_SHADOWMAP\n\t#if NUM_DIR_LIGHT_SHADOWS > 0\n\tDirectionalLightShadow directionalLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\n\t\tdirectionalLight = directionalLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_SPOT_LIGHT_SHADOWS > 0\n\tSpotLightShadow spotLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\n\t\tspotLight = spotLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#if NUM_POINT_LIGHT_SHADOWS > 0\n\tPointLightShadow pointLight;\n\t#pragma unroll_loop_start\n\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\n\t\tpointLight = pointLightShadows[ i ];\n\t\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\n\t}\n\t#pragma unroll_loop_end\n\t#endif\n\t#endif\n\treturn shadow;\n}",skinbase_vertex:"#ifdef USE_SKINNING\n\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\n\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\n\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\n\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\n#endif",skinning_pars_vertex:"#ifdef USE_SKINNING\n\tuniform mat4 bindMatrix;\n\tuniform mat4 bindMatrixInverse;\n\t#ifdef BONE_TEXTURE\n\t\tuniform highp sampler2D boneTexture;\n\t\tuniform int boneTextureSize;\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tfloat j = i * 4.0;\n\t\t\tfloat x = mod( j, float( boneTextureSize ) );\n\t\t\tfloat y = floor( j / float( boneTextureSize ) );\n\t\t\tfloat dx = 1.0 / float( boneTextureSize );\n\t\t\tfloat dy = 1.0 / float( boneTextureSize );\n\t\t\ty = dy * ( y + 0.5 );\n\t\t\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\n\t\t\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\n\t\t\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\n\t\t\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\n\t\t\tmat4 bone = mat4( v1, v2, v3, v4 );\n\t\t\treturn bone;\n\t\t}\n\t#else\n\t\tuniform mat4 boneMatrices[ MAX_BONES ];\n\t\tmat4 getBoneMatrix( const in float i ) {\n\t\t\tmat4 bone = boneMatrices[ int(i) ];\n\t\t\treturn bone;\n\t\t}\n\t#endif\n#endif",skinning_vertex:"#ifdef USE_SKINNING\n\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\n\tvec4 skinned = vec4( 0.0 );\n\tskinned += boneMatX * skinVertex * skinWeight.x;\n\tskinned += boneMatY * skinVertex * skinWeight.y;\n\tskinned += boneMatZ * skinVertex * skinWeight.z;\n\tskinned += boneMatW * skinVertex * skinWeight.w;\n\ttransformed = ( bindMatrixInverse * skinned ).xyz;\n#endif",skinnormal_vertex:"#ifdef USE_SKINNING\n\tmat4 skinMatrix = mat4( 0.0 );\n\tskinMatrix += skinWeight.x * boneMatX;\n\tskinMatrix += skinWeight.y * boneMatY;\n\tskinMatrix += skinWeight.z * boneMatZ;\n\tskinMatrix += skinWeight.w * boneMatW;\n\tskinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;\n\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\n\t#ifdef USE_TANGENT\n\t\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\n\t#endif\n#endif",specularmap_fragment:"float specularStrength;\n#ifdef USE_SPECULARMAP\n\tvec4 texelSpecular = texture2D( specularMap, vUv );\n\tspecularStrength = texelSpecular.r;\n#else\n\tspecularStrength = 1.0;\n#endif",specularmap_pars_fragment:"#ifdef USE_SPECULARMAP\n\tuniform sampler2D specularMap;\n#endif",tonemapping_fragment:"#if defined( TONE_MAPPING )\n\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\n#endif",tonemapping_pars_fragment:"#ifndef saturate\n#define saturate( a ) clamp( a, 0.0, 1.0 )\n#endif\nuniform float toneMappingExposure;\nvec3 LinearToneMapping( vec3 color ) {\n\treturn toneMappingExposure * color;\n}\nvec3 ReinhardToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\treturn saturate( color / ( vec3( 1.0 ) + color ) );\n}\nvec3 OptimizedCineonToneMapping( vec3 color ) {\n\tcolor *= toneMappingExposure;\n\tcolor = max( vec3( 0.0 ), color - 0.004 );\n\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\n}\nvec3 RRTAndODTFit( vec3 v ) {\n\tvec3 a = v * ( v + 0.0245786 ) - 0.000090537;\n\tvec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;\n\treturn a / b;\n}\nvec3 ACESFilmicToneMapping( vec3 color ) {\n\tconst mat3 ACESInputMat = mat3(\n\t\tvec3( 0.59719, 0.07600, 0.02840 ),\t\tvec3( 0.35458, 0.90834, 0.13383 ),\n\t\tvec3( 0.04823, 0.01566, 0.83777 )\n\t);\n\tconst mat3 ACESOutputMat = mat3(\n\t\tvec3(  1.60475, -0.10208, -0.00327 ),\t\tvec3( -0.53108,  1.10813, -0.07276 ),\n\t\tvec3( -0.07367, -0.00605,  1.07602 )\n\t);\n\tcolor *= toneMappingExposure / 0.6;\n\tcolor = ACESInputMat * color;\n\tcolor = RRTAndODTFit( color );\n\tcolor = ACESOutputMat * color;\n\treturn saturate( color );\n}\nvec3 CustomToneMapping( vec3 color ) { return color; }",transmission_fragment:"#ifdef USE_TRANSMISSION\n\tfloat transmissionAlpha = 1.0;\n\tfloat transmissionFactor = transmission;\n\tfloat thicknessFactor = thickness;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\ttransmissionFactor *= texture2D( transmissionMap, vUv ).r;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tthicknessFactor *= texture2D( thicknessMap, vUv ).g;\n\t#endif\n\tvec3 pos = vWorldPosition;\n\tvec3 v = normalize( cameraPosition - pos );\n\tvec3 n = inverseTransformDirection( normal, viewMatrix );\n\tvec4 transmission = getIBLVolumeRefraction(\n\t\tn, v, roughnessFactor, material.diffuseColor, material.specularColor, material.specularF90,\n\t\tpos, modelMatrix, viewMatrix, projectionMatrix, ior, thicknessFactor,\n\t\tattenuationTint, attenuationDistance );\n\ttotalDiffuse = mix( totalDiffuse, transmission.rgb, transmissionFactor );\n\ttransmissionAlpha = transmission.a;\n#endif",transmission_pars_fragment:"#ifdef USE_TRANSMISSION\n\tuniform float transmission;\n\tuniform float thickness;\n\tuniform float attenuationDistance;\n\tuniform vec3 attenuationTint;\n\t#ifdef USE_TRANSMISSIONMAP\n\t\tuniform sampler2D transmissionMap;\n\t#endif\n\t#ifdef USE_THICKNESSMAP\n\t\tuniform sampler2D thicknessMap;\n\t#endif\n\tuniform vec2 transmissionSamplerSize;\n\tuniform sampler2D transmissionSamplerMap;\n\tuniform mat4 modelMatrix;\n\tuniform mat4 projectionMatrix;\n\tvarying vec3 vWorldPosition;\n\tvec3 getVolumeTransmissionRay( vec3 n, vec3 v, float thickness, float ior, mat4 modelMatrix ) {\n\t\tvec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );\n\t\tvec3 modelScale;\n\t\tmodelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );\n\t\tmodelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );\n\t\tmodelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );\n\t\treturn normalize( refractionVector ) * thickness * modelScale;\n\t}\n\tfloat applyIorToRoughness( float roughness, float ior ) {\n\t\treturn roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );\n\t}\n\tvec4 getTransmissionSample( vec2 fragCoord, float roughness, float ior ) {\n\t\tfloat framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );\n\t\t#ifdef TEXTURE_LOD_EXT\n\t\t\treturn texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#else\n\t\t\treturn texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );\n\t\t#endif\n\t}\n\tvec3 applyVolumeAttenuation( vec3 radiance, float transmissionDistance, vec3 attenuationColor, float attenuationDistance ) {\n\t\tif ( attenuationDistance == 0.0 ) {\n\t\t\treturn radiance;\n\t\t} else {\n\t\t\tvec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;\n\t\t\tvec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );\t\t\treturn transmittance * radiance;\n\t\t}\n\t}\n\tvec4 getIBLVolumeRefraction( vec3 n, vec3 v, float roughness, vec3 diffuseColor, vec3 specularColor, float specularF90,\n\t\tvec3 position, mat4 modelMatrix, mat4 viewMatrix, mat4 projMatrix, float ior, float thickness,\n\t\tvec3 attenuationColor, float attenuationDistance ) {\n\t\tvec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );\n\t\tvec3 refractedRayExit = position + transmissionRay;\n\t\tvec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );\n\t\tvec2 refractionCoords = ndcPos.xy / ndcPos.w;\n\t\trefractionCoords += 1.0;\n\t\trefractionCoords /= 2.0;\n\t\tvec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );\n\t\tvec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );\n\t\tvec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );\n\t\treturn vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );\n\t}\n#endif",uv_pars_fragment:"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\n\tvarying vec2 vUv;\n#endif",uv_pars_vertex:"#ifdef USE_UV\n\t#ifdef UVS_VERTEX_ONLY\n\t\tvec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif",uv_vertex:"#ifdef USE_UV\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n#endif",uv2_pars_fragment:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvarying vec2 vUv2;\n#endif",uv2_pars_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tattribute vec2 uv2;\n\tvarying vec2 vUv2;\n\tuniform mat3 uv2Transform;\n#endif",uv2_vertex:"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\n\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\n#endif",worldpos_vertex:"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION )\n\tvec4 worldPosition = vec4( transformed, 1.0 );\n\t#ifdef USE_INSTANCING\n\t\tworldPosition = instanceMatrix * worldPosition;\n\t#endif\n\tworldPosition = modelMatrix * worldPosition;\n#endif",background_frag:"uniform sampler2D t2D;\nvarying vec2 vUv;\nvoid main() {\n\tvec4 texColor = texture2D( t2D, vUv );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",background_vert:"varying vec2 vUv;\nuniform mat3 uvTransform;\nvoid main() {\n\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\n\tgl_Position = vec4( position.xy, 1.0, 1.0 );\n}",cube_frag:"#include <envmap_common_pars_fragment>\nuniform float opacity;\nvarying vec3 vWorldDirection;\n#include <cube_uv_reflection_fragment>\nvoid main() {\n\tvec3 vReflect = vWorldDirection;\n\t#include <envmap_fragment>\n\tgl_FragColor = envColor;\n\tgl_FragColor.a *= opacity;\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",cube_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\tgl_Position.z = gl_Position.w;\n}",depth_frag:"#if DEPTH_PACKING == 3200\n\tuniform float opacity;\n#endif\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#if DEPTH_PACKING == 3200\n\t\tdiffuseColor.a = opacity;\n\t#endif\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <logdepthbuf_fragment>\n\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\n\t#if DEPTH_PACKING == 3200\n\t\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\n\t#elif DEPTH_PACKING == 3201\n\t\tgl_FragColor = packDepthToRGBA( fragCoordZ );\n\t#endif\n}",depth_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvarying vec2 vHighPrecisionZW;\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvHighPrecisionZW = gl_Position.zw;\n}",distanceRGBA_frag:"#define DISTANCE\nuniform vec3 referencePosition;\nuniform float nearDistance;\nuniform float farDistance;\nvarying vec3 vWorldPosition;\n#include <common>\n#include <packing>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main () {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( 1.0 );\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\tfloat dist = length( vWorldPosition - referencePosition );\n\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\n\tdist = saturate( dist );\n\tgl_FragColor = packDepthToRGBA( dist );\n}",distanceRGBA_vert:"#define DISTANCE\nvarying vec3 vWorldPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <skinbase_vertex>\n\t#ifdef USE_DISPLACEMENTMAP\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <clipping_planes_vertex>\n\tvWorldPosition = worldPosition.xyz;\n}",equirect_frag:"uniform sampler2D tEquirect;\nvarying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvec3 direction = normalize( vWorldDirection );\n\tvec2 sampleUV = equirectUv( direction );\n\tvec4 texColor = texture2D( tEquirect, sampleUV );\n\tgl_FragColor = mapTexelToLinear( texColor );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n}",equirect_vert:"varying vec3 vWorldDirection;\n#include <common>\nvoid main() {\n\tvWorldDirection = transformDirection( position, modelMatrix );\n\t#include <begin_vertex>\n\t#include <project_vertex>\n}",linedashed_frag:"uniform vec3 diffuse;\nuniform float opacity;\nuniform float dashSize;\nuniform float totalSize;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\n\t\tdiscard;\n\t}\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <color_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",linedashed_vert:"uniform float scale;\nattribute float lineDistance;\nvarying float vLineDistance;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\tvLineDistance = scale * lineDistance;\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}",meshbasic_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#ifndef FLAT_SHADED\n\tvarying vec3 vNormal;\n#endif\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\t#ifdef USE_LIGHTMAP\n\t\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\n\t\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\n\t#else\n\t\treflectedLight.indirectDiffuse += vec3( 1.0 );\n\t#endif\n\t#include <aomap_fragment>\n\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\n\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshbasic_vert:"#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )\n\t\t#include <beginnormal_vertex>\n\t\t#include <morphnormal_vertex>\n\t\t#include <skinbase_vertex>\n\t\t#include <skinnormal_vertex>\n\t\t#include <defaultnormal_vertex>\n\t#endif\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <fog_vertex>\n}",meshlambert_frag:"uniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <fog_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <emissivemap_fragment>\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\n\t#else\n\t\treflectedLight.indirectDiffuse += vIndirectFront;\n\t#endif\n\t#include <lightmap_fragment>\n\treflectedLight.indirectDiffuse *= BRDF_Lambert( diffuseColor.rgb );\n\t#ifdef DOUBLE_SIDED\n\t\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\n\t#else\n\t\treflectedLight.directDiffuse = vLightFront;\n\t#endif\n\treflectedLight.directDiffuse *= BRDF_Lambert( diffuseColor.rgb ) * getShadowMask();\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshlambert_vert:"#define LAMBERT\nvarying vec3 vLightFront;\nvarying vec3 vIndirectFront;\n#ifdef DOUBLE_SIDED\n\tvarying vec3 vLightBack;\n\tvarying vec3 vIndirectBack;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <envmap_pars_vertex>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <lights_lambert_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshmatcap_frag:"#define MATCAP\nuniform vec3 diffuse;\nuniform float opacity;\nuniform sampler2D matcap;\nvarying vec3 vViewPosition;\n#include <common>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tvec3 viewDir = normalize( vViewPosition );\n\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\n\tvec3 y = cross( viewDir, x );\n\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\n\t#ifdef USE_MATCAP\n\t\tvec4 matcapColor = texture2D( matcap, uv );\n\t\tmatcapColor = matcapTexelToLinear( matcapColor );\n\t#else\n\t\tvec4 matcapColor = vec4( 1.0 );\n\t#endif\n\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshmatcap_vert:"#define MATCAP\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <color_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n\tvViewPosition = - mvPosition.xyz;\n}",meshnormal_frag:"#define NORMAL\nuniform float opacity;\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <packing>\n#include <uv_pars_fragment>\n#include <normal_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\t#include <logdepthbuf_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\n}",meshnormal_vert:"#define NORMAL\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvarying vec3 vViewPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\n\tvViewPosition = - mvPosition.xyz;\n#endif\n}",meshphong_frag:"#define PHONG\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform vec3 specular;\nuniform float shininess;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_pars_fragment>\n#include <cube_uv_reflection_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_phong_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <specularmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <specularmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_phong_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\n\t#include <envmap_fragment>\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphong_vert:"#define PHONG\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <envmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <envmap_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",meshphysical_frag:"#define STANDARD\n#ifdef PHYSICAL\n\t#define IOR\n\t#define SPECULAR\n#endif\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float roughness;\nuniform float metalness;\nuniform float opacity;\n#ifdef IOR\n\tuniform float ior;\n#endif\n#ifdef SPECULAR\n\tuniform float specularIntensity;\n\tuniform vec3 specularTint;\n\t#ifdef USE_SPECULARINTENSITYMAP\n\t\tuniform sampler2D specularIntensityMap;\n\t#endif\n\t#ifdef USE_SPECULARTINTMAP\n\t\tuniform sampler2D specularTintMap;\n\t#endif\n#endif\n#ifdef USE_CLEARCOAT\n\tuniform float clearcoat;\n\tuniform float clearcoatRoughness;\n#endif\n#ifdef USE_SHEEN\n\tuniform vec3 sheenTint;\n#endif\nvarying vec3 vViewPosition;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <bsdfs>\n#include <cube_uv_reflection_fragment>\n#include <envmap_common_pars_fragment>\n#include <envmap_physical_pars_fragment>\n#include <fog_pars_fragment>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_physical_pars_fragment>\n#include <transmission_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <clearcoat_pars_fragment>\n#include <roughnessmap_pars_fragment>\n#include <metalnessmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <roughnessmap_fragment>\n\t#include <metalnessmap_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <clearcoat_normal_fragment_begin>\n\t#include <clearcoat_normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_physical_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;\n\tvec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;\n\t#include <transmission_fragment>\n\tvec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;\n\t#ifdef USE_CLEARCOAT\n\t\tfloat dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\n\t\tvec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );\n\t\toutgoingLight = outgoingLight * ( 1.0 - clearcoat * Fcc ) + clearcoatSpecular * clearcoat;\n\t#endif\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshphysical_vert:"#define STANDARD\nvarying vec3 vViewPosition;\n#ifdef USE_TRANSMISSION\n\tvarying vec3 vWorldPosition;\n#endif\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n#ifdef USE_TRANSMISSION\n\tvWorldPosition = worldPosition.xyz;\n#endif\n}",meshtoon_frag:"#define TOON\nuniform vec3 diffuse;\nuniform vec3 emissive;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <dithering_pars_fragment>\n#include <color_pars_fragment>\n#include <uv_pars_fragment>\n#include <uv2_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <aomap_pars_fragment>\n#include <lightmap_pars_fragment>\n#include <emissivemap_pars_fragment>\n#include <gradientmap_pars_fragment>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <normal_pars_fragment>\n#include <lights_toon_pars_fragment>\n#include <shadowmap_pars_fragment>\n#include <bumpmap_pars_fragment>\n#include <normalmap_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\n\tvec3 totalEmissiveRadiance = emissive;\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <color_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\t#include <normal_fragment_begin>\n\t#include <normal_fragment_maps>\n\t#include <emissivemap_fragment>\n\t#include <lights_toon_fragment>\n\t#include <lights_fragment_begin>\n\t#include <lights_fragment_maps>\n\t#include <lights_fragment_end>\n\t#include <aomap_fragment>\n\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n\t#include <dithering_fragment>\n}",meshtoon_vert:"#define TOON\nvarying vec3 vViewPosition;\n#include <common>\n#include <uv_pars_vertex>\n#include <uv2_pars_vertex>\n#include <displacementmap_pars_vertex>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <normal_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <skinning_pars_vertex>\n#include <shadowmap_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\t#include <uv2_vertex>\n\t#include <color_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <normal_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <skinning_vertex>\n\t#include <displacementmap_vertex>\n\t#include <project_vertex>\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\tvViewPosition = - mvPosition.xyz;\n\t#include <worldpos_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",points_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <color_pars_fragment>\n#include <map_particle_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_particle_fragment>\n\t#include <color_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n\t#include <premultiplied_alpha_fragment>\n}",points_vert:"uniform float size;\nuniform float scale;\n#include <common>\n#include <color_pars_vertex>\n#include <fog_pars_vertex>\n#include <morphtarget_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <color_vertex>\n\t#include <begin_vertex>\n\t#include <morphtarget_vertex>\n\t#include <project_vertex>\n\tgl_PointSize = size;\n\t#ifdef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\n\t#endif\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <worldpos_vertex>\n\t#include <fog_vertex>\n}",shadow_frag:"uniform vec3 color;\nuniform float opacity;\n#include <common>\n#include <packing>\n#include <fog_pars_fragment>\n#include <bsdfs>\n#include <lights_pars_begin>\n#include <shadowmap_pars_fragment>\n#include <shadowmask_pars_fragment>\nvoid main() {\n\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",shadow_vert:"#include <common>\n#include <fog_pars_vertex>\n#include <shadowmap_pars_vertex>\nvoid main() {\n\t#include <begin_vertex>\n\t#include <project_vertex>\n\t#include <worldpos_vertex>\n\t#include <beginnormal_vertex>\n\t#include <morphnormal_vertex>\n\t#include <skinbase_vertex>\n\t#include <skinnormal_vertex>\n\t#include <defaultnormal_vertex>\n\t#include <shadowmap_vertex>\n\t#include <fog_vertex>\n}",sprite_frag:"uniform vec3 diffuse;\nuniform float opacity;\n#include <common>\n#include <uv_pars_fragment>\n#include <map_pars_fragment>\n#include <alphamap_pars_fragment>\n#include <alphatest_pars_fragment>\n#include <fog_pars_fragment>\n#include <logdepthbuf_pars_fragment>\n#include <clipping_planes_pars_fragment>\nvoid main() {\n\t#include <clipping_planes_fragment>\n\tvec3 outgoingLight = vec3( 0.0 );\n\tvec4 diffuseColor = vec4( diffuse, opacity );\n\t#include <logdepthbuf_fragment>\n\t#include <map_fragment>\n\t#include <alphamap_fragment>\n\t#include <alphatest_fragment>\n\toutgoingLight = diffuseColor.rgb;\n\t#include <output_fragment>\n\t#include <tonemapping_fragment>\n\t#include <encodings_fragment>\n\t#include <fog_fragment>\n}",sprite_vert:"uniform float rotation;\nuniform vec2 center;\n#include <common>\n#include <uv_pars_vertex>\n#include <fog_pars_vertex>\n#include <logdepthbuf_pars_vertex>\n#include <clipping_planes_pars_vertex>\nvoid main() {\n\t#include <uv_vertex>\n\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\n\tvec2 scale;\n\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\n\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\n\t#ifndef USE_SIZEATTENUATION\n\t\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\n\t\tif ( isPerspective ) scale *= - mvPosition.z;\n\t#endif\n\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\n\tvec2 rotatedPosition;\n\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\n\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\n\tmvPosition.xy += rotatedPosition;\n\tgl_Position = projectionMatrix * mvPosition;\n\t#include <logdepthbuf_vertex>\n\t#include <clipping_planes_vertex>\n\t#include <fog_vertex>\n}"},Un={common:{diffuse:{value:new zn(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Dl},uv2Transform:{value:new Dl},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98},maxMipLevel:{value:0}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new vn(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new zn(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotShadowMap:{value:[]},spotShadowMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new zn(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Dl}},sprite:{diffuse:{value:new zn(16777215)},opacity:{value:1},center:{value:new vn(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Dl}}},Z0={basic:{uniforms:ld([Un.common,Un.specularmap,Un.envmap,Un.aomap,Un.lightmap,Un.fog]),vertexShader:fo.meshbasic_vert,fragmentShader:fo.meshbasic_frag},lambert:{uniforms:ld([Un.common,Un.specularmap,Un.envmap,Un.aomap,Un.lightmap,Un.emissivemap,Un.fog,Un.lights,{emissive:{value:new zn(0)}}]),vertexShader:fo.meshlambert_vert,fragmentShader:fo.meshlambert_frag},phong:{uniforms:ld([Un.common,Un.specularmap,Un.envmap,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.fog,Un.lights,{emissive:{value:new zn(0)},specular:{value:new zn(1118481)},shininess:{value:30}}]),vertexShader:fo.meshphong_vert,fragmentShader:fo.meshphong_frag},standard:{uniforms:ld([Un.common,Un.envmap,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.roughnessmap,Un.metalnessmap,Un.fog,Un.lights,{emissive:{value:new zn(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:fo.meshphysical_vert,fragmentShader:fo.meshphysical_frag},toon:{uniforms:ld([Un.common,Un.aomap,Un.lightmap,Un.emissivemap,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.gradientmap,Un.fog,Un.lights,{emissive:{value:new zn(0)}}]),vertexShader:fo.meshtoon_vert,fragmentShader:fo.meshtoon_frag},matcap:{uniforms:ld([Un.common,Un.bumpmap,Un.normalmap,Un.displacementmap,Un.fog,{matcap:{value:null}}]),vertexShader:fo.meshmatcap_vert,fragmentShader:fo.meshmatcap_frag},points:{uniforms:ld([Un.points,Un.fog]),vertexShader:fo.points_vert,fragmentShader:fo.points_frag},dashed:{uniforms:ld([Un.common,Un.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:fo.linedashed_vert,fragmentShader:fo.linedashed_frag},depth:{uniforms:ld([Un.common,Un.displacementmap]),vertexShader:fo.depth_vert,fragmentShader:fo.depth_frag},normal:{uniforms:ld([Un.common,Un.bumpmap,Un.normalmap,Un.displacementmap,{opacity:{value:1}}]),vertexShader:fo.meshnormal_vert,fragmentShader:fo.meshnormal_frag},sprite:{uniforms:ld([Un.sprite,Un.fog]),vertexShader:fo.sprite_vert,fragmentShader:fo.sprite_frag},background:{uniforms:{uvTransform:{value:new Dl},t2D:{value:null}},vertexShader:fo.background_vert,fragmentShader:fo.background_frag},cube:{uniforms:ld([Un.envmap,{opacity:{value:1}}]),vertexShader:fo.cube_vert,fragmentShader:fo.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:fo.equirect_vert,fragmentShader:fo.equirect_frag},distanceRGBA:{uniforms:ld([Un.common,Un.displacementmap,{referencePosition:{value:new Ot},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:fo.distanceRGBA_vert,fragmentShader:fo.distanceRGBA_frag},shadow:{uniforms:ld([Un.lights,Un.fog,{color:{value:new zn(0)},opacity:{value:1}}]),vertexShader:fo.shadow_vert,fragmentShader:fo.shadow_frag}};function gj(a,t,e,o,l){const d=new zn(0);let b,M,g=0,O=null,T=0,D=null;function k(U,j){e.buffers.color.setClear(U.r,U.g,U.b,j,l)}return{getClearColor:function(){return d},setClearColor:function(U,j=1){d.set(U),g=j,k(d,g)},getClearAlpha:function(){return g},setClearAlpha:function(U){g=U,k(d,g)},render:function(U,j){let Z=!1,W=!0===j.isScene?j.background:null;W&&W.isTexture&&(W=t.get(W));const H=a.xr,rt=H.getSession&&H.getSession();rt&&"additive"===rt.environmentBlendMode&&(W=null),null===W?k(d,g):W&&W.isColor&&(k(W,1),Z=!0),(a.autoClear||Z)&&a.clear(a.autoClearColor,a.autoClearDepth,a.autoClearStencil),W&&(W.isCubeTexture||306===W.mapping)?(void 0===M&&(M=new kl(new nE(1,1,1),new dP({name:"BackgroundCubeMaterial",uniforms:bT(Z0.cube.uniforms),vertexShader:Z0.cube.vertexShader,fragmentShader:Z0.cube.fragmentShader,side:1,depthTest:!1,depthWrite:!1,fog:!1})),M.geometry.deleteAttribute("normal"),M.geometry.deleteAttribute("uv"),M.onBeforeRender=function(Q,gt,Ct){this.matrixWorld.copyPosition(Ct.matrixWorld)},Object.defineProperty(M.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),o.update(M)),M.material.uniforms.envMap.value=W,M.material.uniforms.flipEnvMap.value=W.isCubeTexture&&!1===W.isRenderTargetTexture?-1:1,(O!==W||T!==W.version||D!==a.toneMapping)&&(M.material.needsUpdate=!0,O=W,T=W.version,D=a.toneMapping),U.unshift(M,M.geometry,M.material,0,0,null)):W&&W.isTexture&&(void 0===b&&(b=new kl(new YI(2,2),new dP({name:"BackgroundMaterial",uniforms:bT(Z0.background.uniforms),vertexShader:Z0.background.vertexShader,fragmentShader:Z0.background.fragmentShader,side:0,depthTest:!1,depthWrite:!1,fog:!1})),b.geometry.deleteAttribute("normal"),Object.defineProperty(b.material,"map",{get:function(){return this.uniforms.t2D.value}}),o.update(b)),b.material.uniforms.t2D.value=W,!0===W.matrixAutoUpdate&&W.updateMatrix(),b.material.uniforms.uvTransform.value.copy(W.matrix),(O!==W||T!==W.version||D!==a.toneMapping)&&(b.material.needsUpdate=!0,O=W,T=W.version,D=a.toneMapping),U.unshift(b,b.geometry,b.material,0,0,null))}}}function mj(a,t,e,o){const l=a.getParameter(34921),d=o.isWebGL2?null:t.get("OES_vertex_array_object"),g=o.isWebGL2||null!==d,b={},M=j(null);let O=M;function R(de){return o.isWebGL2?a.bindVertexArray(de):d.bindVertexArrayOES(de)}function k(de){return o.isWebGL2?a.deleteVertexArray(de):d.deleteVertexArrayOES(de)}function j(de){const fe=[],De=[],Ee=[];for(let Be=0;Be<l;Be++)fe[Be]=0,De[Be]=0,Ee[Be]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:fe,enabledAttributes:De,attributeDivisors:Ee,object:de,attributes:{},index:null}}function H(){const de=O.newAttributes;for(let fe=0,De=de.length;fe<De;fe++)de[fe]=0}function rt(de){Q(de,0)}function Q(de,fe){const Ee=O.enabledAttributes,Be=O.attributeDivisors;O.newAttributes[de]=1,0===Ee[de]&&(a.enableVertexAttribArray(de),Ee[de]=1),Be[de]!==fe&&((o.isWebGL2?a:t.get("ANGLE_instanced_arrays"))[o.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](de,fe),Be[de]=fe)}function gt(){const de=O.newAttributes,fe=O.enabledAttributes;for(let De=0,Ee=fe.length;De<Ee;De++)fe[De]!==de[De]&&(a.disableVertexAttribArray(De),fe[De]=0)}function Ct(de,fe,De,Ee,Be,pn){!0!==o.isWebGL2||5124!==De&&5125!==De?a.vertexAttribPointer(de,fe,De,Ee,Be,pn):a.vertexAttribIPointer(de,fe,De,Be,pn)}function kt(){je(),O!==M&&(O=M,R(O.object))}function je(){M.geometry=null,M.program=null,M.wireframe=!1}return{setup:function(de,fe,De,Ee,Be){let pn=!1;if(g){const Nn=function(de,fe,De){const Ee=!0===De.wireframe;let Be=b[de.id];void 0===Be&&(Be={},b[de.id]=Be);let pn=Be[fe.id];void 0===pn&&(pn={},Be[fe.id]=pn);let Nn=pn[Ee];return void 0===Nn&&(Nn=j(o.isWebGL2?a.createVertexArray():d.createVertexArrayOES()),pn[Ee]=Nn),Nn}(Ee,De,fe);O!==Nn&&(O=Nn,R(O.object)),pn=function(de,fe){const De=O.attributes,Ee=de.attributes;let Be=0;for(const pn in Ee){const Nn=De[pn],Jn=Ee[pn];if(void 0===Nn||Nn.attribute!==Jn||Nn.data!==Jn.data)return!0;Be++}return O.attributesNum!==Be||O.index!==fe}(Ee,Be),pn&&function(de,fe){const De={},Ee=de.attributes;let Be=0;for(const pn in Ee){const Nn=Ee[pn],Jn={};Jn.attribute=Nn,Nn.data&&(Jn.data=Nn.data),De[pn]=Jn,Be++}O.attributes=De,O.attributesNum=Be,O.index=fe}(Ee,Be)}else{const Nn=!0===fe.wireframe;(O.geometry!==Ee.id||O.program!==De.id||O.wireframe!==Nn)&&(O.geometry=Ee.id,O.program=De.id,O.wireframe=Nn,pn=!0)}!0===de.isInstancedMesh&&(pn=!0),null!==Be&&e.update(Be,34963),pn&&(function(de,fe,De,Ee){if(!1===o.isWebGL2&&(de.isInstancedMesh||Ee.isInstancedBufferGeometry)&&null===t.get("ANGLE_instanced_arrays"))return;H();const Be=Ee.attributes,pn=De.getAttributes(),Nn=fe.defaultAttributeValues;for(const Jn in pn){const kn=pn[Jn];if(kn.location>=0){let ci=Be[Jn];if(void 0===ci&&("instanceMatrix"===Jn&&de.instanceMatrix&&(ci=de.instanceMatrix),"instanceColor"===Jn&&de.instanceColor&&(ci=de.instanceColor)),void 0!==ci){const hn=ci.normalized,Xn=ci.itemSize,nr=e.get(ci);if(void 0===nr)continue;const ke=nr.buffer,Lr=nr.type,di=nr.bytesPerElement;if(ci.isInterleavedBufferAttribute){const sr=ci.data,gr=sr.stride,Ri=ci.offset;if(sr&&sr.isInstancedInterleavedBuffer){for(let Ke=0;Ke<kn.locationSize;Ke++)Q(kn.location+Ke,sr.meshPerAttribute);!0!==de.isInstancedMesh&&void 0===Ee._maxInstanceCount&&(Ee._maxInstanceCount=sr.meshPerAttribute*sr.count)}else for(let Ke=0;Ke<kn.locationSize;Ke++)rt(kn.location+Ke);a.bindBuffer(34962,ke);for(let Ke=0;Ke<kn.locationSize;Ke++)Ct(kn.location+Ke,Xn/kn.locationSize,Lr,hn,gr*di,(Ri+Xn/kn.locationSize*Ke)*di)}else{if(ci.isInstancedBufferAttribute){for(let sr=0;sr<kn.locationSize;sr++)Q(kn.location+sr,ci.meshPerAttribute);!0!==de.isInstancedMesh&&void 0===Ee._maxInstanceCount&&(Ee._maxInstanceCount=ci.meshPerAttribute*ci.count)}else for(let sr=0;sr<kn.locationSize;sr++)rt(kn.location+sr);a.bindBuffer(34962,ke);for(let sr=0;sr<kn.locationSize;sr++)Ct(kn.location+sr,Xn/kn.locationSize,Lr,hn,Xn*di,Xn/kn.locationSize*sr*di)}}else if(void 0!==Nn){const hn=Nn[Jn];if(void 0!==hn)switch(hn.length){case 2:a.vertexAttrib2fv(kn.location,hn);break;case 3:a.vertexAttrib3fv(kn.location,hn);break;case 4:a.vertexAttrib4fv(kn.location,hn);break;default:a.vertexAttrib1fv(kn.location,hn)}}}}gt()}(de,fe,De,Ee),null!==Be&&a.bindBuffer(34963,e.get(Be).buffer))},reset:kt,resetDefaultState:je,dispose:function(){kt();for(const de in b){const fe=b[de];for(const De in fe){const Ee=fe[De];for(const Be in Ee)k(Ee[Be].object),delete Ee[Be];delete fe[De]}delete b[de]}},releaseStatesOfGeometry:function(de){if(void 0===b[de.id])return;const fe=b[de.id];for(const De in fe){const Ee=fe[De];for(const Be in Ee)k(Ee[Be].object),delete Ee[Be];delete fe[De]}delete b[de.id]},releaseStatesOfProgram:function(de){for(const fe in b){const De=b[fe];if(void 0===De[de.id])continue;const Ee=De[de.id];for(const Be in Ee)k(Ee[Be].object),delete Ee[Be];delete De[de.id]}},initAttributes:H,enableAttribute:rt,disableUnusedAttributes:gt}}function vj(a,t,e,o){const l=o.isWebGL2;let d;this.setMode=function(O){d=O},this.render=function(O,T){a.drawArrays(d,O,T),e.update(T,d,1)},this.renderInstances=function(O,T,D){if(0===D)return;let R,k;if(l)R=a,k="drawArraysInstanced";else if(R=t.get("ANGLE_instanced_arrays"),k="drawArraysInstancedANGLE",null===R)return void console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");R[k](d,O,T,D),e.update(T,d,D)}}function _j(a,t,e){let o;function d(ut){if("highp"===ut){if(a.getShaderPrecisionFormat(35633,36338).precision>0&&a.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";ut="mediump"}return"mediump"===ut&&a.getShaderPrecisionFormat(35633,36337).precision>0&&a.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const g="undefined"!=typeof WebGL2RenderingContext&&a instanceof WebGL2RenderingContext||"undefined"!=typeof WebGL2ComputeRenderingContext&&a instanceof WebGL2ComputeRenderingContext;let b=void 0!==e.precision?e.precision:"highp";const M=d(b);M!==b&&(console.warn("THREE.WebGLRenderer:",b,"not supported, using",M,"instead."),b=M);const O=g||t.has("WEBGL_draw_buffers"),T=!0===e.logarithmicDepthBuffer,D=a.getParameter(34930),R=a.getParameter(35660),k=a.getParameter(3379),U=a.getParameter(34076),j=a.getParameter(34921),Z=a.getParameter(36347),W=a.getParameter(36348),H=a.getParameter(36349),rt=R>0,Q=g||t.has("OES_texture_float");return{isWebGL2:g,drawBuffers:O,getMaxAnisotropy:function(){if(void 0!==o)return o;if(!0===t.has("EXT_texture_filter_anisotropic")){const ut=t.get("EXT_texture_filter_anisotropic");o=a.getParameter(ut.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else o=0;return o},getMaxPrecision:d,precision:b,logarithmicDepthBuffer:T,maxTextures:D,maxVertexTextures:R,maxTextureSize:k,maxCubemapSize:U,maxAttributes:j,maxVertexUniforms:Z,maxVaryings:W,maxFragmentUniforms:H,vertexTextures:rt,floatFragmentTextures:Q,floatVertexTextures:rt&&Q,maxSamples:g?a.getParameter(36183):0}}function bj(a){const t=this;let e=null,o=0,l=!1,d=!1;const g=new Wx,b=new Dl,M={value:null,needsUpdate:!1};function O(){M.value!==e&&(M.value=e,M.needsUpdate=o>0),t.numPlanes=o,t.numIntersection=0}function T(D,R,k,U){const j=null!==D?D.length:0;let Z=null;if(0!==j){if(Z=M.value,!0!==U||null===Z){const W=k+4*j,H=R.matrixWorldInverse;b.getNormalMatrix(H),(null===Z||Z.length<W)&&(Z=new Float32Array(W));for(let rt=0,Q=k;rt!==j;++rt,Q+=4)g.copy(D[rt]).applyMatrix4(H,b),g.normal.toArray(Z,Q),Z[Q+3]=g.constant}M.value=Z,M.needsUpdate=!0}return t.numPlanes=j,t.numIntersection=0,Z}this.uniform=M,this.numPlanes=0,this.numIntersection=0,this.init=function(D,R,k){const U=0!==D.length||R||0!==o||l;return l=R,e=T(D,k,0),o=D.length,U},this.beginShadows=function(){d=!0,T(null)},this.endShadows=function(){d=!1,O()},this.setState=function(D,R,k){const U=D.clippingPlanes,j=D.clipIntersection,Z=D.clipShadows,W=a.get(D);if(!l||null===U||0===U.length||d&&!Z)d?T(null):O();else{const H=d?0:o,rt=4*H;let Q=W.clippingState||null;M.value=Q,Q=T(U,R,rt,k);for(let gt=0;gt!==rt;++gt)Q[gt]=e[gt];W.clippingState=Q,this.numIntersection=j?this.numPlanes:0,this.numPlanes+=H}}}function yj(a){let t=new WeakMap;function e(g,b){return 303===b?g.mapping=301:304===b&&(g.mapping=302),g}function l(g){const b=g.target;b.removeEventListener("dispose",l);const M=t.get(b);void 0!==M&&(t.delete(b),M.dispose())}return{get:function(g){if(g&&g.isTexture&&!1===g.isRenderTargetTexture){const b=g.mapping;if(303===b||304===b){if(t.has(g))return e(t.get(g).texture,g.mapping);{const M=g.image;if(M&&M.height>0){const O=a.getRenderTarget(),T=new lN(M.height/2);return T.fromEquirectangularTexture(a,g),t.set(g,T),a.setRenderTarget(O),g.addEventListener("dispose",l),e(T.texture,g.mapping)}return null}}}return g},dispose:function(){t=new WeakMap}}}Z0.physical={uniforms:ld([Z0.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new vn(1,1)},clearcoatNormalMap:{value:null},sheenTint:{value:new zn(0)},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new vn},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationTint:{value:new zn(0)},specularIntensity:{value:0},specularIntensityMap:{value:null},specularTint:{value:new zn(1,1,1)},specularTintMap:{value:null}}]),vertexShader:fo.meshphysical_vert,fragmentShader:fo.meshphysical_frag};class nL extends Jk{constructor(t=-1,e=1,o=1,l=-1,d=.1,g=2e3){super(),this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=t,this.right=e,this.top=o,this.bottom=l,this.near=d,this.far=g,this.updateProjectionMatrix()}copy(t,e){return super.copy(t,e),this.left=t.left,this.right=t.right,this.top=t.top,this.bottom=t.bottom,this.near=t.near,this.far=t.far,this.zoom=t.zoom,this.view=null===t.view?null:Object.assign({},t.view),this}setViewOffset(t,e,o,l,d,g){null===this.view&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=t,this.view.fullHeight=e,this.view.offsetX=o,this.view.offsetY=l,this.view.width=d,this.view.height=g,this.updateProjectionMatrix()}clearViewOffset(){null!==this.view&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const t=(this.right-this.left)/(2*this.zoom),e=(this.top-this.bottom)/(2*this.zoom),o=(this.right+this.left)/2,l=(this.top+this.bottom)/2;let d=o-t,g=o+t,b=l+e,M=l-e;if(null!==this.view&&this.view.enabled){const O=(this.right-this.left)/this.view.fullWidth/this.zoom,T=(this.top-this.bottom)/this.view.fullHeight/this.zoom;d+=O*this.view.offsetX,g=d+O*this.view.width,b-=T*this.view.offsetY,M=b-T*this.view.height}this.projectionMatrix.makeOrthographic(d,g,b,M,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(t){const e=super.toJSON(t);return e.object.zoom=this.zoom,e.object.left=this.left,e.object.right=this.right,e.object.top=this.top,e.object.bottom=this.bottom,e.object.near=this.near,e.object.far=this.far,null!==this.view&&(e.object.view=Object.assign({},this.view)),e}}nL.prototype.isOrthographicCamera=!0;class XI extends dP{constructor(t){super(t),this.type="RawShaderMaterial"}}XI.prototype.isRawShaderMaterial=!0;const K0=Math.pow(2,8),tB=[.125,.215,.35,.446,.526,.582],eB=5+tB.length,Q0={[Kp]:0,3001:1,3002:2,3004:3,3005:4,3006:5,3007:6},dN=new nL,{_lodPlanes:ZI,_sizeLods:nB,_sigmas:rL}=Mj(),rB=new zn;let pN=null;const rE=(1+Math.sqrt(5))/2,wT=1/rE,iB=[new Ot(1,1,1),new Ot(-1,1,1),new Ot(1,1,-1),new Ot(-1,1,-1),new Ot(0,rE,wT),new Ot(0,rE,-wT),new Ot(wT,0,rE),new Ot(-wT,0,rE),new Ot(rE,wT,0),new Ot(-rE,wT,0)];class xj{constructor(t){this._renderer=t,this._pingPongRenderTarget=null,this._blurMaterial=function(a){const t=new Float32Array(20),e=new Ot(0,1,0);return new XI({name:"SphericalGaussianBlur",defines:{n:20},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:t},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:e},inputEncoding:{value:Q0[Kp]},outputEncoding:{value:Q0[Kp]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform int samples;\n\t\t\tuniform float weights[ n ];\n\t\t\tuniform bool latitudinal;\n\t\t\tuniform float dTheta;\n\t\t\tuniform float mipInt;\n\t\t\tuniform vec3 poleAxis;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#define ENVMAP_TYPE_CUBE_UV\n\t\t\t#include <cube_uv_reflection_fragment>\n\n\t\t\tvec3 getSample( float theta, vec3 axis ) {\n\n\t\t\t\tfloat cosTheta = cos( theta );\n\t\t\t\t// Rodrigues' axis-angle rotation\n\t\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross( axis, vOutputDirection ) * sin( theta )\n\t\t\t\t\t+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );\n\n\t\t\t\treturn bilinearCubeUV( envMap, sampleDirection, mipInt );\n\n\t\t\t}\n\n\t\t\tvoid main() {\n\n\t\t\t\tvec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );\n\n\t\t\t\tif ( all( equal( axis, vec3( 0.0 ) ) ) ) {\n\n\t\t\t\t\taxis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );\n\n\t\t\t\t}\n\n\t\t\t\taxis = normalize( axis );\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );\n\n\t\t\t\tfor ( int i = 1; i < n; i++ ) {\n\n\t\t\t\t\tif ( i >= samples ) {\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfloat theta = dTheta * float( i );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );\n\t\t\t\t\tgl_FragColor.rgb += weights[ i ] * getSample( theta, axis );\n\n\t\t\t\t}\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}(),this._equirectShader=null,this._cubemapShader=null,this._compileMaterial(this._blurMaterial)}fromScene(t,e=0,o=.1,l=100){pN=this._renderer.getRenderTarget();const d=this._allocateTargets();return this._sceneToCubeUV(t,o,l,d),e>0&&this._blur(d,0,0,e),this._applyPMREM(d),this._cleanup(d),d}fromEquirectangular(t){return this._fromTexture(t)}fromCubemap(t){return this._fromTexture(t)}compileCubemapShader(){null===this._cubemapShader&&(this._cubemapShader=aB(),this._compileMaterial(this._cubemapShader))}compileEquirectangularShader(){null===this._equirectShader&&(this._equirectShader=sB(),this._compileMaterial(this._equirectShader))}dispose(){this._blurMaterial.dispose(),null!==this._cubemapShader&&this._cubemapShader.dispose(),null!==this._equirectShader&&this._equirectShader.dispose();for(let t=0;t<ZI.length;t++)ZI[t].dispose()}_cleanup(t){this._pingPongRenderTarget.dispose(),this._renderer.setRenderTarget(pN),t.scissorTest=!1,iL(t,0,0,t.width,t.height)}_fromTexture(t){pN=this._renderer.getRenderTarget();const e=this._allocateTargets(t);return this._textureToCubeUV(t,e),this._applyPMREM(e),this._cleanup(e),e}_allocateTargets(t){const e={magFilter:el,minFilter:el,generateMipmaps:!1,type:tT,format:1023,encoding:(a=t,void 0===a||a.type!==tT||a.encoding!==Kp&&3001!==a.encoding&&3007!==a.encoding?3002:t.encoding),depthBuffer:!1},o=oB(e);var a;return o.depthBuffer=!t,this._pingPongRenderTarget=oB(e),o}_compileMaterial(t){const e=new kl(ZI[0],t);this._renderer.compile(e,dN)}_sceneToCubeUV(t,e,o,l){const b=new uu(90,1,e,o),M=[1,-1,1,1,1,1],O=[1,1,1,-1,-1,-1],T=this._renderer,D=T.autoClear,R=T.outputEncoding,k=T.toneMapping;T.getClearColor(rB),T.toneMapping=0,T.outputEncoding=Kp,T.autoClear=!1;const U=new aP({name:"PMREM.Background",side:1,depthWrite:!1,depthTest:!1}),j=new kl(new nE,U);let Z=!1;const W=t.background;W?W.isColor&&(U.color.copy(W),t.background=null,Z=!0):(U.color.copy(rB),Z=!0);for(let H=0;H<6;H++){const rt=H%3;0==rt?(b.up.set(0,M[H],0),b.lookAt(O[H],0,0)):1==rt?(b.up.set(0,0,M[H]),b.lookAt(0,O[H],0)):(b.up.set(0,M[H],0),b.lookAt(0,0,O[H])),iL(l,rt*K0,H>2?K0:0,K0,K0),T.setRenderTarget(l),Z&&T.render(j,b),T.render(t,b)}j.geometry.dispose(),j.material.dispose(),T.toneMapping=k,T.outputEncoding=R,T.autoClear=D,t.background=W}_textureToCubeUV(t,e){const o=this._renderer;t.isCubeTexture?null==this._cubemapShader&&(this._cubemapShader=aB()):null==this._equirectShader&&(this._equirectShader=sB());const l=t.isCubeTexture?this._cubemapShader:this._equirectShader,d=new kl(ZI[0],l),g=l.uniforms;g.envMap.value=t,t.isCubeTexture||g.texelSize.value.set(1/t.image.width,1/t.image.height),g.inputEncoding.value=Q0[t.encoding],g.outputEncoding.value=Q0[e.texture.encoding],iL(e,0,0,3*K0,2*K0),o.setRenderTarget(e),o.render(d,dN)}_applyPMREM(t){const e=this._renderer,o=e.autoClear;e.autoClear=!1;for(let l=1;l<eB;l++){const d=Math.sqrt(rL[l]*rL[l]-rL[l-1]*rL[l-1]);this._blur(t,l-1,l,d,iB[(l-1)%iB.length])}e.autoClear=o}_blur(t,e,o,l,d){const g=this._pingPongRenderTarget;this._halfBlur(t,g,e,o,l,"latitudinal",d),this._halfBlur(g,t,o,o,l,"longitudinal",d)}_halfBlur(t,e,o,l,d,g,b){const M=this._renderer,O=this._blurMaterial;"latitudinal"!==g&&"longitudinal"!==g&&console.error("blur direction must be either latitudinal or longitudinal!");const D=new kl(ZI[l],O),R=O.uniforms,k=nB[o]-1,U=isFinite(d)?Math.PI/(2*k):2*Math.PI/39,j=d/U,Z=isFinite(d)?1+Math.floor(3*j):20;Z>20&&console.warn(`sigmaRadians, ${d}, is too large and will clip, as it requested ${Z} samples when the maximum is set to 20`);const W=[];let H=0;for(let Ct=0;Ct<20;++Ct){const ut=Ct/j,Yt=Math.exp(-ut*ut/2);W.push(Yt),0==Ct?H+=Yt:Ct<Z&&(H+=2*Yt)}for(let Ct=0;Ct<W.length;Ct++)W[Ct]=W[Ct]/H;R.envMap.value=t.texture,R.samples.value=Z,R.weights.value=W,R.latitudinal.value="latitudinal"===g,b&&(R.poleAxis.value=b),R.dTheta.value=U,R.mipInt.value=8-o,R.inputEncoding.value=Q0[t.texture.encoding],R.outputEncoding.value=Q0[t.texture.encoding];const rt=nB[l];iL(e,3*Math.max(0,K0-2*rt),(0===l?0:2*K0)+2*rt*(l>4?l-8+4:0),3*rt,2*rt),M.setRenderTarget(e),M.render(D,dN)}}function Mj(){const a=[],t=[],e=[];let o=8;for(let l=0;l<eB;l++){const d=Math.pow(2,o);t.push(d);let g=1/d;l>4?g=tB[l-8+4-1]:0==l&&(g=0),e.push(g);const b=1/(d-1),M=-b/2,O=1+b/2,T=[M,M,O,M,O,O,M,M,O,O,M,O],D=6,R=6,k=3,U=2,j=1,Z=new Float32Array(k*R*D),W=new Float32Array(U*R*D),H=new Float32Array(j*R*D);for(let Q=0;Q<D;Q++){const gt=Q%3*2/3-1,Ct=Q>2?0:-1;Z.set([gt,Ct,0,gt+2/3,Ct,0,gt+2/3,Ct+1,0,gt,Ct,0,gt+2/3,Ct+1,0,gt,Ct+1,0],k*R*Q),W.set(T,U*R*Q),H.set([Q,Q,Q,Q,Q,Q],j*R*Q)}const rt=new Qr;rt.setAttribute("position",new Os(Z,k)),rt.setAttribute("uv",new Os(W,U)),rt.setAttribute("faceIndex",new Os(H,j)),a.push(rt),o>4&&o--}return{_lodPlanes:a,_sizeLods:t,_sigmas:e}}function oB(a){const t=new X0(3*K0,3*K0,a);return t.texture.mapping=306,t.texture.name="PMREM.cubeUv",t.scissorTest=!0,t}function iL(a,t,e,o,l){a.viewport.set(t,e,o,l),a.scissor.set(t,e,o,l)}function sB(){const a=new vn(1,1);return new XI({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null},texelSize:{value:a},inputEncoding:{value:Q0[Kp]},outputEncoding:{value:Q0[Kp]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform sampler2D envMap;\n\t\t\tuniform vec2 texelSize;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\t#include <common>\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\n\t\t\t\tvec3 outputDirection = normalize( vOutputDirection );\n\t\t\t\tvec2 uv = equirectUv( outputDirection );\n\n\t\t\t\tvec2 f = fract( uv / texelSize - 0.5 );\n\t\t\t\tuv -= f * texelSize;\n\t\t\t\tvec3 tl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x += texelSize.x;\n\t\t\t\tvec3 tr = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.y += texelSize.y;\n\t\t\t\tvec3 br = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\t\t\t\tuv.x -= texelSize.x;\n\t\t\t\tvec3 bl = envMapTexelToLinear( texture2D ( envMap, uv ) ).rgb;\n\n\t\t\t\tvec3 tm = mix( tl, tr, f.x );\n\t\t\t\tvec3 bm = mix( bl, br, f.x );\n\t\t\t\tgl_FragColor.rgb = mix( tm, bm, f.y );\n\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function aB(){return new XI({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},inputEncoding:{value:Q0[Kp]},outputEncoding:{value:Q0[Kp]}},vertexShader:"\n\n\t\tprecision mediump float;\n\t\tprecision mediump int;\n\n\t\tattribute vec3 position;\n\t\tattribute vec2 uv;\n\t\tattribute float faceIndex;\n\n\t\tvarying vec3 vOutputDirection;\n\n\t\t// RH coordinate system; PMREM face-indexing convention\n\t\tvec3 getDirection( vec2 uv, float face ) {\n\n\t\t\tuv = 2.0 * uv - 1.0;\n\n\t\t\tvec3 direction = vec3( uv, 1.0 );\n\n\t\t\tif ( face == 0.0 ) {\n\n\t\t\t\tdirection = direction.zyx; // ( 1, v, u ) pos x\n\n\t\t\t} else if ( face == 1.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xz *= -1.0; // ( -u, 1, -v ) pos y\n\n\t\t\t} else if ( face == 2.0 ) {\n\n\t\t\t\tdirection.x *= -1.0; // ( -u, v, 1 ) pos z\n\n\t\t\t} else if ( face == 3.0 ) {\n\n\t\t\t\tdirection = direction.zyx;\n\t\t\t\tdirection.xz *= -1.0; // ( -1, v, -u ) neg x\n\n\t\t\t} else if ( face == 4.0 ) {\n\n\t\t\t\tdirection = direction.xzy;\n\t\t\t\tdirection.xy *= -1.0; // ( -u, -1, v ) neg y\n\n\t\t\t} else if ( face == 5.0 ) {\n\n\t\t\t\tdirection.z *= -1.0; // ( u, v, -1 ) neg z\n\n\t\t\t}\n\n\t\t\treturn direction;\n\n\t\t}\n\n\t\tvoid main() {\n\n\t\t\tvOutputDirection = getDirection( uv, faceIndex );\n\t\t\tgl_Position = vec4( position, 1.0 );\n\n\t\t}\n\t",fragmentShader:"\n\n\t\t\tprecision mediump float;\n\t\t\tprecision mediump int;\n\n\t\t\tvarying vec3 vOutputDirection;\n\n\t\t\tuniform samplerCube envMap;\n\n\t\t\t\n\n\t\tuniform int inputEncoding;\n\t\tuniform int outputEncoding;\n\n\t\t#include <encodings_pars_fragment>\n\n\t\tvec4 inputTexelToLinear( vec4 value ) {\n\n\t\t\tif ( inputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( inputEncoding == 1 ) {\n\n\t\t\t\treturn sRGBToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 2 ) {\n\n\t\t\t\treturn RGBEToLinear( value );\n\n\t\t\t} else if ( inputEncoding == 3 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 7.0 );\n\n\t\t\t} else if ( inputEncoding == 4 ) {\n\n\t\t\t\treturn RGBMToLinear( value, 16.0 );\n\n\t\t\t} else if ( inputEncoding == 5 ) {\n\n\t\t\t\treturn RGBDToLinear( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn GammaToLinear( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 linearToOutputTexel( vec4 value ) {\n\n\t\t\tif ( outputEncoding == 0 ) {\n\n\t\t\t\treturn value;\n\n\t\t\t} else if ( outputEncoding == 1 ) {\n\n\t\t\t\treturn LinearTosRGB( value );\n\n\t\t\t} else if ( outputEncoding == 2 ) {\n\n\t\t\t\treturn LinearToRGBE( value );\n\n\t\t\t} else if ( outputEncoding == 3 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 7.0 );\n\n\t\t\t} else if ( outputEncoding == 4 ) {\n\n\t\t\t\treturn LinearToRGBM( value, 16.0 );\n\n\t\t\t} else if ( outputEncoding == 5 ) {\n\n\t\t\t\treturn LinearToRGBD( value, 256.0 );\n\n\t\t\t} else {\n\n\t\t\t\treturn LinearToGamma( value, 2.2 );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvec4 envMapTexelToLinear( vec4 color ) {\n\n\t\t\treturn inputTexelToLinear( color );\n\n\t\t}\n\t\n\n\t\t\tvoid main() {\n\n\t\t\t\tgl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );\n\t\t\t\tgl_FragColor.rgb = envMapTexelToLinear( textureCube( envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ) ) ).rgb;\n\t\t\t\tgl_FragColor = linearToOutputTexel( gl_FragColor );\n\n\t\t\t}\n\t\t",blending:0,depthTest:!1,depthWrite:!1})}function wj(a){let t=new WeakMap,e=null;function d(b){const M=b.target;M.removeEventListener("dispose",d);const O=t.get(M);void 0!==O&&(t.delete(M),O.dispose())}return{get:function(b){if(b&&b.isTexture&&!1===b.isRenderTargetTexture){const M=b.mapping,O=303===M||304===M,T=301===M||302===M;if(O||T){if(t.has(b))return t.get(b).texture;{const D=b.image;if(O&&D&&D.height>0||T&&D&&function(b){let M=0;for(let T=0;T<6;T++)void 0!==b[T]&&M++;return 6===M}(D)){const R=a.getRenderTarget();null===e&&(e=new xj(a));const k=O?e.fromEquirectangular(b):e.fromCubemap(b);return t.set(b,k),a.setRenderTarget(R),b.addEventListener("dispose",d),k.texture}return null}}}return b},dispose:function(){t=new WeakMap,null!==e&&(e.dispose(),e=null)}}}function Oj(a){const t={};function e(o){if(void 0!==t[o])return t[o];let l;switch(o){case"WEBGL_depth_texture":l=a.getExtension("WEBGL_depth_texture")||a.getExtension("MOZ_WEBGL_depth_texture")||a.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":l=a.getExtension("EXT_texture_filter_anisotropic")||a.getExtension("MOZ_EXT_texture_filter_anisotropic")||a.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":l=a.getExtension("WEBGL_compressed_texture_s3tc")||a.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":l=a.getExtension("WEBGL_compressed_texture_pvrtc")||a.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:l=a.getExtension(o)}return t[o]=l,l}return{has:function(o){return null!==e(o)},init:function(o){o.isWebGL2?e("EXT_color_buffer_float"):(e("WEBGL_depth_texture"),e("OES_texture_float"),e("OES_texture_half_float"),e("OES_texture_half_float_linear"),e("OES_standard_derivatives"),e("OES_element_index_uint"),e("OES_vertex_array_object"),e("ANGLE_instanced_arrays")),e("OES_texture_float_linear"),e("EXT_color_buffer_half_float")},get:function(o){const l=e(o);return null===l&&console.warn("THREE.WebGLRenderer: "+o+" extension not supported."),l}}}function Ej(a,t,e,o){const l={},d=new WeakMap;function g(D){const R=D.target;null!==R.index&&t.remove(R.index);for(const U in R.attributes)t.remove(R.attributes[U]);R.removeEventListener("dispose",g),delete l[R.id];const k=d.get(R);k&&(t.remove(k),d.delete(R)),o.releaseStatesOfGeometry(R),!0===R.isInstancedBufferGeometry&&delete R._maxInstanceCount,e.memory.geometries--}function O(D){const R=[],k=D.index,U=D.attributes.position;let j=0;if(null!==k){const H=k.array;j=k.version;for(let rt=0,Q=H.length;rt<Q;rt+=3){const gt=H[rt+0],Ct=H[rt+1],ut=H[rt+2];R.push(gt,Ct,Ct,ut,ut,gt)}}else{j=U.version;for(let rt=0,Q=U.array.length/3-1;rt<Q;rt+=3){const gt=rt+0,Ct=rt+1,ut=rt+2;R.push(gt,Ct,Ct,ut,ut,gt)}}const Z=new(K6(R)>65535?eN:tN)(R,1);Z.version=j;const W=d.get(D);W&&t.remove(W),d.set(D,Z)}return{get:function(D,R){return!0===l[R.id]||(R.addEventListener("dispose",g),l[R.id]=!0,e.memory.geometries++),R},update:function(D){const R=D.attributes;for(const U in R)t.update(R[U],34962);const k=D.morphAttributes;for(const U in k){const j=k[U];for(let Z=0,W=j.length;Z<W;Z++)t.update(j[Z],34962)}},getWireframeAttribute:function(D){const R=d.get(D);if(R){const k=D.index;null!==k&&R.version<k.version&&O(D)}else O(D);return d.get(D)}}}function Sj(a,t,e,o){const l=o.isWebGL2;let d,b,M;this.setMode=function(R){d=R},this.setIndex=function(R){b=R.type,M=R.bytesPerElement},this.render=function(R,k){a.drawElements(d,k,b,R*M),e.update(k,d,1)},this.renderInstances=function(R,k,U){if(0===U)return;let j,Z;if(l)j=a,Z="drawElementsInstanced";else if(j=t.get("ANGLE_instanced_arrays"),Z="drawElementsInstancedANGLE",null===j)return void console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");j[Z](d,k,b,R*M,U),e.update(k,d,U)}}function Aj(a){const e={frame:0,calls:0,triangles:0,points:0,lines:0};return{memory:{geometries:0,textures:0},render:e,programs:null,autoReset:!0,reset:function(){e.frame++,e.calls=0,e.triangles=0,e.points=0,e.lines=0},update:function(d,g,b){switch(e.calls++,g){case 4:e.triangles+=b*(d/3);break;case 1:e.lines+=b*(d/2);break;case 3:e.lines+=b*(d-1);break;case 2:e.lines+=b*d;break;case 0:e.points+=b*d;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",g)}}}}function Tj(a,t){return a[0]-t[0]}function Dj(a,t){return Math.abs(t[1])-Math.abs(a[1])}function Ij(a){const t={},e=new Float32Array(8),o=[];for(let d=0;d<8;d++)o[d]=[d,0];return{update:function(d,g,b,M){const O=d.morphTargetInfluences,T=void 0===O?0:O.length;let D=t[g.id];if(void 0===D||D.length!==T){D=[];for(let Z=0;Z<T;Z++)D[Z]=[Z,0];t[g.id]=D}for(let Z=0;Z<T;Z++){const W=D[Z];W[0]=Z,W[1]=O[Z]}D.sort(Dj);for(let Z=0;Z<8;Z++)Z<T&&D[Z][1]?(o[Z][0]=D[Z][0],o[Z][1]=D[Z][1]):(o[Z][0]=Number.MAX_SAFE_INTEGER,o[Z][1]=0);o.sort(Tj);const R=g.morphAttributes.position,k=g.morphAttributes.normal;let U=0;for(let Z=0;Z<8;Z++){const W=o[Z],H=W[0],rt=W[1];H!==Number.MAX_SAFE_INTEGER&&rt?(R&&g.getAttribute("morphTarget"+Z)!==R[H]&&g.setAttribute("morphTarget"+Z,R[H]),k&&g.getAttribute("morphNormal"+Z)!==k[H]&&g.setAttribute("morphNormal"+Z,k[H]),e[Z]=rt,U+=rt):(R&&!0===g.hasAttribute("morphTarget"+Z)&&g.deleteAttribute("morphTarget"+Z),k&&!0===g.hasAttribute("morphNormal"+Z)&&g.deleteAttribute("morphNormal"+Z),e[Z]=0)}const j=g.morphTargetsRelative?1:1-U;M.getUniforms().setValue(a,"morphTargetBaseInfluence",j),M.getUniforms().setValue(a,"morphTargetInfluences",e)}}}function Rj(a,t,e,o){let l=new WeakMap;function b(M){const O=M.target;O.removeEventListener("dispose",b),e.remove(O.instanceMatrix),null!==O.instanceColor&&e.remove(O.instanceColor)}return{update:function(M){const O=o.render.frame,D=t.get(M,M.geometry);return l.get(D)!==O&&(t.update(D),l.set(D,O)),M.isInstancedMesh&&(!1===M.hasEventListener("dispose",b)&&M.addEventListener("dispose",b),e.update(M.instanceMatrix,34962),null!==M.instanceColor&&e.update(M.instanceColor,34962)),D},dispose:function(){l=new WeakMap}}}class cB extends Il{constructor(t=null,e=1,o=1,l=1){super(null),this.image={data:t,width:e,height:o,depth:l},this.magFilter=el,this.minFilter=el,this.wrapR=ad,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}cB.prototype.isDataTexture2DArray=!0;class lB extends Il{constructor(t=null,e=1,o=1,l=1){super(null),this.image={data:t,width:e,height:o,depth:l},this.magFilter=el,this.minFilter=el,this.wrapR=ad,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}lB.prototype.isDataTexture3D=!0;const uB=new Il,kj=new cB,Lj=new lB,dB=new $I,pB=[],hB=[],fB=new Float32Array(16),gB=new Float32Array(9),mB=new Float32Array(4);function OT(a,t,e){const o=a[0];if(o<=0||o>0)return a;const l=t*e;let d=pB[l];if(void 0===d&&(d=new Float32Array(l),pB[l]=d),0!==t){o.toArray(d,0);for(let g=1,b=0;g!==t;++g)b+=e,a[g].toArray(d,b)}return d}function qd(a,t){if(a.length!==t.length)return!1;for(let e=0,o=a.length;e<o;e++)if(a[e]!==t[e])return!1;return!0}function ud(a,t){for(let e=0,o=t.length;e<o;e++)a[e]=t[e]}function vB(a,t){let e=hB[t];void 0===e&&(e=new Int32Array(t),hB[t]=e);for(let o=0;o!==t;++o)e[o]=a.allocateTextureUnit();return e}function Fj(a,t){const e=this.cache;e[0]!==t&&(a.uniform1f(this.addr,t),e[0]=t)}function Nj(a,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y)&&(a.uniform2f(this.addr,t.x,t.y),e[0]=t.x,e[1]=t.y);else{if(qd(e,t))return;a.uniform2fv(this.addr,t),ud(e,t)}}function Bj(a,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z)&&(a.uniform3f(this.addr,t.x,t.y,t.z),e[0]=t.x,e[1]=t.y,e[2]=t.z);else if(void 0!==t.r)(e[0]!==t.r||e[1]!==t.g||e[2]!==t.b)&&(a.uniform3f(this.addr,t.r,t.g,t.b),e[0]=t.r,e[1]=t.g,e[2]=t.b);else{if(qd(e,t))return;a.uniform3fv(this.addr,t),ud(e,t)}}function Uj(a,t){const e=this.cache;if(void 0!==t.x)(e[0]!==t.x||e[1]!==t.y||e[2]!==t.z||e[3]!==t.w)&&(a.uniform4f(this.addr,t.x,t.y,t.z,t.w),e[0]=t.x,e[1]=t.y,e[2]=t.z,e[3]=t.w);else{if(qd(e,t))return;a.uniform4fv(this.addr,t),ud(e,t)}}function Vj(a,t){const e=this.cache,o=t.elements;if(void 0===o){if(qd(e,t))return;a.uniformMatrix2fv(this.addr,!1,t),ud(e,t)}else{if(qd(e,o))return;mB.set(o),a.uniformMatrix2fv(this.addr,!1,mB),ud(e,o)}}function zj(a,t){const e=this.cache,o=t.elements;if(void 0===o){if(qd(e,t))return;a.uniformMatrix3fv(this.addr,!1,t),ud(e,t)}else{if(qd(e,o))return;gB.set(o),a.uniformMatrix3fv(this.addr,!1,gB),ud(e,o)}}function Hj(a,t){const e=this.cache,o=t.elements;if(void 0===o){if(qd(e,t))return;a.uniformMatrix4fv(this.addr,!1,t),ud(e,t)}else{if(qd(e,o))return;fB.set(o),a.uniformMatrix4fv(this.addr,!1,fB),ud(e,o)}}function Gj(a,t){const e=this.cache;e[0]!==t&&(a.uniform1i(this.addr,t),e[0]=t)}function jj(a,t){const e=this.cache;qd(e,t)||(a.uniform2iv(this.addr,t),ud(e,t))}function Wj(a,t){const e=this.cache;qd(e,t)||(a.uniform3iv(this.addr,t),ud(e,t))}function qj(a,t){const e=this.cache;qd(e,t)||(a.uniform4iv(this.addr,t),ud(e,t))}function $j(a,t){const e=this.cache;e[0]!==t&&(a.uniform1ui(this.addr,t),e[0]=t)}function Yj(a,t){const e=this.cache;qd(e,t)||(a.uniform2uiv(this.addr,t),ud(e,t))}function Xj(a,t){const e=this.cache;qd(e,t)||(a.uniform3uiv(this.addr,t),ud(e,t))}function Zj(a,t){const e=this.cache;qd(e,t)||(a.uniform4uiv(this.addr,t),ud(e,t))}function Kj(a,t,e){const o=this.cache,l=e.allocateTextureUnit();o[0]!==l&&(a.uniform1i(this.addr,l),o[0]=l),e.safeSetTexture2D(t||uB,l)}function Qj(a,t,e){const o=this.cache,l=e.allocateTextureUnit();o[0]!==l&&(a.uniform1i(this.addr,l),o[0]=l),e.setTexture3D(t||Lj,l)}function Jj(a,t,e){const o=this.cache,l=e.allocateTextureUnit();o[0]!==l&&(a.uniform1i(this.addr,l),o[0]=l),e.safeSetTextureCube(t||dB,l)}function tW(a,t,e){const o=this.cache,l=e.allocateTextureUnit();o[0]!==l&&(a.uniform1i(this.addr,l),o[0]=l),e.setTexture2DArray(t||kj,l)}function nW(a,t){a.uniform1fv(this.addr,t)}function rW(a,t){const e=OT(t,this.size,2);a.uniform2fv(this.addr,e)}function iW(a,t){const e=OT(t,this.size,3);a.uniform3fv(this.addr,e)}function oW(a,t){const e=OT(t,this.size,4);a.uniform4fv(this.addr,e)}function sW(a,t){const e=OT(t,this.size,4);a.uniformMatrix2fv(this.addr,!1,e)}function aW(a,t){const e=OT(t,this.size,9);a.uniformMatrix3fv(this.addr,!1,e)}function cW(a,t){const e=OT(t,this.size,16);a.uniformMatrix4fv(this.addr,!1,e)}function lW(a,t){a.uniform1iv(this.addr,t)}function uW(a,t){a.uniform2iv(this.addr,t)}function dW(a,t){a.uniform3iv(this.addr,t)}function pW(a,t){a.uniform4iv(this.addr,t)}function hW(a,t){a.uniform1uiv(this.addr,t)}function fW(a,t){a.uniform2uiv(this.addr,t)}function gW(a,t){a.uniform3uiv(this.addr,t)}function mW(a,t){a.uniform4uiv(this.addr,t)}function vW(a,t,e){const o=t.length,l=vB(e,o);a.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)e.safeSetTexture2D(t[d]||uB,l[d])}function _W(a,t,e){const o=t.length,l=vB(e,o);a.uniform1iv(this.addr,l);for(let d=0;d!==o;++d)e.safeSetTextureCube(t[d]||dB,l[d])}function yW(a,t,e){this.id=a,this.addr=e,this.cache=[],this.setValue=function(a){switch(a){case 5126:return Fj;case 35664:return Nj;case 35665:return Bj;case 35666:return Uj;case 35674:return Vj;case 35675:return zj;case 35676:return Hj;case 5124:case 35670:return Gj;case 35667:case 35671:return jj;case 35668:case 35672:return Wj;case 35669:case 35673:return qj;case 5125:return $j;case 36294:return Yj;case 36295:return Xj;case 36296:return Zj;case 35678:case 36198:case 36298:case 36306:case 35682:return Kj;case 35679:case 36299:case 36307:return Qj;case 35680:case 36300:case 36308:case 36293:return Jj;case 36289:case 36303:case 36311:case 36292:return tW}}(t.type)}function _B(a,t,e){this.id=a,this.addr=e,this.cache=[],this.size=t.size,this.setValue=function(a){switch(a){case 5126:return nW;case 35664:return rW;case 35665:return iW;case 35666:return oW;case 35674:return sW;case 35675:return aW;case 35676:return cW;case 5124:case 35670:return lW;case 35667:case 35671:return uW;case 35668:case 35672:return dW;case 35669:case 35673:return pW;case 5125:return hW;case 36294:return fW;case 36295:return gW;case 36296:return mW;case 35678:case 36198:case 36298:case 36306:case 35682:return vW;case 35680:case 36300:case 36308:case 36293:return _W}}(t.type)}function bB(a){this.id=a,this.seq=[],this.map={}}_B.prototype.updateCache=function(a){const t=this.cache;a instanceof Float32Array&&t.length!==a.length&&(this.cache=new Float32Array(a.length)),ud(t,a)},bB.prototype.setValue=function(a,t,e){const o=this.seq;for(let l=0,d=o.length;l!==d;++l){const g=o[l];g.setValue(a,t[g.id],e)}};const gN=/(\w+)(\])?(\[|\.)?/g;function yB(a,t){a.seq.push(t),a.map[t.id]=t}function xW(a,t,e){const o=a.name,l=o.length;for(gN.lastIndex=0;;){const d=gN.exec(o),g=gN.lastIndex;let b=d[1];const O=d[3];if("]"===d[2]&&(b|=0),void 0===O||"["===O&&g+2===l){yB(e,void 0===O?new yW(b,a,t):new _B(b,a,t));break}{let D=e.map[b];void 0===D&&(D=new bB(b),yB(e,D)),e=D}}}function hP(a,t){this.seq=[],this.map={};const e=a.getProgramParameter(t,35718);for(let o=0;o<e;++o){const l=a.getActiveUniform(t,o);xW(l,a.getUniformLocation(t,l.name),this)}}function xB(a,t,e){const o=a.createShader(t);return a.shaderSource(o,e),a.compileShader(o),o}hP.prototype.setValue=function(a,t,e,o){const l=this.map[t];void 0!==l&&l.setValue(a,e,o)},hP.prototype.setOptional=function(a,t,e){const o=t[e];void 0!==o&&this.setValue(a,e,o)},hP.upload=function(a,t,e,o){for(let l=0,d=t.length;l!==d;++l){const g=t[l],b=e[g.id];!1!==b.needsUpdate&&g.setValue(a,b.value,o)}},hP.seqWithValue=function(a,t){const e=[];for(let o=0,l=a.length;o!==l;++o){const d=a[o];d.id in t&&e.push(d)}return e};let CW=0;function CB(a){switch(a){case Kp:return["Linear","( value )"];case 3001:return["sRGB","( value )"];case 3002:return["RGBE","( value )"];case 3004:return["RGBM","( value, 7.0 )"];case 3005:return["RGBM","( value, 16.0 )"];case 3006:return["RGBD","( value, 256.0 )"];case 3007:return["Gamma","( value, float( GAMMA_FACTOR ) )"];case 3003:return["LogLuv","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",a),["Linear","( value )"]}}function MB(a,t,e){const o=a.getShaderParameter(t,35713),l=a.getShaderInfoLog(t).trim();return o&&""===l?"":e.toUpperCase()+"\n\n"+l+"\n\n"+function(a){const t=a.split("\n");for(let e=0;e<t.length;e++)t[e]=e+1+": "+t[e];return t.join("\n")}(a.getShaderSource(t))}function ET(a,t){const e=CB(t);return"vec4 "+a+"( vec4 value ) { return "+e[0]+"ToLinear"+e[1]+"; }"}function PW(a,t){const e=CB(t);return"vec4 "+a+"( vec4 value ) { return LinearTo"+e[0]+e[1]+"; }"}function wW(a,t){let e;switch(t){case 1:e="Linear";break;case 2:e="Reinhard";break;case 3:e="OptimizedCineon";break;case 4:e="ACESFilmic";break;case 5:e="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",t),e="Linear"}return"vec3 "+a+"( vec3 color ) { return "+e+"ToneMapping( color ); }"}function KI(a){return""!==a}function PB(a,t){return a.replace(/NUM_DIR_LIGHTS/g,t.numDirLights).replace(/NUM_SPOT_LIGHTS/g,t.numSpotLights).replace(/NUM_RECT_AREA_LIGHTS/g,t.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,t.numPointLights).replace(/NUM_HEMI_LIGHTS/g,t.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,t.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS/g,t.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,t.numPointLightShadows)}function wB(a,t){return a.replace(/NUM_CLIPPING_PLANES/g,t.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,t.numClippingPlanes-t.numClipIntersection)}const AW=/^[ \t]*#include +<([\w\d./]+)>/gm;function mN(a){return a.replace(AW,TW)}function TW(a,t){const e=fo[t];if(void 0===e)throw new Error("Can not resolve #include <"+t+">");return mN(e)}const DW=/#pragma unroll_loop[\s]+?for \( int i \= (\d+)\; i < (\d+)\; i \+\+ \) \{([\s\S]+?)(?=\})\}/g,IW=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function OB(a){return a.replace(IW,EB).replace(DW,RW)}function RW(a,t,e,o){return console.warn("WebGLProgram: #pragma unroll_loop shader syntax is deprecated. Please use #pragma unroll_loop_start syntax instead."),EB(0,t,e,o)}function EB(a,t,e,o){let l="";for(let d=parseInt(t);d<parseInt(e);d++)l+=o.replace(/\[\s*i\s*\]/g,"[ "+d+" ]").replace(/UNROLLED_LOOP_INDEX/g,d);return l}function SB(a){let t="precision "+a.precision+" float;\nprecision "+a.precision+" int;";return"highp"===a.precision?t+="\n#define HIGH_PRECISION":"mediump"===a.precision?t+="\n#define MEDIUM_PRECISION":"lowp"===a.precision&&(t+="\n#define LOW_PRECISION"),t}function BW(a,t,e,o){const l=a.getContext(),d=e.defines;let g=e.vertexShader,b=e.fragmentShader;const M=function(a){let t="SHADOWMAP_TYPE_BASIC";return 1===a.shadowMapType?t="SHADOWMAP_TYPE_PCF":2===a.shadowMapType?t="SHADOWMAP_TYPE_PCF_SOFT":3===a.shadowMapType&&(t="SHADOWMAP_TYPE_VSM"),t}(e),O=function(a){let t="ENVMAP_TYPE_CUBE";if(a.envMap)switch(a.envMapMode){case 301:case 302:t="ENVMAP_TYPE_CUBE";break;case 306:case 307:t="ENVMAP_TYPE_CUBE_UV"}return t}(e),T=function(a){let t="ENVMAP_MODE_REFLECTION";if(a.envMap)switch(a.envMapMode){case 302:case 307:t="ENVMAP_MODE_REFRACTION"}return t}(e),D=function(a){let t="ENVMAP_BLENDING_NONE";if(a.envMap)switch(a.combine){case 0:t="ENVMAP_BLENDING_MULTIPLY";break;case 1:t="ENVMAP_BLENDING_MIX";break;case 2:t="ENVMAP_BLENDING_ADD"}return t}(e),R=a.gammaFactor>0?a.gammaFactor:1,k=e.isWebGL2?"":function(a){return[a.extensionDerivatives||a.envMapCubeUV||a.bumpMap||a.tangentSpaceNormalMap||a.clearcoatNormalMap||a.flatShading||"physical"===a.shaderID?"#extension GL_OES_standard_derivatives : enable":"",(a.extensionFragDepth||a.logarithmicDepthBuffer)&&a.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",a.extensionDrawBuffers&&a.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(a.extensionShaderTextureLOD||a.envMap||a.transmission)&&a.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(KI).join("\n")}(e),U=function(a){const t=[];for(const e in a){const o=a[e];!1!==o&&t.push("#define "+e+" "+o)}return t.join("\n")}(d),j=l.createProgram();let Z,W,H=e.glslVersion?"#version "+e.glslVersion+"\n":"";e.isRawShaderMaterial?(Z=[U].filter(KI).join("\n"),Z.length>0&&(Z+="\n"),W=[k,U].filter(KI).join("\n"),W.length>0&&(W+="\n")):(Z=[SB(e),"#define SHADER_NAME "+e.shaderName,U,e.instancing?"#define USE_INSTANCING":"",e.instancingColor?"#define USE_INSTANCING_COLOR":"",e.supportsVertexTextures?"#define VERTEX_TEXTURES":"","#define GAMMA_FACTOR "+R,"#define MAX_BONES "+e.maxBones,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+T:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.displacementMap&&e.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularTintMap?"#define USE_SPECULARTINTMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.flatShading?"#define FLAT_SHADED":"",e.skinning?"#define USE_SKINNING":"",e.useVertexTexture?"#define BONE_TEXTURE":"",e.morphTargets?"#define USE_MORPHTARGETS":"",e.morphNormals&&!1===e.flatShading?"#define USE_MORPHNORMALS":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+M:"",e.sizeAttenuation?"#define USE_SIZEATTENUATION":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","\tattribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","\tattribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","\tattribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","\tattribute vec4 color;","#elif defined( USE_COLOR )","\tattribute vec3 color;","#endif","#ifdef USE_MORPHTARGETS","\tattribute vec3 morphTarget0;","\tattribute vec3 morphTarget1;","\tattribute vec3 morphTarget2;","\tattribute vec3 morphTarget3;","\t#ifdef USE_MORPHNORMALS","\t\tattribute vec3 morphNormal0;","\t\tattribute vec3 morphNormal1;","\t\tattribute vec3 morphNormal2;","\t\tattribute vec3 morphNormal3;","\t#else","\t\tattribute vec3 morphTarget4;","\t\tattribute vec3 morphTarget5;","\t\tattribute vec3 morphTarget6;","\t\tattribute vec3 morphTarget7;","\t#endif","#endif","#ifdef USE_SKINNING","\tattribute vec4 skinIndex;","\tattribute vec4 skinWeight;","#endif","\n"].filter(KI).join("\n"),W=[k,SB(e),"#define SHADER_NAME "+e.shaderName,U,"#define GAMMA_FACTOR "+R,e.useFog&&e.fog?"#define USE_FOG":"",e.useFog&&e.fogExp2?"#define FOG_EXP2":"",e.map?"#define USE_MAP":"",e.matcap?"#define USE_MATCAP":"",e.envMap?"#define USE_ENVMAP":"",e.envMap?"#define "+O:"",e.envMap?"#define "+T:"",e.envMap?"#define "+D:"",e.lightMap?"#define USE_LIGHTMAP":"",e.aoMap?"#define USE_AOMAP":"",e.emissiveMap?"#define USE_EMISSIVEMAP":"",e.bumpMap?"#define USE_BUMPMAP":"",e.normalMap?"#define USE_NORMALMAP":"",e.normalMap&&e.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",e.normalMap&&e.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",e.clearcoat?"#define USE_CLEARCOAT":"",e.clearcoatMap?"#define USE_CLEARCOATMAP":"",e.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",e.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",e.specularMap?"#define USE_SPECULARMAP":"",e.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",e.specularTintMap?"#define USE_SPECULARTINTMAP":"",e.roughnessMap?"#define USE_ROUGHNESSMAP":"",e.metalnessMap?"#define USE_METALNESSMAP":"",e.alphaMap?"#define USE_ALPHAMAP":"",e.alphaTest?"#define USE_ALPHATEST":"",e.sheenTint?"#define USE_SHEEN":"",e.transmission?"#define USE_TRANSMISSION":"",e.transmissionMap?"#define USE_TRANSMISSIONMAP":"",e.thicknessMap?"#define USE_THICKNESSMAP":"",e.vertexTangents?"#define USE_TANGENT":"",e.vertexColors||e.instancingColor?"#define USE_COLOR":"",e.vertexAlphas?"#define USE_COLOR_ALPHA":"",e.vertexUvs?"#define USE_UV":"",e.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",e.gradientMap?"#define USE_GRADIENTMAP":"",e.flatShading?"#define FLAT_SHADED":"",e.doubleSided?"#define DOUBLE_SIDED":"",e.flipSided?"#define FLIP_SIDED":"",e.shadowMapEnabled?"#define USE_SHADOWMAP":"",e.shadowMapEnabled?"#define "+M:"",e.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",e.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",e.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",e.logarithmicDepthBuffer&&e.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"",(e.extensionShaderTextureLOD||e.envMap)&&e.rendererExtensionShaderTextureLod?"#define TEXTURE_LOD_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",0!==e.toneMapping?"#define TONE_MAPPING":"",0!==e.toneMapping?fo.tonemapping_pars_fragment:"",0!==e.toneMapping?wW("toneMapping",e.toneMapping):"",e.dithering?"#define DITHERING":"",e.format===nP?"#define OPAQUE":"",fo.encodings_pars_fragment,e.map?ET("mapTexelToLinear",e.mapEncoding):"",e.matcap?ET("matcapTexelToLinear",e.matcapEncoding):"",e.envMap?ET("envMapTexelToLinear",e.envMapEncoding):"",e.emissiveMap?ET("emissiveMapTexelToLinear",e.emissiveMapEncoding):"",e.specularTintMap?ET("specularTintMapTexelToLinear",e.specularTintMapEncoding):"",e.lightMap?ET("lightMapTexelToLinear",e.lightMapEncoding):"",PW("linearToOutputTexel",e.outputEncoding),e.depthPacking?"#define DEPTH_PACKING "+e.depthPacking:"","\n"].filter(KI).join("\n")),g=mN(g),g=PB(g,e),g=wB(g,e),b=mN(b),b=PB(b,e),b=wB(b,e),g=OB(g),b=OB(b),e.isWebGL2&&!0!==e.isRawShaderMaterial&&(H="#version 300 es\n",Z=["#define attribute in","#define varying out","#define texture2D texture"].join("\n")+"\n"+Z,W=["#define varying in","300 es"===e.glslVersion?"":"out highp vec4 pc_fragColor;","300 es"===e.glslVersion?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join("\n")+"\n"+W);const Q=H+W+b,gt=xB(l,35633,H+Z+g),Ct=xB(l,35632,Q);if(l.attachShader(j,gt),l.attachShader(j,Ct),void 0!==e.index0AttributeName?l.bindAttribLocation(j,0,e.index0AttributeName):!0===e.morphTargets&&l.bindAttribLocation(j,0,"position"),l.linkProgram(j),a.debug.checkShaderErrors){const re=l.getProgramInfoLog(j).trim(),ee=l.getShaderInfoLog(gt).trim(),kt=l.getShaderInfoLog(Ct).trim();let je=!0,de=!0;if(!1===l.getProgramParameter(j,35714)){je=!1;const fe=MB(l,gt,"vertex"),De=MB(l,Ct,"fragment");console.error("THREE.WebGLProgram: Shader Error "+l.getError()+" - VALIDATE_STATUS "+l.getProgramParameter(j,35715)+"\n\nProgram Info Log: "+re+"\n"+fe+"\n"+De)}else""!==re?console.warn("THREE.WebGLProgram: Program Info Log:",re):(""===ee||""===kt)&&(de=!1);de&&(this.diagnostics={runnable:je,programLog:re,vertexShader:{log:ee,prefix:Z},fragmentShader:{log:kt,prefix:W}})}let ut,Yt;return l.deleteShader(gt),l.deleteShader(Ct),this.getUniforms=function(){return void 0===ut&&(ut=new hP(l,j)),ut},this.getAttributes=function(){return void 0===Yt&&(Yt=function(a,t){const e={},o=a.getProgramParameter(t,35721);for(let l=0;l<o;l++){const d=a.getActiveAttrib(t,l),g=d.name;let b=1;35674===d.type&&(b=2),35675===d.type&&(b=3),35676===d.type&&(b=4),e[g]={type:d.type,location:a.getAttribLocation(t,g),locationSize:b}}return e}(l,j)),Yt},this.destroy=function(){o.releaseStatesOfProgram(this),l.deleteProgram(j),this.program=void 0},this.name=e.shaderName,this.id=CW++,this.cacheKey=t,this.usedTimes=1,this.program=j,this.vertexShader=gt,this.fragmentShader=Ct,this}function UW(a,t,e,o,l,d,g){const b=[],M=l.isWebGL2,O=l.logarithmicDepthBuffer,T=l.floatVertexTextures,D=l.maxVertexUniforms,R=l.vertexTextures;let k=l.precision;const U={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"},j=["precision","isWebGL2","supportsVertexTextures","outputEncoding","instancing","instancingColor","map","mapEncoding","matcap","matcapEncoding","envMap","envMapMode","envMapEncoding","envMapCubeUV","lightMap","lightMapEncoding","aoMap","emissiveMap","emissiveMapEncoding","bumpMap","normalMap","objectSpaceNormalMap","tangentSpaceNormalMap","clearcoat","clearcoatMap","clearcoatRoughnessMap","clearcoatNormalMap","displacementMap","specularMap","specularIntensityMap","specularTintMap","specularTintMapEncoding","roughnessMap","metalnessMap","gradientMap","alphaMap","alphaTest","combine","vertexColors","vertexAlphas","vertexTangents","vertexUvs","uvsVertexOnly","fog","useFog","fogExp2","flatShading","sizeAttenuation","logarithmicDepthBuffer","skinning","maxBones","useVertexTexture","morphTargets","morphNormals","premultipliedAlpha","numDirLights","numPointLights","numSpotLights","numHemiLights","numRectAreaLights","numDirLightShadows","numPointLightShadows","numSpotLightShadows","shadowMapEnabled","shadowMapType","toneMapping","physicallyCorrectLights","doubleSided","flipSided","numClippingPlanes","numClipIntersection","depthPacking","dithering","format","sheenTint","transmission","transmissionMap","thicknessMap"];function W(ut){let Yt;return ut&&ut.isTexture?Yt=ut.encoding:ut&&ut.isWebGLRenderTarget?(console.warn("THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead."),Yt=ut.texture.encoding):Yt=Kp,Yt}return{getParameters:function(ut,Yt,re,ee,kt){const je=ee.fog,fe=(ut.isMeshStandardMaterial?e:t).get(ut.envMap||(ut.isMeshStandardMaterial?ee.environment:null)),De=U[ut.type],Ee=kt.isSkinnedMesh?function(ut){const re=ut.skeleton.bones;if(T)return 1024;{const kt=Math.floor((D-20)/4),je=Math.min(kt,re.length);return je<re.length?(console.warn("THREE.WebGLRenderer: Skeleton has "+re.length+" bones. This GPU supports "+je+"."),0):je}}(kt):0;let Be,pn;if(null!==ut.precision&&(k=l.getMaxPrecision(ut.precision),k!==ut.precision&&console.warn("THREE.WebGLProgram.getParameters:",ut.precision,"not supported, using",k,"instead.")),De){const hn=Z0[De];Be=hn.vertexShader,pn=hn.fragmentShader}else Be=ut.vertexShader,pn=ut.fragmentShader;const Nn=a.getRenderTarget(),Jn=ut.alphaTest>0,kn=ut.clearcoat>0;return{isWebGL2:M,shaderID:De,shaderName:ut.type,vertexShader:Be,fragmentShader:pn,defines:ut.defines,isRawShaderMaterial:!0===ut.isRawShaderMaterial,glslVersion:ut.glslVersion,precision:k,instancing:!0===kt.isInstancedMesh,instancingColor:!0===kt.isInstancedMesh&&null!==kt.instanceColor,supportsVertexTextures:R,outputEncoding:null!==Nn?W(Nn.texture):a.outputEncoding,map:!!ut.map,mapEncoding:W(ut.map),matcap:!!ut.matcap,matcapEncoding:W(ut.matcap),envMap:!!fe,envMapMode:fe&&fe.mapping,envMapEncoding:W(fe),envMapCubeUV:!!fe&&(306===fe.mapping||307===fe.mapping),lightMap:!!ut.lightMap,lightMapEncoding:W(ut.lightMap),aoMap:!!ut.aoMap,emissiveMap:!!ut.emissiveMap,emissiveMapEncoding:W(ut.emissiveMap),bumpMap:!!ut.bumpMap,normalMap:!!ut.normalMap,objectSpaceNormalMap:1===ut.normalMapType,tangentSpaceNormalMap:0===ut.normalMapType,clearcoat:kn,clearcoatMap:kn&&!!ut.clearcoatMap,clearcoatRoughnessMap:kn&&!!ut.clearcoatRoughnessMap,clearcoatNormalMap:kn&&!!ut.clearcoatNormalMap,displacementMap:!!ut.displacementMap,roughnessMap:!!ut.roughnessMap,metalnessMap:!!ut.metalnessMap,specularMap:!!ut.specularMap,specularIntensityMap:!!ut.specularIntensityMap,specularTintMap:!!ut.specularTintMap,specularTintMapEncoding:W(ut.specularTintMap),alphaMap:!!ut.alphaMap,alphaTest:Jn,gradientMap:!!ut.gradientMap,sheenTint:!!ut.sheenTint&&(ut.sheenTint.r>0||ut.sheenTint.g>0||ut.sheenTint.b>0),transmission:ut.transmission>0,transmissionMap:!!ut.transmissionMap,thicknessMap:!!ut.thicknessMap,combine:ut.combine,vertexTangents:!!ut.normalMap&&!!kt.geometry&&!!kt.geometry.attributes.tangent,vertexColors:ut.vertexColors,vertexAlphas:!0===ut.vertexColors&&!!kt.geometry&&!!kt.geometry.attributes.color&&4===kt.geometry.attributes.color.itemSize,vertexUvs:!!(ut.map||ut.bumpMap||ut.normalMap||ut.specularMap||ut.alphaMap||ut.emissiveMap||ut.roughnessMap||ut.metalnessMap||ut.clearcoatMap||ut.clearcoatRoughnessMap||ut.clearcoatNormalMap||ut.displacementMap||ut.transmissionMap||ut.thicknessMap||ut.specularIntensityMap||ut.specularTintMap),uvsVertexOnly:!(ut.map||ut.bumpMap||ut.normalMap||ut.specularMap||ut.alphaMap||ut.emissiveMap||ut.roughnessMap||ut.metalnessMap||ut.clearcoatNormalMap||ut.transmission>0||ut.transmissionMap||ut.thicknessMap||ut.specularIntensityMap||ut.specularTintMap||!ut.displacementMap),fog:!!je,useFog:ut.fog,fogExp2:je&&je.isFogExp2,flatShading:!!ut.flatShading,sizeAttenuation:ut.sizeAttenuation,logarithmicDepthBuffer:O,skinning:!0===kt.isSkinnedMesh&&Ee>0,maxBones:Ee,useVertexTexture:T,morphTargets:!!kt.geometry&&!!kt.geometry.morphAttributes.position,morphNormals:!!kt.geometry&&!!kt.geometry.morphAttributes.normal,numDirLights:Yt.directional.length,numPointLights:Yt.point.length,numSpotLights:Yt.spot.length,numRectAreaLights:Yt.rectArea.length,numHemiLights:Yt.hemi.length,numDirLightShadows:Yt.directionalShadowMap.length,numPointLightShadows:Yt.pointShadowMap.length,numSpotLightShadows:Yt.spotShadowMap.length,numClippingPlanes:g.numPlanes,numClipIntersection:g.numIntersection,format:ut.format,dithering:ut.dithering,shadowMapEnabled:a.shadowMap.enabled&&re.length>0,shadowMapType:a.shadowMap.type,toneMapping:ut.toneMapped?a.toneMapping:0,physicallyCorrectLights:a.physicallyCorrectLights,premultipliedAlpha:ut.premultipliedAlpha,doubleSided:2===ut.side,flipSided:1===ut.side,depthPacking:void 0!==ut.depthPacking&&ut.depthPacking,index0AttributeName:ut.index0AttributeName,extensionDerivatives:ut.extensions&&ut.extensions.derivatives,extensionFragDepth:ut.extensions&&ut.extensions.fragDepth,extensionDrawBuffers:ut.extensions&&ut.extensions.drawBuffers,extensionShaderTextureLOD:ut.extensions&&ut.extensions.shaderTextureLOD,rendererExtensionFragDepth:M||o.has("EXT_frag_depth"),rendererExtensionDrawBuffers:M||o.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:M||o.has("EXT_shader_texture_lod"),customProgramCacheKey:ut.customProgramCacheKey()}},getProgramCacheKey:function(ut){const Yt=[];if(ut.shaderID?Yt.push(ut.shaderID):(Yt.push(ut.fragmentShader),Yt.push(ut.vertexShader)),void 0!==ut.defines)for(const re in ut.defines)Yt.push(re),Yt.push(ut.defines[re]);if(!1===ut.isRawShaderMaterial){for(let re=0;re<j.length;re++)Yt.push(ut[j[re]]);Yt.push(a.outputEncoding),Yt.push(a.gammaFactor)}return Yt.push(ut.customProgramCacheKey),Yt.join()},getUniforms:function(ut){const Yt=U[ut.type];let re;return re=Yt?N7.clone(Z0[Yt].uniforms):ut.uniforms,re},acquireProgram:function(ut,Yt){let re;for(let ee=0,kt=b.length;ee<kt;ee++){const je=b[ee];if(je.cacheKey===Yt){re=je,++re.usedTimes;break}}return void 0===re&&(re=new BW(a,Yt,ut,d),b.push(re)),re},releaseProgram:function(ut){if(0==--ut.usedTimes){const Yt=b.indexOf(ut);b[Yt]=b[b.length-1],b.pop(),ut.destroy()}},programs:b}}function VW(){let a=new WeakMap;return{get:function(d){let g=a.get(d);return void 0===g&&(g={},a.set(d,g)),g},remove:function(d){a.delete(d)},update:function(d,g,b){a.get(d)[g]=b},dispose:function(){a=new WeakMap}}}function zW(a,t){return a.groupOrder!==t.groupOrder?a.groupOrder-t.groupOrder:a.renderOrder!==t.renderOrder?a.renderOrder-t.renderOrder:a.program!==t.program?a.program.id-t.program.id:a.material.id!==t.material.id?a.material.id-t.material.id:a.z!==t.z?a.z-t.z:a.id-t.id}function AB(a,t){return a.groupOrder!==t.groupOrder?a.groupOrder-t.groupOrder:a.renderOrder!==t.renderOrder?a.renderOrder-t.renderOrder:a.z!==t.z?t.z-a.z:a.id-t.id}function TB(a){const t=[];let e=0;const o=[],l=[],d=[],g={id:-1};function M(k,U,j,Z,W,H){let rt=t[e];const Q=a.get(j);return void 0===rt?(rt={id:k.id,object:k,geometry:U,material:j,program:Q.program||g,groupOrder:Z,renderOrder:k.renderOrder,z:W,group:H},t[e]=rt):(rt.id=k.id,rt.object=k,rt.geometry=U,rt.material=j,rt.program=Q.program||g,rt.groupOrder=Z,rt.renderOrder=k.renderOrder,rt.z=W,rt.group=H),e++,rt}return{opaque:o,transmissive:l,transparent:d,init:function(){e=0,o.length=0,l.length=0,d.length=0},push:function(k,U,j,Z,W,H){const rt=M(k,U,j,Z,W,H);j.transmission>0?l.push(rt):!0===j.transparent?d.push(rt):o.push(rt)},unshift:function(k,U,j,Z,W,H){const rt=M(k,U,j,Z,W,H);j.transmission>0?l.unshift(rt):!0===j.transparent?d.unshift(rt):o.unshift(rt)},finish:function(){for(let k=e,U=t.length;k<U;k++){const j=t[k];if(null===j.id)break;j.id=null,j.object=null,j.geometry=null,j.material=null,j.program=null,j.group=null}},sort:function(k,U){o.length>1&&o.sort(k||zW),l.length>1&&l.sort(U||AB),d.length>1&&d.sort(U||AB)}}}function HW(a){let t=new WeakMap;return{get:function(l,d){let g;return!1===t.has(l)?(g=new TB(a),t.set(l,[g])):d>=t.get(l).length?(g=new TB(a),t.get(l).push(g)):g=t.get(l)[d],g},dispose:function(){t=new WeakMap}}}function GW(){const a={};return{get:function(t){if(void 0!==a[t.id])return a[t.id];let e;switch(t.type){case"DirectionalLight":e={direction:new Ot,color:new zn};break;case"SpotLight":e={position:new Ot,direction:new Ot,color:new zn,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":e={position:new Ot,color:new zn,distance:0,decay:0};break;case"HemisphereLight":e={direction:new Ot,skyColor:new zn,groundColor:new zn};break;case"RectAreaLight":e={color:new zn,position:new Ot,halfWidth:new Ot,halfHeight:new Ot}}return a[t.id]=e,e}}}let WW=0;function qW(a,t){return(t.castShadow?1:0)-(a.castShadow?1:0)}function $W(a,t){const e=new GW,o=function(){const a={};return{get:function(t){if(void 0!==a[t.id])return a[t.id];let e;switch(t.type){case"DirectionalLight":case"SpotLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn};break;case"PointLight":e={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new vn,shadowCameraNear:1,shadowCameraFar:1e3}}return a[t.id]=e,e}}}(),l={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotShadow:[],spotShadowMap:[],spotShadowMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[]};for(let T=0;T<9;T++)l.probe.push(new Ot);const d=new Ot,g=new fr,b=new fr;return{setup:function(T,D){let R=0,k=0,U=0;for(let re=0;re<9;re++)l.probe[re].set(0,0,0);let j=0,Z=0,W=0,H=0,rt=0,Q=0,gt=0,Ct=0;T.sort(qW);const ut=!0!==D?Math.PI:1;for(let re=0,ee=T.length;re<ee;re++){const kt=T[re],je=kt.color,de=kt.intensity,fe=kt.distance,De=kt.shadow&&kt.shadow.map?kt.shadow.map.texture:null;if(kt.isAmbientLight)R+=je.r*de*ut,k+=je.g*de*ut,U+=je.b*de*ut;else if(kt.isLightProbe)for(let Ee=0;Ee<9;Ee++)l.probe[Ee].addScaledVector(kt.sh.coefficients[Ee],de);else if(kt.isDirectionalLight){const Ee=e.get(kt);if(Ee.color.copy(kt.color).multiplyScalar(kt.intensity*ut),kt.castShadow){const Be=kt.shadow,pn=o.get(kt);pn.shadowBias=Be.bias,pn.shadowNormalBias=Be.normalBias,pn.shadowRadius=Be.radius,pn.shadowMapSize=Be.mapSize,l.directionalShadow[j]=pn,l.directionalShadowMap[j]=De,l.directionalShadowMatrix[j]=kt.shadow.matrix,Q++}l.directional[j]=Ee,j++}else if(kt.isSpotLight){const Ee=e.get(kt);if(Ee.position.setFromMatrixPosition(kt.matrixWorld),Ee.color.copy(je).multiplyScalar(de*ut),Ee.distance=fe,Ee.coneCos=Math.cos(kt.angle),Ee.penumbraCos=Math.cos(kt.angle*(1-kt.penumbra)),Ee.decay=kt.decay,kt.castShadow){const Be=kt.shadow,pn=o.get(kt);pn.shadowBias=Be.bias,pn.shadowNormalBias=Be.normalBias,pn.shadowRadius=Be.radius,pn.shadowMapSize=Be.mapSize,l.spotShadow[W]=pn,l.spotShadowMap[W]=De,l.spotShadowMatrix[W]=kt.shadow.matrix,Ct++}l.spot[W]=Ee,W++}else if(kt.isRectAreaLight){const Ee=e.get(kt);Ee.color.copy(je).multiplyScalar(de),Ee.halfWidth.set(.5*kt.width,0,0),Ee.halfHeight.set(0,.5*kt.height,0),l.rectArea[H]=Ee,H++}else if(kt.isPointLight){const Ee=e.get(kt);if(Ee.color.copy(kt.color).multiplyScalar(kt.intensity*ut),Ee.distance=kt.distance,Ee.decay=kt.decay,kt.castShadow){const Be=kt.shadow,pn=o.get(kt);pn.shadowBias=Be.bias,pn.shadowNormalBias=Be.normalBias,pn.shadowRadius=Be.radius,pn.shadowMapSize=Be.mapSize,pn.shadowCameraNear=Be.camera.near,pn.shadowCameraFar=Be.camera.far,l.pointShadow[Z]=pn,l.pointShadowMap[Z]=De,l.pointShadowMatrix[Z]=kt.shadow.matrix,gt++}l.point[Z]=Ee,Z++}else if(kt.isHemisphereLight){const Ee=e.get(kt);Ee.skyColor.copy(kt.color).multiplyScalar(de*ut),Ee.groundColor.copy(kt.groundColor).multiplyScalar(de*ut),l.hemi[rt]=Ee,rt++}}H>0&&(t.isWebGL2||!0===a.has("OES_texture_float_linear")?(l.rectAreaLTC1=Un.LTC_FLOAT_1,l.rectAreaLTC2=Un.LTC_FLOAT_2):!0===a.has("OES_texture_half_float_linear")?(l.rectAreaLTC1=Un.LTC_HALF_1,l.rectAreaLTC2=Un.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),l.ambient[0]=R,l.ambient[1]=k,l.ambient[2]=U;const Yt=l.hash;(Yt.directionalLength!==j||Yt.pointLength!==Z||Yt.spotLength!==W||Yt.rectAreaLength!==H||Yt.hemiLength!==rt||Yt.numDirectionalShadows!==Q||Yt.numPointShadows!==gt||Yt.numSpotShadows!==Ct)&&(l.directional.length=j,l.spot.length=W,l.rectArea.length=H,l.point.length=Z,l.hemi.length=rt,l.directionalShadow.length=Q,l.directionalShadowMap.length=Q,l.pointShadow.length=gt,l.pointShadowMap.length=gt,l.spotShadow.length=Ct,l.spotShadowMap.length=Ct,l.directionalShadowMatrix.length=Q,l.pointShadowMatrix.length=gt,l.spotShadowMatrix.length=Ct,Yt.directionalLength=j,Yt.pointLength=Z,Yt.spotLength=W,Yt.rectAreaLength=H,Yt.hemiLength=rt,Yt.numDirectionalShadows=Q,Yt.numPointShadows=gt,Yt.numSpotShadows=Ct,l.version=WW++)},setupView:function(T,D){let R=0,k=0,U=0,j=0,Z=0;const W=D.matrixWorldInverse;for(let H=0,rt=T.length;H<rt;H++){const Q=T[H];if(Q.isDirectionalLight){const gt=l.directional[R];gt.direction.setFromMatrixPosition(Q.matrixWorld),d.setFromMatrixPosition(Q.target.matrixWorld),gt.direction.sub(d),gt.direction.transformDirection(W),R++}else if(Q.isSpotLight){const gt=l.spot[U];gt.position.setFromMatrixPosition(Q.matrixWorld),gt.position.applyMatrix4(W),gt.direction.setFromMatrixPosition(Q.matrixWorld),d.setFromMatrixPosition(Q.target.matrixWorld),gt.direction.sub(d),gt.direction.transformDirection(W),U++}else if(Q.isRectAreaLight){const gt=l.rectArea[j];gt.position.setFromMatrixPosition(Q.matrixWorld),gt.position.applyMatrix4(W),b.identity(),g.copy(Q.matrixWorld),g.premultiply(W),b.extractRotation(g),gt.halfWidth.set(.5*Q.width,0,0),gt.halfHeight.set(0,.5*Q.height,0),gt.halfWidth.applyMatrix4(b),gt.halfHeight.applyMatrix4(b),j++}else if(Q.isPointLight){const gt=l.point[k];gt.position.setFromMatrixPosition(Q.matrixWorld),gt.position.applyMatrix4(W),k++}else if(Q.isHemisphereLight){const gt=l.hemi[Z];gt.direction.setFromMatrixPosition(Q.matrixWorld),gt.direction.transformDirection(W),gt.direction.normalize(),Z++}}},state:l}}function DB(a,t){const e=new $W(a,t),o=[],l=[];return{init:function(){o.length=0,l.length=0},state:{lightsArray:o,shadowsArray:l,lights:e},setupLights:function(D){e.setup(o,D)},setupLightsView:function(D){e.setupView(o,D)},pushLight:function(D){o.push(D)},pushShadow:function(D){l.push(D)}}}function YW(a,t){let e=new WeakMap;return{get:function(d,g=0){let b;return!1===e.has(d)?(b=new DB(a,t),e.set(d,[b])):g>=e.get(d).length?(b=new DB(a,t),e.get(d).push(b)):b=e.get(d)[g],b},dispose:function(){e=new WeakMap}}}class vN extends lu{constructor(t){super(),this.type="MeshDepthMaterial",this.depthPacking=3200,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.depthPacking=t.depthPacking,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this}}vN.prototype.isMeshDepthMaterial=!0;class _N extends lu{constructor(t){super(),this.type="MeshDistanceMaterial",this.referencePosition=new Ot,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.fog=!1,this.setValues(t)}copy(t){return super.copy(t),this.referencePosition.copy(t.referencePosition),this.nearDistance=t.nearDistance,this.farDistance=t.farDistance,this.map=t.map,this.alphaMap=t.alphaMap,this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this}}function IB(a,t,e){let o=new eL;const l=new vn,d=new vn,g=new gs,b=new vN({depthPacking:3201}),M=new _N,O={},T=e.maxTextureSize,D={0:1,1:0,2:2},R=new dP({uniforms:{shadow_pass:{value:null},resolution:{value:new vn},radius:{value:4},samples:{value:8}},vertexShader:"void main() {\n\tgl_Position = vec4( position, 1.0 );\n}",fragmentShader:"uniform sampler2D shadow_pass;\nuniform vec2 resolution;\nuniform float radius;\nuniform float samples;\n#include <packing>\nvoid main() {\n\tfloat mean = 0.0;\n\tfloat squared_mean = 0.0;\n\tfloat uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );\n\tfloat uvStart = samples <= 1.0 ? 0.0 : - 1.0;\n\tfor ( float i = 0.0; i < samples; i ++ ) {\n\t\tfloat uvOffset = uvStart + i * uvStride;\n\t\t#ifdef HORIZONTAL_PASS\n\t\t\tvec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );\n\t\t\tmean += distribution.x;\n\t\t\tsquared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\n\t\t#else\n\t\t\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );\n\t\t\tmean += depth;\n\t\t\tsquared_mean += depth * depth;\n\t\t#endif\n\t}\n\tmean = mean / samples;\n\tsquared_mean = squared_mean / samples;\n\tfloat std_dev = sqrt( squared_mean - mean * mean );\n\tgl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\n}"}),k=R.clone();k.defines.HORIZONTAL_PASS=1;const U=new Qr;U.setAttribute("position",new Os(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const j=new kl(U,R),Z=this;function W(Q,gt){const Ct=t.update(j);R.uniforms.shadow_pass.value=Q.map.texture,R.uniforms.resolution.value=Q.mapSize,R.uniforms.radius.value=Q.radius,R.uniforms.samples.value=Q.blurSamples,a.setRenderTarget(Q.mapPass),a.clear(),a.renderBufferDirect(gt,null,Ct,R,j,null),k.uniforms.shadow_pass.value=Q.mapPass.texture,k.uniforms.resolution.value=Q.mapSize,k.uniforms.radius.value=Q.radius,k.uniforms.samples.value=Q.blurSamples,a.setRenderTarget(Q.map),a.clear(),a.renderBufferDirect(gt,null,Ct,k,j,null)}function H(Q,gt,Ct,ut,Yt,re,ee){let kt=null;const je=!0===ut.isPointLight?Q.customDistanceMaterial:Q.customDepthMaterial;if(kt=void 0!==je?je:!0===ut.isPointLight?M:b,a.localClippingEnabled&&!0===Ct.clipShadows&&0!==Ct.clippingPlanes.length||Ct.displacementMap&&0!==Ct.displacementScale||Ct.alphaMap&&Ct.alphaTest>0){const de=kt.uuid,fe=Ct.uuid;let De=O[de];void 0===De&&(De={},O[de]=De);let Ee=De[fe];void 0===Ee&&(Ee=kt.clone(),De[fe]=Ee),kt=Ee}return kt.visible=Ct.visible,kt.wireframe=Ct.wireframe,kt.side=3===ee?null!==Ct.shadowSide?Ct.shadowSide:Ct.side:null!==Ct.shadowSide?Ct.shadowSide:D[Ct.side],kt.alphaMap=Ct.alphaMap,kt.alphaTest=Ct.alphaTest,kt.clipShadows=Ct.clipShadows,kt.clippingPlanes=Ct.clippingPlanes,kt.clipIntersection=Ct.clipIntersection,kt.displacementMap=Ct.displacementMap,kt.displacementScale=Ct.displacementScale,kt.displacementBias=Ct.displacementBias,kt.wireframeLinewidth=Ct.wireframeLinewidth,kt.linewidth=Ct.linewidth,!0===ut.isPointLight&&!0===kt.isMeshDistanceMaterial&&(kt.referencePosition.setFromMatrixPosition(ut.matrixWorld),kt.nearDistance=Yt,kt.farDistance=re),kt}function rt(Q,gt,Ct,ut,Yt){if(!1===Q.visible)return;if(Q.layers.test(gt.layers)&&(Q.isMesh||Q.isLine||Q.isPoints)&&(Q.castShadow||Q.receiveShadow&&3===Yt)&&(!Q.frustumCulled||o.intersectsObject(Q))){Q.modelViewMatrix.multiplyMatrices(Ct.matrixWorldInverse,Q.matrixWorld);const kt=t.update(Q),je=Q.material;if(Array.isArray(je)){const de=kt.groups;for(let fe=0,De=de.length;fe<De;fe++){const Ee=de[fe],Be=je[Ee.materialIndex];if(Be&&Be.visible){const pn=H(Q,0,Be,ut,Ct.near,Ct.far,Yt);a.renderBufferDirect(Ct,null,kt,pn,Q,Ee)}}}else if(je.visible){const de=H(Q,0,je,ut,Ct.near,Ct.far,Yt);a.renderBufferDirect(Ct,null,kt,de,Q,null)}}const ee=Q.children;for(let kt=0,je=ee.length;kt<je;kt++)rt(ee[kt],gt,Ct,ut,Yt)}this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=1,this.render=function(Q,gt,Ct){if(!1===Z.enabled||!1===Z.autoUpdate&&!1===Z.needsUpdate||0===Q.length)return;const ut=a.getRenderTarget(),Yt=a.getActiveCubeFace(),re=a.getActiveMipmapLevel(),ee=a.state;ee.setBlending(0),ee.buffers.color.setClear(1,1,1,1),ee.buffers.depth.setTest(!0),ee.setScissorTest(!1);for(let kt=0,je=Q.length;kt<je;kt++){const de=Q[kt],fe=de.shadow;if(void 0===fe){console.warn("THREE.WebGLShadowMap:",de,"has no shadow.");continue}if(!1===fe.autoUpdate&&!1===fe.needsUpdate)continue;l.copy(fe.mapSize);const De=fe.getFrameExtents();if(l.multiply(De),d.copy(fe.mapSize),(l.x>T||l.y>T)&&(l.x>T&&(d.x=Math.floor(T/De.x),l.x=d.x*De.x,fe.mapSize.x=d.x),l.y>T&&(d.y=Math.floor(T/De.y),l.y=d.y*De.y,fe.mapSize.y=d.y)),null===fe.map&&!fe.isPointLightShadow&&3===this.type){const Be={minFilter:Tl,magFilter:Tl,format:Zp};fe.map=new X0(l.x,l.y,Be),fe.map.texture.name=de.name+".shadowMap",fe.mapPass=new X0(l.x,l.y,Be),fe.camera.updateProjectionMatrix()}null===fe.map&&(fe.map=new X0(l.x,l.y,{minFilter:el,magFilter:el,format:Zp}),fe.map.texture.name=de.name+".shadowMap",fe.camera.updateProjectionMatrix()),a.setRenderTarget(fe.map),a.clear();const Ee=fe.getViewportCount();for(let Be=0;Be<Ee;Be++){const pn=fe.getViewport(Be);g.set(d.x*pn.x,d.y*pn.y,d.x*pn.z,d.y*pn.w),ee.viewport(g),fe.updateMatrices(de,Be),o=fe.getFrustum(),rt(gt,Ct,fe.camera,de,this.type)}!fe.isPointLightShadow&&3===this.type&&W(fe,Ct),fe.needsUpdate=!1}Z.needsUpdate=!1,a.setRenderTarget(ut,Yt,re)}}function KW(a,t,e){const o=e.isWebGL2,b=new function(){let _e=!1;const qn=new gs;let un=null;const ir=new gs(0,0,0,0);return{setMask:function(mr){un!==mr&&!_e&&(a.colorMask(mr,mr,mr,mr),un=mr)},setLocked:function(mr){_e=mr},setClear:function(mr,Po,dd,pd,yP){!0===yP&&(mr*=pd,Po*=pd,dd*=pd),qn.set(mr,Po,dd,pd),!1===ir.equals(qn)&&(a.clearColor(mr,Po,dd,pd),ir.copy(qn))},reset:function(){_e=!1,un=null,ir.set(-1,0,0,0)}}},M=new function(){let _e=!1,qn=null,un=null,ir=null;return{setTest:function(mr){mr?Xn(2929):nr(2929)},setMask:function(mr){qn!==mr&&!_e&&(a.depthMask(mr),qn=mr)},setFunc:function(mr){if(un!==mr){if(mr)switch(mr){case 0:a.depthFunc(512);break;case 1:a.depthFunc(519);break;case 2:a.depthFunc(513);break;case 3:a.depthFunc(515);break;case 4:a.depthFunc(514);break;case 5:a.depthFunc(518);break;case 6:a.depthFunc(516);break;case 7:a.depthFunc(517);break;default:a.depthFunc(515)}else a.depthFunc(515);un=mr}},setLocked:function(mr){_e=mr},setClear:function(mr){ir!==mr&&(a.clearDepth(mr),ir=mr)},reset:function(){_e=!1,qn=null,un=null,ir=null}}},O=new function(){let _e=!1,qn=null,un=null,ir=null,mr=null,Po=null,dd=null,pd=null,yP=null;return{setTest:function(hc){_e||(hc?Xn(2960):nr(2960))},setMask:function(hc){qn!==hc&&!_e&&(a.stencilMask(hc),qn=hc)},setFunc:function(hc,Yx,Xx){(un!==hc||ir!==Yx||mr!==Xx)&&(a.stencilFunc(hc,Yx,Xx),un=hc,ir=Yx,mr=Xx)},setOp:function(hc,Yx,Xx){(Po!==hc||dd!==Yx||pd!==Xx)&&(a.stencilOp(hc,Yx,Xx),Po=hc,dd=Yx,pd=Xx)},setLocked:function(hc){_e=hc},setClear:function(hc){yP!==hc&&(a.clearStencil(hc),yP=hc)},reset:function(){_e=!1,qn=null,un=null,ir=null,mr=null,Po=null,dd=null,pd=null,yP=null}}};let T={},D=null,R={},k=null,U=!1,j=null,Z=null,W=null,H=null,rt=null,Q=null,gt=null,Ct=!1,ut=null,Yt=null,re=null,ee=null,kt=null;const je=a.getParameter(35661);let de=!1,fe=0;const De=a.getParameter(7938);-1!==De.indexOf("WebGL")?(fe=parseFloat(/^WebGL (\d)/.exec(De)[1]),de=fe>=1):-1!==De.indexOf("OpenGL ES")&&(fe=parseFloat(/^OpenGL ES (\d)/.exec(De)[1]),de=fe>=2);let Ee=null,Be={};const pn=a.getParameter(3088),Nn=a.getParameter(2978),Jn=(new gs).fromArray(pn),kn=(new gs).fromArray(Nn);function ci(_e,qn,un){const ir=new Uint8Array(4),mr=a.createTexture();a.bindTexture(_e,mr),a.texParameteri(_e,10241,9728),a.texParameteri(_e,10240,9728);for(let Po=0;Po<un;Po++)a.texImage2D(qn+Po,0,6408,1,1,0,6408,5121,ir);return mr}const hn={};function Xn(_e){!0!==T[_e]&&(a.enable(_e),T[_e]=!0)}function nr(_e){!1!==T[_e]&&(a.disable(_e),T[_e]=!1)}hn[3553]=ci(3553,3553,1),hn[34067]=ci(34067,34069,6),b.setClear(0,0,0,1),M.setClear(1),O.setClear(0),Xn(2929),M.setFunc(3),Cn(!1),Tn(1),Xn(2884),Ri(0);const sr={100:32774,101:32778,102:32779};if(o)sr[103]=32775,sr[104]=32776;else{const _e=t.get("EXT_blend_minmax");null!==_e&&(sr[103]=_e.MIN_EXT,sr[104]=_e.MAX_EXT)}const gr={200:0,201:1,202:768,204:770,210:776,208:774,206:772,203:769,205:771,209:775,207:773};function Ri(_e,qn,un,ir,mr,Po,dd,pd){if(0!==_e){if(!1===U&&(Xn(3042),U=!0),5===_e)mr=mr||qn,Po=Po||un,dd=dd||ir,(qn!==Z||mr!==rt)&&(a.blendEquationSeparate(sr[qn],sr[mr]),Z=qn,rt=mr),(un!==W||ir!==H||Po!==Q||dd!==gt)&&(a.blendFuncSeparate(gr[un],gr[ir],gr[Po],gr[dd]),W=un,H=ir,Q=Po,gt=dd),j=_e,Ct=null;else if(_e!==j||pd!==Ct){if((100!==Z||100!==rt)&&(a.blendEquation(32774),Z=100,rt=100),pd)switch(_e){case 1:a.blendFuncSeparate(1,771,1,771);break;case 2:a.blendFunc(1,1);break;case 3:a.blendFuncSeparate(0,0,769,771);break;case 4:a.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",_e)}else switch(_e){case 1:a.blendFuncSeparate(770,771,1,771);break;case 2:a.blendFunc(770,1);break;case 3:a.blendFunc(0,769);break;case 4:a.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",_e)}W=null,H=null,Q=null,gt=null,j=_e,Ct=pd}}else!0===U&&(nr(3042),U=!1)}function Cn(_e){ut!==_e&&(a.frontFace(_e?2304:2305),ut=_e)}function Tn(_e){0!==_e?(Xn(2884),_e!==Yt&&a.cullFace(1===_e?1029:2===_e?1028:1032)):nr(2884),Yt=_e}function Wn(_e,qn,un){_e?(Xn(32823),(ee!==qn||kt!==un)&&(a.polygonOffset(qn,un),ee=qn,kt=un)):nr(32823)}function Tt(_e){void 0===_e&&(_e=33984+je-1),Ee!==_e&&(a.activeTexture(_e),Ee=_e)}return{buffers:{color:b,depth:M,stencil:O},enable:Xn,disable:nr,bindFramebuffer:function(_e,qn){return null===qn&&null!==D&&(qn=D),R[_e]!==qn&&(a.bindFramebuffer(_e,qn),R[_e]=qn,o&&(36009===_e&&(R[36160]=qn),36160===_e&&(R[36009]=qn)),!0)},bindXRFramebuffer:function(_e){_e!==D&&(a.bindFramebuffer(36160,_e),D=_e)},useProgram:function(_e){return k!==_e&&(a.useProgram(_e),k=_e,!0)},setBlending:Ri,setMaterial:function(_e,qn){2===_e.side?nr(2884):Xn(2884);let un=1===_e.side;qn&&(un=!un),Cn(un),1===_e.blending&&!1===_e.transparent?Ri(0):Ri(_e.blending,_e.blendEquation,_e.blendSrc,_e.blendDst,_e.blendEquationAlpha,_e.blendSrcAlpha,_e.blendDstAlpha,_e.premultipliedAlpha),M.setFunc(_e.depthFunc),M.setTest(_e.depthTest),M.setMask(_e.depthWrite),b.setMask(_e.colorWrite);const ir=_e.stencilWrite;O.setTest(ir),ir&&(O.setMask(_e.stencilWriteMask),O.setFunc(_e.stencilFunc,_e.stencilRef,_e.stencilFuncMask),O.setOp(_e.stencilFail,_e.stencilZFail,_e.stencilZPass)),Wn(_e.polygonOffset,_e.polygonOffsetFactor,_e.polygonOffsetUnits),!0===_e.alphaToCoverage?Xn(32926):nr(32926)},setFlipSided:Cn,setCullFace:Tn,setLineWidth:function(_e){_e!==re&&(de&&a.lineWidth(_e),re=_e)},setPolygonOffset:Wn,setScissorTest:function(_e){_e?Xn(3089):nr(3089)},activeTexture:Tt,bindTexture:function(_e,qn){null===Ee&&Tt();let un=Be[Ee];void 0===un&&(un={type:void 0,texture:void 0},Be[Ee]=un),(un.type!==_e||un.texture!==qn)&&(a.bindTexture(_e,qn||hn[_e]),un.type=_e,un.texture=qn)},unbindTexture:function(){const _e=Be[Ee];void 0!==_e&&void 0!==_e.type&&(a.bindTexture(_e.type,null),_e.type=void 0,_e.texture=void 0)},compressedTexImage2D:function(){try{a.compressedTexImage2D.apply(a,arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}},texImage2D:function(){try{a.texImage2D.apply(a,arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}},texImage3D:function(){try{a.texImage3D.apply(a,arguments)}catch(_e){console.error("THREE.WebGLState:",_e)}},scissor:function(_e){!1===Jn.equals(_e)&&(a.scissor(_e.x,_e.y,_e.z,_e.w),Jn.copy(_e))},viewport:function(_e){!1===kn.equals(_e)&&(a.viewport(_e.x,_e.y,_e.z,_e.w),kn.copy(_e))},reset:function(){a.disable(3042),a.disable(2884),a.disable(2929),a.disable(32823),a.disable(3089),a.disable(2960),a.disable(32926),a.blendEquation(32774),a.blendFunc(1,0),a.blendFuncSeparate(1,0,1,0),a.colorMask(!0,!0,!0,!0),a.clearColor(0,0,0,0),a.depthMask(!0),a.depthFunc(513),a.clearDepth(1),a.stencilMask(4294967295),a.stencilFunc(519,0,4294967295),a.stencilOp(7680,7680,7680),a.clearStencil(0),a.cullFace(1029),a.frontFace(2305),a.polygonOffset(0,0),a.activeTexture(33984),a.bindFramebuffer(36160,null),!0===o&&(a.bindFramebuffer(36009,null),a.bindFramebuffer(36008,null)),a.useProgram(null),a.lineWidth(1),a.scissor(0,0,a.canvas.width,a.canvas.height),a.viewport(0,0,a.canvas.width,a.canvas.height),T={},Ee=null,Be={},D=null,R={},k=null,U=!1,j=null,Z=null,W=null,H=null,rt=null,Q=null,gt=null,Ct=!1,ut=null,Yt=null,re=null,ee=null,kt=null,Jn.set(0,0,a.canvas.width,a.canvas.height),kn.set(0,0,a.canvas.width,a.canvas.height),b.reset(),M.reset(),O.reset()}}}function QW(a,t,e,o,l,d,g){const b=l.isWebGL2,M=l.maxTextures,O=l.maxCubemapSize,T=l.maxTextureSize,D=l.maxSamples,R=new WeakMap;let k,U=!1;try{U="undefined"!=typeof OffscreenCanvas&&null!==new OffscreenCanvas(1,1).getContext("2d")}catch(zt){}function j(zt,Tt){return U?new OffscreenCanvas(zt,Tt):document.createElementNS("http://www.w3.org/1999/xhtml","canvas")}function Z(zt,Tt,Xe,mn){let Hn=1;if((zt.width>mn||zt.height>mn)&&(Hn=mn/Math.max(zt.width,zt.height)),Hn<1||!0===Tt){if("undefined"!=typeof HTMLImageElement&&zt instanceof HTMLImageElement||"undefined"!=typeof HTMLCanvasElement&&zt instanceof HTMLCanvasElement||"undefined"!=typeof ImageBitmap&&zt instanceof ImageBitmap){const rr=Tt?N6:Math.floor,li=rr(Hn*zt.width),Fr=rr(Hn*zt.height);void 0===k&&(k=j(li,Fr));const bi=Xe?j(li,Fr):k;return bi.width=li,bi.height=Fr,bi.getContext("2d").drawImage(zt,0,0,li,Fr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+zt.width+"x"+zt.height+") to ("+li+"x"+Fr+")."),bi}return"data"in zt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+zt.width+"x"+zt.height+")."),zt}return zt}function W(zt){return NF(zt.width)&&NF(zt.height)}function rt(zt,Tt){return zt.generateMipmaps&&Tt&&zt.minFilter!==el&&zt.minFilter!==Tl}function Q(zt,Tt,Xe,mn,Hn=1){a.generateMipmap(zt),o.get(Tt).__maxMipLevel=Math.log2(Math.max(Xe,mn,Hn))}function gt(zt,Tt,Xe){if(!1===b)return Tt;if(null!==zt){if(void 0!==a[zt])return a[zt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+zt+"'")}let mn=Tt;return 6403===Tt&&(5126===Xe&&(mn=33326),5131===Xe&&(mn=33325),5121===Xe&&(mn=33321)),6407===Tt&&(5126===Xe&&(mn=34837),5131===Xe&&(mn=34843),5121===Xe&&(mn=32849)),6408===Tt&&(5126===Xe&&(mn=34836),5131===Xe&&(mn=34842),5121===Xe&&(mn=32856)),(33325===mn||33326===mn||34842===mn||34836===mn)&&t.get("EXT_color_buffer_float"),mn}function Ct(zt){return zt===el||1004===zt||1005===zt?9728:9729}function ut(zt){const Tt=zt.target;Tt.removeEventListener("dispose",ut),function(zt){const Tt=o.get(zt);void 0!==Tt.__webglInit&&(a.deleteTexture(Tt.__webglTexture),o.remove(zt))}(Tt),Tt.isVideoTexture&&R.delete(Tt),g.memory.textures--}function Yt(zt){const Tt=zt.target;Tt.removeEventListener("dispose",Yt),function(zt){const Tt=zt.texture,Xe=o.get(zt),mn=o.get(Tt);if(zt){if(void 0!==mn.__webglTexture&&(a.deleteTexture(mn.__webglTexture),g.memory.textures--),zt.depthTexture&&zt.depthTexture.dispose(),zt.isWebGLCubeRenderTarget)for(let Hn=0;Hn<6;Hn++)a.deleteFramebuffer(Xe.__webglFramebuffer[Hn]),Xe.__webglDepthbuffer&&a.deleteRenderbuffer(Xe.__webglDepthbuffer[Hn]);else a.deleteFramebuffer(Xe.__webglFramebuffer),Xe.__webglDepthbuffer&&a.deleteRenderbuffer(Xe.__webglDepthbuffer),Xe.__webglMultisampledFramebuffer&&a.deleteFramebuffer(Xe.__webglMultisampledFramebuffer),Xe.__webglColorRenderbuffer&&a.deleteRenderbuffer(Xe.__webglColorRenderbuffer),Xe.__webglDepthRenderbuffer&&a.deleteRenderbuffer(Xe.__webglDepthRenderbuffer);if(zt.isWebGLMultipleRenderTargets)for(let Hn=0,rr=Tt.length;Hn<rr;Hn++){const li=o.get(Tt[Hn]);li.__webglTexture&&(a.deleteTexture(li.__webglTexture),g.memory.textures--),o.remove(Tt[Hn])}o.remove(Tt),o.remove(zt)}}(Tt)}let kt=0;function fe(zt,Tt){const Xe=o.get(zt);if(zt.isVideoTexture&&function(zt){const Tt=g.render.frame;R.get(zt)!==Tt&&(R.set(zt,Tt),zt.update())}(zt),zt.version>0&&Xe.__version!==zt.version){const mn=zt.image;if(void 0===mn)console.warn("THREE.WebGLRenderer: Texture marked for update but image is undefined");else{if(!1!==mn.complete)return void ci(Xe,zt,Tt);console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete")}}e.activeTexture(33984+Tt),e.bindTexture(3553,Xe.__webglTexture)}function Be(zt,Tt){const Xe=o.get(zt);zt.version>0&&Xe.__version!==zt.version?function(zt,Tt,Xe){if(6!==Tt.image.length)return;kn(zt,Tt),e.activeTexture(33984+Xe),e.bindTexture(34067,zt.__webglTexture),a.pixelStorei(37440,Tt.flipY),a.pixelStorei(37441,Tt.premultiplyAlpha),a.pixelStorei(3317,Tt.unpackAlignment),a.pixelStorei(37443,0);const mn=Tt&&(Tt.isCompressedTexture||Tt.image[0].isCompressedTexture),Hn=Tt.image[0]&&Tt.image[0].isDataTexture,rr=[];for(let un=0;un<6;un++)rr[un]=mn||Hn?Hn?Tt.image[un].image:Tt.image[un]:Z(Tt.image[un],!1,!0,O);const li=rr[0],Fr=W(li)||b,bi=d.convert(Tt.format),Er=d.convert(Tt.type),_e=gt(Tt.internalFormat,bi,Er);let qn;if(Jn(34067,Tt,Fr),mn){for(let un=0;un<6;un++){qn=rr[un].mipmaps;for(let ir=0;ir<qn.length;ir++){const mr=qn[ir];Tt.format!==Zp&&Tt.format!==nP?null!==bi?e.compressedTexImage2D(34069+un,ir,_e,mr.width,mr.height,0,mr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):e.texImage2D(34069+un,ir,_e,mr.width,mr.height,0,bi,Er,mr.data)}}zt.__maxMipLevel=qn.length-1}else{qn=Tt.mipmaps;for(let un=0;un<6;un++)if(Hn){e.texImage2D(34069+un,0,_e,rr[un].width,rr[un].height,0,bi,Er,rr[un].data);for(let ir=0;ir<qn.length;ir++){const Po=qn[ir].image[un].image;e.texImage2D(34069+un,ir+1,_e,Po.width,Po.height,0,bi,Er,Po.data)}}else{e.texImage2D(34069+un,0,_e,bi,Er,rr[un]);for(let ir=0;ir<qn.length;ir++)e.texImage2D(34069+un,ir+1,_e,bi,Er,qn[ir].image[un])}zt.__maxMipLevel=qn.length}rt(Tt,Fr)&&Q(34067,Tt,li.width,li.height),zt.__version=Tt.version,Tt.onUpdate&&Tt.onUpdate(Tt)}(Xe,zt,Tt):(e.activeTexture(33984+Tt),e.bindTexture(34067,Xe.__webglTexture))}const pn={1e3:10497,[ad]:33071,1002:33648},Nn={[el]:9728,1004:9984,1005:9986,[Tl]:9729,1007:9985,1008:9987};function Jn(zt,Tt,Xe){if(Xe?(a.texParameteri(zt,10242,pn[Tt.wrapS]),a.texParameteri(zt,10243,pn[Tt.wrapT]),(32879===zt||35866===zt)&&a.texParameteri(zt,32882,pn[Tt.wrapR]),a.texParameteri(zt,10240,Nn[Tt.magFilter]),a.texParameteri(zt,10241,Nn[Tt.minFilter])):(a.texParameteri(zt,10242,33071),a.texParameteri(zt,10243,33071),(32879===zt||35866===zt)&&a.texParameteri(zt,32882,33071),(Tt.wrapS!==ad||Tt.wrapT!==ad)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),a.texParameteri(zt,10240,Ct(Tt.magFilter)),a.texParameteri(zt,10241,Ct(Tt.minFilter)),Tt.minFilter!==el&&Tt.minFilter!==Tl&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),!0===t.has("EXT_texture_filter_anisotropic")){const mn=t.get("EXT_texture_filter_anisotropic");if(Tt.type===eP&&!1===t.has("OES_texture_float_linear")||!1===b&&Tt.type===eT&&!1===t.has("OES_texture_half_float_linear"))return;(Tt.anisotropy>1||o.get(Tt).__currentAnisotropy)&&(a.texParameterf(zt,mn.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Tt.anisotropy,l.getMaxAnisotropy())),o.get(Tt).__currentAnisotropy=Tt.anisotropy)}}function kn(zt,Tt){void 0===zt.__webglInit&&(zt.__webglInit=!0,Tt.addEventListener("dispose",ut),zt.__webglTexture=a.createTexture(),g.memory.textures++)}function ci(zt,Tt,Xe){let mn=3553;Tt.isDataTexture2DArray&&(mn=35866),Tt.isDataTexture3D&&(mn=32879),kn(zt,Tt),e.activeTexture(33984+Xe),e.bindTexture(mn,zt.__webglTexture),a.pixelStorei(37440,Tt.flipY),a.pixelStorei(37441,Tt.premultiplyAlpha),a.pixelStorei(3317,Tt.unpackAlignment),a.pixelStorei(37443,0);const Hn=function(zt){return!b&&(zt.wrapS!==ad||zt.wrapT!==ad||zt.minFilter!==el&&zt.minFilter!==Tl)}(Tt)&&!1===W(Tt.image),rr=Z(Tt.image,Hn,!1,T),li=W(rr)||b,Fr=d.convert(Tt.format);let _e,bi=d.convert(Tt.type),Er=gt(Tt.internalFormat,Fr,bi);Jn(mn,Tt,li);const qn=Tt.mipmaps;if(Tt.isDepthTexture)Er=6402,b?Er=Tt.type===eP?36012:1014===Tt.type?33190:Tt.type===NI?35056:33189:Tt.type===eP&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Tt.format===nT&&6402===Er&&1012!==Tt.type&&1014!==Tt.type&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Tt.type=1012,bi=d.convert(Tt.type)),Tt.format===BI&&6402===Er&&(Er=34041,Tt.type!==NI&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Tt.type=NI,bi=d.convert(Tt.type))),e.texImage2D(3553,0,Er,rr.width,rr.height,0,Fr,bi,null);else if(Tt.isDataTexture)if(qn.length>0&&li){for(let un=0,ir=qn.length;un<ir;un++)_e=qn[un],e.texImage2D(3553,un,Er,_e.width,_e.height,0,Fr,bi,_e.data);Tt.generateMipmaps=!1,zt.__maxMipLevel=qn.length-1}else e.texImage2D(3553,0,Er,rr.width,rr.height,0,Fr,bi,rr.data),zt.__maxMipLevel=0;else if(Tt.isCompressedTexture){for(let un=0,ir=qn.length;un<ir;un++)_e=qn[un],Tt.format!==Zp&&Tt.format!==nP?null!==Fr?e.compressedTexImage2D(3553,un,Er,_e.width,_e.height,0,_e.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):e.texImage2D(3553,un,Er,_e.width,_e.height,0,Fr,bi,_e.data);zt.__maxMipLevel=qn.length-1}else if(Tt.isDataTexture2DArray)e.texImage3D(35866,0,Er,rr.width,rr.height,rr.depth,0,Fr,bi,rr.data),zt.__maxMipLevel=0;else if(Tt.isDataTexture3D)e.texImage3D(32879,0,Er,rr.width,rr.height,rr.depth,0,Fr,bi,rr.data),zt.__maxMipLevel=0;else if(qn.length>0&&li){for(let un=0,ir=qn.length;un<ir;un++)_e=qn[un],e.texImage2D(3553,un,Er,Fr,bi,_e);Tt.generateMipmaps=!1,zt.__maxMipLevel=qn.length-1}else e.texImage2D(3553,0,Er,Fr,bi,rr),zt.__maxMipLevel=0;rt(Tt,li)&&Q(mn,Tt,rr.width,rr.height),zt.__version=Tt.version,Tt.onUpdate&&Tt.onUpdate(Tt)}function Xn(zt,Tt,Xe,mn,Hn){const rr=d.convert(Xe.format),li=d.convert(Xe.type),Fr=gt(Xe.internalFormat,rr,li);32879===Hn||35866===Hn?e.texImage3D(Hn,0,Fr,Tt.width,Tt.height,Tt.depth,0,rr,li,null):e.texImage2D(Hn,0,Fr,Tt.width,Tt.height,0,rr,li,null),e.bindFramebuffer(36160,zt),a.framebufferTexture2D(36160,mn,Hn,o.get(Xe).__webglTexture,0),e.bindFramebuffer(36160,null)}function nr(zt,Tt,Xe){if(a.bindRenderbuffer(36161,zt),Tt.depthBuffer&&!Tt.stencilBuffer){let mn=33189;if(Xe){const Hn=Tt.depthTexture;Hn&&Hn.isDepthTexture&&(Hn.type===eP?mn=36012:1014===Hn.type&&(mn=33190));const rr=Ri(Tt);a.renderbufferStorageMultisample(36161,rr,mn,Tt.width,Tt.height)}else a.renderbufferStorage(36161,mn,Tt.width,Tt.height);a.framebufferRenderbuffer(36160,36096,36161,zt)}else if(Tt.depthBuffer&&Tt.stencilBuffer){if(Xe){const mn=Ri(Tt);a.renderbufferStorageMultisample(36161,mn,35056,Tt.width,Tt.height)}else a.renderbufferStorage(36161,34041,Tt.width,Tt.height);a.framebufferRenderbuffer(36160,33306,36161,zt)}else{const mn=!0===Tt.isWebGLMultipleRenderTargets?Tt.texture[0]:Tt.texture,Hn=d.convert(mn.format),rr=d.convert(mn.type),li=gt(mn.internalFormat,Hn,rr);if(Xe){const Fr=Ri(Tt);a.renderbufferStorageMultisample(36161,Fr,li,Tt.width,Tt.height)}else a.renderbufferStorage(36161,li,Tt.width,Tt.height)}a.bindRenderbuffer(36161,null)}function Ri(zt){return b&&zt.isWebGLMultisampleRenderTarget?Math.min(D,zt.samples):0}let Cn=!1,Tn=!1;this.allocateTextureUnit=function(){const zt=kt;return zt>=M&&console.warn("THREE.WebGLTextures: Trying to use "+zt+" texture units while this GPU supports only "+M),kt+=1,zt},this.resetTextureUnits=function(){kt=0},this.setTexture2D=fe,this.setTexture2DArray=function(zt,Tt){const Xe=o.get(zt);zt.version>0&&Xe.__version!==zt.version?ci(Xe,zt,Tt):(e.activeTexture(33984+Tt),e.bindTexture(35866,Xe.__webglTexture))},this.setTexture3D=function(zt,Tt){const Xe=o.get(zt);zt.version>0&&Xe.__version!==zt.version?ci(Xe,zt,Tt):(e.activeTexture(33984+Tt),e.bindTexture(32879,Xe.__webglTexture))},this.setTextureCube=Be,this.setupRenderTarget=function(zt){const Tt=zt.texture,Xe=o.get(zt),mn=o.get(Tt);zt.addEventListener("dispose",Yt),!0!==zt.isWebGLMultipleRenderTargets&&(mn.__webglTexture=a.createTexture(),mn.__version=Tt.version,g.memory.textures++);const Hn=!0===zt.isWebGLCubeRenderTarget,rr=!0===zt.isWebGLMultipleRenderTargets,li=!0===zt.isWebGLMultisampleRenderTarget,Fr=Tt.isDataTexture3D||Tt.isDataTexture2DArray,bi=W(zt)||b;if(b&&Tt.format===nP&&(Tt.type===eP||Tt.type===eT)&&(Tt.format=Zp,console.warn("THREE.WebGLRenderer: Rendering to textures with RGB format is not supported. Using RGBA format instead.")),Hn){Xe.__webglFramebuffer=[];for(let Er=0;Er<6;Er++)Xe.__webglFramebuffer[Er]=a.createFramebuffer()}else if(Xe.__webglFramebuffer=a.createFramebuffer(),rr)if(l.drawBuffers){const Er=zt.texture;for(let _e=0,qn=Er.length;_e<qn;_e++){const un=o.get(Er[_e]);void 0===un.__webglTexture&&(un.__webglTexture=a.createTexture(),g.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");else if(li)if(b){Xe.__webglMultisampledFramebuffer=a.createFramebuffer(),Xe.__webglColorRenderbuffer=a.createRenderbuffer(),a.bindRenderbuffer(36161,Xe.__webglColorRenderbuffer);const Er=d.convert(Tt.format),_e=d.convert(Tt.type),qn=gt(Tt.internalFormat,Er,_e),un=Ri(zt);a.renderbufferStorageMultisample(36161,un,qn,zt.width,zt.height),e.bindFramebuffer(36160,Xe.__webglMultisampledFramebuffer),a.framebufferRenderbuffer(36160,36064,36161,Xe.__webglColorRenderbuffer),a.bindRenderbuffer(36161,null),zt.depthBuffer&&(Xe.__webglDepthRenderbuffer=a.createRenderbuffer(),nr(Xe.__webglDepthRenderbuffer,zt,!0)),e.bindFramebuffer(36160,null)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.");if(Hn){e.bindTexture(34067,mn.__webglTexture),Jn(34067,Tt,bi);for(let Er=0;Er<6;Er++)Xn(Xe.__webglFramebuffer[Er],zt,Tt,36064,34069+Er);rt(Tt,bi)&&Q(34067,Tt,zt.width,zt.height),e.unbindTexture()}else if(rr){const Er=zt.texture;for(let _e=0,qn=Er.length;_e<qn;_e++){const un=Er[_e],ir=o.get(un);e.bindTexture(3553,ir.__webglTexture),Jn(3553,un,bi),Xn(Xe.__webglFramebuffer,zt,un,36064+_e,3553),rt(un,bi)&&Q(3553,un,zt.width,zt.height)}e.unbindTexture()}else{let Er=3553;Fr&&(b?Er=Tt.isDataTexture3D?32879:35866:console.warn("THREE.DataTexture3D and THREE.DataTexture2DArray only supported with WebGL2.")),e.bindTexture(Er,mn.__webglTexture),Jn(Er,Tt,bi),Xn(Xe.__webglFramebuffer,zt,Tt,36064,Er),rt(Tt,bi)&&Q(Er,Tt,zt.width,zt.height,zt.depth),e.unbindTexture()}zt.depthBuffer&&function(zt){const Tt=o.get(zt),Xe=!0===zt.isWebGLCubeRenderTarget;if(zt.depthTexture){if(Xe)throw new Error("target.depthTexture not supported in Cube render targets");!function(zt,Tt){if(Tt&&Tt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(e.bindFramebuffer(36160,zt),!Tt.depthTexture||!Tt.depthTexture.isDepthTexture)throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!o.get(Tt.depthTexture).__webglTexture||Tt.depthTexture.image.width!==Tt.width||Tt.depthTexture.image.height!==Tt.height)&&(Tt.depthTexture.image.width=Tt.width,Tt.depthTexture.image.height=Tt.height,Tt.depthTexture.needsUpdate=!0),fe(Tt.depthTexture,0);const mn=o.get(Tt.depthTexture).__webglTexture;if(Tt.depthTexture.format===nT)a.framebufferTexture2D(36160,36096,3553,mn,0);else{if(Tt.depthTexture.format!==BI)throw new Error("Unknown depthTexture format");a.framebufferTexture2D(36160,33306,3553,mn,0)}}(Tt.__webglFramebuffer,zt)}else if(Xe){Tt.__webglDepthbuffer=[];for(let mn=0;mn<6;mn++)e.bindFramebuffer(36160,Tt.__webglFramebuffer[mn]),Tt.__webglDepthbuffer[mn]=a.createRenderbuffer(),nr(Tt.__webglDepthbuffer[mn],zt,!1)}else e.bindFramebuffer(36160,Tt.__webglFramebuffer),Tt.__webglDepthbuffer=a.createRenderbuffer(),nr(Tt.__webglDepthbuffer,zt,!1);e.bindFramebuffer(36160,null)}(zt)},this.updateRenderTargetMipmap=function(zt){const Tt=W(zt)||b,Xe=!0===zt.isWebGLMultipleRenderTargets?zt.texture:[zt.texture];for(let mn=0,Hn=Xe.length;mn<Hn;mn++){const rr=Xe[mn];if(rt(rr,Tt)){const li=zt.isWebGLCubeRenderTarget?34067:3553,Fr=o.get(rr).__webglTexture;e.bindTexture(li,Fr),Q(li,rr,zt.width,zt.height),e.unbindTexture()}}},this.updateMultisampleRenderTarget=function(zt){if(zt.isWebGLMultisampleRenderTarget)if(b){const Tt=zt.width,Xe=zt.height;let mn=16384;zt.depthBuffer&&(mn|=256),zt.stencilBuffer&&(mn|=1024);const Hn=o.get(zt);e.bindFramebuffer(36008,Hn.__webglMultisampledFramebuffer),e.bindFramebuffer(36009,Hn.__webglFramebuffer),a.blitFramebuffer(0,0,Tt,Xe,0,0,Tt,Xe,mn,9728),e.bindFramebuffer(36008,null),e.bindFramebuffer(36009,Hn.__webglMultisampledFramebuffer)}else console.warn("THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.")},this.safeSetTexture2D=function(zt,Tt){zt&&zt.isWebGLRenderTarget&&(!1===Cn&&(console.warn("THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead."),Cn=!0),zt=zt.texture),fe(zt,Tt)},this.safeSetTextureCube=function(zt,Tt){zt&&zt.isWebGLCubeRenderTarget&&(!1===Tn&&(console.warn("THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead."),Tn=!0),zt=zt.texture),Be(zt,Tt)}}function JW(a,t,e){const o=e.isWebGL2;return{convert:function(d){let g;if(d===tT)return 5121;if(1017===d)return 32819;if(1018===d)return 32820;if(1019===d)return 33635;if(1010===d)return 5120;if(1011===d)return 5122;if(1012===d)return 5123;if(1013===d)return 5124;if(1014===d)return 5125;if(d===eP)return 5126;if(d===eT)return o?5131:(g=t.get("OES_texture_half_float"),null!==g?g.HALF_FLOAT_OES:null);if(1021===d)return 6406;if(d===nP)return 6407;if(d===Zp)return 6408;if(1024===d)return 6409;if(1025===d)return 6410;if(d===nT)return 6402;if(d===BI)return 34041;if(1028===d)return 6403;if(1029===d)return 36244;if(1030===d)return 33319;if(1031===d)return 33320;if(1032===d)return 36248;if(1033===d)return 36249;if(33776===d||33777===d||33778===d||33779===d){if(g=t.get("WEBGL_compressed_texture_s3tc"),null===g)return null;if(33776===d)return g.COMPRESSED_RGB_S3TC_DXT1_EXT;if(33777===d)return g.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(33778===d)return g.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(33779===d)return g.COMPRESSED_RGBA_S3TC_DXT5_EXT}if(35840===d||35841===d||35842===d||35843===d){if(g=t.get("WEBGL_compressed_texture_pvrtc"),null===g)return null;if(35840===d)return g.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(35841===d)return g.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(35842===d)return g.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(35843===d)return g.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}if(36196===d)return g=t.get("WEBGL_compressed_texture_etc1"),null!==g?g.COMPRESSED_RGB_ETC1_WEBGL:null;if((37492===d||37496===d)&&(g=t.get("WEBGL_compressed_texture_etc"),null!==g)){if(37492===d)return g.COMPRESSED_RGB8_ETC2;if(37496===d)return g.COMPRESSED_RGBA8_ETC2_EAC}return 37808===d||37809===d||37810===d||37811===d||37812===d||37813===d||37814===d||37815===d||37816===d||37817===d||37818===d||37819===d||37820===d||37821===d||37840===d||37841===d||37842===d||37843===d||37844===d||37845===d||37846===d||37847===d||37848===d||37849===d||37850===d||37851===d||37852===d||37853===d?(g=t.get("WEBGL_compressed_texture_astc"),null!==g?d:null):36492===d?(g=t.get("EXT_texture_compression_bptc"),null!==g?d:null):d===NI?o?34042:(g=t.get("WEBGL_depth_texture"),null!==g?g.UNSIGNED_INT_24_8_WEBGL:null):void 0}}}_N.prototype.isMeshDistanceMaterial=!0;class RB extends uu{constructor(t=[]){super(),this.cameras=t}}RB.prototype.isArrayCamera=!0;class ST extends ts{constructor(){super(),this.type="Group"}}ST.prototype.isGroup=!0;const tq={type:"move"};class bN{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return null===this._hand&&(this._hand=new ST,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return null===this._targetRay&&(this._targetRay=new ST,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Ot,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Ot),this._targetRay}getGripSpace(){return null===this._grip&&(this._grip=new ST,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Ot,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Ot),this._grip}dispatchEvent(t){return null!==this._targetRay&&this._targetRay.dispatchEvent(t),null!==this._grip&&this._grip.dispatchEvent(t),null!==this._hand&&this._hand.dispatchEvent(t),this}disconnect(t){return this.dispatchEvent({type:"disconnected",data:t}),null!==this._targetRay&&(this._targetRay.visible=!1),null!==this._grip&&(this._grip.visible=!1),null!==this._hand&&(this._hand.visible=!1),this}update(t,e,o){let l=null,d=null,g=null;const b=this._targetRay,M=this._grip,O=this._hand;if(t&&"visible-blurred"!==e.session.visibilityState)if(null!==b&&(l=e.getPose(t.targetRaySpace,o),null!==l&&(b.matrix.fromArray(l.transform.matrix),b.matrix.decompose(b.position,b.rotation,b.scale),l.linearVelocity?(b.hasLinearVelocity=!0,b.linearVelocity.copy(l.linearVelocity)):b.hasLinearVelocity=!1,l.angularVelocity?(b.hasAngularVelocity=!0,b.angularVelocity.copy(l.angularVelocity)):b.hasAngularVelocity=!1,this.dispatchEvent(tq))),O&&t.hand){g=!0;for(const j of t.hand.values()){const Z=e.getJointPose(j,o);if(void 0===O.joints[j.jointName]){const H=new ST;H.matrixAutoUpdate=!1,H.visible=!1,O.joints[j.jointName]=H,O.add(H)}const W=O.joints[j.jointName];null!==Z&&(W.matrix.fromArray(Z.transform.matrix),W.matrix.decompose(W.position,W.rotation,W.scale),W.jointRadius=Z.radius),W.visible=null!==Z}const R=O.joints["index-finger-tip"].position.distanceTo(O.joints["thumb-tip"].position),k=.02,U=.005;O.inputState.pinching&&R>k+U?(O.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:t.handedness,target:this})):!O.inputState.pinching&&R<=k-U&&(O.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:t.handedness,target:this}))}else null!==M&&t.gripSpace&&(d=e.getPose(t.gripSpace,o),null!==d&&(M.matrix.fromArray(d.transform.matrix),M.matrix.decompose(M.position,M.rotation,M.scale),d.linearVelocity?(M.hasLinearVelocity=!0,M.linearVelocity.copy(d.linearVelocity)):M.hasLinearVelocity=!1,d.angularVelocity?(M.hasAngularVelocity=!0,M.angularVelocity.copy(d.angularVelocity)):M.hasAngularVelocity=!1));return null!==b&&(b.visible=null!==l),null!==M&&(M.visible=null!==d),null!==O&&(O.visible=null!==g),this}}class eq extends Z2{constructor(t,e){super();const o=this,l=t.state;let d=null,g=1,b=null,M="local-floor",O=null,T=null,D=null,R=null,k=null,U=!1,j=null,Z=null,W=null,H=null,rt=null,Q=null;const gt=[],Ct=new Map,ut=new uu;ut.layers.enable(1),ut.viewport=new gs;const Yt=new uu;Yt.layers.enable(2),Yt.viewport=new gs;const re=[ut,Yt],ee=new RB;ee.layers.enable(1),ee.layers.enable(2);let kt=null,je=null;function de(hn){const Xn=Ct.get(hn.inputSource);Xn&&Xn.dispatchEvent({type:hn.type,data:hn.inputSource})}function fe(){Ct.forEach(function(hn,Xn){hn.disconnect(Xn)}),Ct.clear(),kt=null,je=null,l.bindXRFramebuffer(null),t.setRenderTarget(t.getRenderTarget()),D&&e.deleteFramebuffer(D),j&&e.deleteFramebuffer(j),Z&&e.deleteRenderbuffer(Z),W&&e.deleteRenderbuffer(W),D=null,j=null,Z=null,W=null,k=null,R=null,T=null,d=null,ci.stop(),o.isPresenting=!1,o.dispatchEvent({type:"sessionend"})}function De(hn){const Xn=d.inputSources;for(let nr=0;nr<gt.length;nr++)Ct.set(Xn[nr],gt[nr]);for(let nr=0;nr<hn.removed.length;nr++){const ke=hn.removed[nr],Lr=Ct.get(ke);Lr&&(Lr.dispatchEvent({type:"disconnected",data:ke}),Ct.delete(ke))}for(let nr=0;nr<hn.added.length;nr++){const ke=hn.added[nr],Lr=Ct.get(ke);Lr&&Lr.dispatchEvent({type:"connected",data:ke})}}this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(hn){let Xn=gt[hn];return void 0===Xn&&(Xn=new bN,gt[hn]=Xn),Xn.getTargetRaySpace()},this.getControllerGrip=function(hn){let Xn=gt[hn];return void 0===Xn&&(Xn=new bN,gt[hn]=Xn),Xn.getGripSpace()},this.getHand=function(hn){let Xn=gt[hn];return void 0===Xn&&(Xn=new bN,gt[hn]=Xn),Xn.getHandSpace()},this.setFramebufferScaleFactor=function(hn){g=hn,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(hn){M=hn,!0===o.isPresenting&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return b},this.getBaseLayer=function(){return null!==R?R:k},this.getBinding=function(){return T},this.getFrame=function(){return H},this.getSession=function(){return d},this.setSession=function(){var a,hn=(a=function*(Xn){if(d=Xn,null!==d){d.addEventListener("select",de),d.addEventListener("selectstart",de),d.addEventListener("selectend",de),d.addEventListener("squeeze",de),d.addEventListener("squeezestart",de),d.addEventListener("squeezeend",de),d.addEventListener("end",fe),d.addEventListener("inputsourceschange",De);const nr=e.getContextAttributes();if(!0!==nr.xrCompatible&&(yield e.makeXRCompatible()),void 0===d.renderState.layers)k=new XRWebGLLayer(d,e,{antialias:nr.antialias,alpha:nr.alpha,depth:nr.depth,stencil:nr.stencil,framebufferScaleFactor:g}),d.updateRenderState({baseLayer:k});else if(e instanceof WebGLRenderingContext)k=new XRWebGLLayer(d,e,{antialias:!0,alpha:nr.alpha,depth:nr.depth,stencil:nr.stencil,framebufferScaleFactor:g}),d.updateRenderState({layers:[k]});else{U=nr.antialias;let ke=null;nr.depth&&(Q=256,nr.stencil&&(Q|=1024),rt=nr.stencil?33306:36096,ke=nr.stencil?35056:33190);const Lr={colorFormat:nr.alpha?32856:32849,depthFormat:ke,scaleFactor:g};T=new XRWebGLBinding(d,e),R=T.createProjectionLayer(Lr),D=e.createFramebuffer(),d.updateRenderState({layers:[R]}),U&&(j=e.createFramebuffer(),Z=e.createRenderbuffer(),e.bindRenderbuffer(36161,Z),e.renderbufferStorageMultisample(36161,4,32856,R.textureWidth,R.textureHeight),l.bindFramebuffer(36160,j),e.framebufferRenderbuffer(36160,36064,36161,Z),e.bindRenderbuffer(36161,null),null!==ke&&(W=e.createRenderbuffer(),e.bindRenderbuffer(36161,W),e.renderbufferStorageMultisample(36161,4,ke,R.textureWidth,R.textureHeight),e.framebufferRenderbuffer(36160,rt,36161,W),e.bindRenderbuffer(36161,null)),l.bindFramebuffer(36160,null))}b=yield d.requestReferenceSpace(M),ci.setContext(d),ci.start(),o.isPresenting=!0,o.dispatchEvent({type:"sessionstart"})}},function(){var t=this,e=arguments;return new Promise(function(o,l){var d=a.apply(t,e);function g(M){c6(d,o,l,g,b,"next",M)}function b(M){c6(d,o,l,g,b,"throw",M)}g(void 0)})});return function(Xn){return hn.apply(this,arguments)}}();const Ee=new Ot,Be=new Ot;function Nn(hn,Xn){null===Xn?hn.matrixWorld.copy(hn.matrix):hn.matrixWorld.multiplyMatrices(Xn.matrixWorld,hn.matrix),hn.matrixWorldInverse.copy(hn.matrixWorld).invert()}this.updateCamera=function(hn){if(null===d)return;ee.near=Yt.near=ut.near=hn.near,ee.far=Yt.far=ut.far=hn.far,(kt!==ee.near||je!==ee.far)&&(d.updateRenderState({depthNear:ee.near,depthFar:ee.far}),kt=ee.near,je=ee.far);const Xn=hn.parent,nr=ee.cameras;Nn(ee,Xn);for(let Lr=0;Lr<nr.length;Lr++)Nn(nr[Lr],Xn);ee.matrixWorld.decompose(ee.position,ee.quaternion,ee.scale),hn.position.copy(ee.position),hn.quaternion.copy(ee.quaternion),hn.scale.copy(ee.scale),hn.matrix.copy(ee.matrix),hn.matrixWorld.copy(ee.matrixWorld);const ke=hn.children;for(let Lr=0,di=ke.length;Lr<di;Lr++)ke[Lr].updateMatrixWorld(!0);2===nr.length?function(hn,Xn,nr){Ee.setFromMatrixPosition(Xn.matrixWorld),Be.setFromMatrixPosition(nr.matrixWorld);const ke=Ee.distanceTo(Be),Lr=Xn.projectionMatrix.elements,di=nr.projectionMatrix.elements,sr=Lr[14]/(Lr[10]-1),gr=Lr[14]/(Lr[10]+1),Ri=(Lr[9]+1)/Lr[5],Ke=(Lr[9]-1)/Lr[5],Cn=(Lr[8]-1)/Lr[0],Tn=(di[8]+1)/di[0],Or=sr*Cn,Wn=sr*Tn,zt=ke/(-Cn+Tn),Tt=zt*-Cn;Xn.matrixWorld.decompose(hn.position,hn.quaternion,hn.scale),hn.translateX(Tt),hn.translateZ(zt),hn.matrixWorld.compose(hn.position,hn.quaternion,hn.scale),hn.matrixWorldInverse.copy(hn.matrixWorld).invert();const Xe=sr+zt,mn=gr+zt;hn.projectionMatrix.makePerspective(Or-Tt,Wn+(ke-Tt),Ri*gr/mn*Xe,Ke*gr/mn*Xe,Xe,mn)}(ee,ut,Yt):ee.projectionMatrix.copy(ut.projectionMatrix)},this.getCamera=function(){return ee},this.getFoveation=function(){return null!==R?R.fixedFoveation:null!==k?k.fixedFoveation:void 0},this.setFoveation=function(hn){null!==R&&(R.fixedFoveation=hn),null!==k&&void 0!==k.fixedFoveation&&(k.fixedFoveation=hn)};let Jn=null;const ci=new J6;ci.setAnimationLoop(function(hn,Xn){if(O=Xn.getViewerPose(b),H=Xn,null!==O){const ke=O.views;null!==k&&l.bindXRFramebuffer(k.framebuffer);let Lr=!1;ke.length!==ee.cameras.length&&(ee.cameras.length=0,Lr=!0);for(let di=0;di<ke.length;di++){const sr=ke[di];let gr=null;if(null!==k)gr=k.getViewport(sr);else{const Ke=T.getViewSubImage(R,sr);l.bindXRFramebuffer(D),void 0!==Ke.depthStencilTexture&&e.framebufferTexture2D(36160,rt,3553,Ke.depthStencilTexture,0),e.framebufferTexture2D(36160,36064,3553,Ke.colorTexture,0),gr=Ke.viewport}const Ri=re[di];Ri.matrix.fromArray(sr.transform.matrix),Ri.projectionMatrix.fromArray(sr.projectionMatrix),Ri.viewport.set(gr.x,gr.y,gr.width,gr.height),0===di&&ee.matrix.copy(Ri.matrix),!0===Lr&&ee.cameras.push(Ri)}U&&(l.bindXRFramebuffer(j),null!==Q&&e.clear(Q))}const nr=d.inputSources;for(let ke=0;ke<gt.length;ke++)gt[ke].update(nr[ke],Xn,b);if(Jn&&Jn(hn,Xn),U){const ke=R.textureWidth,Lr=R.textureHeight;l.bindFramebuffer(36008,j),l.bindFramebuffer(36009,D),e.invalidateFramebuffer(36008,[rt]),e.invalidateFramebuffer(36009,[rt]),e.blitFramebuffer(0,0,ke,Lr,0,0,ke,Lr,16384,9728),e.invalidateFramebuffer(36008,[36064]),l.bindFramebuffer(36008,null),l.bindFramebuffer(36009,null),l.bindFramebuffer(36160,j)}H=null}),this.setAnimationLoop=function(hn){Jn=hn},this.dispose=function(){}}}function nq(a){function o(W,H){W.opacity.value=H.opacity,H.color&&W.diffuse.value.copy(H.color),H.emissive&&W.emissive.value.copy(H.emissive).multiplyScalar(H.emissiveIntensity),H.map&&(W.map.value=H.map),H.alphaMap&&(W.alphaMap.value=H.alphaMap),H.specularMap&&(W.specularMap.value=H.specularMap),H.alphaTest>0&&(W.alphaTest.value=H.alphaTest);const rt=a.get(H).envMap;if(rt){W.envMap.value=rt,W.flipEnvMap.value=rt.isCubeTexture&&!1===rt.isRenderTargetTexture?-1:1,W.reflectivity.value=H.reflectivity,W.ior.value=H.ior,W.refractionRatio.value=H.refractionRatio;const Ct=a.get(rt).__maxMipLevel;void 0!==Ct&&(W.maxMipLevel.value=Ct)}let Q,gt;H.lightMap&&(W.lightMap.value=H.lightMap,W.lightMapIntensity.value=H.lightMapIntensity),H.aoMap&&(W.aoMap.value=H.aoMap,W.aoMapIntensity.value=H.aoMapIntensity),H.map?Q=H.map:H.specularMap?Q=H.specularMap:H.displacementMap?Q=H.displacementMap:H.normalMap?Q=H.normalMap:H.bumpMap?Q=H.bumpMap:H.roughnessMap?Q=H.roughnessMap:H.metalnessMap?Q=H.metalnessMap:H.alphaMap?Q=H.alphaMap:H.emissiveMap?Q=H.emissiveMap:H.clearcoatMap?Q=H.clearcoatMap:H.clearcoatNormalMap?Q=H.clearcoatNormalMap:H.clearcoatRoughnessMap?Q=H.clearcoatRoughnessMap:H.specularIntensityMap?Q=H.specularIntensityMap:H.specularTintMap?Q=H.specularTintMap:H.transmissionMap?Q=H.transmissionMap:H.thicknessMap&&(Q=H.thicknessMap),void 0!==Q&&(Q.isWebGLRenderTarget&&(Q=Q.texture),!0===Q.matrixAutoUpdate&&Q.updateMatrix(),W.uvTransform.value.copy(Q.matrix)),H.aoMap?gt=H.aoMap:H.lightMap&&(gt=H.lightMap),void 0!==gt&&(gt.isWebGLRenderTarget&&(gt=gt.texture),!0===gt.matrixAutoUpdate&&gt.updateMatrix(),W.uv2Transform.value.copy(gt.matrix))}function D(W,H){W.roughness.value=H.roughness,W.metalness.value=H.metalness,H.roughnessMap&&(W.roughnessMap.value=H.roughnessMap),H.metalnessMap&&(W.metalnessMap.value=H.metalnessMap),H.emissiveMap&&(W.emissiveMap.value=H.emissiveMap),H.bumpMap&&(W.bumpMap.value=H.bumpMap,W.bumpScale.value=H.bumpScale,1===H.side&&(W.bumpScale.value*=-1)),H.normalMap&&(W.normalMap.value=H.normalMap,W.normalScale.value.copy(H.normalScale),1===H.side&&W.normalScale.value.negate()),H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias),a.get(H).envMap&&(W.envMapIntensity.value=H.envMapIntensity)}return{refreshFogUniforms:function(W,H){W.fogColor.value.copy(H.color),H.isFog?(W.fogNear.value=H.near,W.fogFar.value=H.far):H.isFogExp2&&(W.fogDensity.value=H.density)},refreshMaterialUniforms:function(W,H,rt,Q,gt){H.isMeshBasicMaterial?o(W,H):H.isMeshLambertMaterial?(o(W,H),function(W,H){H.emissiveMap&&(W.emissiveMap.value=H.emissiveMap)}(W,H)):H.isMeshToonMaterial?(o(W,H),function(W,H){H.gradientMap&&(W.gradientMap.value=H.gradientMap),H.emissiveMap&&(W.emissiveMap.value=H.emissiveMap),H.bumpMap&&(W.bumpMap.value=H.bumpMap,W.bumpScale.value=H.bumpScale,1===H.side&&(W.bumpScale.value*=-1)),H.normalMap&&(W.normalMap.value=H.normalMap,W.normalScale.value.copy(H.normalScale),1===H.side&&W.normalScale.value.negate()),H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias)}(W,H)):H.isMeshPhongMaterial?(o(W,H),function(W,H){W.specular.value.copy(H.specular),W.shininess.value=Math.max(H.shininess,1e-4),H.emissiveMap&&(W.emissiveMap.value=H.emissiveMap),H.bumpMap&&(W.bumpMap.value=H.bumpMap,W.bumpScale.value=H.bumpScale,1===H.side&&(W.bumpScale.value*=-1)),H.normalMap&&(W.normalMap.value=H.normalMap,W.normalScale.value.copy(H.normalScale),1===H.side&&W.normalScale.value.negate()),H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias)}(W,H)):H.isMeshStandardMaterial?(o(W,H),H.isMeshPhysicalMaterial?function(W,H,rt){D(W,H),W.ior.value=H.ior,H.sheenTint&&W.sheenTint.value.copy(H.sheenTint),H.clearcoat>0&&(W.clearcoat.value=H.clearcoat,W.clearcoatRoughness.value=H.clearcoatRoughness,H.clearcoatMap&&(W.clearcoatMap.value=H.clearcoatMap),H.clearcoatRoughnessMap&&(W.clearcoatRoughnessMap.value=H.clearcoatRoughnessMap),H.clearcoatNormalMap&&(W.clearcoatNormalScale.value.copy(H.clearcoatNormalScale),W.clearcoatNormalMap.value=H.clearcoatNormalMap,1===H.side&&W.clearcoatNormalScale.value.negate())),H.transmission>0&&(W.transmission.value=H.transmission,W.transmissionSamplerMap.value=rt.texture,W.transmissionSamplerSize.value.set(rt.width,rt.height),H.transmissionMap&&(W.transmissionMap.value=H.transmissionMap),W.thickness.value=H.thickness,H.thicknessMap&&(W.thicknessMap.value=H.thicknessMap),W.attenuationDistance.value=H.attenuationDistance,W.attenuationTint.value.copy(H.attenuationTint)),W.specularIntensity.value=H.specularIntensity,W.specularTint.value.copy(H.specularTint),H.specularIntensityMap&&(W.specularIntensityMap.value=H.specularIntensityMap),H.specularTintMap&&(W.specularTintMap.value=H.specularTintMap)}(W,H,gt):D(W,H)):H.isMeshMatcapMaterial?(o(W,H),function(W,H){H.matcap&&(W.matcap.value=H.matcap),H.bumpMap&&(W.bumpMap.value=H.bumpMap,W.bumpScale.value=H.bumpScale,1===H.side&&(W.bumpScale.value*=-1)),H.normalMap&&(W.normalMap.value=H.normalMap,W.normalScale.value.copy(H.normalScale),1===H.side&&W.normalScale.value.negate()),H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias)}(W,H)):H.isMeshDepthMaterial?(o(W,H),function(W,H){H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias)}(W,H)):H.isMeshDistanceMaterial?(o(W,H),function(W,H){H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias),W.referencePosition.value.copy(H.referencePosition),W.nearDistance.value=H.nearDistance,W.farDistance.value=H.farDistance}(W,H)):H.isMeshNormalMaterial?(o(W,H),function(W,H){H.bumpMap&&(W.bumpMap.value=H.bumpMap,W.bumpScale.value=H.bumpScale,1===H.side&&(W.bumpScale.value*=-1)),H.normalMap&&(W.normalMap.value=H.normalMap,W.normalScale.value.copy(H.normalScale),1===H.side&&W.normalScale.value.negate()),H.displacementMap&&(W.displacementMap.value=H.displacementMap,W.displacementScale.value=H.displacementScale,W.displacementBias.value=H.displacementBias)}(W,H)):H.isLineBasicMaterial?(function(W,H){W.diffuse.value.copy(H.color),W.opacity.value=H.opacity}(W,H),H.isLineDashedMaterial&&function(W,H){W.dashSize.value=H.dashSize,W.totalSize.value=H.dashSize+H.gapSize,W.scale.value=H.scale}(W,H)):H.isPointsMaterial?function(W,H,rt,Q){let gt;W.diffuse.value.copy(H.color),W.opacity.value=H.opacity,W.size.value=H.size*rt,W.scale.value=.5*Q,H.map&&(W.map.value=H.map),H.alphaMap&&(W.alphaMap.value=H.alphaMap),H.alphaTest>0&&(W.alphaTest.value=H.alphaTest),H.map?gt=H.map:H.alphaMap&&(gt=H.alphaMap),void 0!==gt&&(!0===gt.matrixAutoUpdate&&gt.updateMatrix(),W.uvTransform.value.copy(gt.matrix))}(W,H,rt,Q):H.isSpriteMaterial?function(W,H){let rt;W.diffuse.value.copy(H.color),W.opacity.value=H.opacity,W.rotation.value=H.rotation,H.map&&(W.map.value=H.map),H.alphaMap&&(W.alphaMap.value=H.alphaMap),H.alphaTest>0&&(W.alphaTest.value=H.alphaTest),H.map?rt=H.map:H.alphaMap&&(rt=H.alphaMap),void 0!==rt&&(!0===rt.matrixAutoUpdate&&rt.updateMatrix(),W.uvTransform.value.copy(rt.matrix))}(W,H):H.isShadowMaterial?(W.color.value.copy(H.color),W.opacity.value=H.opacity):H.isShaderMaterial&&(H.uniformsNeedUpdate=!1)}}}function Es(a={}){const t=void 0!==a.canvas?a.canvas:function(){const a=document.createElementNS("http://www.w3.org/1999/xhtml","canvas");return a.style.display="block",a}(),e=void 0!==a.context?a.context:null,o=void 0!==a.alpha&&a.alpha,l=void 0===a.depth||a.depth,d=void 0===a.stencil||a.stencil,g=void 0!==a.antialias&&a.antialias,b=void 0===a.premultipliedAlpha||a.premultipliedAlpha,M=void 0!==a.preserveDrawingBuffer&&a.preserveDrawingBuffer,O=void 0!==a.powerPreference?a.powerPreference:"default",T=void 0!==a.failIfMajorPerformanceCaveat&&a.failIfMajorPerformanceCaveat;let D=null,R=null;const k=[],U=[];this.domElement=t,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.gammaFactor=2,this.outputEncoding=Kp,this.physicallyCorrectLights=!1,this.toneMapping=0,this.toneMappingExposure=1;const j=this;let Z=!1,W=0,H=0,rt=null,Q=-1,gt=null;const Ct=new gs,ut=new gs;let Yt=null,re=t.width,ee=t.height,kt=1,je=null,de=null;const fe=new gs(0,0,re,ee),De=new gs(0,0,re,ee);let Ee=!1;const Be=[],pn=new eL;let Nn=!1,Jn=!1,kn=null;const ci=new fr,hn=new Ot,Xn={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function nr(){return null===rt?kt:1}let di,sr,gr,Ri,Ke,Cn,Tn,Or,Wn,zt,Tt,Xe,mn,Hn,rr,li,Fr,bi,Er,_e,qn,un,ir,ke=e;function Lr(At,Te){for(let Ce=0;Ce<At.length;Ce++){const xn=t.getContext(At[Ce],Te);if(null!==xn)return xn}return null}try{const At={alpha:o,depth:l,stencil:d,antialias:g,premultipliedAlpha:b,preserveDrawingBuffer:M,powerPreference:O,failIfMajorPerformanceCaveat:T};if(t.addEventListener("webglcontextlost",dd,!1),t.addEventListener("webglcontextrestored",pd,!1),null===ke){const Te=["webgl2","webgl","experimental-webgl"];if(!0===j.isWebGL1Renderer&&Te.shift(),ke=Lr(Te,At),null===ke)throw Lr(Te)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}void 0===ke.getShaderPrecisionFormat&&(ke.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(At){throw console.error("THREE.WebGLRenderer: "+At.message),At}function mr(){di=new Oj(ke),sr=new _j(ke,di,a),di.init(sr),un=new JW(ke,di,sr),gr=new KW(ke,di,sr),Be[0]=1029,Ri=new Aj(ke),Ke=new VW,Cn=new QW(ke,di,gr,Ke,sr,un,Ri),Tn=new yj(j),Or=new wj(j),Wn=new H7(ke,sr),ir=new mj(ke,di,Wn,sr),zt=new Ej(ke,Wn,Ri,ir),Tt=new Rj(ke,zt,Wn,Ri),Er=new Ij(ke),li=new bj(Ke),Xe=new UW(j,Tn,Or,di,sr,ir,li),mn=new nq(Ke),Hn=new HW(Ke),rr=new YW(di,sr),bi=new gj(j,Tn,gr,Tt,b),Fr=new IB(j,Tt,sr),_e=new vj(ke,di,Ri,sr),qn=new Sj(ke,di,Ri,sr),Ri.programs=Xe.programs,j.capabilities=sr,j.extensions=di,j.properties=Ke,j.renderLists=Hn,j.shadowMap=Fr,j.state=gr,j.info=Ri}mr();const Po=new eq(j,ke);function dd(At){At.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),Z=!0}function pd(){console.log("THREE.WebGLRenderer: Context Restored."),Z=!1;const At=Ri.autoReset,Te=Fr.enabled,Ce=Fr.autoUpdate,Ve=Fr.needsUpdate,xn=Fr.type;mr(),Ri.autoReset=At,Fr.enabled=Te,Fr.autoUpdate=Ce,Fr.needsUpdate=Ve,Fr.type=xn}function yP(At){const Te=At.target;Te.removeEventListener("dispose",yP),function(At){(function(At){const Te=Ke.get(At).programs;void 0!==Te&&Te.forEach(function(Ce){Xe.releaseProgram(Ce)})})(At),Ke.remove(At)}(Te)}this.xr=Po,this.getContext=function(){return ke},this.getContextAttributes=function(){return ke.getContextAttributes()},this.forceContextLoss=function(){const At=di.get("WEBGL_lose_context");At&&At.loseContext()},this.forceContextRestore=function(){const At=di.get("WEBGL_lose_context");At&&At.restoreContext()},this.getPixelRatio=function(){return kt},this.setPixelRatio=function(At){void 0!==At&&(kt=At,this.setSize(re,ee,!1))},this.getSize=function(At){return At.set(re,ee)},this.setSize=function(At,Te,Ce){Po.isPresenting?console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting."):(re=At,ee=Te,t.width=Math.floor(At*kt),t.height=Math.floor(Te*kt),!1!==Ce&&(t.style.width=At+"px",t.style.height=Te+"px"),this.setViewport(0,0,At,Te))},this.getDrawingBufferSize=function(At){return At.set(re*kt,ee*kt).floor()},this.setDrawingBufferSize=function(At,Te,Ce){re=At,ee=Te,kt=Ce,t.width=Math.floor(At*Ce),t.height=Math.floor(Te*Ce),this.setViewport(0,0,At,Te)},this.getCurrentViewport=function(At){return At.copy(Ct)},this.getViewport=function(At){return At.copy(fe)},this.setViewport=function(At,Te,Ce,Ve){At.isVector4?fe.set(At.x,At.y,At.z,At.w):fe.set(At,Te,Ce,Ve),gr.viewport(Ct.copy(fe).multiplyScalar(kt).floor())},this.getScissor=function(At){return At.copy(De)},this.setScissor=function(At,Te,Ce,Ve){At.isVector4?De.set(At.x,At.y,At.z,At.w):De.set(At,Te,Ce,Ve),gr.scissor(ut.copy(De).multiplyScalar(kt).floor())},this.getScissorTest=function(){return Ee},this.setScissorTest=function(At){gr.setScissorTest(Ee=At)},this.setOpaqueSort=function(At){je=At},this.setTransparentSort=function(At){de=At},this.getClearColor=function(At){return At.copy(bi.getClearColor())},this.setClearColor=function(){bi.setClearColor.apply(bi,arguments)},this.getClearAlpha=function(){return bi.getClearAlpha()},this.setClearAlpha=function(){bi.setClearAlpha.apply(bi,arguments)},this.clear=function(At,Te,Ce){let Ve=0;(void 0===At||At)&&(Ve|=16384),(void 0===Te||Te)&&(Ve|=256),(void 0===Ce||Ce)&&(Ve|=1024),ke.clear(Ve)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){t.removeEventListener("webglcontextlost",dd,!1),t.removeEventListener("webglcontextrestored",pd,!1),Hn.dispose(),rr.dispose(),Ke.dispose(),Tn.dispose(),Or.dispose(),Tt.dispose(),ir.dispose(),Po.dispose(),Po.removeEventListener("sessionstart",pV),Po.removeEventListener("sessionend",hV),kn&&(kn.dispose(),kn=null),dE.stop()},this.renderBufferImmediate=function(At,Te){ir.initAttributes();const Ce=Ke.get(At);At.hasPositions&&!Ce.position&&(Ce.position=ke.createBuffer()),At.hasNormals&&!Ce.normal&&(Ce.normal=ke.createBuffer()),At.hasUvs&&!Ce.uv&&(Ce.uv=ke.createBuffer()),At.hasColors&&!Ce.color&&(Ce.color=ke.createBuffer());const Ve=Te.getAttributes();At.hasPositions&&(ke.bindBuffer(34962,Ce.position),ke.bufferData(34962,At.positionArray,35048),ir.enableAttribute(Ve.position.location),ke.vertexAttribPointer(Ve.position.location,3,5126,!1,0,0)),At.hasNormals&&(ke.bindBuffer(34962,Ce.normal),ke.bufferData(34962,At.normalArray,35048),ir.enableAttribute(Ve.normal.location),ke.vertexAttribPointer(Ve.normal.location,3,5126,!1,0,0)),At.hasUvs&&(ke.bindBuffer(34962,Ce.uv),ke.bufferData(34962,At.uvArray,35048),ir.enableAttribute(Ve.uv.location),ke.vertexAttribPointer(Ve.uv.location,2,5126,!1,0,0)),At.hasColors&&(ke.bindBuffer(34962,Ce.color),ke.bufferData(34962,At.colorArray,35048),ir.enableAttribute(Ve.color.location),ke.vertexAttribPointer(Ve.color.location,3,5126,!1,0,0)),ir.disableUnusedAttributes(),ke.drawArrays(4,0,At.count),At.count=0},this.renderBufferDirect=function(At,Te,Ce,Ve,xn,Bi){null===Te&&(Te=Xn);const ii=xn.isMesh&&xn.matrixWorld.determinant()<0,Jr=vV(At,Te,Ve,xn);gr.setMaterial(Ve,ii);let go=Ce.index;const hs=Ce.attributes.position;if(null===go){if(void 0===hs||0===hs.count)return}else if(0===go.count)return;let wo=1;!0===Ve.wireframe&&(go=zt.getWireframeAttribute(Ce),wo=2),(void 0!==Ce.morphAttributes.position||void 0!==Ce.morphAttributes.normal)&&Er.update(xn,Ce,Ve,Jr),ir.setup(xn,Ve,Jr,Ce,go);let Zo,pi=_e;null!==go&&(Zo=Wn.get(go),pi=qn,pi.setIndex(Zo));const pE=null!==go?go.count:hs.count,Uc=Ce.drawRange.start*wo,xP=Ce.drawRange.count*wo,mv=null!==Bi?Bi.start*wo:0,hE=null!==Bi?Bi.count*wo:1/0,CP=Math.max(Uc,mv),Ll=Math.min(pE,Uc+xP,mv+hE)-1,nb=Math.max(0,Ll-CP+1);if(0!==nb){if(xn.isMesh)!0===Ve.wireframe?(gr.setLineWidth(Ve.wireframeLinewidth*nr()),pi.setMode(1)):pi.setMode(4);else if(xn.isLine){let pu=Ve.linewidth;void 0===pu&&(pu=1),gr.setLineWidth(pu*nr()),pi.setMode(xn.isLineSegments?1:xn.isLineLoop?2:3)}else xn.isPoints?pi.setMode(0):xn.isSprite&&pi.setMode(4);if(xn.isInstancedMesh)pi.renderInstances(CP,nb,xn.count);else if(Ce.isInstancedBufferGeometry){const pu=Math.min(Ce.instanceCount,Ce._maxInstanceCount);pi.renderInstances(CP,nb,pu)}else pi.render(CP,nb)}},this.compile=function(At,Te){R=rr.get(At),R.init(),U.push(R),At.traverseVisible(function(Ce){Ce.isLight&&Ce.layers.test(Te.layers)&&(R.pushLight(Ce),Ce.castShadow&&R.pushShadow(Ce))}),R.setupLights(j.physicallyCorrectLights),At.traverse(function(Ce){const Ve=Ce.material;if(Ve)if(Array.isArray(Ve))for(let xn=0;xn<Ve.length;xn++)QN(Ve[xn],At,Ce);else QN(Ve,At,Ce)}),U.pop(),R=null};let KN=null;function pV(){dE.stop()}function hV(){dE.start()}const dE=new J6;function fV(At,Te,Ce,Ve){if(!1===At.visible)return;if(At.layers.test(Te.layers))if(At.isGroup)Ce=At.renderOrder;else if(At.isLOD)!0===At.autoUpdate&&At.update(Te);else if(At.isLight)R.pushLight(At),At.castShadow&&R.pushShadow(At);else if(At.isSprite){if(!At.frustumCulled||pn.intersectsSprite(At)){Ve&&hn.setFromMatrixPosition(At.matrixWorld).applyMatrix4(ci);const ii=Tt.update(At),Jr=At.material;Jr.visible&&D.push(At,ii,Jr,Ce,hn.z,null)}}else if(At.isImmediateRenderObject)Ve&&hn.setFromMatrixPosition(At.matrixWorld).applyMatrix4(ci),D.push(At,null,At.material,Ce,hn.z,null);else if((At.isMesh||At.isLine||At.isPoints)&&(At.isSkinnedMesh&&At.skeleton.frame!==Ri.render.frame&&(At.skeleton.update(),At.skeleton.frame=Ri.render.frame),!At.frustumCulled||pn.intersectsObject(At))){Ve&&hn.setFromMatrixPosition(At.matrixWorld).applyMatrix4(ci);const ii=Tt.update(At),Jr=At.material;if(Array.isArray(Jr)){const go=ii.groups;for(let hs=0,wo=go.length;hs<wo;hs++){const Zo=go[hs],pi=Jr[Zo.materialIndex];pi&&pi.visible&&D.push(At,ii,pi,Ce,hn.z,Zo)}}else Jr.visible&&D.push(At,ii,Jr,Ce,hn.z,null)}const Bi=At.children;for(let ii=0,Jr=Bi.length;ii<Jr;ii++)fV(Bi[ii],Te,Ce,Ve)}function gV(At,Te,Ce,Ve){const xn=At.opaque,Bi=At.transmissive,ii=At.transparent;R.setupLightsView(Ce),Bi.length>0&&function(At,Te,Ce){null===kn&&(kn=new(!0===g&&!0===sr.isWebGL2?B6:X0)(1024,1024,{generateMipmaps:!0,type:null!==un.convert(eT)?eT:tT,minFilter:1008,magFilter:el,wrapS:ad,wrapT:ad}));const Ve=j.getRenderTarget();j.setRenderTarget(kn),j.clear();const xn=j.toneMapping;j.toneMapping=0,YL(At,Te,Ce),j.toneMapping=xn,Cn.updateMultisampleRenderTarget(kn),Cn.updateRenderTargetMipmap(kn),j.setRenderTarget(Ve)}(xn,Te,Ce),Ve&&gr.viewport(Ct.copy(Ve)),xn.length>0&&YL(xn,Te,Ce),Bi.length>0&&YL(Bi,Te,Ce),ii.length>0&&YL(ii,Te,Ce)}function YL(At,Te,Ce){const Ve=!0===Te.isScene?Te.overrideMaterial:null;for(let xn=0,Bi=At.length;xn<Bi;xn++){const ii=At[xn],Jr=ii.object,go=ii.geometry,hs=null===Ve?ii.material:Ve,wo=ii.group;Jr.layers.test(Ce.layers)&&OY(Jr,Te,Ce,go,hs,wo)}}function OY(At,Te,Ce,Ve,xn,Bi){if(At.onBeforeRender(j,Te,Ce,Ve,xn,Bi),At.modelViewMatrix.multiplyMatrices(Ce.matrixWorldInverse,At.matrixWorld),At.normalMatrix.getNormalMatrix(At.modelViewMatrix),At.isImmediateRenderObject){const ii=vV(Ce,Te,xn,At);gr.setMaterial(xn),ir.reset(),function(At,Te){At.render(function(Ce){j.renderBufferImmediate(Ce,Te)})}(At,ii)}else!0===xn.transparent&&2===xn.side?(xn.side=1,xn.needsUpdate=!0,j.renderBufferDirect(Ce,Te,Ve,xn,At,Bi),xn.side=0,xn.needsUpdate=!0,j.renderBufferDirect(Ce,Te,Ve,xn,At,Bi),xn.side=2):j.renderBufferDirect(Ce,Te,Ve,xn,At,Bi);At.onAfterRender(j,Te,Ce,Ve,xn,Bi)}function QN(At,Te,Ce){!0!==Te.isScene&&(Te=Xn);const Ve=Ke.get(At),xn=R.state.lights,ii=xn.state.version,Jr=Xe.getParameters(At,xn.state,R.state.shadowsArray,Te,Ce),go=Xe.getProgramCacheKey(Jr);let hs=Ve.programs;Ve.environment=At.isMeshStandardMaterial?Te.environment:null,Ve.fog=Te.fog,Ve.envMap=(At.isMeshStandardMaterial?Or:Tn).get(At.envMap||Ve.environment),void 0===hs&&(At.addEventListener("dispose",yP),hs=new Map,Ve.programs=hs);let wo=hs.get(go);if(void 0!==wo){if(Ve.currentProgram===wo&&Ve.lightsStateVersion===ii)return mV(At,Jr),wo}else Jr.uniforms=Xe.getUniforms(At),At.onBuild(Jr,j),At.onBeforeCompile(Jr,j),wo=Xe.acquireProgram(Jr,go),hs.set(go,wo),Ve.uniforms=Jr.uniforms;const Zo=Ve.uniforms;(!At.isShaderMaterial&&!At.isRawShaderMaterial||!0===At.clipping)&&(Zo.clippingPlanes=li.uniform),mV(At,Jr),Ve.needsLights=function(At){return At.isMeshLambertMaterial||At.isMeshToonMaterial||At.isMeshPhongMaterial||At.isMeshStandardMaterial||At.isShadowMaterial||At.isShaderMaterial&&!0===At.lights}(At),Ve.lightsStateVersion=ii,Ve.needsLights&&(Zo.ambientLightColor.value=xn.state.ambient,Zo.lightProbe.value=xn.state.probe,Zo.directionalLights.value=xn.state.directional,Zo.directionalLightShadows.value=xn.state.directionalShadow,Zo.spotLights.value=xn.state.spot,Zo.spotLightShadows.value=xn.state.spotShadow,Zo.rectAreaLights.value=xn.state.rectArea,Zo.ltc_1.value=xn.state.rectAreaLTC1,Zo.ltc_2.value=xn.state.rectAreaLTC2,Zo.pointLights.value=xn.state.point,Zo.pointLightShadows.value=xn.state.pointShadow,Zo.hemisphereLights.value=xn.state.hemi,Zo.directionalShadowMap.value=xn.state.directionalShadowMap,Zo.directionalShadowMatrix.value=xn.state.directionalShadowMatrix,Zo.spotShadowMap.value=xn.state.spotShadowMap,Zo.spotShadowMatrix.value=xn.state.spotShadowMatrix,Zo.pointShadowMap.value=xn.state.pointShadowMap,Zo.pointShadowMatrix.value=xn.state.pointShadowMatrix);const pi=wo.getUniforms(),pE=hP.seqWithValue(pi.seq,Zo);return Ve.currentProgram=wo,Ve.uniformsList=pE,wo}function mV(At,Te){const Ce=Ke.get(At);Ce.outputEncoding=Te.outputEncoding,Ce.instancing=Te.instancing,Ce.skinning=Te.skinning,Ce.morphTargets=Te.morphTargets,Ce.morphNormals=Te.morphNormals,Ce.numClippingPlanes=Te.numClippingPlanes,Ce.numIntersection=Te.numClipIntersection,Ce.vertexAlphas=Te.vertexAlphas,Ce.vertexTangents=Te.vertexTangents}function vV(At,Te,Ce,Ve){!0!==Te.isScene&&(Te=Xn),Cn.resetTextureUnits();const xn=Te.fog,ii=null===rt?j.outputEncoding:rt.texture.encoding,Jr=(Ce.isMeshStandardMaterial?Or:Tn).get(Ce.envMap||(Ce.isMeshStandardMaterial?Te.environment:null)),go=!0===Ce.vertexColors&&!!Ve.geometry&&!!Ve.geometry.attributes.color&&4===Ve.geometry.attributes.color.itemSize,hs=!!Ve.geometry&&!!Ve.geometry.attributes.tangent,wo=!!Ve.geometry&&!!Ve.geometry.morphAttributes.position,Zo=!!Ve.geometry&&!!Ve.geometry.morphAttributes.normal,pi=Ke.get(Ce),pE=R.state.lights;!0!==Nn||!0!==Jn&&At===gt||li.setState(Ce,At,At===gt&&Ce.id===Q);let Uc=!1;Ce.version===pi.__version?(pi.needsLights&&pi.lightsStateVersion!==pE.state.version||pi.outputEncoding!==ii||Ve.isInstancedMesh&&!1===pi.instancing||!Ve.isInstancedMesh&&!0===pi.instancing||Ve.isSkinnedMesh&&!1===pi.skinning||!Ve.isSkinnedMesh&&!0===pi.skinning||pi.envMap!==Jr||Ce.fog&&pi.fog!==xn||void 0!==pi.numClippingPlanes&&(pi.numClippingPlanes!==li.numPlanes||pi.numIntersection!==li.numIntersection)||pi.vertexAlphas!==go||pi.vertexTangents!==hs||pi.morphTargets!==wo||pi.morphNormals!==Zo)&&(Uc=!0):(Uc=!0,pi.__version=Ce.version);let xP=pi.currentProgram;!0===Uc&&(xP=QN(Ce,Te,Ve));let mv=!1,hE=!1,CP=!1;const Ll=xP.getUniforms(),nb=pi.uniforms;if(gr.useProgram(xP.program)&&(mv=!0,hE=!0,CP=!0),Ce.id!==Q&&(Q=Ce.id,hE=!0),mv||gt!==At){if(Ll.setValue(ke,"projectionMatrix",At.projectionMatrix),sr.logarithmicDepthBuffer&&Ll.setValue(ke,"logDepthBufFC",2/(Math.log(At.far+1)/Math.LN2)),gt!==At&&(gt=At,hE=!0,CP=!0),Ce.isShaderMaterial||Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshStandardMaterial||Ce.envMap){const pu=Ll.map.cameraPosition;void 0!==pu&&pu.setValue(ke,hn.setFromMatrixPosition(At.matrixWorld))}(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial)&&Ll.setValue(ke,"isOrthographic",!0===At.isOrthographicCamera),(Ce.isMeshPhongMaterial||Ce.isMeshToonMaterial||Ce.isMeshLambertMaterial||Ce.isMeshBasicMaterial||Ce.isMeshStandardMaterial||Ce.isShaderMaterial||Ce.isShadowMaterial||Ve.isSkinnedMesh)&&Ll.setValue(ke,"viewMatrix",At.matrixWorldInverse)}if(Ve.isSkinnedMesh){Ll.setOptional(ke,Ve,"bindMatrix"),Ll.setOptional(ke,Ve,"bindMatrixInverse");const pu=Ve.skeleton;pu&&(sr.floatVertexTextures?(null===pu.boneTexture&&pu.computeBoneTexture(),Ll.setValue(ke,"boneTexture",pu.boneTexture,Cn),Ll.setValue(ke,"boneTextureSize",pu.boneTextureSize)):Ll.setOptional(ke,pu,"boneMatrices"))}return(hE||pi.receiveShadow!==Ve.receiveShadow)&&(pi.receiveShadow=Ve.receiveShadow,Ll.setValue(ke,"receiveShadow",Ve.receiveShadow)),hE&&(Ll.setValue(ke,"toneMappingExposure",j.toneMappingExposure),pi.needsLights&&function(At,Te){At.ambientLightColor.needsUpdate=Te,At.lightProbe.needsUpdate=Te,At.directionalLights.needsUpdate=Te,At.directionalLightShadows.needsUpdate=Te,At.pointLights.needsUpdate=Te,At.pointLightShadows.needsUpdate=Te,At.spotLights.needsUpdate=Te,At.spotLightShadows.needsUpdate=Te,At.rectAreaLights.needsUpdate=Te,At.hemisphereLights.needsUpdate=Te}(nb,CP),xn&&Ce.fog&&mn.refreshFogUniforms(nb,xn),mn.refreshMaterialUniforms(nb,Ce,kt,ee,kn),hP.upload(ke,pi.uniformsList,nb,Cn)),Ce.isShaderMaterial&&!0===Ce.uniformsNeedUpdate&&(hP.upload(ke,pi.uniformsList,nb,Cn),Ce.uniformsNeedUpdate=!1),Ce.isSpriteMaterial&&Ll.setValue(ke,"center",Ve.center),Ll.setValue(ke,"modelViewMatrix",Ve.modelViewMatrix),Ll.setValue(ke,"normalMatrix",Ve.normalMatrix),Ll.setValue(ke,"modelMatrix",Ve.matrixWorld),xP}dE.setAnimationLoop(function(At){KN&&KN(At)}),"undefined"!=typeof window&&dE.setContext(window),this.setAnimationLoop=function(At){KN=At,Po.setAnimationLoop(At),null===At?dE.stop():dE.start()},Po.addEventListener("sessionstart",pV),Po.addEventListener("sessionend",hV),this.render=function(At,Te){if(void 0===Te||!0===Te.isCamera){if(!0!==Z){if(!0===At.autoUpdate&&At.updateMatrixWorld(),null===Te.parent&&Te.updateMatrixWorld(),!0===Po.enabled&&!0===Po.isPresenting&&(!0===Po.cameraAutoUpdate&&Po.updateCamera(Te),Te=Po.getCamera()),!0===At.isScene&&At.onBeforeRender(j,At,Te,rt),R=rr.get(At,U.length),R.init(),U.push(R),ci.multiplyMatrices(Te.projectionMatrix,Te.matrixWorldInverse),pn.setFromProjectionMatrix(ci),Jn=this.localClippingEnabled,Nn=li.init(this.clippingPlanes,Jn,Te),D=Hn.get(At,k.length),D.init(),k.push(D),fV(At,Te,0,j.sortObjects),D.finish(),!0===j.sortObjects&&D.sort(je,de),!0===Nn&&li.beginShadows(),Fr.render(R.state.shadowsArray,At,Te),!0===Nn&&li.endShadows(),!0===this.info.autoReset&&this.info.reset(),bi.render(D,At),R.setupLights(j.physicallyCorrectLights),Te.isArrayCamera){const Ve=Te.cameras;for(let xn=0,Bi=Ve.length;xn<Bi;xn++){const ii=Ve[xn];gV(D,At,ii,ii.viewport)}}else gV(D,At,Te);null!==rt&&(Cn.updateMultisampleRenderTarget(rt),Cn.updateRenderTargetMipmap(rt)),!0===At.isScene&&At.onAfterRender(j,At,Te),gr.buffers.depth.setTest(!0),gr.buffers.depth.setMask(!0),gr.buffers.color.setMask(!0),gr.setPolygonOffset(!1),ir.resetDefaultState(),Q=-1,gt=null,U.pop(),R=U.length>0?U[U.length-1]:null,k.pop(),D=k.length>0?k[k.length-1]:null}}else console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.")},this.getActiveCubeFace=function(){return W},this.getActiveMipmapLevel=function(){return H},this.getRenderTarget=function(){return rt},this.setRenderTarget=function(At,Te=0,Ce=0){rt=At,W=Te,H=Ce,At&&void 0===Ke.get(At).__webglFramebuffer&&Cn.setupRenderTarget(At);let Ve=null,xn=!1,Bi=!1;if(At){const Jr=At.texture;(Jr.isDataTexture3D||Jr.isDataTexture2DArray)&&(Bi=!0);const go=Ke.get(At).__webglFramebuffer;At.isWebGLCubeRenderTarget?(Ve=go[Te],xn=!0):Ve=At.isWebGLMultisampleRenderTarget?Ke.get(At).__webglMultisampledFramebuffer:go,Ct.copy(At.viewport),ut.copy(At.scissor),Yt=At.scissorTest}else Ct.copy(fe).multiplyScalar(kt).floor(),ut.copy(De).multiplyScalar(kt).floor(),Yt=Ee;if(gr.bindFramebuffer(36160,Ve)&&sr.drawBuffers){let Jr=!1;if(At)if(At.isWebGLMultipleRenderTargets){const go=At.texture;if(Be.length!==go.length||36064!==Be[0]){for(let hs=0,wo=go.length;hs<wo;hs++)Be[hs]=36064+hs;Be.length=go.length,Jr=!0}}else(1!==Be.length||36064!==Be[0])&&(Be[0]=36064,Be.length=1,Jr=!0);else(1!==Be.length||1029!==Be[0])&&(Be[0]=1029,Be.length=1,Jr=!0);Jr&&(sr.isWebGL2?ke.drawBuffers(Be):di.get("WEBGL_draw_buffers").drawBuffersWEBGL(Be))}if(gr.viewport(Ct),gr.scissor(ut),gr.setScissorTest(Yt),xn){const Jr=Ke.get(At.texture);ke.framebufferTexture2D(36160,36064,34069+Te,Jr.__webglTexture,Ce)}else if(Bi){const Jr=Ke.get(At.texture);ke.framebufferTextureLayer(36160,36064,Jr.__webglTexture,Ce||0,Te||0)}Q=-1},this.readRenderTargetPixels=function(At,Te,Ce,Ve,xn,Bi,ii){if(!At||!At.isWebGLRenderTarget)return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");let Jr=Ke.get(At).__webglFramebuffer;if(At.isWebGLCubeRenderTarget&&void 0!==ii&&(Jr=Jr[ii]),Jr){gr.bindFramebuffer(36160,Jr);try{const go=At.texture,hs=go.format,wo=go.type;if(hs!==Zp&&un.convert(hs)!==ke.getParameter(35739))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");const Zo=wo===eT&&(di.has("EXT_color_buffer_half_float")||sr.isWebGL2&&di.has("EXT_color_buffer_float"));if(!(wo===tT||un.convert(wo)===ke.getParameter(35738)||wo===eP&&(sr.isWebGL2||di.has("OES_texture_float")||di.has("WEBGL_color_buffer_float"))||Zo))return void console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");36053===ke.checkFramebufferStatus(36160)?Te>=0&&Te<=At.width-Ve&&Ce>=0&&Ce<=At.height-xn&&ke.readPixels(Te,Ce,Ve,xn,un.convert(hs),un.convert(wo),Bi):console.error("THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.")}finally{const go=null!==rt?Ke.get(rt).__webglFramebuffer:null;gr.bindFramebuffer(36160,go)}}},this.copyFramebufferToTexture=function(At,Te,Ce=0){const Ve=Math.pow(2,-Ce),xn=Math.floor(Te.image.width*Ve),Bi=Math.floor(Te.image.height*Ve);let ii=un.convert(Te.format);sr.isWebGL2&&(6407===ii&&(ii=32849),6408===ii&&(ii=32856)),Cn.setTexture2D(Te,0),ke.copyTexImage2D(3553,Ce,ii,At.x,At.y,xn,Bi,0),gr.unbindTexture()},this.copyTextureToTexture=function(At,Te,Ce,Ve=0){const xn=Te.image.width,Bi=Te.image.height,ii=un.convert(Ce.format),Jr=un.convert(Ce.type);Cn.setTexture2D(Ce,0),ke.pixelStorei(37440,Ce.flipY),ke.pixelStorei(37441,Ce.premultiplyAlpha),ke.pixelStorei(3317,Ce.unpackAlignment),Te.isDataTexture?ke.texSubImage2D(3553,Ve,At.x,At.y,xn,Bi,ii,Jr,Te.image.data):Te.isCompressedTexture?ke.compressedTexSubImage2D(3553,Ve,At.x,At.y,Te.mipmaps[0].width,Te.mipmaps[0].height,ii,Te.mipmaps[0].data):ke.texSubImage2D(3553,Ve,At.x,At.y,ii,Jr,Te.image),0===Ve&&Ce.generateMipmaps&&ke.generateMipmap(3553),gr.unbindTexture()},this.copyTextureToTexture3D=function(At,Te,Ce,Ve,xn=0){if(j.isWebGL1Renderer)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");const Bi=At.max.x-At.min.x+1,ii=At.max.y-At.min.y+1,Jr=At.max.z-At.min.z+1,go=un.convert(Ve.format),hs=un.convert(Ve.type);let wo;if(Ve.isDataTexture3D)Cn.setTexture3D(Ve,0),wo=32879;else{if(!Ve.isDataTexture2DArray)return void console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");Cn.setTexture2DArray(Ve,0),wo=35866}ke.pixelStorei(37440,Ve.flipY),ke.pixelStorei(37441,Ve.premultiplyAlpha),ke.pixelStorei(3317,Ve.unpackAlignment);const Zo=ke.getParameter(3314),pi=ke.getParameter(32878),pE=ke.getParameter(3316),Uc=ke.getParameter(3315),xP=ke.getParameter(32877),mv=Ce.isCompressedTexture?Ce.mipmaps[0]:Ce.image;ke.pixelStorei(3314,mv.width),ke.pixelStorei(32878,mv.height),ke.pixelStorei(3316,At.min.x),ke.pixelStorei(3315,At.min.y),ke.pixelStorei(32877,At.min.z),Ce.isDataTexture||Ce.isDataTexture3D?ke.texSubImage3D(wo,xn,Te.x,Te.y,Te.z,Bi,ii,Jr,go,hs,mv.data):Ce.isCompressedTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),ke.compressedTexSubImage3D(wo,xn,Te.x,Te.y,Te.z,Bi,ii,Jr,go,mv.data)):ke.texSubImage3D(wo,xn,Te.x,Te.y,Te.z,Bi,ii,Jr,go,hs,mv),ke.pixelStorei(3314,Zo),ke.pixelStorei(32878,pi),ke.pixelStorei(3316,pE),ke.pixelStorei(3315,Uc),ke.pixelStorei(32877,xP),0===xn&&Ve.generateMipmaps&&ke.generateMipmap(wo),gr.unbindTexture()},this.initTexture=function(At){Cn.setTexture2D(At,0),gr.unbindTexture()},this.resetState=function(){W=0,H=0,rt=null,gr.reset(),ir.reset()},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}(class extends Es{}).prototype.isWebGL1Renderer=!0;class oL{constructor(t,e=25e-5){this.name="",this.color=new zn(t),this.density=e}clone(){return new oL(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}oL.prototype.isFogExp2=!0;class sL{constructor(t,e=1,o=1e3){this.name="",this.color=new zn(t),this.near=e,this.far=o}clone(){return new sL(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}sL.prototype.isFog=!0;class yN extends ts{constructor(){super(),this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.overrideMaterial=null,this.autoUpdate=!0,"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(t,e){return super.copy(t,e),null!==t.background&&(this.background=t.background.clone()),null!==t.environment&&(this.environment=t.environment.clone()),null!==t.fog&&(this.fog=t.fog.clone()),null!==t.overrideMaterial&&(this.overrideMaterial=t.overrideMaterial.clone()),this.autoUpdate=t.autoUpdate,this.matrixAutoUpdate=t.matrixAutoUpdate,this}toJSON(t){const e=super.toJSON(t);return null!==this.fog&&(e.object.fog=this.fog.toJSON()),e}}yN.prototype.isScene=!0;class AT{constructor(t,e){this.array=t,this.stride=e,this.count=void 0!==t?t.length/e:0,this.usage=UI,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Yh()}onUploadCallback(){}set needsUpdate(t){!0===t&&this.version++}setUsage(t){return this.usage=t,this}copy(t){return this.array=new t.array.constructor(t.array),this.count=t.count,this.stride=t.stride,this.usage=t.usage,this}copyAt(t,e,o){t*=this.stride,o*=e.stride;for(let l=0,d=this.stride;l<d;l++)this.array[t+l]=e.array[o+l];return this}set(t,e=0){return this.array.set(t,e),this}clone(t){void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yh()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const e=new this.array.constructor(t.arrayBuffers[this.array.buffer._uuid]),o=new this.constructor(e,this.stride);return o.setUsage(this.usage),o}onUpload(t){return this.onUploadCallback=t,this}toJSON(t){return void 0===t.arrayBuffers&&(t.arrayBuffers={}),void 0===this.array.buffer._uuid&&(this.array.buffer._uuid=Yh()),void 0===t.arrayBuffers[this.array.buffer._uuid]&&(t.arrayBuffers[this.array.buffer._uuid]=Array.prototype.slice.call(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}AT.prototype.isInterleavedBuffer=!0;const dc=new Ot;class iE{constructor(t,e,o,l=!1){this.name="",this.data=t,this.itemSize=e,this.offset=o,this.normalized=!0===l}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(t){this.data.needsUpdate=t}applyMatrix4(t){for(let e=0,o=this.data.count;e<o;e++)dc.x=this.getX(e),dc.y=this.getY(e),dc.z=this.getZ(e),dc.applyMatrix4(t),this.setXYZ(e,dc.x,dc.y,dc.z);return this}applyNormalMatrix(t){for(let e=0,o=this.count;e<o;e++)dc.x=this.getX(e),dc.y=this.getY(e),dc.z=this.getZ(e),dc.applyNormalMatrix(t),this.setXYZ(e,dc.x,dc.y,dc.z);return this}transformDirection(t){for(let e=0,o=this.count;e<o;e++)dc.x=this.getX(e),dc.y=this.getY(e),dc.z=this.getZ(e),dc.transformDirection(t),this.setXYZ(e,dc.x,dc.y,dc.z);return this}setX(t,e){return this.data.array[t*this.data.stride+this.offset]=e,this}setY(t,e){return this.data.array[t*this.data.stride+this.offset+1]=e,this}setZ(t,e){return this.data.array[t*this.data.stride+this.offset+2]=e,this}setW(t,e){return this.data.array[t*this.data.stride+this.offset+3]=e,this}getX(t){return this.data.array[t*this.data.stride+this.offset]}getY(t){return this.data.array[t*this.data.stride+this.offset+1]}getZ(t){return this.data.array[t*this.data.stride+this.offset+2]}getW(t){return this.data.array[t*this.data.stride+this.offset+3]}setXY(t,e,o){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=o,this}setXYZ(t,e,o,l){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=o,this.data.array[t+2]=l,this}setXYZW(t,e,o,l,d){return this.data.array[(t=t*this.data.stride+this.offset)+0]=e,this.data.array[t+1]=o,this.data.array[t+2]=l,this.data.array[t+3]=d,this}clone(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)e.push(this.data.array[l+d])}return new Os(new this.array.constructor(e),this.itemSize,this.normalized)}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.clone(t)),new iE(t.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(t){if(void 0===t){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interlaved buffer attribute will deinterleave buffer data.");const e=[];for(let o=0;o<this.count;o++){const l=o*this.data.stride+this.offset;for(let d=0;d<this.itemSize;d++)e.push(this.data.array[l+d])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:e,normalized:this.normalized}}return void 0===t.interleavedBuffers&&(t.interleavedBuffers={}),void 0===t.interleavedBuffers[this.data.uuid]&&(t.interleavedBuffers[this.data.uuid]=this.data.toJSON(t)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}iE.prototype.isInterleavedBufferAttribute=!0;class xN extends lu{constructor(t){super(),this.type="SpriteMaterial",this.color=new zn(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.rotation=t.rotation,this.sizeAttenuation=t.sizeAttenuation,this}}let TT;xN.prototype.isSpriteMaterial=!0;const QI=new Ot,DT=new Ot,IT=new Ot,RT=new vn,JI=new vn,kB=new fr,aL=new Ot,tR=new Ot,cL=new Ot,LB=new vn,CN=new vn,FB=new vn;function lL(a,t,e,o,l,d){RT.subVectors(a,e).addScalar(.5).multiply(o),void 0!==l?(JI.x=d*RT.x-l*RT.y,JI.y=l*RT.x+d*RT.y):JI.copy(RT),a.copy(t),a.x+=JI.x,a.y+=JI.y,a.applyMatrix4(kB)}(class extends ts{constructor(t){if(super(),this.type="Sprite",void 0===TT){TT=new Qr;const e=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),o=new AT(e,5);TT.setIndex([0,1,2,0,2,3]),TT.setAttribute("position",new iE(o,3,0,!1)),TT.setAttribute("uv",new iE(o,2,3,!1))}this.geometry=TT,this.material=void 0!==t?t:new xN,this.center=new vn(.5,.5)}raycast(t,e){null===t.camera&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),DT.setFromMatrixScale(this.matrixWorld),kB.copy(t.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(t.camera.matrixWorldInverse,this.matrixWorld),IT.setFromMatrixPosition(this.modelViewMatrix),t.camera.isPerspectiveCamera&&!1===this.material.sizeAttenuation&&DT.multiplyScalar(-IT.z);const o=this.material.rotation;let l,d;0!==o&&(d=Math.cos(o),l=Math.sin(o));const g=this.center;lL(aL.set(-.5,-.5,0),IT,g,DT,l,d),lL(tR.set(.5,-.5,0),IT,g,DT,l,d),lL(cL.set(.5,.5,0),IT,g,DT,l,d),LB.set(0,0),CN.set(1,0),FB.set(1,1);let b=t.ray.intersectTriangle(aL,tR,cL,!1,QI);if(null===b&&(lL(tR.set(-.5,.5,0),IT,g,DT,l,d),CN.set(0,1),b=t.ray.intersectTriangle(aL,cL,tR,!1,QI),null===b))return;const M=t.ray.origin.distanceTo(QI);M<t.near||M>t.far||e.push({distance:M,point:QI.clone(),uv:Bc.getUV(QI,aL,tR,cL,LB,CN,FB,new vn),face:null,object:this})}copy(t){return super.copy(t),void 0!==t.center&&this.center.copy(t.center),this.material=t.material,this}}).prototype.isSprite=!0;const BB=new Ot,UB=new gs,VB=new gs,sq=new Ot,zB=new fr;class PN extends kl{constructor(t,e){super(t,e),this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new fr,this.bindMatrixInverse=new fr}copy(t){return super.copy(t),this.bindMode=t.bindMode,this.bindMatrix.copy(t.bindMatrix),this.bindMatrixInverse.copy(t.bindMatrixInverse),this.skeleton=t.skeleton,this}bind(t,e){this.skeleton=t,void 0===e&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),e=this.matrixWorld),this.bindMatrix.copy(e),this.bindMatrixInverse.copy(e).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const t=new gs,e=this.geometry.attributes.skinWeight;for(let o=0,l=e.count;o<l;o++){t.x=e.getX(o),t.y=e.getY(o),t.z=e.getZ(o),t.w=e.getW(o);const d=1/t.manhattanLength();d!==1/0?t.multiplyScalar(d):t.set(1,0,0,0),e.setXYZW(o,t.x,t.y,t.z,t.w)}}updateMatrixWorld(t){super.updateMatrixWorld(t),"attached"===this.bindMode?this.bindMatrixInverse.copy(this.matrixWorld).invert():"detached"===this.bindMode?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(t,e){const o=this.skeleton,l=this.geometry;UB.fromBufferAttribute(l.attributes.skinIndex,t),VB.fromBufferAttribute(l.attributes.skinWeight,t),BB.fromBufferAttribute(l.attributes.position,t).applyMatrix4(this.bindMatrix),e.set(0,0,0);for(let d=0;d<4;d++){const g=VB.getComponent(d);if(0!==g){const b=UB.getComponent(d);zB.multiplyMatrices(o.bones[b].matrixWorld,o.boneInverses[b]),e.addScaledVector(sq.copy(BB).applyMatrix4(zB),g)}}return e.applyMatrix4(this.bindMatrixInverse)}}PN.prototype.isSkinnedMesh=!0;(class extends ts{constructor(){super(),this.type="Bone"}}).prototype.isBone=!0;(class extends Il{constructor(t=null,e=1,o=1,l,d,g,b,M,O=el,T=el,D,R){super(null,g,b,M,O,T,l,d,D,R),this.image={data:t,width:e,height:o},this.magFilter=O,this.minFilter=T,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1,this.needsUpdate=!0}}).prototype.isDataTexture=!0;class LT extends Os{constructor(t,e,o,l=1){"number"==typeof o&&(l=o,o=!1,console.error("THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.")),super(t,e,o),this.meshPerAttribute=l}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}toJSON(){const t=super.toJSON();return t.meshPerAttribute=this.meshPerAttribute,t.isInstancedBufferAttribute=!0,t}}LT.prototype.isInstancedBufferAttribute=!0;const GB=new fr,jB=new fr,dL=[],eR=new kl;(class extends kl{constructor(t,e,o){super(t,e),this.instanceMatrix=new LT(new Float32Array(16*o),16),this.instanceColor=null,this.count=o,this.frustumCulled=!1}copy(t){return super.copy(t),this.instanceMatrix.copy(t.instanceMatrix),null!==t.instanceColor&&(this.instanceColor=t.instanceColor.clone()),this.count=t.count,this}getColorAt(t,e){e.fromArray(this.instanceColor.array,3*t)}getMatrixAt(t,e){e.fromArray(this.instanceMatrix.array,16*t)}raycast(t,e){const o=this.matrixWorld,l=this.count;if(eR.geometry=this.geometry,eR.material=this.material,void 0!==eR.material)for(let d=0;d<l;d++){this.getMatrixAt(d,GB),jB.multiplyMatrices(o,GB),eR.matrixWorld=jB,eR.raycast(t,dL);for(let g=0,b=dL.length;g<b;g++){const M=dL[g];M.instanceId=d,M.object=this,e.push(M)}dL.length=0}}setColorAt(t,e){null===this.instanceColor&&(this.instanceColor=new LT(new Float32Array(3*this.instanceMatrix.count),3)),e.toArray(this.instanceColor.array,3*t)}setMatrixAt(t,e){e.toArray(this.instanceMatrix.array,16*t)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}).prototype.isInstancedMesh=!0;class du extends lu{constructor(t){super(),this.type="LineBasicMaterial",this.color=new zn(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.linewidth=t.linewidth,this.linecap=t.linecap,this.linejoin=t.linejoin,this}}du.prototype.isLineBasicMaterial=!0;const qB=new Ot,$B=new Ot,YB=new fr,EN=new eE,pL=new tE;class oE extends ts{constructor(t=new Qr,e=new du){super(),this.type="Line",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,o=[0];for(let l=1,d=e.count;l<d;l++)qB.fromBufferAttribute(e,l-1),$B.fromBufferAttribute(e,l),o[l]=o[l-1],o[l]+=qB.distanceTo($B);t.setAttribute("lineDistance",new er(o,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.Line.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}raycast(t,e){const o=this.geometry,l=this.matrixWorld,d=t.params.Line.threshold,g=o.drawRange;if(null===o.boundingSphere&&o.computeBoundingSphere(),pL.copy(o.boundingSphere),pL.applyMatrix4(l),pL.radius+=d,!1===t.ray.intersectsSphere(pL))return;YB.copy(l).invert(),EN.copy(t.ray).applyMatrix4(YB);const b=d/((this.scale.x+this.scale.y+this.scale.z)/3),M=b*b,O=new Ot,T=new Ot,D=new Ot,R=new Ot,k=this.isLineSegments?2:1;if(o.isBufferGeometry){const U=o.index,Z=o.attributes.position;if(null!==U)for(let rt=Math.max(0,g.start),Q=Math.min(U.count,g.start+g.count)-1;rt<Q;rt+=k){const gt=U.getX(rt),Ct=U.getX(rt+1);if(O.fromBufferAttribute(Z,gt),T.fromBufferAttribute(Z,Ct),EN.distanceSqToSegment(O,T,R,D)>M)continue;R.applyMatrix4(this.matrixWorld);const Yt=t.ray.origin.distanceTo(R);Yt<t.near||Yt>t.far||e.push({distance:Yt,point:D.clone().applyMatrix4(this.matrixWorld),index:rt,face:null,faceIndex:null,object:this})}else for(let rt=Math.max(0,g.start),Q=Math.min(Z.count,g.start+g.count)-1;rt<Q;rt+=k){if(O.fromBufferAttribute(Z,rt),T.fromBufferAttribute(Z,rt+1),EN.distanceSqToSegment(O,T,R,D)>M)continue;R.applyMatrix4(this.matrixWorld);const Ct=t.ray.origin.distanceTo(R);Ct<t.near||Ct>t.far||e.push({distance:Ct,point:D.clone().applyMatrix4(this.matrixWorld),index:rt,face:null,faceIndex:null,object:this})}}else o.isGeometry&&console.error("THREE.Line.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,o=Object.keys(e);if(o.length>0){const l=e[o[0]];if(void 0!==l){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,g=l.length;d<g;d++){const b=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=d}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Line.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}oE.prototype.isLine=!0;const XB=new Ot,ZB=new Ot;class fP extends oE{constructor(t,e){super(t,e),this.type="LineSegments"}computeLineDistances(){const t=this.geometry;if(t.isBufferGeometry)if(null===t.index){const e=t.attributes.position,o=[];for(let l=0,d=e.count;l<d;l+=2)XB.fromBufferAttribute(e,l),ZB.fromBufferAttribute(e,l+1),o[l]=0===l?0:o[l-1],o[l+1]=o[l]+XB.distanceTo(ZB);t.setAttribute("lineDistance",new er(o,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");else t.isGeometry&&console.error("THREE.LineSegments.computeLineDistances() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.");return this}}fP.prototype.isLineSegments=!0;(class extends oE{constructor(t,e){super(t,e),this.type="LineLoop"}}).prototype.isLineLoop=!0;class FT extends lu{constructor(t){super(),this.type="PointsMaterial",this.color=new zn(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.alphaMap=t.alphaMap,this.size=t.size,this.sizeAttenuation=t.sizeAttenuation,this}}FT.prototype.isPointsMaterial=!0;const QB=new fr,SN=new eE,hL=new tE,fL=new Ot;function JB(a,t,e,o,l,d,g){const b=SN.distanceSqToPoint(a);if(b<e){const M=new Ot;SN.closestPointToPoint(a,M),M.applyMatrix4(o);const O=l.ray.origin.distanceTo(M);if(O<l.near||O>l.far)return;d.push({distance:O,distanceToRay:Math.sqrt(b),point:M,index:t,face:null,object:g})}}(class extends ts{constructor(t=new Qr,e=new FT){super(),this.type="Points",this.geometry=t,this.material=e,this.updateMorphTargets()}copy(t){return super.copy(t),this.material=t.material,this.geometry=t.geometry,this}raycast(t,e){const o=this.geometry,l=this.matrixWorld,d=t.params.Points.threshold,g=o.drawRange;if(null===o.boundingSphere&&o.computeBoundingSphere(),hL.copy(o.boundingSphere),hL.applyMatrix4(l),hL.radius+=d,!1===t.ray.intersectsSphere(hL))return;QB.copy(l).invert(),SN.copy(t.ray).applyMatrix4(QB);const b=d/((this.scale.x+this.scale.y+this.scale.z)/3),M=b*b;if(o.isBufferGeometry){const O=o.index,D=o.attributes.position;if(null!==O)for(let U=Math.max(0,g.start),j=Math.min(O.count,g.start+g.count);U<j;U++){const Z=O.getX(U);fL.fromBufferAttribute(D,Z),JB(fL,Z,M,l,t,e,this)}else for(let U=Math.max(0,g.start),j=Math.min(D.count,g.start+g.count);U<j;U++)fL.fromBufferAttribute(D,U),JB(fL,U,M,l,t,e,this)}else console.error("THREE.Points.raycast() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.")}updateMorphTargets(){const t=this.geometry;if(t.isBufferGeometry){const e=t.morphAttributes,o=Object.keys(e);if(o.length>0){const l=e[o[0]];if(void 0!==l){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let d=0,g=l.length;d<g;d++){const b=l[d].name||String(d);this.morphTargetInfluences.push(0),this.morphTargetDictionary[b]=d}}}}else{const e=t.morphTargets;void 0!==e&&e.length>0&&console.error("THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.")}}}).prototype.isPoints=!0,class extends Il{constructor(t,e,o,l,d,g,b,M,O){super(t,e,o,l,d,g,b,M,O),this.format=void 0!==b?b:nP,this.minFilter=void 0!==g?g:Tl,this.magFilter=void 0!==d?d:Tl,this.generateMipmaps=!1;const T=this;"requestVideoFrameCallback"in t&&t.requestVideoFrameCallback(function D(){T.needsUpdate=!0,t.requestVideoFrameCallback(D)})}clone(){return new this.constructor(this.image).copy(this)}update(){const t=this.image;"requestVideoFrameCallback"in t==0&&t.readyState>=t.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}.prototype.isVideoTexture=!0;(class extends Il{constructor(t,e,o,l,d,g,b,M,O,T,D,R){super(null,g,b,M,O,T,l,d,D,R),this.image={width:e,height:o},this.mipmaps=t,this.flipY=!1,this.generateMipmaps=!1}}).prototype.isCompressedTexture=!0,class extends Il{constructor(t,e,o,l,d,g,b,M,O){super(t,e,o,l,d,g,b,M,O),this.needsUpdate=!0}}.prototype.isCanvasTexture=!0,class extends Il{constructor(t,e,o,l,d,g,b,M,O,T){if((T=void 0!==T?T:nT)!==nT&&T!==BI)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");void 0===o&&T===nT&&(o=1012),void 0===o&&T===BI&&(o=NI),super(null,l,d,g,b,M,T,o,O),this.image={width:t,height:e},this.magFilter=void 0!==b?b:el,this.minFilter=void 0!==M?M:el,this.flipY=!1,this.generateMipmaps=!1}}.prototype.isDepthTexture=!0,new Ot,new Ot,new Ot,new Bc;class dg{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(t,e){const o=this.getUtoTmapping(t);return this.getPoint(o,e)}getPoints(t=5){const e=[];for(let o=0;o<=t;o++)e.push(this.getPoint(o/t));return e}getSpacedPoints(t=5){const e=[];for(let o=0;o<=t;o++)e.push(this.getPointAt(o/t));return e}getLength(){const t=this.getLengths();return t[t.length-1]}getLengths(t=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===t+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const e=[];let o,l=this.getPoint(0),d=0;e.push(0);for(let g=1;g<=t;g++)o=this.getPoint(g/t),d+=o.distanceTo(l),e.push(d),l=o;return this.cacheArcLengths=e,e}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(t,e){const o=this.getLengths();let l=0;const d=o.length;let g;g=e||t*o[d-1];let O,b=0,M=d-1;for(;b<=M;)if(l=Math.floor(b+(M-b)/2),O=o[l]-g,O<0)b=l+1;else{if(!(O>0)){M=l;break}M=l-1}if(l=M,o[l]===g)return l/(d-1);const T=o[l];return(l+(g-T)/(o[l+1]-T))/(d-1)}getTangent(t,e){const o=1e-4;let l=t-o,d=t+o;l<0&&(l=0),d>1&&(d=1);const g=this.getPoint(l),b=this.getPoint(d),M=e||(g.isVector2?new vn:new Ot);return M.copy(b).sub(g).normalize(),M}getTangentAt(t,e){const o=this.getUtoTmapping(t);return this.getTangent(o,e)}computeFrenetFrames(t,e){const o=new Ot,l=[],d=[],g=[],b=new Ot,M=new fr;for(let k=0;k<=t;k++)l[k]=this.getTangentAt(k/t,new Ot),l[k].normalize();d[0]=new Ot,g[0]=new Ot;let O=Number.MAX_VALUE;const T=Math.abs(l[0].x),D=Math.abs(l[0].y),R=Math.abs(l[0].z);T<=O&&(O=T,o.set(1,0,0)),D<=O&&(O=D,o.set(0,1,0)),R<=O&&o.set(0,0,1),b.crossVectors(l[0],o).normalize(),d[0].crossVectors(l[0],b),g[0].crossVectors(l[0],d[0]);for(let k=1;k<=t;k++){if(d[k]=d[k-1].clone(),g[k]=g[k-1].clone(),b.crossVectors(l[k-1],l[k]),b.length()>Number.EPSILON){b.normalize();const U=Math.acos(cu(l[k-1].dot(l[k]),-1,1));d[k].applyMatrix4(M.makeRotationAxis(b,U))}g[k].crossVectors(l[k],d[k])}if(!0===e){let k=Math.acos(cu(d[0].dot(d[t]),-1,1));k/=t,l[0].dot(b.crossVectors(d[0],d[t]))>0&&(k=-k);for(let U=1;U<=t;U++)d[U].applyMatrix4(M.makeRotationAxis(l[U],k*U)),g[U].crossVectors(l[U],d[U])}return{tangents:l,normals:d,binormals:g}}clone(){return(new this.constructor).copy(this)}copy(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}toJSON(){const t={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return t.arcLengthDivisions=this.arcLengthDivisions,t.type=this.type,t}fromJSON(t){return this.arcLengthDivisions=t.arcLengthDivisions,this}}class CL extends dg{constructor(t=0,e=0,o=1,l=1,d=0,g=2*Math.PI,b=!1,M=0){super(),this.type="EllipseCurve",this.aX=t,this.aY=e,this.xRadius=o,this.yRadius=l,this.aStartAngle=d,this.aEndAngle=g,this.aClockwise=b,this.aRotation=M}getPoint(t,e){const o=e||new vn,l=2*Math.PI;let d=this.aEndAngle-this.aStartAngle;const g=Math.abs(d)<Number.EPSILON;for(;d<0;)d+=l;for(;d>l;)d-=l;d<Number.EPSILON&&(d=g?0:l),!0===this.aClockwise&&!g&&(d===l?d=-l:d-=l);const b=this.aStartAngle+t*d;let M=this.aX+this.xRadius*Math.cos(b),O=this.aY+this.yRadius*Math.sin(b);if(0!==this.aRotation){const T=Math.cos(this.aRotation),D=Math.sin(this.aRotation),R=M-this.aX,k=O-this.aY;M=R*T-k*D+this.aX,O=R*D+k*T+this.aY}return o.set(M,O)}copy(t){return super.copy(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}toJSON(){const t=super.toJSON();return t.aX=this.aX,t.aY=this.aY,t.xRadius=this.xRadius,t.yRadius=this.yRadius,t.aStartAngle=this.aStartAngle,t.aEndAngle=this.aEndAngle,t.aClockwise=this.aClockwise,t.aRotation=this.aRotation,t}fromJSON(t){return super.fromJSON(t),this.aX=t.aX,this.aY=t.aY,this.xRadius=t.xRadius,this.yRadius=t.yRadius,this.aStartAngle=t.aStartAngle,this.aEndAngle=t.aEndAngle,this.aClockwise=t.aClockwise,this.aRotation=t.aRotation,this}}CL.prototype.isEllipseCurve=!0;class nU extends CL{constructor(t,e,o,l,d,g){super(t,e,o,o,l,d,g),this.type="ArcCurve"}}function TN(){let a=0,t=0,e=0,o=0;function l(d,g,b,M){a=d,t=b,e=-3*d+3*g-2*b-M,o=2*d-2*g+b+M}return{initCatmullRom:function(d,g,b,M,O){l(g,b,O*(b-d),O*(M-g))},initNonuniformCatmullRom:function(d,g,b,M,O,T,D){let R=(g-d)/O-(b-d)/(O+T)+(b-g)/T,k=(b-g)/T-(M-g)/(T+D)+(M-b)/D;R*=T,k*=T,l(g,b,R,k)},calc:function(d){const g=d*d;return a+t*d+e*g+o*(g*d)}}}nU.prototype.isArcCurve=!0;const ML=new Ot,DN=new TN,IN=new TN,RN=new TN;class rU extends dg{constructor(t=[],e=!1,o="centripetal",l=.5){super(),this.type="CatmullRomCurve3",this.points=t,this.closed=e,this.curveType=o,this.tension=l}getPoint(t,e=new Ot){const o=e,l=this.points,d=l.length,g=(d-(this.closed?0:1))*t;let O,T,b=Math.floor(g),M=g-b;this.closed?b+=b>0?0:(Math.floor(Math.abs(b)/d)+1)*d:0===M&&b===d-1&&(b=d-2,M=1),this.closed||b>0?O=l[(b-1)%d]:(ML.subVectors(l[0],l[1]).add(l[0]),O=ML);const D=l[b%d],R=l[(b+1)%d];if(this.closed||b+2<d?T=l[(b+2)%d]:(ML.subVectors(l[d-1],l[d-2]).add(l[d-1]),T=ML),"centripetal"===this.curveType||"chordal"===this.curveType){const k="chordal"===this.curveType?.5:.25;let U=Math.pow(O.distanceToSquared(D),k),j=Math.pow(D.distanceToSquared(R),k),Z=Math.pow(R.distanceToSquared(T),k);j<1e-4&&(j=1),U<1e-4&&(U=j),Z<1e-4&&(Z=j),DN.initNonuniformCatmullRom(O.x,D.x,R.x,T.x,U,j,Z),IN.initNonuniformCatmullRom(O.y,D.y,R.y,T.y,U,j,Z),RN.initNonuniformCatmullRom(O.z,D.z,R.z,T.z,U,j,Z)}else"catmullrom"===this.curveType&&(DN.initCatmullRom(O.x,D.x,R.x,T.x,this.tension),IN.initCatmullRom(O.y,D.y,R.y,T.y,this.tension),RN.initCatmullRom(O.z,D.z,R.z,T.z,this.tension));return o.set(DN.calc(M),IN.calc(M),RN.calc(M)),o}copy(t){super.copy(t),this.points=[];for(let e=0,o=t.points.length;e<o;e++)this.points.push(t.points[e].clone());return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,o=this.points.length;e<o;e++)t.points.push(this.points[e].toArray());return t.closed=this.closed,t.curveType=this.curveType,t.tension=this.tension,t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,o=t.points.length;e<o;e++){const l=t.points[e];this.points.push((new Ot).fromArray(l))}return this.closed=t.closed,this.curveType=t.curveType,this.tension=t.tension,this}}function iU(a,t,e,o,l){const d=.5*(o-t),g=.5*(l-e),b=a*a;return(2*e-2*o+d+g)*(a*b)+(-3*e+3*o-2*d-g)*b+d*a+e}function nR(a,t,e,o){return function(a,t){const e=1-a;return e*e*t}(a,t)+function(a,t){return 2*(1-a)*a*t}(a,e)+function(a,t){return a*a*t}(a,o)}function rR(a,t,e,o,l){return function(a,t){const e=1-a;return e*e*e*t}(a,t)+function(a,t){const e=1-a;return 3*e*e*a*t}(a,e)+function(a,t){return 3*(1-a)*a*a*t}(a,o)+function(a,t){return a*a*a*t}(a,l)}rU.prototype.isCatmullRomCurve3=!0;class kN extends dg{constructor(t=new vn,e=new vn,o=new vn,l=new vn){super(),this.type="CubicBezierCurve",this.v0=t,this.v1=e,this.v2=o,this.v3=l}getPoint(t,e=new vn){const o=e,l=this.v0,d=this.v1,g=this.v2,b=this.v3;return o.set(rR(t,l.x,d.x,g.x,b.x),rR(t,l.y,d.y,g.y,b.y)),o}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}kN.prototype.isCubicBezierCurve=!0;class oU extends dg{constructor(t=new Ot,e=new Ot,o=new Ot,l=new Ot){super(),this.type="CubicBezierCurve3",this.v0=t,this.v1=e,this.v2=o,this.v3=l}getPoint(t,e=new Ot){const o=e,l=this.v0,d=this.v1,g=this.v2,b=this.v3;return o.set(rR(t,l.x,d.x,g.x,b.x),rR(t,l.y,d.y,g.y,b.y),rR(t,l.z,d.z,g.z,b.z)),o}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this.v3.copy(t.v3),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t.v3=this.v3.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this.v3.fromArray(t.v3),this}}oU.prototype.isCubicBezierCurve3=!0;class PL extends dg{constructor(t=new vn,e=new vn){super(),this.type="LineCurve",this.v1=t,this.v2=e}getPoint(t,e=new vn){const o=e;return 1===t?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(t).add(this.v1)),o}getPointAt(t,e){return this.getPoint(t,e)}getTangent(t,e){const o=e||new vn;return o.copy(this.v2).sub(this.v1).normalize(),o}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}PL.prototype.isLineCurve=!0;class LN extends dg{constructor(t=new vn,e=new vn,o=new vn){super(),this.type="QuadraticBezierCurve",this.v0=t,this.v1=e,this.v2=o}getPoint(t,e=new vn){const o=e,l=this.v0,d=this.v1,g=this.v2;return o.set(nR(t,l.x,d.x,g.x),nR(t,l.y,d.y,g.y)),o}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}LN.prototype.isQuadraticBezierCurve=!0;class sU extends dg{constructor(t=new Ot,e=new Ot,o=new Ot){super(),this.type="QuadraticBezierCurve3",this.v0=t,this.v1=e,this.v2=o}getPoint(t,e=new Ot){const o=e,l=this.v0,d=this.v1,g=this.v2;return o.set(nR(t,l.x,d.x,g.x),nR(t,l.y,d.y,g.y),nR(t,l.z,d.z,g.z)),o}copy(t){return super.copy(t),this.v0.copy(t.v0),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v0=this.v0.toArray(),t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v0.fromArray(t.v0),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}}sU.prototype.isQuadraticBezierCurve3=!0;class FN extends dg{constructor(t=[]){super(),this.type="SplineCurve",this.points=t}getPoint(t,e=new vn){const o=e,l=this.points,d=(l.length-1)*t,g=Math.floor(d),b=d-g,M=l[0===g?g:g-1],O=l[g],T=l[g>l.length-2?l.length-1:g+1],D=l[g>l.length-3?l.length-1:g+2];return o.set(iU(b,M.x,O.x,T.x,D.x),iU(b,M.y,O.y,T.y,D.y)),o}copy(t){super.copy(t),this.points=[];for(let e=0,o=t.points.length;e<o;e++)this.points.push(t.points[e].clone());return this}toJSON(){const t=super.toJSON();t.points=[];for(let e=0,o=this.points.length;e<o;e++)t.points.push(this.points[e].toArray());return t}fromJSON(t){super.fromJSON(t),this.points=[];for(let e=0,o=t.points.length;e<o;e++){const l=t.points[e];this.points.push((new vn).fromArray(l))}return this}}FN.prototype.isSplineCurve=!0;var NN=Object.freeze({__proto__:null,ArcCurve:nU,CatmullRomCurve3:rU,CubicBezierCurve:kN,CubicBezierCurve3:oU,EllipseCurve:CL,LineCurve:PL,LineCurve3:class extends dg{constructor(t=new Ot,e=new Ot){super(),this.type="LineCurve3",this.isLineCurve3=!0,this.v1=t,this.v2=e}getPoint(t,e=new Ot){const o=e;return 1===t?o.copy(this.v2):(o.copy(this.v2).sub(this.v1),o.multiplyScalar(t).add(this.v1)),o}getPointAt(t,e){return this.getPoint(t,e)}copy(t){return super.copy(t),this.v1.copy(t.v1),this.v2.copy(t.v2),this}toJSON(){const t=super.toJSON();return t.v1=this.v1.toArray(),t.v2=this.v2.toArray(),t}fromJSON(t){return super.fromJSON(t),this.v1.fromArray(t.v1),this.v2.fromArray(t.v2),this}},QuadraticBezierCurve:LN,QuadraticBezierCurve3:sU,SplineCurve:FN});function aU(a,t,e,o,l){let d,g;if(l===function(a,t,e,o){let l=0;for(let d=t,g=e-o;d<e;d+=o)l+=(a[g]-a[d])*(a[d+1]+a[g+1]),g=d;return l}(a,t,e,o)>0)for(d=t;d<e;d+=o)g=uU(d,a[d],a[d+1],g);else for(d=e-o;d>=t;d-=o)g=uU(d,a[d],a[d+1],g);return g&&wL(g,g.next)&&(sR(g),g=g.next),g}function mP(a,t){if(!a)return a;t||(t=a);let o,e=a;do{if(o=!1,e.steiner||!wL(e,e.next)&&0!==Pa(e.prev,e,e.next))e=e.next;else{if(sR(e),e=t=e.prev,e===e.next)break;o=!0}}while(o||e!==t);return t}function iR(a,t,e,o,l,d,g){if(!a)return;!g&&d&&function(a,t,e,o){let l=a;do{null===l.z&&(l.z=BN(l.x,l.y,t,e,o)),l.prevZ=l.prev,l.nextZ=l.next,l=l.next}while(l!==a);l.prevZ.nextZ=null,l.prevZ=null,function(a){let t,e,o,l,d,g,b,M,O=1;do{for(e=a,a=null,d=null,g=0;e;){for(g++,o=e,b=0,t=0;t<O&&(b++,o=o.nextZ,o);t++);for(M=O;b>0||M>0&&o;)0!==b&&(0===M||!o||e.z<=o.z)?(l=e,e=e.nextZ,b--):(l=o,o=o.nextZ,M--),d?d.nextZ=l:a=l,l.prevZ=d,d=l;e=o}d.nextZ=null,O*=2}while(g>1)}(l)}(a,o,l,d);let M,O,b=a;for(;a.prev!==a.next;)if(M=a.prev,O=a.next,d?xq(a,o,l,d):yq(a))t.push(M.i/e),t.push(a.i/e),t.push(O.i/e),sR(a),a=O.next,b=O.next;else if((a=O)===b){g?1===g?iR(a=Cq(mP(a),t,e),t,e,o,l,d,2):2===g&&Mq(a,t,e,o,l,d):iR(mP(a),t,e,o,l,d,1);break}}function yq(a){const t=a.prev,e=a,o=a.next;if(Pa(t,e,o)>=0)return!1;let l=a.next.next;for(;l!==a.prev;){if(BT(t.x,t.y,e.x,e.y,o.x,o.y,l.x,l.y)&&Pa(l.prev,l,l.next)>=0)return!1;l=l.next}return!0}function xq(a,t,e,o){const l=a.prev,d=a,g=a.next;if(Pa(l,d,g)>=0)return!1;const O=l.x>d.x?l.x>g.x?l.x:g.x:d.x>g.x?d.x:g.x,T=l.y>d.y?l.y>g.y?l.y:g.y:d.y>g.y?d.y:g.y,D=BN(l.x<d.x?l.x<g.x?l.x:g.x:d.x<g.x?d.x:g.x,l.y<d.y?l.y<g.y?l.y:g.y:d.y<g.y?d.y:g.y,t,e,o),R=BN(O,T,t,e,o);let k=a.prevZ,U=a.nextZ;for(;k&&k.z>=D&&U&&U.z<=R;){if(k!==a.prev&&k!==a.next&&BT(l.x,l.y,d.x,d.y,g.x,g.y,k.x,k.y)&&Pa(k.prev,k,k.next)>=0||(k=k.prevZ,U!==a.prev&&U!==a.next&&BT(l.x,l.y,d.x,d.y,g.x,g.y,U.x,U.y)&&Pa(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;k&&k.z>=D;){if(k!==a.prev&&k!==a.next&&BT(l.x,l.y,d.x,d.y,g.x,g.y,k.x,k.y)&&Pa(k.prev,k,k.next)>=0)return!1;k=k.prevZ}for(;U&&U.z<=R;){if(U!==a.prev&&U!==a.next&&BT(l.x,l.y,d.x,d.y,g.x,g.y,U.x,U.y)&&Pa(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function Cq(a,t,e){let o=a;do{const l=o.prev,d=o.next.next;!wL(l,d)&&cU(l,o,o.next,d)&&oR(l,d)&&oR(d,l)&&(t.push(l.i/e),t.push(o.i/e),t.push(d.i/e),sR(o),sR(o.next),o=a=d),o=o.next}while(o!==a);return mP(o)}function Mq(a,t,e,o,l,d){let g=a;do{let b=g.next.next;for(;b!==g.prev;){if(g.i!==b.i&&Iq(g,b)){let M=lU(g,b);return g=mP(g,g.next),M=mP(M,M.next),iR(g,t,e,o,l,d),void iR(M,t,e,o,l,d)}b=b.next}g=g.next}while(g!==a)}function wq(a,t){return a.x-t.x}function Oq(a,t){if(t=function(a,t){let e=t;const o=a.x,l=a.y;let g,d=-1/0;do{if(l<=e.y&&l>=e.next.y&&e.next.y!==e.y){const R=e.x+(l-e.y)*(e.next.x-e.x)/(e.next.y-e.y);if(R<=o&&R>d){if(d=R,R===o){if(l===e.y)return e;if(l===e.next.y)return e.next}g=e.x<e.next.x?e:e.next}}e=e.next}while(e!==t);if(!g)return null;if(o===d)return g;const b=g,M=g.x,O=g.y;let D,T=1/0;e=g;do{o>=e.x&&e.x>=M&&o!==e.x&&BT(l<O?o:d,l,M,O,l<O?d:o,l,e.x,e.y)&&(D=Math.abs(l-e.y)/(o-e.x),oR(e,a)&&(D<T||D===T&&(e.x>g.x||e.x===g.x&&Sq(g,e)))&&(g=e,T=D)),e=e.next}while(e!==b);return g}(a,t)){const e=lU(t,a);mP(t,t.next),mP(e,e.next)}}function Sq(a,t){return Pa(a.prev,a,t.prev)<0&&Pa(t.next,a,a.next)<0}function BN(a,t,e,o,l){return(a=1431655765&((a=858993459&((a=252645135&((a=16711935&((a=32767*(a-e)*l)|a<<8))|a<<4))|a<<2))|a<<1))|(t=1431655765&((t=858993459&((t=252645135&((t=16711935&((t=32767*(t-o)*l)|t<<8))|t<<4))|t<<2))|t<<1))<<1}function Dq(a){let t=a,e=a;do{(t.x<e.x||t.x===e.x&&t.y<e.y)&&(e=t),t=t.next}while(t!==a);return e}function BT(a,t,e,o,l,d,g,b){return(l-g)*(t-b)-(a-g)*(d-b)>=0&&(a-g)*(o-b)-(e-g)*(t-b)>=0&&(e-g)*(d-b)-(l-g)*(o-b)>=0}function Iq(a,t){return a.next.i!==t.i&&a.prev.i!==t.i&&!function(a,t){let e=a;do{if(e.i!==a.i&&e.next.i!==a.i&&e.i!==t.i&&e.next.i!==t.i&&cU(e,e.next,a,t))return!0;e=e.next}while(e!==a);return!1}(a,t)&&(oR(a,t)&&oR(t,a)&&function(a,t){let e=a,o=!1;const l=(a.x+t.x)/2,d=(a.y+t.y)/2;do{e.y>d!=e.next.y>d&&e.next.y!==e.y&&l<(e.next.x-e.x)*(d-e.y)/(e.next.y-e.y)+e.x&&(o=!o),e=e.next}while(e!==a);return o}(a,t)&&(Pa(a.prev,a,t.prev)||Pa(a,t.prev,t))||wL(a,t)&&Pa(a.prev,a,a.next)>0&&Pa(t.prev,t,t.next)>0)}function Pa(a,t,e){return(t.y-a.y)*(e.x-t.x)-(t.x-a.x)*(e.y-t.y)}function wL(a,t){return a.x===t.x&&a.y===t.y}function cU(a,t,e,o){const l=EL(Pa(a,t,e)),d=EL(Pa(a,t,o)),g=EL(Pa(e,o,a)),b=EL(Pa(e,o,t));return!!(l!==d&&g!==b||0===l&&OL(a,e,t)||0===d&&OL(a,o,t)||0===g&&OL(e,a,o)||0===b&&OL(e,t,o))}function OL(a,t,e){return t.x<=Math.max(a.x,e.x)&&t.x>=Math.min(a.x,e.x)&&t.y<=Math.max(a.y,e.y)&&t.y>=Math.min(a.y,e.y)}function EL(a){return a>0?1:a<0?-1:0}function oR(a,t){return Pa(a.prev,a,a.next)<0?Pa(a,t,a.next)>=0&&Pa(a,a.prev,t)>=0:Pa(a,t,a.prev)<0||Pa(a,a.next,t)<0}function lU(a,t){const e=new UN(a.i,a.x,a.y),o=new UN(t.i,t.x,t.y),l=a.next,d=t.prev;return a.next=t,t.prev=a,e.next=l,l.prev=e,o.next=e,e.prev=o,d.next=o,o.prev=d,o}function uU(a,t,e,o){const l=new UN(a,t,e);return o?(l.next=o.next,l.prev=o,o.next.prev=l,o.next=l):(l.prev=l,l.next=l),l}function sR(a){a.next.prev=a.prev,a.prev.next=a.next,a.prevZ&&(a.prevZ.nextZ=a.nextZ),a.nextZ&&(a.nextZ.prevZ=a.prevZ)}function UN(a,t,e){this.i=a,this.x=t,this.y=e,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}class qx{static area(t){const e=t.length;let o=0;for(let l=e-1,d=0;d<e;l=d++)o+=t[l].x*t[d].y-t[d].x*t[l].y;return.5*o}static isClockWise(t){return qx.area(t)<0}static triangulateShape(t,e){const o=[],l=[],d=[];dU(t),pU(o,t);let g=t.length;e.forEach(dU);for(let M=0;M<e.length;M++)l.push(g),g+=e[M].length,pU(o,e[M]);const b=function(a,t,e=2){const o=t&&t.length,l=o?t[0]*e:a.length;let d=aU(a,0,l,e,!0);const g=[];if(!d||d.next===d.prev)return g;let b,M,O,T,D,R,k;if(o&&(d=function(a,t,e,o){const l=[];let d,g,b,M,O;for(d=0,g=t.length;d<g;d++)b=t[d]*o,M=d<g-1?t[d+1]*o:a.length,O=aU(a,b,M,o,!1),O===O.next&&(O.steiner=!0),l.push(Dq(O));for(l.sort(wq),d=0;d<l.length;d++)Oq(l[d],e),e=mP(e,e.next);return e}(a,t,d,e)),a.length>80*e){b=O=a[0],M=T=a[1];for(let U=e;U<l;U+=e)D=a[U],R=a[U+1],D<b&&(b=D),R<M&&(M=R),D>O&&(O=D),R>T&&(T=R);k=Math.max(O-b,T-M),k=0!==k?1/k:0}return iR(d,g,e,b,M,k),g}(o,l);for(let M=0;M<b.length;M+=3)d.push(b.slice(M,M+3));return d}}function dU(a){const t=a.length;t>2&&a[t-1].equals(a[0])&&a.pop()}function pU(a,t){for(let e=0;e<t.length;e++)a.push(t[e].x),a.push(t[e].y)}class $x extends Qr{constructor(t,e){super(),this.type="ExtrudeGeometry",this.parameters={shapes:t,options:e},t=Array.isArray(t)?t:[t];const o=this,l=[],d=[];for(let b=0,M=t.length;b<M;b++)g(t[b]);function g(b){const M=[],O=void 0!==e.curveSegments?e.curveSegments:12,T=void 0!==e.steps?e.steps:1;let D=void 0!==e.depth?e.depth:100,R=void 0===e.bevelEnabled||e.bevelEnabled,k=void 0!==e.bevelThickness?e.bevelThickness:6,U=void 0!==e.bevelSize?e.bevelSize:k-2,j=void 0!==e.bevelOffset?e.bevelOffset:0,Z=void 0!==e.bevelSegments?e.bevelSegments:3;const W=e.extrudePath,H=void 0!==e.UVGenerator?e.UVGenerator:Fq;void 0!==e.amount&&(console.warn("THREE.ExtrudeBufferGeometry: amount has been renamed to depth."),D=e.amount);let rt,gt,Ct,ut,Yt,Q=!1;W&&(rt=W.getSpacedPoints(T),Q=!0,R=!1,gt=W.computeFrenetFrames(T,!1),Ct=new Ot,ut=new Ot,Yt=new Ot),R||(Z=0,k=0,U=0,j=0);const re=b.extractPoints(O);let ee=re.shape;const kt=re.holes;if(!qx.isClockWise(ee)){ee=ee.reverse();for(let Ke=0,Cn=kt.length;Ke<Cn;Ke++){const Tn=kt[Ke];qx.isClockWise(Tn)&&(kt[Ke]=Tn.reverse())}}const de=qx.triangulateShape(ee,kt),fe=ee;for(let Ke=0,Cn=kt.length;Ke<Cn;Ke++)ee=ee.concat(kt[Ke]);function De(Ke,Cn,Tn){return Cn||console.error("THREE.ExtrudeGeometry: vec does not exist"),Cn.clone().multiplyScalar(Tn).add(Ke)}const Ee=ee.length,Be=de.length;function pn(Ke,Cn,Tn){let Or,Wn,zt;const Tt=Ke.x-Cn.x,Xe=Ke.y-Cn.y,mn=Tn.x-Ke.x,Hn=Tn.y-Ke.y,rr=Tt*Tt+Xe*Xe;if(Math.abs(Tt*Hn-Xe*mn)>Number.EPSILON){const Fr=Math.sqrt(rr),bi=Math.sqrt(mn*mn+Hn*Hn),Er=Cn.x-Xe/Fr,_e=Cn.y+Tt/Fr,ir=((Tn.x-Hn/bi-Er)*Hn-(Tn.y+mn/bi-_e)*mn)/(Tt*Hn-Xe*mn);Or=Er+Tt*ir-Ke.x,Wn=_e+Xe*ir-Ke.y;const mr=Or*Or+Wn*Wn;if(mr<=2)return new vn(Or,Wn);zt=Math.sqrt(mr/2)}else{let Fr=!1;Tt>Number.EPSILON?mn>Number.EPSILON&&(Fr=!0):Tt<-Number.EPSILON?mn<-Number.EPSILON&&(Fr=!0):Math.sign(Xe)===Math.sign(Hn)&&(Fr=!0),Fr?(Or=-Xe,Wn=Tt,zt=Math.sqrt(rr)):(Or=Tt,Wn=Xe,zt=Math.sqrt(rr/2))}return new vn(Or/zt,Wn/zt)}const Nn=[];for(let Ke=0,Cn=fe.length,Tn=Cn-1,Or=Ke+1;Ke<Cn;Ke++,Tn++,Or++)Tn===Cn&&(Tn=0),Or===Cn&&(Or=0),Nn[Ke]=pn(fe[Ke],fe[Tn],fe[Or]);const Jn=[];let kn,ci=Nn.concat();for(let Ke=0,Cn=kt.length;Ke<Cn;Ke++){const Tn=kt[Ke];kn=[];for(let Or=0,Wn=Tn.length,zt=Wn-1,Tt=Or+1;Or<Wn;Or++,zt++,Tt++)zt===Wn&&(zt=0),Tt===Wn&&(Tt=0),kn[Or]=pn(Tn[Or],Tn[zt],Tn[Tt]);Jn.push(kn),ci=ci.concat(kn)}for(let Ke=0;Ke<Z;Ke++){const Cn=Ke/Z,Tn=k*Math.cos(Cn*Math.PI/2),Or=U*Math.sin(Cn*Math.PI/2)+j;for(let Wn=0,zt=fe.length;Wn<zt;Wn++){const Tt=De(fe[Wn],Nn[Wn],Or);Lr(Tt.x,Tt.y,-Tn)}for(let Wn=0,zt=kt.length;Wn<zt;Wn++){const Tt=kt[Wn];kn=Jn[Wn];for(let Xe=0,mn=Tt.length;Xe<mn;Xe++){const Hn=De(Tt[Xe],kn[Xe],Or);Lr(Hn.x,Hn.y,-Tn)}}}const hn=U+j;for(let Ke=0;Ke<Ee;Ke++){const Cn=R?De(ee[Ke],ci[Ke],hn):ee[Ke];Q?(ut.copy(gt.normals[0]).multiplyScalar(Cn.x),Ct.copy(gt.binormals[0]).multiplyScalar(Cn.y),Yt.copy(rt[0]).add(ut).add(Ct),Lr(Yt.x,Yt.y,Yt.z)):Lr(Cn.x,Cn.y,0)}for(let Ke=1;Ke<=T;Ke++)for(let Cn=0;Cn<Ee;Cn++){const Tn=R?De(ee[Cn],ci[Cn],hn):ee[Cn];Q?(ut.copy(gt.normals[Ke]).multiplyScalar(Tn.x),Ct.copy(gt.binormals[Ke]).multiplyScalar(Tn.y),Yt.copy(rt[Ke]).add(ut).add(Ct),Lr(Yt.x,Yt.y,Yt.z)):Lr(Tn.x,Tn.y,D/T*Ke)}for(let Ke=Z-1;Ke>=0;Ke--){const Cn=Ke/Z,Tn=k*Math.cos(Cn*Math.PI/2),Or=U*Math.sin(Cn*Math.PI/2)+j;for(let Wn=0,zt=fe.length;Wn<zt;Wn++){const Tt=De(fe[Wn],Nn[Wn],Or);Lr(Tt.x,Tt.y,D+Tn)}for(let Wn=0,zt=kt.length;Wn<zt;Wn++){const Tt=kt[Wn];kn=Jn[Wn];for(let Xe=0,mn=Tt.length;Xe<mn;Xe++){const Hn=De(Tt[Xe],kn[Xe],Or);Q?Lr(Hn.x,Hn.y+rt[T-1].y,rt[T-1].x+Tn):Lr(Hn.x,Hn.y,D+Tn)}}}function ke(Ke,Cn){let Tn=Ke.length;for(;--Tn>=0;){const Or=Tn;let Wn=Tn-1;Wn<0&&(Wn=Ke.length-1);for(let zt=0,Tt=T+2*Z;zt<Tt;zt++){const Xe=Ee*zt,mn=Ee*(zt+1);sr(Cn+Or+Xe,Cn+Wn+Xe,Cn+Wn+mn,Cn+Or+mn)}}}function Lr(Ke,Cn,Tn){M.push(Ke),M.push(Cn),M.push(Tn)}function di(Ke,Cn,Tn){gr(Ke),gr(Cn),gr(Tn);const Or=l.length/3,Wn=H.generateTopUV(o,l,Or-3,Or-2,Or-1);Ri(Wn[0]),Ri(Wn[1]),Ri(Wn[2])}function sr(Ke,Cn,Tn,Or){gr(Ke),gr(Cn),gr(Or),gr(Cn),gr(Tn),gr(Or);const Wn=l.length/3,zt=H.generateSideWallUV(o,l,Wn-6,Wn-3,Wn-2,Wn-1);Ri(zt[0]),Ri(zt[1]),Ri(zt[3]),Ri(zt[1]),Ri(zt[2]),Ri(zt[3])}function gr(Ke){l.push(M[3*Ke+0]),l.push(M[3*Ke+1]),l.push(M[3*Ke+2])}function Ri(Ke){d.push(Ke.x),d.push(Ke.y)}(function(){const Ke=l.length/3;if(R){let Cn=0,Tn=Ee*Cn;for(let Or=0;Or<Be;Or++){const Wn=de[Or];di(Wn[2]+Tn,Wn[1]+Tn,Wn[0]+Tn)}Cn=T+2*Z,Tn=Ee*Cn;for(let Or=0;Or<Be;Or++){const Wn=de[Or];di(Wn[0]+Tn,Wn[1]+Tn,Wn[2]+Tn)}}else{for(let Cn=0;Cn<Be;Cn++){const Tn=de[Cn];di(Tn[2],Tn[1],Tn[0])}for(let Cn=0;Cn<Be;Cn++){const Tn=de[Cn];di(Tn[0]+Ee*T,Tn[1]+Ee*T,Tn[2]+Ee*T)}}o.addGroup(Ke,l.length/3-Ke,0)})(),function(){const Ke=l.length/3;let Cn=0;ke(fe,Cn),Cn+=fe.length;for(let Tn=0,Or=kt.length;Tn<Or;Tn++){const Wn=kt[Tn];ke(Wn,Cn),Cn+=Wn.length}o.addGroup(Ke,l.length/3-Ke,1)}()}this.setAttribute("position",new er(l,3)),this.setAttribute("uv",new er(d,2)),this.computeVertexNormals()}toJSON(){const t=super.toJSON();return function(a,t,e){if(e.shapes=[],Array.isArray(a))for(let o=0,l=a.length;o<l;o++)e.shapes.push(a[o].uuid);else e.shapes.push(a.uuid);return void 0!==t.extrudePath&&(e.options.extrudePath=t.extrudePath.toJSON()),e}(this.parameters.shapes,this.parameters.options,t)}static fromJSON(t,e){const o=[];for(let d=0,g=t.shapes.length;d<g;d++)o.push(e[t.shapes[d]]);const l=t.options.extrudePath;return void 0!==l&&(t.options.extrudePath=(new NN[l.type]).fromJSON(l)),new $x(o,t.options)}}const Fq={generateTopUV:function(a,t,e,o,l){const b=t[3*o],M=t[3*o+1],O=t[3*l],T=t[3*l+1];return[new vn(t[3*e],t[3*e+1]),new vn(b,M),new vn(O,T)]},generateSideWallUV:function(a,t,e,o,l,d){const g=t[3*e],b=t[3*e+1],M=t[3*e+2],O=t[3*o],T=t[3*o+1],D=t[3*o+2],R=t[3*l],k=t[3*l+1],U=t[3*l+2],j=t[3*d],Z=t[3*d+1],W=t[3*d+2];return Math.abs(b-T)<Math.abs(g-O)?[new vn(g,1-M),new vn(O,1-D),new vn(R,1-U),new vn(j,1-W)]:[new vn(b,1-M),new vn(T,1-D),new vn(k,1-U),new vn(Z,1-W)]}};class cR extends Qr{constructor(t,e=12){super(),this.type="ShapeGeometry",this.parameters={shapes:t,curveSegments:e};const o=[],l=[],d=[],g=[];let b=0,M=0;if(!1===Array.isArray(t))O(t);else for(let T=0;T<t.length;T++)O(t[T]),this.addGroup(b,M,T),b+=M,M=0;function O(T){const D=l.length/3,R=T.extractPoints(e);let k=R.shape;const U=R.holes;!1===qx.isClockWise(k)&&(k=k.reverse());for(let Z=0,W=U.length;Z<W;Z++){const H=U[Z];!0===qx.isClockWise(H)&&(U[Z]=H.reverse())}const j=qx.triangulateShape(k,U);for(let Z=0,W=U.length;Z<W;Z++)k=k.concat(U[Z]);for(let Z=0,W=k.length;Z<W;Z++){const H=k[Z];l.push(H.x,H.y,0),d.push(0,0,1),g.push(H.x,H.y)}for(let Z=0,W=j.length;Z<W;Z++){const H=j[Z];o.push(H[0]+D,H[1]+D,H[2]+D),M+=3}}this.setIndex(o),this.setAttribute("position",new er(l,3)),this.setAttribute("normal",new er(d,3)),this.setAttribute("uv",new er(g,2))}toJSON(){const t=super.toJSON();return function(a,t){if(t.shapes=[],Array.isArray(a))for(let e=0,o=a.length;e<o;e++)t.shapes.push(a[e].uuid);else t.shapes.push(a.uuid);return t}(this.parameters.shapes,t)}static fromJSON(t,e){const o=[];for(let l=0,d=t.shapes.length;l<d;l++)o.push(e[t.shapes[l]]);return new cR(o,t.curveSegments)}}(class extends lu{constructor(t){super(),this.type="ShadowMaterial",this.color=new zn(0),this.transparent=!0,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this}}).prototype.isShadowMaterial=!0;class VN extends lu{constructor(t){super(),this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new zn(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={STANDARD:""},this.color.copy(t.color),this.roughness=t.roughness,this.metalness=t.metalness,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.roughnessMap=t.roughnessMap,this.metalnessMap=t.metalnessMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.envMapIntensity=t.envMapIntensity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}VN.prototype.isMeshStandardMaterial=!0;(class extends VN{constructor(t){super(),this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new vn(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return cu(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(e){this.ior=(1+.4*e)/(1-.4*e)}}),this.sheenTint=new zn(0),this.transmission=0,this.transmissionMap=null,this.thickness=.01,this.thicknessMap=null,this.attenuationDistance=0,this.attenuationTint=new zn(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularTint=new zn(1,1,1),this.specularTintMap=null,this._clearcoat=0,this._transmission=0,this.setValues(t)}get clearcoat(){return this._clearcoat}set clearcoat(t){this._clearcoat>0!=t>0&&this.version++,this._clearcoat=t}get transmission(){return this._transmission}set transmission(t){this._transmission>0!=t>0&&this.version++,this._transmission=t}copy(t){return super.copy(t),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=t.clearcoat,this.clearcoatMap=t.clearcoatMap,this.clearcoatRoughness=t.clearcoatRoughness,this.clearcoatRoughnessMap=t.clearcoatRoughnessMap,this.clearcoatNormalMap=t.clearcoatNormalMap,this.clearcoatNormalScale.copy(t.clearcoatNormalScale),this.ior=t.ior,this.sheenTint.copy(t.sheenTint),this.transmission=t.transmission,this.transmissionMap=t.transmissionMap,this.thickness=t.thickness,this.thicknessMap=t.thicknessMap,this.attenuationDistance=t.attenuationDistance,this.attenuationTint.copy(t.attenuationTint),this.specularIntensity=t.specularIntensity,this.specularIntensityMap=t.specularIntensityMap,this.specularTint.copy(t.specularTint),this.specularTintMap=t.specularTintMap,this}}).prototype.isMeshPhysicalMaterial=!0;(class extends lu{constructor(t){super(),this.type="MeshPhongMaterial",this.color=new zn(16777215),this.specular=new zn(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.specular.copy(t.specular),this.shininess=t.shininess,this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this.flatShading=t.flatShading,this}}).prototype.isMeshPhongMaterial=!0;(class extends lu{constructor(t){super(),this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new zn(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.gradientMap=t.gradientMap,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}).prototype.isMeshToonMaterial=!0;(class extends lu{constructor(t){super(),this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.flatShading=t.flatShading,this}}).prototype.isMeshNormalMaterial=!0;(class extends lu{constructor(t){super(),this.type="MeshLambertMaterial",this.color=new zn(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new zn(0),this.emissiveIntensity=1,this.emissiveMap=null,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.setValues(t)}copy(t){return super.copy(t),this.color.copy(t.color),this.map=t.map,this.lightMap=t.lightMap,this.lightMapIntensity=t.lightMapIntensity,this.aoMap=t.aoMap,this.aoMapIntensity=t.aoMapIntensity,this.emissive.copy(t.emissive),this.emissiveMap=t.emissiveMap,this.emissiveIntensity=t.emissiveIntensity,this.specularMap=t.specularMap,this.alphaMap=t.alphaMap,this.envMap=t.envMap,this.combine=t.combine,this.reflectivity=t.reflectivity,this.refractionRatio=t.refractionRatio,this.wireframe=t.wireframe,this.wireframeLinewidth=t.wireframeLinewidth,this.wireframeLinecap=t.wireframeLinecap,this.wireframeLinejoin=t.wireframeLinejoin,this}}).prototype.isMeshLambertMaterial=!0;(class extends lu{constructor(t){super(),this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new zn(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=0,this.normalScale=new vn(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.setValues(t)}copy(t){return super.copy(t),this.defines={MATCAP:""},this.color.copy(t.color),this.matcap=t.matcap,this.map=t.map,this.bumpMap=t.bumpMap,this.bumpScale=t.bumpScale,this.normalMap=t.normalMap,this.normalMapType=t.normalMapType,this.normalScale.copy(t.normalScale),this.displacementMap=t.displacementMap,this.displacementScale=t.displacementScale,this.displacementBias=t.displacementBias,this.alphaMap=t.alphaMap,this.flatShading=t.flatShading,this}}).prototype.isMeshMatcapMaterial=!0;(class extends du{constructor(t){super(),this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(t)}copy(t){return super.copy(t),this.scale=t.scale,this.dashSize=t.dashSize,this.gapSize=t.gapSize,this}}).prototype.isLineDashedMaterial=!0;const ua={arraySlice:function(a,t,e){return ua.isTypedArray(a)?new a.constructor(a.subarray(t,void 0!==e?e:a.length)):a.slice(t,e)},convertArray:function(a,t,e){return!a||!e&&a.constructor===t?a:"number"==typeof t.BYTES_PER_ELEMENT?new t(a):Array.prototype.slice.call(a)},isTypedArray:function(a){return ArrayBuffer.isView(a)&&!(a instanceof DataView)},getKeyframeOrder:function(a){const e=a.length,o=new Array(e);for(let l=0;l!==e;++l)o[l]=l;return o.sort(function(l,d){return a[l]-a[d]}),o},sortedArray:function(a,t,e){const o=a.length,l=new a.constructor(o);for(let d=0,g=0;g!==o;++d){const b=e[d]*t;for(let M=0;M!==t;++M)l[g++]=a[b+M]}return l},flattenJSON:function(a,t,e,o){let l=1,d=a[0];for(;void 0!==d&&void 0===d[o];)d=a[l++];if(void 0===d)return;let g=d[o];if(void 0!==g)if(Array.isArray(g))do{g=d[o],void 0!==g&&(t.push(d.time),e.push.apply(e,g)),d=a[l++]}while(void 0!==d);else if(void 0!==g.toArray)do{g=d[o],void 0!==g&&(t.push(d.time),g.toArray(e,e.length)),d=a[l++]}while(void 0!==d);else do{g=d[o],void 0!==g&&(t.push(d.time),e.push(g)),d=a[l++]}while(void 0!==d)},subclip:function(a,t,e,o,l=30){const d=a.clone();d.name=t;const g=[];for(let M=0;M<d.tracks.length;++M){const O=d.tracks[M],T=O.getValueSize(),D=[],R=[];for(let k=0;k<O.times.length;++k){const U=O.times[k]*l;if(!(U<e||U>=o)){D.push(O.times[k]);for(let j=0;j<T;++j)R.push(O.values[k*T+j])}}0!==D.length&&(O.times=ua.convertArray(D,O.times.constructor),O.values=ua.convertArray(R,O.values.constructor),g.push(O))}d.tracks=g;let b=1/0;for(let M=0;M<d.tracks.length;++M)b>d.tracks[M].times[0]&&(b=d.tracks[M].times[0]);for(let M=0;M<d.tracks.length;++M)d.tracks[M].shift(-1*b);return d.resetDuration(),d},makeClipAdditive:function(a,t=0,e=a,o=30){o<=0&&(o=30);const l=e.tracks.length,d=t/o;for(let g=0;g<l;++g){const b=e.tracks[g],M=b.ValueTypeName;if("bool"===M||"string"===M)continue;const O=a.tracks.find(function(W){return W.name===b.name&&W.ValueTypeName===M});if(void 0===O)continue;let T=0;const D=b.getValueSize();b.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(T=D/3);let R=0;const k=O.getValueSize();O.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(R=k/3);const U=b.times.length-1;let j;if(d<=b.times[0])j=ua.arraySlice(b.values,T,D-T);else if(d>=b.times[U]){const W=U*D+T;j=ua.arraySlice(b.values,W,W+D-T)}else{const W=b.createInterpolant(),H=T,rt=D-T;W.evaluate(d),j=ua.arraySlice(W.resultBuffer,H,rt)}"quaternion"===M&&(new cd).fromArray(j).normalize().conjugate().toArray(j);const Z=O.times.length;for(let W=0;W<Z;++W){const H=W*k+R;if("quaternion"===M)cd.multiplyQuaternionsFlat(O.values,H,j,0,O.values,H);else{const rt=k-2*R;for(let Q=0;Q<rt;++Q)O.values[H+Q]-=j[Q]}}}return a.blendMode=2501,a}};class vP{constructor(t,e,o,l){this.parameterPositions=t,this._cachedIndex=0,this.resultBuffer=void 0!==l?l:new e.constructor(o),this.sampleValues=e,this.valueSize=o,this.settings=null,this.DefaultSettings_={}}evaluate(t){const e=this.parameterPositions;let o=this._cachedIndex,l=e[o],d=e[o-1];t:{e:{let g;n:{r:if(!(t<l)){for(let b=o+2;;){if(void 0===l){if(t<d)break r;return o=e.length,this._cachedIndex=o,this.afterEnd_(o-1,t,d)}if(o===b)break;if(d=l,l=e[++o],t<l)break e}g=e.length;break n}if(t>=d)break t;{const b=e[1];t<b&&(o=2,d=b);for(let M=o-2;;){if(void 0===d)return this._cachedIndex=0,this.beforeStart_(0,t,l);if(o===M)break;if(l=d,d=e[--o-1],t>=d)break e}g=o,o=0}}for(;o<g;){const b=o+g>>>1;t<e[b]?g=b:o=b+1}if(l=e[o],d=e[o-1],void 0===d)return this._cachedIndex=0,this.beforeStart_(0,t,l);if(void 0===l)return o=e.length,this._cachedIndex=o,this.afterEnd_(o-1,d,t)}this._cachedIndex=o,this.intervalChanged_(o,d,l)}return this.interpolate_(o,d,t,l)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(t){const e=this.resultBuffer,o=this.sampleValues,l=this.valueSize,d=t*l;for(let g=0;g!==l;++g)e[g]=o[d+g];return e}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}vP.prototype.beforeStart_=vP.prototype.copySampleValue_,vP.prototype.afterEnd_=vP.prototype.copySampleValue_;class Vq extends vP{constructor(t,e,o,l){super(t,e,o,l),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:rT,endingEnd:rT}}intervalChanged_(t,e,o){const l=this.parameterPositions;let d=t-2,g=t+1,b=l[d],M=l[g];if(void 0===b)switch(this.getSettings_().endingStart){case iT:d=t,b=2*e-o;break;case 2402:d=l.length-2,b=e+l[d]-l[d+1];break;default:d=t,b=o}if(void 0===M)switch(this.getSettings_().endingEnd){case iT:g=t,M=2*o-e;break;case 2402:g=1,M=o+l[1]-l[0];break;default:g=t-1,M=e}const O=.5*(o-e),T=this.valueSize;this._weightPrev=O/(e-b),this._weightNext=O/(M-o),this._offsetPrev=d*T,this._offsetNext=g*T}interpolate_(t,e,o,l){const d=this.resultBuffer,g=this.sampleValues,b=this.valueSize,M=t*b,O=M-b,T=this._offsetPrev,D=this._offsetNext,R=this._weightPrev,k=this._weightNext,U=(o-e)/(l-e),j=U*U,Z=j*U,W=-R*Z+2*R*j-R*U,H=(1+R)*Z+(-1.5-2*R)*j+(-.5+R)*U+1,rt=(-1-k)*Z+(1.5+k)*j+.5*U,Q=k*Z-k*j;for(let gt=0;gt!==b;++gt)d[gt]=W*g[T+gt]+H*g[O+gt]+rt*g[M+gt]+Q*g[D+gt];return d}}class OU extends vP{constructor(t,e,o,l){super(t,e,o,l)}interpolate_(t,e,o,l){const d=this.resultBuffer,g=this.sampleValues,b=this.valueSize,M=t*b,O=M-b,T=(o-e)/(l-e),D=1-T;for(let R=0;R!==b;++R)d[R]=g[O+R]*D+g[M+R]*T;return d}}class zq extends vP{constructor(t,e,o,l){super(t,e,o,l)}interpolate_(t){return this.copySampleValue_(t-1)}}class J0{constructor(t,e,o,l){if(void 0===t)throw new Error("THREE.KeyframeTrack: track name is undefined");if(void 0===e||0===e.length)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+t);this.name=t,this.times=ua.convertArray(e,this.TimeBufferType),this.values=ua.convertArray(o,this.ValueBufferType),this.setInterpolation(l||this.DefaultInterpolation)}static toJSON(t){const e=t.constructor;let o;if(e.toJSON!==this.toJSON)o=e.toJSON(t);else{o={name:t.name,times:ua.convertArray(t.times,Array),values:ua.convertArray(t.values,Array)};const l=t.getInterpolation();l!==t.DefaultInterpolation&&(o.interpolation=l)}return o.type=t.ValueTypeName,o}InterpolantFactoryMethodDiscrete(t){return new zq(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodLinear(t){return new OU(this.times,this.values,this.getValueSize(),t)}InterpolantFactoryMethodSmooth(t){return new Vq(this.times,this.values,this.getValueSize(),t)}setInterpolation(t){let e;switch(t){case 2300:e=this.InterpolantFactoryMethodDiscrete;break;case 2301:e=this.InterpolantFactoryMethodLinear;break;case 2302:e=this.InterpolantFactoryMethodSmooth}if(void 0===e){const o="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(void 0===this.createInterpolant){if(t===this.DefaultInterpolation)throw new Error(o);this.setInterpolation(this.DefaultInterpolation)}return console.warn("THREE.KeyframeTrack:",o),this}return this.createInterpolant=e,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return 2300;case this.InterpolantFactoryMethodLinear:return 2301;case this.InterpolantFactoryMethodSmooth:return 2302}}getValueSize(){return this.values.length/this.times.length}shift(t){if(0!==t){const e=this.times;for(let o=0,l=e.length;o!==l;++o)e[o]+=t}return this}scale(t){if(1!==t){const e=this.times;for(let o=0,l=e.length;o!==l;++o)e[o]*=t}return this}trim(t,e){const o=this.times,l=o.length;let d=0,g=l-1;for(;d!==l&&o[d]<t;)++d;for(;-1!==g&&o[g]>e;)--g;if(++g,0!==d||g!==l){d>=g&&(g=Math.max(g,1),d=g-1);const b=this.getValueSize();this.times=ua.arraySlice(o,d,g),this.values=ua.arraySlice(this.values,d*b,g*b)}return this}validate(){let t=!0;const e=this.getValueSize();e-Math.floor(e)!=0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),t=!1);const o=this.times,l=this.values,d=o.length;0===d&&(console.error("THREE.KeyframeTrack: Track is empty.",this),t=!1);let g=null;for(let b=0;b!==d;b++){const M=o[b];if("number"==typeof M&&isNaN(M)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,b,M),t=!1;break}if(null!==g&&g>M){console.error("THREE.KeyframeTrack: Out of order keys.",this,b,M,g),t=!1;break}g=M}if(void 0!==l&&ua.isTypedArray(l))for(let b=0,M=l.length;b!==M;++b){const O=l[b];if(isNaN(O)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,b,O),t=!1;break}}return t}optimize(){const t=ua.arraySlice(this.times),e=ua.arraySlice(this.values),o=this.getValueSize(),l=2302===this.getInterpolation(),d=t.length-1;let g=1;for(let b=1;b<d;++b){let M=!1;const O=t[b];if(O!==t[b+1]&&(1!==b||O!==t[0]))if(l)M=!0;else{const D=b*o,R=D-o,k=D+o;for(let U=0;U!==o;++U){const j=e[D+U];if(j!==e[R+U]||j!==e[k+U]){M=!0;break}}}if(M){if(b!==g){t[g]=t[b];const D=b*o,R=g*o;for(let k=0;k!==o;++k)e[R+k]=e[D+k]}++g}}if(d>0){t[g]=t[d];for(let b=d*o,M=g*o,O=0;O!==o;++O)e[M+O]=e[b+O];++g}return g!==t.length?(this.times=ua.arraySlice(t,0,g),this.values=ua.arraySlice(e,0,g*o)):(this.times=t,this.values=e),this}clone(){const t=ua.arraySlice(this.times,0),e=ua.arraySlice(this.values,0),l=new(0,this.constructor)(this.name,t,e);return l.createInterpolant=this.createInterpolant,l}}J0.prototype.TimeBufferType=Float32Array,J0.prototype.ValueBufferType=Float32Array,J0.prototype.DefaultInterpolation=2301;class UT extends J0{}UT.prototype.ValueTypeName="bool",UT.prototype.ValueBufferType=Array,UT.prototype.DefaultInterpolation=2300,UT.prototype.InterpolantFactoryMethodLinear=void 0,UT.prototype.InterpolantFactoryMethodSmooth=void 0;class EU extends J0{}EU.prototype.ValueTypeName="color";class LL extends J0{}LL.prototype.ValueTypeName="number";class Hq extends vP{constructor(t,e,o,l){super(t,e,o,l)}interpolate_(t,e,o,l){const d=this.resultBuffer,g=this.sampleValues,b=this.valueSize,M=(o-e)/(l-e);let O=t*b;for(let T=O+b;O!==T;O+=4)cd.slerpFlat(d,0,g,O-b,g,O,M);return d}}class uR extends J0{InterpolantFactoryMethodLinear(t){return new Hq(this.times,this.values,this.getValueSize(),t)}}uR.prototype.ValueTypeName="quaternion",uR.prototype.DefaultInterpolation=2301,uR.prototype.InterpolantFactoryMethodSmooth=void 0;class VT extends J0{}VT.prototype.ValueTypeName="string",VT.prototype.ValueBufferType=Array,VT.prototype.DefaultInterpolation=2300,VT.prototype.InterpolantFactoryMethodLinear=void 0,VT.prototype.InterpolantFactoryMethodSmooth=void 0;class FL extends J0{}FL.prototype.ValueTypeName="vector";class NL{constructor(t,e=-1,o,l=2500){this.name=t,this.tracks=o,this.duration=e,this.blendMode=l,this.uuid=Yh(),this.duration<0&&this.resetDuration()}static parse(t){const e=[],o=t.tracks,l=1/(t.fps||1);for(let g=0,b=o.length;g!==b;++g)e.push(jq(o[g]).scale(l));const d=new this(t.name,t.duration,e,t.blendMode);return d.uuid=t.uuid,d}static toJSON(t){const e=[],o=t.tracks,l={name:t.name,duration:t.duration,tracks:e,uuid:t.uuid,blendMode:t.blendMode};for(let d=0,g=o.length;d!==g;++d)e.push(J0.toJSON(o[d]));return l}static CreateFromMorphTargetSequence(t,e,o,l){const d=e.length,g=[];for(let b=0;b<d;b++){let M=[],O=[];M.push((b+d-1)%d,b,(b+1)%d),O.push(0,1,0);const T=ua.getKeyframeOrder(M);M=ua.sortedArray(M,1,T),O=ua.sortedArray(O,1,T),!l&&0===M[0]&&(M.push(d),O.push(O[0])),g.push(new LL(".morphTargetInfluences["+e[b].name+"]",M,O).scale(1/o))}return new this(t,-1,g)}static findByName(t,e){let o=t;if(!Array.isArray(t)){const l=t;o=l.geometry&&l.geometry.animations||l.animations}for(let l=0;l<o.length;l++)if(o[l].name===e)return o[l];return null}static CreateClipsFromMorphTargetSequences(t,e,o){const l={},d=/^([\w-]*?)([\d]+)$/;for(let b=0,M=t.length;b<M;b++){const O=t[b],T=O.name.match(d);if(T&&T.length>1){const D=T[1];let R=l[D];R||(l[D]=R=[]),R.push(O)}}const g=[];for(const b in l)g.push(this.CreateFromMorphTargetSequence(b,l[b],e,o));return g}static parseAnimation(t,e){if(!t)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const o=function(D,R,k,U,j){if(0!==k.length){const Z=[],W=[];ua.flattenJSON(k,Z,W,U),0!==Z.length&&j.push(new D(R,Z,W))}},l=[],d=t.name||"default",g=t.fps||30,b=t.blendMode;let M=t.length||-1;const O=t.hierarchy||[];for(let D=0;D<O.length;D++){const R=O[D].keys;if(R&&0!==R.length)if(R[0].morphTargets){const k={};let U;for(U=0;U<R.length;U++)if(R[U].morphTargets)for(let j=0;j<R[U].morphTargets.length;j++)k[R[U].morphTargets[j]]=-1;for(const j in k){const Z=[],W=[];for(let H=0;H!==R[U].morphTargets.length;++H){const rt=R[U];Z.push(rt.time),W.push(rt.morphTarget===j?1:0)}l.push(new LL(".morphTargetInfluence["+j+"]",Z,W))}M=k.length*(g||1)}else{const k=".bones["+e[D].name+"]";o(FL,k+".position",R,"pos",l),o(uR,k+".quaternion",R,"rot",l),o(FL,k+".scale",R,"scl",l)}}return 0===l.length?null:new this(d,M,l,b)}resetDuration(){let e=0;for(let o=0,l=this.tracks.length;o!==l;++o){const d=this.tracks[o];e=Math.max(e,d.times[d.times.length-1])}return this.duration=e,this}trim(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].trim(0,this.duration);return this}validate(){let t=!0;for(let e=0;e<this.tracks.length;e++)t=t&&this.tracks[e].validate();return t}optimize(){for(let t=0;t<this.tracks.length;t++)this.tracks[t].optimize();return this}clone(){const t=[];for(let e=0;e<this.tracks.length;e++)t.push(this.tracks[e].clone());return new this.constructor(this.name,this.duration,t,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function jq(a){if(void 0===a.type)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const t=function(a){switch(a.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return LL;case"vector":case"vector2":case"vector3":case"vector4":return FL;case"color":return EU;case"quaternion":return uR;case"bool":case"boolean":return UT;case"string":return VT}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+a)}(a.type);if(void 0===a.times){const e=[],o=[];ua.flattenJSON(a.keys,e,o,"value"),a.times=e,a.values=o}return void 0!==t.parse?t.parse(a):new t(a.name,a.times,a.values,a.interpolation)}const zT={enabled:!1,files:{},add:function(a,t){!1!==this.enabled&&(this.files[a]=t)},get:function(a){if(!1!==this.enabled)return this.files[a]},remove:function(a){delete this.files[a]},clear:function(){this.files={}}};const Wq=new class{constructor(t,e,o){const l=this;let M,d=!1,g=0,b=0;const O=[];this.onStart=void 0,this.onLoad=t,this.onProgress=e,this.onError=o,this.itemStart=function(T){b++,!1===d&&void 0!==l.onStart&&l.onStart(T,g,b),d=!0},this.itemEnd=function(T){g++,void 0!==l.onProgress&&l.onProgress(T,g,b),g===b&&(d=!1,void 0!==l.onLoad&&l.onLoad())},this.itemError=function(T){void 0!==l.onError&&l.onError(T)},this.resolveURL=function(T){return M?M(T):T},this.setURLModifier=function(T){return M=T,this},this.addHandler=function(T,D){return O.push(T,D),this},this.removeHandler=function(T){const D=O.indexOf(T);return-1!==D&&O.splice(D,2),this},this.getHandler=function(T){for(let D=0,R=O.length;D<R;D+=2){const k=O[D],U=O[D+1];if(k.global&&(k.lastIndex=0),k.test(T))return U}return null}}};class _P{constructor(t){this.manager=void 0!==t?t:Wq,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(t,e){const o=this;return new Promise(function(l,d){o.load(t,l,e,d)})}parse(){}setCrossOrigin(t){return this.crossOrigin=t,this}setWithCredentials(t){return this.withCredentials=t,this}setPath(t){return this.path=t,this}setResourcePath(t){return this.resourcePath=t,this}setRequestHeader(t){return this.requestHeader=t,this}}const gv={};class tb extends _P{constructor(t){super(t)}load(t,e,o,l){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,g=zT.get(t);if(void 0!==g)return d.manager.itemStart(t),setTimeout(function(){e&&e(g),d.manager.itemEnd(t)},0),g;if(void 0!==gv[t])return void gv[t].push({onLoad:e,onProgress:o,onError:l});const M=t.match(/^data:(.*?)(;base64)?,(.*)$/);let O;if(M){const T=M[1],D=!!M[2];let R=M[3];R=decodeURIComponent(R),D&&(R=atob(R));try{let k;const U=(this.responseType||"").toLowerCase();switch(U){case"arraybuffer":case"blob":const j=new Uint8Array(R.length);for(let W=0;W<R.length;W++)j[W]=R.charCodeAt(W);k="blob"===U?new Blob([j.buffer],{type:T}):j.buffer;break;case"document":k=(new DOMParser).parseFromString(R,T);break;case"json":k=JSON.parse(R);break;default:k=R}setTimeout(function(){e&&e(k),d.manager.itemEnd(t)},0)}catch(k){setTimeout(function(){l&&l(k),d.manager.itemError(t),d.manager.itemEnd(t)},0)}}else{gv[t]=[],gv[t].push({onLoad:e,onProgress:o,onError:l}),O=new XMLHttpRequest,O.open("GET",t,!0),O.addEventListener("load",function(T){const D=this.response,R=gv[t];if(delete gv[t],200===this.status||0===this.status){0===this.status&&console.warn("THREE.FileLoader: HTTP Status 0 received."),zT.add(t,D);for(let k=0,U=R.length;k<U;k++){const j=R[k];j.onLoad&&j.onLoad(D)}d.manager.itemEnd(t)}else{for(let k=0,U=R.length;k<U;k++){const j=R[k];j.onError&&j.onError(T)}d.manager.itemError(t),d.manager.itemEnd(t)}},!1),O.addEventListener("progress",function(T){const D=gv[t];for(let R=0,k=D.length;R<k;R++){const U=D[R];U.onProgress&&U.onProgress(T)}},!1),O.addEventListener("error",function(T){const D=gv[t];delete gv[t];for(let R=0,k=D.length;R<k;R++){const U=D[R];U.onError&&U.onError(T)}d.manager.itemError(t),d.manager.itemEnd(t)},!1),O.addEventListener("abort",function(T){const D=gv[t];delete gv[t];for(let R=0,k=D.length;R<k;R++){const U=D[R];U.onError&&U.onError(T)}d.manager.itemError(t),d.manager.itemEnd(t)},!1),void 0!==this.responseType&&(O.responseType=this.responseType),void 0!==this.withCredentials&&(O.withCredentials=this.withCredentials),O.overrideMimeType&&O.overrideMimeType(void 0!==this.mimeType?this.mimeType:"text/plain");for(const T in this.requestHeader)O.setRequestHeader(T,this.requestHeader[T]);O.send(null)}return d.manager.itemStart(t),O}setResponseType(t){return this.responseType=t,this}setMimeType(t){return this.mimeType=t,this}}class BL extends _P{constructor(t){super(t)}load(t,e,o,l){void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,g=zT.get(t);if(void 0!==g)return d.manager.itemStart(t),setTimeout(function(){e&&e(g),d.manager.itemEnd(t)},0),g;const b=document.createElementNS("http://www.w3.org/1999/xhtml","img");function M(){b.removeEventListener("load",M,!1),b.removeEventListener("error",O,!1),zT.add(t,this),e&&e(this),d.manager.itemEnd(t)}function O(T){b.removeEventListener("load",M,!1),b.removeEventListener("error",O,!1),l&&l(T),d.manager.itemError(t),d.manager.itemEnd(t)}return b.addEventListener("load",M,!1),b.addEventListener("error",O,!1),"data:"!==t.substr(0,5)&&void 0!==this.crossOrigin&&(b.crossOrigin=this.crossOrigin),d.manager.itemStart(t),b.src=t,b}}class qq extends _P{constructor(t){super(t)}load(t,e,o,l){const d=new $I,g=new BL(this.manager);g.setCrossOrigin(this.crossOrigin),g.setPath(this.path);let b=0;function M(O){g.load(t[O],function(T){d.images[O]=T,b++,6===b&&(d.needsUpdate=!0,e&&e(d))},void 0,l)}for(let O=0;O<t.length;++O)M(O);return d}}class Yq extends _P{constructor(t){super(t)}load(t,e,o,l){const d=new Il,g=new BL(this.manager);return g.setCrossOrigin(this.crossOrigin),g.setPath(this.path),g.load(t,function(b){d.image=b;const M=t.search(/\.jpe?g($|\?)/i)>0||0===t.search(/^data\:image\/jpeg/);d.format=M?nP:Zp,d.needsUpdate=!0,void 0!==e&&e(d)},o,l),d}}class Xq extends dg{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(t){this.curves.push(t)}closePath(){const t=this.curves[0].getPoint(0),e=this.curves[this.curves.length-1].getPoint(1);t.equals(e)||this.curves.push(new PL(e,t))}getPoint(t){const e=t*this.getLength(),o=this.getCurveLengths();let l=0;for(;l<o.length;){if(o[l]>=e){const d=o[l]-e,g=this.curves[l],b=g.getLength();return g.getPointAt(0===b?0:1-d/b)}l++}return null}getLength(){const t=this.getCurveLengths();return t[t.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const t=[];let e=0;for(let o=0,l=this.curves.length;o<l;o++)e+=this.curves[o].getLength(),t.push(e);return this.cacheLengths=t,t}getSpacedPoints(t=40){const e=[];for(let o=0;o<=t;o++)e.push(this.getPoint(o/t));return this.autoClose&&e.push(e[0]),e}getPoints(t=12){const e=[];let o;for(let l=0,d=this.curves;l<d.length;l++){const g=d[l],M=g.getPoints(g&&g.isEllipseCurve?2*t:g&&(g.isLineCurve||g.isLineCurve3)?1:g&&g.isSplineCurve?t*g.points.length:t);for(let O=0;O<M.length;O++){const T=M[O];o&&o.equals(T)||(e.push(T),o=T)}}return this.autoClose&&e.length>1&&!e[e.length-1].equals(e[0])&&e.push(e[0]),e}copy(t){super.copy(t),this.curves=[];for(let e=0,o=t.curves.length;e<o;e++)this.curves.push(t.curves[e].clone());return this.autoClose=t.autoClose,this}toJSON(){const t=super.toJSON();t.autoClose=this.autoClose,t.curves=[];for(let e=0,o=this.curves.length;e<o;e++)t.curves.push(this.curves[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.autoClose=t.autoClose,this.curves=[];for(let e=0,o=t.curves.length;e<o;e++){const l=t.curves[e];this.curves.push((new NN[l.type]).fromJSON(l))}return this}}class UL extends Xq{constructor(t){super(),this.type="Path",this.currentPoint=new vn,t&&this.setFromPoints(t)}setFromPoints(t){this.moveTo(t[0].x,t[0].y);for(let e=1,o=t.length;e<o;e++)this.lineTo(t[e].x,t[e].y);return this}moveTo(t,e){return this.currentPoint.set(t,e),this}lineTo(t,e){const o=new PL(this.currentPoint.clone(),new vn(t,e));return this.curves.push(o),this.currentPoint.set(t,e),this}quadraticCurveTo(t,e,o,l){const d=new LN(this.currentPoint.clone(),new vn(t,e),new vn(o,l));return this.curves.push(d),this.currentPoint.set(o,l),this}bezierCurveTo(t,e,o,l,d,g){const b=new kN(this.currentPoint.clone(),new vn(t,e),new vn(o,l),new vn(d,g));return this.curves.push(b),this.currentPoint.set(d,g),this}splineThru(t){const e=[this.currentPoint.clone()].concat(t),o=new FN(e);return this.curves.push(o),this.currentPoint.copy(t[t.length-1]),this}arc(t,e,o,l,d,g){return this.absarc(t+this.currentPoint.x,e+this.currentPoint.y,o,l,d,g),this}absarc(t,e,o,l,d,g){return this.absellipse(t,e,o,o,l,d,g),this}ellipse(t,e,o,l,d,g,b,M){return this.absellipse(t+this.currentPoint.x,e+this.currentPoint.y,o,l,d,g,b,M),this}absellipse(t,e,o,l,d,g,b,M){const O=new CL(t,e,o,l,d,g,b,M);if(this.curves.length>0){const D=O.getPoint(0);D.equals(this.currentPoint)||this.lineTo(D.x,D.y)}this.curves.push(O);const T=O.getPoint(1);return this.currentPoint.copy(T),this}copy(t){return super.copy(t),this.currentPoint.copy(t.currentPoint),this}toJSON(){const t=super.toJSON();return t.currentPoint=this.currentPoint.toArray(),t}fromJSON(t){return super.fromJSON(t),this.currentPoint.fromArray(t.currentPoint),this}}class sE extends UL{constructor(t){super(t),this.uuid=Yh(),this.type="Shape",this.holes=[]}getPointsHoles(t){const e=[];for(let o=0,l=this.holes.length;o<l;o++)e[o]=this.holes[o].getPoints(t);return e}extractPoints(t){return{shape:this.getPoints(t),holes:this.getPointsHoles(t)}}copy(t){super.copy(t),this.holes=[];for(let e=0,o=t.holes.length;e<o;e++)this.holes.push(t.holes[e].clone());return this}toJSON(){const t=super.toJSON();t.uuid=this.uuid,t.holes=[];for(let e=0,o=this.holes.length;e<o;e++)t.holes.push(this.holes[e].toJSON());return t}fromJSON(t){super.fromJSON(t),this.uuid=t.uuid,this.holes=[];for(let e=0,o=t.holes.length;e<o;e++){const l=t.holes[e];this.holes.push((new UL).fromJSON(l))}return this}}class eb extends ts{constructor(t,e=1){super(),this.type="Light",this.color=new zn(t),this.intensity=e}dispose(){}copy(t){return super.copy(t),this.color.copy(t.color),this.intensity=t.intensity,this}toJSON(t){const e=super.toJSON(t);return e.object.color=this.color.getHex(),e.object.intensity=this.intensity,void 0!==this.groundColor&&(e.object.groundColor=this.groundColor.getHex()),void 0!==this.distance&&(e.object.distance=this.distance),void 0!==this.angle&&(e.object.angle=this.angle),void 0!==this.decay&&(e.object.decay=this.decay),void 0!==this.penumbra&&(e.object.penumbra=this.penumbra),void 0!==this.shadow&&(e.object.shadow=this.shadow.toJSON()),e}}eb.prototype.isLight=!0;(class extends eb{constructor(t,e,o){super(t,o),this.type="HemisphereLight",this.position.copy(ts.DefaultUp),this.updateMatrix(),this.groundColor=new zn(e)}copy(t){return eb.prototype.copy.call(this,t),this.groundColor.copy(t.groundColor),this}}).prototype.isHemisphereLight=!0;const TU=new fr,DU=new Ot,IU=new Ot;class zN{constructor(t){this.camera=t,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new vn(512,512),this.map=null,this.mapPass=null,this.matrix=new fr,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new eL,this._frameExtents=new vn(1,1),this._viewportCount=1,this._viewports=[new gs(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(t){const e=this.camera,o=this.matrix;DU.setFromMatrixPosition(t.matrixWorld),e.position.copy(DU),IU.setFromMatrixPosition(t.target.matrixWorld),e.lookAt(IU),e.updateMatrixWorld(),TU.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),this._frustum.setFromProjectionMatrix(TU),o.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),o.multiply(e.projectionMatrix),o.multiply(e.matrixWorldInverse)}getViewport(t){return this._viewports[t]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(t){return this.camera=t.camera.clone(),this.bias=t.bias,this.radius=t.radius,this.mapSize.copy(t.mapSize),this}clone(){return(new this.constructor).copy(this)}toJSON(){const t={};return 0!==this.bias&&(t.bias=this.bias),0!==this.normalBias&&(t.normalBias=this.normalBias),1!==this.radius&&(t.radius=this.radius),(512!==this.mapSize.x||512!==this.mapSize.y)&&(t.mapSize=this.mapSize.toArray()),t.camera=this.camera.toJSON(!1).object,delete t.camera.matrix,t}}class RU extends zN{constructor(){super(new uu(50,1,.5,500)),this.focus=1}updateMatrices(t){const e=this.camera,o=2*zI*t.angle*this.focus,l=this.mapSize.width/this.mapSize.height,d=t.distance||e.far;(o!==e.fov||l!==e.aspect||d!==e.far)&&(e.fov=o,e.aspect=l,e.far=d,e.updateProjectionMatrix()),super.updateMatrices(t)}copy(t){return super.copy(t),this.focus=t.focus,this}}RU.prototype.isSpotLightShadow=!0;(class extends eb{constructor(t,e,o=0,l=Math.PI/3,d=0,g=1){super(t,e),this.type="SpotLight",this.position.copy(ts.DefaultUp),this.updateMatrix(),this.target=new ts,this.distance=o,this.angle=l,this.penumbra=d,this.decay=g,this.shadow=new RU}get power(){return this.intensity*Math.PI}set power(t){this.intensity=t/Math.PI}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.angle=t.angle,this.penumbra=t.penumbra,this.decay=t.decay,this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}).prototype.isSpotLight=!0;const LU=new fr,dR=new Ot,HN=new Ot;class FU extends zN{constructor(){super(new uu(90,1,.5,500)),this._frameExtents=new vn(4,2),this._viewportCount=6,this._viewports=[new gs(2,1,1,1),new gs(0,1,1,1),new gs(3,1,1,1),new gs(1,1,1,1),new gs(3,0,1,1),new gs(1,0,1,1)],this._cubeDirections=[new Ot(1,0,0),new Ot(-1,0,0),new Ot(0,0,1),new Ot(0,0,-1),new Ot(0,1,0),new Ot(0,-1,0)],this._cubeUps=[new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,1,0),new Ot(0,0,1),new Ot(0,0,-1)]}updateMatrices(t,e=0){const o=this.camera,l=this.matrix,d=t.distance||o.far;d!==o.far&&(o.far=d,o.updateProjectionMatrix()),dR.setFromMatrixPosition(t.matrixWorld),o.position.copy(dR),HN.copy(o.position),HN.add(this._cubeDirections[e]),o.up.copy(this._cubeUps[e]),o.lookAt(HN),o.updateMatrixWorld(),l.makeTranslation(-dR.x,-dR.y,-dR.z),LU.multiplyMatrices(o.projectionMatrix,o.matrixWorldInverse),this._frustum.setFromProjectionMatrix(LU)}}FU.prototype.isPointLightShadow=!0;(class extends eb{constructor(t,e,o=0,l=1){super(t,e),this.type="PointLight",this.distance=o,this.decay=l,this.shadow=new FU}get power(){return 4*this.intensity*Math.PI}set power(t){this.intensity=t/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.distance=t.distance,this.decay=t.decay,this.shadow=t.shadow.clone(),this}}).prototype.isPointLight=!0;class BU extends zN{constructor(){super(new nL(-5,5,5,-5,.5,500))}}BU.prototype.isDirectionalLightShadow=!0;(class extends eb{constructor(t,e){super(t,e),this.type="DirectionalLight",this.position.copy(ts.DefaultUp),this.updateMatrix(),this.target=new ts,this.shadow=new BU}dispose(){this.shadow.dispose()}copy(t){return super.copy(t),this.target=t.target.clone(),this.shadow=t.shadow.clone(),this}}).prototype.isDirectionalLight=!0;(class extends eb{constructor(t,e){super(t,e),this.type="AmbientLight"}}).prototype.isAmbientLight=!0;(class extends eb{constructor(t,e,o=10,l=10){super(t,e),this.type="RectAreaLight",this.width=o,this.height=l}get power(){return this.intensity*this.width*this.height*Math.PI}set power(t){this.intensity=t/(this.width*this.height*Math.PI)}copy(t){return super.copy(t),this.width=t.width,this.height=t.height,this}toJSON(t){const e=super.toJSON(t);return e.object.width=this.width,e.object.height=this.height,e}}).prototype.isRectAreaLight=!0;class HU{constructor(){this.coefficients=[];for(let t=0;t<9;t++)this.coefficients.push(new Ot)}set(t){for(let e=0;e<9;e++)this.coefficients[e].copy(t[e]);return this}zero(){for(let t=0;t<9;t++)this.coefficients[t].set(0,0,0);return this}getAt(t,e){const o=t.x,l=t.y,d=t.z,g=this.coefficients;return e.copy(g[0]).multiplyScalar(.282095),e.addScaledVector(g[1],.488603*l),e.addScaledVector(g[2],.488603*d),e.addScaledVector(g[3],.488603*o),e.addScaledVector(g[4],o*l*1.092548),e.addScaledVector(g[5],l*d*1.092548),e.addScaledVector(g[6],.315392*(3*d*d-1)),e.addScaledVector(g[7],o*d*1.092548),e.addScaledVector(g[8],.546274*(o*o-l*l)),e}getIrradianceAt(t,e){const o=t.x,l=t.y,d=t.z,g=this.coefficients;return e.copy(g[0]).multiplyScalar(.886227),e.addScaledVector(g[1],1.023328*l),e.addScaledVector(g[2],1.023328*d),e.addScaledVector(g[3],1.023328*o),e.addScaledVector(g[4],.858086*o*l),e.addScaledVector(g[5],.858086*l*d),e.addScaledVector(g[6],.743125*d*d-.247708),e.addScaledVector(g[7],.858086*o*d),e.addScaledVector(g[8],.429043*(o*o-l*l)),e}add(t){for(let e=0;e<9;e++)this.coefficients[e].add(t.coefficients[e]);return this}addScaledSH(t,e){for(let o=0;o<9;o++)this.coefficients[o].addScaledVector(t.coefficients[o],e);return this}scale(t){for(let e=0;e<9;e++)this.coefficients[e].multiplyScalar(t);return this}lerp(t,e){for(let o=0;o<9;o++)this.coefficients[o].lerp(t.coefficients[o],e);return this}equals(t){for(let e=0;e<9;e++)if(!this.coefficients[e].equals(t.coefficients[e]))return!1;return!0}copy(t){return this.set(t.coefficients)}clone(){return(new this.constructor).copy(this)}fromArray(t,e=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].fromArray(t,e+3*l);return this}toArray(t=[],e=0){const o=this.coefficients;for(let l=0;l<9;l++)o[l].toArray(t,e+3*l);return t}static getBasisAt(t,e){const o=t.x,l=t.y,d=t.z;e[0]=.282095,e[1]=.488603*l,e[2]=.488603*d,e[3]=.488603*o,e[4]=1.092548*o*l,e[5]=1.092548*l*d,e[6]=.315392*(3*d*d-1),e[7]=1.092548*o*d,e[8]=.546274*(o*o-l*l)}}HU.prototype.isSphericalHarmonics3=!0;class VL extends eb{constructor(t=new HU,e=1){super(void 0,e),this.sh=t}copy(t){return super.copy(t),this.sh.copy(t.sh),this}fromJSON(t){return this.intensity=t.intensity,this.sh.fromArray(t.sh),this}toJSON(t){const e=super.toJSON(t);return e.object.sh=this.sh.toArray(),e}}VL.prototype.isLightProbe=!0;(class extends Qr{constructor(){super(),this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(t){return super.copy(t),this.instanceCount=t.instanceCount,this}clone(){return(new this.constructor).copy(this)}toJSON(){const t=super.toJSON(this);return t.instanceCount=this.instanceCount,t.isInstancedBufferGeometry=!0,t}}).prototype.isInstancedBufferGeometry=!0,class extends _P{constructor(t){super(t),"undefined"==typeof createImageBitmap&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),"undefined"==typeof fetch&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(t){return this.options=t,this}load(t,e,o,l){void 0===t&&(t=""),void 0!==this.path&&(t=this.path+t),t=this.manager.resolveURL(t);const d=this,g=zT.get(t);if(void 0!==g)return d.manager.itemStart(t),setTimeout(function(){e&&e(g),d.manager.itemEnd(t)},0),g;const b={};b.credentials="anonymous"===this.crossOrigin?"same-origin":"include",b.headers=this.requestHeader,fetch(t,b).then(function(M){return M.blob()}).then(function(M){return createImageBitmap(M,Object.assign(d.options,{colorSpaceConversion:"none"}))}).then(function(M){zT.add(t,M),e&&e(M),d.manager.itemEnd(t)}).catch(function(M){l&&l(M),d.manager.itemError(t),d.manager.itemEnd(t)}),d.manager.itemStart(t)}}.prototype.isImageBitmapLoader=!0;let zL;class r$ extends _P{constructor(t){super(t)}load(t,e,o,l){const d=this,g=new tb(this.manager);g.setResponseType("arraybuffer"),g.setPath(this.path),g.setRequestHeader(this.requestHeader),g.setWithCredentials(this.withCredentials),g.load(t,function(b){try{const M=b.slice(0);(void 0===zL&&(zL=new(window.AudioContext||window.webkitAudioContext)),zL).decodeAudioData(M,function(T){e(T)})}catch(M){l?l(M):console.error(M),d.manager.itemError(t)}},o,l)}}(class extends VL{constructor(t,e,o=1){super(void 0,o);const l=(new zn).set(t),d=(new zn).set(e),g=new Ot(l.r,l.g,l.b),b=new Ot(d.r,d.g,d.b),M=Math.sqrt(Math.PI),O=M*Math.sqrt(.75);this.sh.coefficients[0].copy(g).add(b).multiplyScalar(M),this.sh.coefficients[1].copy(g).sub(b).multiplyScalar(O)}}).prototype.isHemisphereLightProbe=!0,class extends VL{constructor(t,e=1){super(void 0,e);const o=(new zn).set(t);this.sh.coefficients[0].set(o.r,o.g,o.b).multiplyScalar(2*Math.sqrt(Math.PI))}}.prototype.isAmbientLightProbe=!0;class d${constructor(t,e,o){let l,d,g;switch(this.binding=t,this.valueSize=o,e){case"quaternion":l=this._slerp,d=this._slerpAdditive,g=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(6*o),this._workIndex=5;break;case"string":case"bool":l=this._select,d=this._select,g=this._setAdditiveIdentityOther,this.buffer=new Array(5*o);break;default:l=this._lerp,d=this._lerpAdditive,g=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(5*o)}this._mixBufferRegion=l,this._mixBufferRegionAdditive=d,this._setIdentity=g,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(t,e){const o=this.buffer,l=this.valueSize,d=t*l+l;let g=this.cumulativeWeight;if(0===g){for(let b=0;b!==l;++b)o[d+b]=o[b];g=e}else g+=e,this._mixBufferRegion(o,d,0,e/g,l);this.cumulativeWeight=g}accumulateAdditive(t){const e=this.buffer,o=this.valueSize,l=o*this._addIndex;0===this.cumulativeWeightAdditive&&this._setIdentity(),this._mixBufferRegionAdditive(e,l,0,t,o),this.cumulativeWeightAdditive+=t}apply(t){const e=this.valueSize,o=this.buffer,l=t*e+e,d=this.cumulativeWeight,g=this.cumulativeWeightAdditive,b=this.binding;this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,d<1&&this._mixBufferRegion(o,l,e*this._origIndex,1-d,e),g>0&&this._mixBufferRegionAdditive(o,l,this._addIndex*e,1,e);for(let M=e,O=e+e;M!==O;++M)if(o[M]!==o[M+e]){b.setValue(o,l);break}}saveOriginalState(){const e=this.buffer,o=this.valueSize,l=o*this._origIndex;this.binding.getValue(e,l);for(let d=o,g=l;d!==g;++d)e[d]=e[l+d%o];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){this.binding.setValue(this.buffer,3*this.valueSize)}_setAdditiveIdentityNumeric(){const t=this._addIndex*this.valueSize,e=t+this.valueSize;for(let o=t;o<e;o++)this.buffer[o]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const t=this._origIndex*this.valueSize,e=this._addIndex*this.valueSize;for(let o=0;o<this.valueSize;o++)this.buffer[e+o]=this.buffer[t+o]}_select(t,e,o,l,d){if(l>=.5)for(let g=0;g!==d;++g)t[e+g]=t[o+g]}_slerp(t,e,o,l){cd.slerpFlat(t,e,t,e,t,o,l)}_slerpAdditive(t,e,o,l,d){const g=this._workIndex*d;cd.multiplyQuaternionsFlat(t,g,t,e,t,o),cd.slerpFlat(t,e,t,e,t,g,l)}_lerp(t,e,o,l,d){const g=1-l;for(let b=0;b!==d;++b){const M=e+b;t[M]=t[M]*g+t[o+b]*l}}_lerpAdditive(t,e,o,l,d){for(let g=0;g!==d;++g){const b=e+g;t[b]=t[b]+t[o+g]*l}}}const jN="\\[\\]\\.:\\/",p$=new RegExp("["+jN+"]","g"),WN="[^"+jN+"]",h$="[^"+jN.replace("\\.","")+"]",f$=/((?:WC+[\/:])*)/.source.replace("WC",WN),g$=/(WCOD+)?/.source.replace("WCOD",h$),m$=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",WN),v$=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",WN),_$=new RegExp("^"+f$+g$+m$+v$+"$"),b$=["material","materials","bones"];class y${constructor(t,e,o){const l=o||Qs.parseTrackName(e);this._targetGroup=t,this._bindings=t.subscribe_(e,l)}getValue(t,e){this.bind();const l=this._bindings[this._targetGroup.nCachedObjects_];void 0!==l&&l.getValue(t,e)}setValue(t,e){const o=this._bindings;for(let l=this._targetGroup.nCachedObjects_,d=o.length;l!==d;++l)o[l].setValue(t,e)}bind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,o=t.length;e!==o;++e)t[e].bind()}unbind(){const t=this._bindings;for(let e=this._targetGroup.nCachedObjects_,o=t.length;e!==o;++e)t[e].unbind()}}let Qs=(()=>{class a{constructor(e,o,l){this.path=o,this.parsedPath=l||a.parseTrackName(o),this.node=a.findNode(e,this.parsedPath.nodeName)||e,this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,o,l){return e&&e.isAnimationObjectGroup?new a.Composite(e,o,l):new a(e,o,l)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(p$,"")}static parseTrackName(e){const o=_$.exec(e);if(!o)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const l={nodeName:o[2],objectName:o[3],objectIndex:o[4],propertyName:o[5],propertyIndex:o[6]},d=l.nodeName&&l.nodeName.lastIndexOf(".");if(void 0!==d&&-1!==d){const g=l.nodeName.substring(d+1);-1!==b$.indexOf(g)&&(l.nodeName=l.nodeName.substring(0,d),l.objectName=g)}if(null===l.propertyName||0===l.propertyName.length)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return l}static findNode(e,o){if(!o||""===o||"."===o||-1===o||o===e.name||o===e.uuid)return e;if(e.skeleton){const l=e.skeleton.getBoneByName(o);if(void 0!==l)return l}if(e.children){const l=function(g){for(let b=0;b<g.length;b++){const M=g[b];if(M.name===o||M.uuid===o)return M;const O=l(M.children);if(O)return O}return null},d=l(e.children);if(d)return d}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,o){e[o]=this.targetObject[this.propertyName]}_getValue_array(e,o){const l=this.resolvedProperty;for(let d=0,g=l.length;d!==g;++d)e[o++]=l[d]}_getValue_arrayElement(e,o){e[o]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,o){this.resolvedProperty.toArray(e,o)}_setValue_direct(e,o){this.targetObject[this.propertyName]=e[o]}_setValue_direct_setNeedsUpdate(e,o){this.targetObject[this.propertyName]=e[o],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,o){this.targetObject[this.propertyName]=e[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,o){const l=this.resolvedProperty;for(let d=0,g=l.length;d!==g;++d)l[d]=e[o++]}_setValue_array_setNeedsUpdate(e,o){const l=this.resolvedProperty;for(let d=0,g=l.length;d!==g;++d)l[d]=e[o++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,o){const l=this.resolvedProperty;for(let d=0,g=l.length;d!==g;++d)l[d]=e[o++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,o){this.resolvedProperty[this.propertyIndex]=e[o]}_setValue_arrayElement_setNeedsUpdate(e,o){this.resolvedProperty[this.propertyIndex]=e[o],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,o){this.resolvedProperty[this.propertyIndex]=e[o],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,o){this.resolvedProperty.fromArray(e,o)}_setValue_fromArray_setNeedsUpdate(e,o){this.resolvedProperty.fromArray(e,o),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,o){this.resolvedProperty.fromArray(e,o),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,o){this.bind(),this.getValue(e,o)}_setValue_unbound(e,o){this.bind(),this.setValue(e,o)}bind(){let e=this.node;const o=this.parsedPath,l=o.objectName,d=o.propertyName;let g=o.propertyIndex;if(e||(e=a.findNode(this.rootNode,o.nodeName)||this.rootNode,this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e)return void console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");if(l){let T=o.objectIndex;switch(l){case"materials":if(!e.material)return void console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);if(!e.material.materials)return void console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);e=e.material.materials;break;case"bones":if(!e.skeleton)return void console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);e=e.skeleton.bones;for(let D=0;D<e.length;D++)if(e[D].name===T){T=D;break}break;default:if(void 0===e[l])return void console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);e=e[l]}if(void 0!==T){if(void 0===e[T])return void console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);e=e[T]}}const b=e[d];if(void 0===b)return void console.error("THREE.PropertyBinding: Trying to update property for track: "+o.nodeName+"."+d+" but it wasn't found.",e);let M=this.Versioning.None;this.targetObject=e,void 0!==e.needsUpdate?M=this.Versioning.NeedsUpdate:void 0!==e.matrixWorldNeedsUpdate&&(M=this.Versioning.MatrixWorldNeedsUpdate);let O=this.BindingType.Direct;if(void 0!==g){if("morphTargetInfluences"===d){if(!e.geometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);if(!e.geometry.isBufferGeometry)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences on THREE.Geometry. Use THREE.BufferGeometry instead.",this);if(!e.geometry.morphAttributes)return void console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);void 0!==e.morphTargetDictionary[g]&&(g=e.morphTargetDictionary[g])}O=this.BindingType.ArrayElement,this.resolvedProperty=b,this.propertyIndex=g}else void 0!==b.fromArray&&void 0!==b.toArray?(O=this.BindingType.HasFromToArray,this.resolvedProperty=b):Array.isArray(b)?(O=this.BindingType.EntireArray,this.resolvedProperty=b):this.propertyName=d;this.getValue=this.GetterByBindingType[O],this.setValue=this.SetterByBindingTypeAndVersioning[O][M]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}return a.Composite=y$,a})();Qs.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3},Qs.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2},Qs.prototype.GetterByBindingType=[Qs.prototype._getValue_direct,Qs.prototype._getValue_array,Qs.prototype._getValue_arrayElement,Qs.prototype._getValue_toArray],Qs.prototype.SetterByBindingTypeAndVersioning=[[Qs.prototype._setValue_direct,Qs.prototype._setValue_direct_setNeedsUpdate,Qs.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Qs.prototype._setValue_array,Qs.prototype._setValue_array_setNeedsUpdate,Qs.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Qs.prototype._setValue_arrayElement,Qs.prototype._setValue_arrayElement_setNeedsUpdate,Qs.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Qs.prototype._setValue_fromArray,Qs.prototype._setValue_fromArray_setNeedsUpdate,Qs.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class C${constructor(t,e,o=null,l=e.blendMode){this._mixer=t,this._clip=e,this._localRoot=o,this.blendMode=l;const d=e.tracks,g=d.length,b=new Array(g),M={endingStart:rT,endingEnd:rT};for(let O=0;O!==g;++O){const T=d[O].createInterpolant(null);b[O]=T,T.settings=M}this._interpolantSettings=M,this._interpolants=b,this._propertyBindings=new Array(g),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=2201,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&0!==this.timeScale&&null===this._startTime&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(t){return this._startTime=t,this}setLoop(t,e){return this.loop=t,this.repetitions=e,this}setEffectiveWeight(t){return this.weight=t,this._effectiveWeight=this.enabled?t:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(t){return this._scheduleFading(t,0,1)}fadeOut(t){return this._scheduleFading(t,1,0)}crossFadeFrom(t,e,o){if(t.fadeOut(e),this.fadeIn(e),o){const l=this._clip.duration,d=t._clip.duration,b=l/d;t.warp(1,d/l,e),this.warp(b,1,e)}return this}crossFadeTo(t,e,o){return t.crossFadeFrom(this,e,o)}stopFading(){const t=this._weightInterpolant;return null!==t&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}setEffectiveTimeScale(t){return this.timeScale=t,this._effectiveTimeScale=this.paused?0:t,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(t){return this.timeScale=this._clip.duration/t,this.stopWarping()}syncWith(t){return this.time=t.time,this.timeScale=t.timeScale,this.stopWarping()}halt(t){return this.warp(this._effectiveTimeScale,0,t)}warp(t,e,o){const l=this._mixer,d=l.time,g=this.timeScale;let b=this._timeScaleInterpolant;null===b&&(b=l._lendControlInterpolant(),this._timeScaleInterpolant=b);const M=b.parameterPositions,O=b.sampleValues;return M[0]=d,M[1]=d+o,O[0]=t/g,O[1]=e/g,this}stopWarping(){const t=this._timeScaleInterpolant;return null!==t&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(t)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(t,e,o,l){if(!this.enabled)return void this._updateWeight(t);const d=this._startTime;if(null!==d){const M=(t-d)*o;if(M<0||0===o)return;this._startTime=null,e=o*M}e*=this._updateTimeScale(t);const g=this._updateTime(e),b=this._updateWeight(t);if(b>0){const M=this._interpolants,O=this._propertyBindings;switch(this.blendMode){case 2501:for(let T=0,D=M.length;T!==D;++T)M[T].evaluate(g),O[T].accumulateAdditive(b);break;case 2500:default:for(let T=0,D=M.length;T!==D;++T)M[T].evaluate(g),O[T].accumulate(l,b)}}}_updateWeight(t){let e=0;if(this.enabled){e=this.weight;const o=this._weightInterpolant;if(null!==o){const l=o.evaluate(t)[0];e*=l,t>o.parameterPositions[1]&&(this.stopFading(),0===l&&(this.enabled=!1))}}return this._effectiveWeight=e,e}_updateTimeScale(t){let e=0;if(!this.paused){e=this.timeScale;const o=this._timeScaleInterpolant;null!==o&&(e*=o.evaluate(t)[0],t>o.parameterPositions[1]&&(this.stopWarping(),0===e?this.paused=!0:this.timeScale=e))}return this._effectiveTimeScale=e,e}_updateTime(t){const e=this._clip.duration,o=this.loop;let l=this.time+t,d=this._loopCount;const g=2202===o;if(0===t)return-1===d?l:g&&1==(1&d)?e-l:l;if(2200===o){-1===d&&(this._loopCount=0,this._setEndings(!0,!0,!1));t:{if(l>=e)l=e;else{if(!(l<0)){this.time=l;break t}l=0}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t<0?-1:1})}}else{if(-1===d&&(t>=0?(d=0,this._setEndings(!0,0===this.repetitions,g)):this._setEndings(0===this.repetitions,!0,g)),l>=e||l<0){const b=Math.floor(l/e);l-=e*b,d+=Math.abs(b);const M=this.repetitions-d;if(M<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,l=t>0?e:0,this.time=l,this._mixer.dispatchEvent({type:"finished",action:this,direction:t>0?1:-1});else{if(1===M){const O=t<0;this._setEndings(O,!O,g)}else this._setEndings(!1,!1,g);this._loopCount=d,this.time=l,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:b})}}else this.time=l;if(g&&1==(1&d))return e-l}return l}_setEndings(t,e,o){const l=this._interpolantSettings;o?(l.endingStart=iT,l.endingEnd=iT):(l.endingStart=t?this.zeroSlopeAtStart?iT:rT:2402,l.endingEnd=e?this.zeroSlopeAtEnd?iT:rT:2402)}_scheduleFading(t,e,o){const l=this._mixer,d=l.time;let g=this._weightInterpolant;null===g&&(g=l._lendControlInterpolant(),this._weightInterpolant=g);const b=g.parameterPositions,M=g.sampleValues;return b[0]=d,M[0]=e,b[1]=d+t,M[1]=o,this}}(class extends Z2{constructor(t){super(),this._root=t,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(t,e){const o=t._localRoot||this._root,l=t._clip.tracks,d=l.length,g=t._propertyBindings,b=t._interpolants,M=o.uuid,O=this._bindingsByRootAndName;let T=O[M];void 0===T&&(T={},O[M]=T);for(let D=0;D!==d;++D){const R=l[D],k=R.name;let U=T[k];if(void 0!==U)g[D]=U;else{if(U=g[D],void 0!==U){null===U._cacheIndex&&(++U.referenceCount,this._addInactiveBinding(U,M,k));continue}U=new d$(Qs.create(o,k,e&&e._propertyBindings[D].binding.parsedPath),R.ValueTypeName,R.getValueSize()),++U.referenceCount,this._addInactiveBinding(U,M,k),g[D]=U}b[D].resultBuffer=U.buffer}}_activateAction(t){if(!this._isActiveAction(t)){if(null===t._cacheIndex){const o=(t._localRoot||this._root).uuid,l=t._clip.uuid,d=this._actionsByClip[l];this._bindAction(t,d&&d.knownActions[0]),this._addInactiveAction(t,l,o)}const e=t._propertyBindings;for(let o=0,l=e.length;o!==l;++o){const d=e[o];0==d.useCount++&&(this._lendBinding(d),d.saveOriginalState())}this._lendAction(t)}}_deactivateAction(t){if(this._isActiveAction(t)){const e=t._propertyBindings;for(let o=0,l=e.length;o!==l;++o){const d=e[o];0==--d.useCount&&(d.restoreOriginalState(),this._takeBackBinding(d))}this._takeBackAction(t)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const t=this;this.stats={actions:{get total(){return t._actions.length},get inUse(){return t._nActiveActions}},bindings:{get total(){return t._bindings.length},get inUse(){return t._nActiveBindings}},controlInterpolants:{get total(){return t._controlInterpolants.length},get inUse(){return t._nActiveControlInterpolants}}}}_isActiveAction(t){const e=t._cacheIndex;return null!==e&&e<this._nActiveActions}_addInactiveAction(t,e,o){const l=this._actions,d=this._actionsByClip;let g=d[e];if(void 0===g)g={knownActions:[t],actionByRoot:{}},t._byClipCacheIndex=0,d[e]=g;else{const b=g.knownActions;t._byClipCacheIndex=b.length,b.push(t)}t._cacheIndex=l.length,l.push(t),g.actionByRoot[o]=t}_removeInactiveAction(t){const e=this._actions,o=e[e.length-1],l=t._cacheIndex;o._cacheIndex=l,e[l]=o,e.pop(),t._cacheIndex=null;const d=t._clip.uuid,g=this._actionsByClip,b=g[d],M=b.knownActions,O=M[M.length-1],T=t._byClipCacheIndex;O._byClipCacheIndex=T,M[T]=O,M.pop(),t._byClipCacheIndex=null,delete b.actionByRoot[(t._localRoot||this._root).uuid],0===M.length&&delete g[d],this._removeInactiveBindingsForAction(t)}_removeInactiveBindingsForAction(t){const e=t._propertyBindings;for(let o=0,l=e.length;o!==l;++o){const d=e[o];0==--d.referenceCount&&this._removeInactiveBinding(d)}}_lendAction(t){const e=this._actions,o=t._cacheIndex,l=this._nActiveActions++,d=e[l];t._cacheIndex=l,e[l]=t,d._cacheIndex=o,e[o]=d}_takeBackAction(t){const e=this._actions,o=t._cacheIndex,l=--this._nActiveActions,d=e[l];t._cacheIndex=l,e[l]=t,d._cacheIndex=o,e[o]=d}_addInactiveBinding(t,e,o){const l=this._bindingsByRootAndName,d=this._bindings;let g=l[e];void 0===g&&(g={},l[e]=g),g[o]=t,t._cacheIndex=d.length,d.push(t)}_removeInactiveBinding(t){const e=this._bindings,o=t.binding,l=o.rootNode.uuid,d=o.path,g=this._bindingsByRootAndName,b=g[l],M=e[e.length-1],O=t._cacheIndex;M._cacheIndex=O,e[O]=M,e.pop(),delete b[d],0===Object.keys(b).length&&delete g[l]}_lendBinding(t){const e=this._bindings,o=t._cacheIndex,l=this._nActiveBindings++,d=e[l];t._cacheIndex=l,e[l]=t,d._cacheIndex=o,e[o]=d}_takeBackBinding(t){const e=this._bindings,o=t._cacheIndex,l=--this._nActiveBindings,d=e[l];t._cacheIndex=l,e[l]=t,d._cacheIndex=o,e[o]=d}_lendControlInterpolant(){const t=this._controlInterpolants,e=this._nActiveControlInterpolants++;let o=t[e];return void 0===o&&(o=new OU(new Float32Array(2),new Float32Array(2),1,this._controlInterpolantsResultBuffer),o.__cacheIndex=e,t[e]=o),o}_takeBackControlInterpolant(t){const e=this._controlInterpolants,o=t.__cacheIndex,l=--this._nActiveControlInterpolants,d=e[l];t.__cacheIndex=l,e[l]=t,d.__cacheIndex=o,e[o]=d}clipAction(t,e,o){const l=e||this._root,d=l.uuid;let g="string"==typeof t?NL.findByName(l,t):t;const b=null!==g?g.uuid:t,M=this._actionsByClip[b];let O=null;if(void 0===o&&(o=null!==g?g.blendMode:2500),void 0!==M){const D=M.actionByRoot[d];if(void 0!==D&&D.blendMode===o)return D;O=M.knownActions[0],null===g&&(g=O._clip)}if(null===g)return null;const T=new C$(this,g,e,o);return this._bindAction(T,O),this._addInactiveAction(T,b,d),T}existingAction(t,e){const o=e||this._root,l=o.uuid,d="string"==typeof t?NL.findByName(o,t):t,b=this._actionsByClip[d?d.uuid:t];return void 0!==b&&b.actionByRoot[l]||null}stopAllAction(){const t=this._actions;for(let o=this._nActiveActions-1;o>=0;--o)t[o].stop();return this}update(t){const e=this._actions,o=this._nActiveActions,l=this.time+=t*=this.timeScale,d=Math.sign(t),g=this._accuIndex^=1;for(let O=0;O!==o;++O)e[O]._update(l,t,d,g);const b=this._bindings,M=this._nActiveBindings;for(let O=0;O!==M;++O)b[O].apply(g);return this}setTime(t){this.time=0;for(let e=0;e<this._actions.length;e++)this._actions[e].time=0;return this.update(t)}getRoot(){return this._root}uncacheClip(t){const e=this._actions,o=t.uuid,l=this._actionsByClip,d=l[o];if(void 0!==d){const g=d.knownActions;for(let b=0,M=g.length;b!==M;++b){const O=g[b];this._deactivateAction(O);const T=O._cacheIndex,D=e[e.length-1];O._cacheIndex=null,O._byClipCacheIndex=null,D._cacheIndex=T,e[T]=D,e.pop(),this._removeInactiveBindingsForAction(O)}delete l[o]}}uncacheRoot(t){const e=t.uuid,o=this._actionsByClip;for(const g in o){const M=o[g].actionByRoot[e];void 0!==M&&(this._deactivateAction(M),this._removeInactiveAction(M))}const d=this._bindingsByRootAndName[e];if(void 0!==d)for(const g in d){const b=d[g];b.restoreOriginalState(),this._removeInactiveBinding(b)}}uncacheAction(t,e){const o=this.existingAction(t,e);null!==o&&(this._deactivateAction(o),this._removeInactiveAction(o))}}).prototype._controlInterpolantsResultBuffer=new Float32Array(1);class qN{constructor(t){"string"==typeof t&&(console.warn("THREE.Uniform: Type parameter is no longer needed."),t=arguments[1]),this.value=t}clone(){return new qN(void 0===this.value.clone?this.value:this.value.clone())}}(class extends AT{constructor(t,e,o=1){super(t,e),this.meshPerAttribute=o}copy(t){return super.copy(t),this.meshPerAttribute=t.meshPerAttribute,this}clone(t){const e=super.clone(t);return e.meshPerAttribute=this.meshPerAttribute,e}toJSON(t){const e=super.toJSON(t);return e.isInstancedInterleavedBuffer=!0,e.meshPerAttribute=this.meshPerAttribute,e}}).prototype.isInstancedInterleavedBuffer=!0;const tV=new vn;class pR{constructor(t=new vn(1/0,1/0),e=new vn(-1/0,-1/0)){this.min=t,this.max=e}set(t,e){return this.min.copy(t),this.max.copy(e),this}setFromPoints(t){this.makeEmpty();for(let e=0,o=t.length;e<o;e++)this.expandByPoint(t[e]);return this}setFromCenterAndSize(t,e){const o=tV.copy(e).multiplyScalar(.5);return this.min.copy(t).sub(o),this.max.copy(t).add(o),this}clone(){return(new this.constructor).copy(this)}copy(t){return this.min.copy(t.min),this.max.copy(t.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(t){return this.isEmpty()?t.set(0,0):t.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(t){return this.isEmpty()?t.set(0,0):t.subVectors(this.max,this.min)}expandByPoint(t){return this.min.min(t),this.max.max(t),this}expandByVector(t){return this.min.sub(t),this.max.add(t),this}expandByScalar(t){return this.min.addScalar(-t),this.max.addScalar(t),this}containsPoint(t){return!(t.x<this.min.x||t.x>this.max.x||t.y<this.min.y||t.y>this.max.y)}containsBox(t){return this.min.x<=t.min.x&&t.max.x<=this.max.x&&this.min.y<=t.min.y&&t.max.y<=this.max.y}getParameter(t,e){return e.set((t.x-this.min.x)/(this.max.x-this.min.x),(t.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(t){return!(t.max.x<this.min.x||t.min.x>this.max.x||t.max.y<this.min.y||t.min.y>this.max.y)}clampPoint(t,e){return e.copy(t).clamp(this.min,this.max)}distanceToPoint(t){return tV.copy(t).clamp(this.min,this.max).sub(t).length()}intersect(t){return this.min.max(t.min),this.max.min(t.max),this}union(t){return this.min.min(t.min),this.max.max(t.max),this}translate(t){return this.min.add(t),this.max.add(t),this}equals(t){return t.min.equals(this.min)&&t.max.equals(this.max)}}pR.prototype.isBox2=!0,class extends ts{constructor(t){super(),this.material=t,this.render=function(){},this.hasPositions=!1,this.hasNormals=!1,this.hasColors=!1,this.hasUvs=!1,this.positionArray=null,this.normalArray=null,this.colorArray=null,this.uvArray=null,this.count=0}}.prototype.isImmediateRenderObject=!0;const bP=new Ot,GL=new fr,YN=new fr;function rV(a){const t=[];a&&a.isBone&&t.push(a);for(let e=0;e<a.children.length;e++)t.push.apply(t,rV(a.children[e]));return t}const lV=new Float32Array(1);new Int32Array(lV.buffer),dg.create=function(a,t){return console.log("THREE.Curve.create() has been deprecated"),a.prototype=Object.create(dg.prototype),a.prototype.constructor=a,a.prototype.getPoint=t,a},UL.prototype.fromPoints=function(a){return console.warn("THREE.Path: .fromPoints() has been renamed to .setFromPoints()."),this.setFromPoints(a)},class extends fP{constructor(t=10,e=10,o=4473924,l=8947848){o=new zn(o),l=new zn(l);const d=e/2,g=t/e,b=t/2,M=[],O=[];for(let R=0,k=0,U=-b;R<=e;R++,U+=g){M.push(-b,0,U,b,0,U),M.push(U,0,-b,U,0,b);const j=R===d?o:l;j.toArray(O,k),k+=3,j.toArray(O,k),k+=3,j.toArray(O,k),k+=3,j.toArray(O,k),k+=3}const T=new Qr;T.setAttribute("position",new er(M,3)),T.setAttribute("color",new er(O,3)),super(T,new du({vertexColors:!0,toneMapped:!1})),this.type="GridHelper"}}.prototype.setColors=function(){console.error("THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.")},class extends fP{constructor(t){const e=rV(t),o=new Qr,l=[],d=[],g=new zn(0,0,1),b=new zn(0,1,0);for(let O=0;O<e.length;O++){const T=e[O];T.parent&&T.parent.isBone&&(l.push(0,0,0),l.push(0,0,0),d.push(g.r,g.g,g.b),d.push(b.r,b.g,b.b))}o.setAttribute("position",new er(l,3)),o.setAttribute("color",new er(d,3)),super(o,new du({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0})),this.type="SkeletonHelper",this.isSkeletonHelper=!0,this.root=t,this.bones=e,this.matrix=t.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(t){const e=this.bones,o=this.geometry,l=o.getAttribute("position");YN.copy(this.root.matrixWorld).invert();for(let d=0,g=0;d<e.length;d++){const b=e[d];b.parent&&b.parent.isBone&&(GL.multiplyMatrices(YN,b.matrixWorld),bP.setFromMatrixPosition(GL),l.setXYZ(g,bP.x,bP.y,bP.z),GL.multiplyMatrices(YN,b.parent.matrixWorld),bP.setFromMatrixPosition(GL),l.setXYZ(g+1,bP.x,bP.y,bP.z),g+=2)}o.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(t)}}.prototype.update=function(){console.error("THREE.SkeletonHelper: update() no longer needs to be called.")},_P.prototype.extractUrlBase=function(a){return console.warn("THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead."),class{static decodeText(t){if("undefined"!=typeof TextDecoder)return(new TextDecoder).decode(t);let e="";for(let o=0,l=t.length;o<l;o++)e+=String.fromCharCode(t[o]);try{return decodeURIComponent(escape(e))}catch(o){return e}}static extractUrlBase(t){const e=t.lastIndexOf("/");return-1===e?"./":t.substr(0,e+1)}}.extractUrlBase(a)},_P.Handlers={add:function(){console.error("THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.")},get:function(){console.error("THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.")}},pR.prototype.center=function(a){return console.warn("THREE.Box2: .center() has been renamed to .getCenter()."),this.getCenter(a)},pR.prototype.empty=function(){return console.warn("THREE.Box2: .empty() has been renamed to .isEmpty()."),this.isEmpty()},pR.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},pR.prototype.size=function(a){return console.warn("THREE.Box2: .size() has been renamed to .getSize()."),this.getSize(a)},lg.prototype.center=function(a){return console.warn("THREE.Box3: .center() has been renamed to .getCenter()."),this.getCenter(a)},lg.prototype.empty=function(){return console.warn("THREE.Box3: .empty() has been renamed to .isEmpty()."),this.isEmpty()},lg.prototype.isIntersectionBox=function(a){return console.warn("THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},lg.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)},lg.prototype.size=function(a){return console.warn("THREE.Box3: .size() has been renamed to .getSize()."),this.getSize(a)},tE.prototype.empty=function(){return console.warn("THREE.Sphere: .empty() has been renamed to .isEmpty()."),this.isEmpty()},eL.prototype.setFromMatrix=function(a){return console.warn("THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix()."),this.setFromProjectionMatrix(a)},Dl.prototype.flattenToArrayOffset=function(a,t){return console.warn("THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,t)},Dl.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},Dl.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix3: .multiplyVector3Array() has been removed.")},Dl.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead."),a.applyMatrix3(this)},Dl.prototype.applyToVector3Array=function(){console.error("THREE.Matrix3: .applyToVector3Array() has been removed.")},Dl.prototype.getInverse=function(a){return console.warn("THREE.Matrix3: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()},fr.prototype.extractPosition=function(a){return console.warn("THREE.Matrix4: .extractPosition() has been renamed to .copyPosition()."),this.copyPosition(a)},fr.prototype.flattenToArrayOffset=function(a,t){return console.warn("THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead."),this.toArray(a,t)},fr.prototype.getPosition=function(){return console.warn("THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead."),(new Ot).setFromMatrixColumn(this,3)},fr.prototype.setRotationFromQuaternion=function(a){return console.warn("THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion()."),this.makeRotationFromQuaternion(a)},fr.prototype.multiplyToArray=function(){console.warn("THREE.Matrix4: .multiplyToArray() has been removed.")},fr.prototype.multiplyVector3=function(a){return console.warn("THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},fr.prototype.multiplyVector4=function(a){return console.warn("THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},fr.prototype.multiplyVector3Array=function(){console.error("THREE.Matrix4: .multiplyVector3Array() has been removed.")},fr.prototype.rotateAxis=function(a){console.warn("THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead."),a.transformDirection(this)},fr.prototype.crossVector=function(a){return console.warn("THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},fr.prototype.translate=function(){console.error("THREE.Matrix4: .translate() has been removed.")},fr.prototype.rotateX=function(){console.error("THREE.Matrix4: .rotateX() has been removed.")},fr.prototype.rotateY=function(){console.error("THREE.Matrix4: .rotateY() has been removed.")},fr.prototype.rotateZ=function(){console.error("THREE.Matrix4: .rotateZ() has been removed.")},fr.prototype.rotateByAxis=function(){console.error("THREE.Matrix4: .rotateByAxis() has been removed.")},fr.prototype.applyToBufferAttribute=function(a){return console.warn("THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead."),a.applyMatrix4(this)},fr.prototype.applyToVector3Array=function(){console.error("THREE.Matrix4: .applyToVector3Array() has been removed.")},fr.prototype.makeFrustum=function(a,t,e,o,l,d){return console.warn("THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead."),this.makePerspective(a,t,o,e,l,d)},fr.prototype.getInverse=function(a){return console.warn("THREE.Matrix4: .getInverse() has been removed. Use matrixInv.copy( matrix ).invert(); instead."),this.copy(a).invert()},Wx.prototype.isIntersectionLine=function(a){return console.warn("THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine()."),this.intersectsLine(a)},cd.prototype.multiplyVector3=function(a){return console.warn("THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead."),a.applyQuaternion(this)},cd.prototype.inverse=function(){return console.warn("THREE.Quaternion: .inverse() has been renamed to invert()."),this.invert()},eE.prototype.isIntersectionBox=function(a){return console.warn("THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox()."),this.intersectsBox(a)},eE.prototype.isIntersectionPlane=function(a){return console.warn("THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane()."),this.intersectsPlane(a)},eE.prototype.isIntersectionSphere=function(a){return console.warn("THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere()."),this.intersectsSphere(a)},Bc.prototype.area=function(){return console.warn("THREE.Triangle: .area() has been renamed to .getArea()."),this.getArea()},Bc.prototype.barycoordFromPoint=function(a,t){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),this.getBarycoord(a,t)},Bc.prototype.midpoint=function(a){return console.warn("THREE.Triangle: .midpoint() has been renamed to .getMidpoint()."),this.getMidpoint(a)},Bc.prototypenormal=function(a){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),this.getNormal(a)},Bc.prototype.plane=function(a){return console.warn("THREE.Triangle: .plane() has been renamed to .getPlane()."),this.getPlane(a)},Bc.barycoordFromPoint=function(a,t,e,o,l){return console.warn("THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord()."),Bc.getBarycoord(a,t,e,o,l)},Bc.normal=function(a,t,e,o){return console.warn("THREE.Triangle: .normal() has been renamed to .getNormal()."),Bc.getNormal(a,t,e,o)},sE.prototype.extractAllPoints=function(a){return console.warn("THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead."),this.extractPoints(a)},sE.prototype.extrude=function(a){return console.warn("THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead."),new $x(this,a)},sE.prototype.makeGeometry=function(a){return console.warn("THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead."),new cR(this,a)},vn.prototype.fromAttribute=function(a,t,e){return console.warn("THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,t,e)},vn.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)},vn.prototype.lengthManhattan=function(){return console.warn("THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},Ot.prototype.setEulerFromRotationMatrix=function(){console.error("THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.")},Ot.prototype.setEulerFromQuaternion=function(){console.error("THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.")},Ot.prototype.getPositionFromMatrix=function(a){return console.warn("THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition()."),this.setFromMatrixPosition(a)},Ot.prototype.getScaleFromMatrix=function(a){return console.warn("THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale()."),this.setFromMatrixScale(a)},Ot.prototype.getColumnFromMatrix=function(a,t){return console.warn("THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn()."),this.setFromMatrixColumn(t,a)},Ot.prototype.applyProjection=function(a){return console.warn("THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead."),this.applyMatrix4(a)},Ot.prototype.fromAttribute=function(a,t,e){return console.warn("THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,t,e)},Ot.prototype.distanceToManhattan=function(a){return console.warn("THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo()."),this.manhattanDistanceTo(a)},Ot.prototype.lengthManhattan=function(){return console.warn("THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},gs.prototype.fromAttribute=function(a,t,e){return console.warn("THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute()."),this.fromBufferAttribute(a,t,e)},gs.prototype.lengthManhattan=function(){return console.warn("THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength()."),this.manhattanLength()},ts.prototype.getChildByName=function(a){return console.warn("THREE.Object3D: .getChildByName() has been renamed to .getObjectByName()."),this.getObjectByName(a)},ts.prototype.renderDepth=function(){console.warn("THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.")},ts.prototype.translate=function(a,t){return console.warn("THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead."),this.translateOnAxis(t,a)},ts.prototype.getWorldRotation=function(){console.error("THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.")},ts.prototype.applyMatrix=function(a){return console.warn("THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)},Object.defineProperties(ts.prototype,{eulerOrder:{get:function(){return console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order},set:function(a){console.warn("THREE.Object3D: .eulerOrder is now .rotation.order."),this.rotation.order=a}},useQuaternion:{get:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")},set:function(){console.warn("THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.")}}}),kl.prototype.setDrawMode=function(){console.error("THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")},Object.defineProperties(kl.prototype,{drawMode:{get:function(){return console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode."),0},set:function(){console.error("THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.")}}}),PN.prototype.initBones=function(){console.error("THREE.SkinnedMesh: initBones() has been removed.")},uu.prototype.setLens=function(a,t){console.warn("THREE.PerspectiveCamera.setLens is deprecated. Use .setFocalLength and .filmGauge for a photographic setup."),void 0!==t&&(this.filmGauge=t),this.setFocalLength(a)},Object.defineProperties(eb.prototype,{onlyShadow:{set:function(){console.warn("THREE.Light: .onlyShadow has been removed.")}},shadowCameraFov:{set:function(a){console.warn("THREE.Light: .shadowCameraFov is now .shadow.camera.fov."),this.shadow.camera.fov=a}},shadowCameraLeft:{set:function(a){console.warn("THREE.Light: .shadowCameraLeft is now .shadow.camera.left."),this.shadow.camera.left=a}},shadowCameraRight:{set:function(a){console.warn("THREE.Light: .shadowCameraRight is now .shadow.camera.right."),this.shadow.camera.right=a}},shadowCameraTop:{set:function(a){console.warn("THREE.Light: .shadowCameraTop is now .shadow.camera.top."),this.shadow.camera.top=a}},shadowCameraBottom:{set:function(a){console.warn("THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom."),this.shadow.camera.bottom=a}},shadowCameraNear:{set:function(a){console.warn("THREE.Light: .shadowCameraNear is now .shadow.camera.near."),this.shadow.camera.near=a}},shadowCameraFar:{set:function(a){console.warn("THREE.Light: .shadowCameraFar is now .shadow.camera.far."),this.shadow.camera.far=a}},shadowCameraVisible:{set:function(){console.warn("THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.")}},shadowBias:{set:function(a){console.warn("THREE.Light: .shadowBias is now .shadow.bias."),this.shadow.bias=a}},shadowDarkness:{set:function(){console.warn("THREE.Light: .shadowDarkness has been removed.")}},shadowMapWidth:{set:function(a){console.warn("THREE.Light: .shadowMapWidth is now .shadow.mapSize.width."),this.shadow.mapSize.width=a}},shadowMapHeight:{set:function(a){console.warn("THREE.Light: .shadowMapHeight is now .shadow.mapSize.height."),this.shadow.mapSize.height=a}}}),Object.defineProperties(Os.prototype,{length:{get:function(){return console.warn("THREE.BufferAttribute: .length has been deprecated. Use .count instead."),this.array.length}},dynamic:{get:function(){return console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.usage===VI},set:function(){console.warn("THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead."),this.setUsage(VI)}}}),Os.prototype.setDynamic=function(a){return console.warn("THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===a?VI:UI),this},Os.prototype.copyIndicesArray=function(){console.error("THREE.BufferAttribute: .copyIndicesArray() has been removed.")},Os.prototype.setArray=function(){console.error("THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},Qr.prototype.addIndex=function(a){console.warn("THREE.BufferGeometry: .addIndex() has been renamed to .setIndex()."),this.setIndex(a)},Qr.prototype.addAttribute=function(a,t){return console.warn("THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute()."),t&&t.isBufferAttribute||t&&t.isInterleavedBufferAttribute?"index"===a?(console.warn("THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute."),this.setIndex(t),this):this.setAttribute(a,t):(console.warn("THREE.BufferGeometry: .addAttribute() now expects ( name, attribute )."),this.setAttribute(a,new Os(arguments[1],arguments[2])))},Qr.prototype.addDrawCall=function(a,t,e){void 0!==e&&console.warn("THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset."),console.warn("THREE.BufferGeometry: .addDrawCall() is now .addGroup()."),this.addGroup(a,t)},Qr.prototype.clearDrawCalls=function(){console.warn("THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups()."),this.clearGroups()},Qr.prototype.computeOffsets=function(){console.warn("THREE.BufferGeometry: .computeOffsets() has been removed.")},Qr.prototype.removeAttribute=function(a){return console.warn("THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute()."),this.deleteAttribute(a)},Qr.prototype.applyMatrix=function(a){return console.warn("THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4()."),this.applyMatrix4(a)},Object.defineProperties(Qr.prototype,{drawcalls:{get:function(){return console.error("THREE.BufferGeometry: .drawcalls has been renamed to .groups."),this.groups}},offsets:{get:function(){return console.warn("THREE.BufferGeometry: .offsets has been renamed to .groups."),this.groups}}}),AT.prototype.setDynamic=function(a){return console.warn("THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead."),this.setUsage(!0===a?VI:UI),this},AT.prototype.setArray=function(){console.error("THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers")},$x.prototype.getArrays=function(){console.error("THREE.ExtrudeGeometry: .getArrays() has been removed.")},$x.prototype.addShapeList=function(){console.error("THREE.ExtrudeGeometry: .addShapeList() has been removed.")},$x.prototype.addShape=function(){console.error("THREE.ExtrudeGeometry: .addShape() has been removed.")},yN.prototype.dispose=function(){console.error("THREE.Scene: .dispose() has been removed.")},qN.prototype.onUpdate=function(){return console.warn("THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead."),this},Object.defineProperties(lu.prototype,{wrapAround:{get:function(){console.warn("THREE.Material: .wrapAround has been removed.")},set:function(){console.warn("THREE.Material: .wrapAround has been removed.")}},overdraw:{get:function(){console.warn("THREE.Material: .overdraw has been removed.")},set:function(){console.warn("THREE.Material: .overdraw has been removed.")}},wrapRGB:{get:function(){return console.warn("THREE.Material: .wrapRGB has been removed."),new zn}},shading:{get:function(){console.error("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead.")},set:function(a){console.warn("THREE."+this.type+": .shading has been removed. Use the boolean .flatShading instead."),this.flatShading=1===a}},stencilMask:{get:function(){return console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask},set:function(a){console.warn("THREE."+this.type+": .stencilMask has been removed. Use .stencilFuncMask instead."),this.stencilFuncMask=a}},vertexTangents:{get:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")},set:function(){console.warn("THREE."+this.type+": .vertexTangents has been removed.")}}}),Object.defineProperties(dP.prototype,{derivatives:{get:function(){return console.warn("THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives},set:function(a){console.warn("THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives."),this.extensions.derivatives=a}}}),Es.prototype.clearTarget=function(a,t,e,o){console.warn("THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead."),this.setRenderTarget(a),this.clear(t,e,o)},Es.prototype.animate=function(a){console.warn("THREE.WebGLRenderer: .animate() is now .setAnimationLoop()."),this.setAnimationLoop(a)},Es.prototype.getCurrentRenderTarget=function(){return console.warn("THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget()."),this.getRenderTarget()},Es.prototype.getMaxAnisotropy=function(){return console.warn("THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy()."),this.capabilities.getMaxAnisotropy()},Es.prototype.getPrecision=function(){return console.warn("THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision."),this.capabilities.precision},Es.prototype.resetGLState=function(){return console.warn("THREE.WebGLRenderer: .resetGLState() is now .state.reset()."),this.state.reset()},Es.prototype.supportsFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( 'OES_texture_float' )."),this.extensions.get("OES_texture_float")},Es.prototype.supportsHalfFloatTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( 'OES_texture_half_float' )."),this.extensions.get("OES_texture_half_float")},Es.prototype.supportsStandardDerivatives=function(){return console.warn("THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( 'OES_standard_derivatives' )."),this.extensions.get("OES_standard_derivatives")},Es.prototype.supportsCompressedTextureS3TC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( 'WEBGL_compressed_texture_s3tc' )."),this.extensions.get("WEBGL_compressed_texture_s3tc")},Es.prototype.supportsCompressedTexturePVRTC=function(){return console.warn("THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( 'WEBGL_compressed_texture_pvrtc' )."),this.extensions.get("WEBGL_compressed_texture_pvrtc")},Es.prototype.supportsBlendMinMax=function(){return console.warn("THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( 'EXT_blend_minmax' )."),this.extensions.get("EXT_blend_minmax")},Es.prototype.supportsVertexTextures=function(){return console.warn("THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures."),this.capabilities.vertexTextures},Es.prototype.supportsInstancedArrays=function(){return console.warn("THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( 'ANGLE_instanced_arrays' )."),this.extensions.get("ANGLE_instanced_arrays")},Es.prototype.enableScissorTest=function(a){console.warn("THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest()."),this.setScissorTest(a)},Es.prototype.initMaterial=function(){console.warn("THREE.WebGLRenderer: .initMaterial() has been removed.")},Es.prototype.addPrePlugin=function(){console.warn("THREE.WebGLRenderer: .addPrePlugin() has been removed.")},Es.prototype.addPostPlugin=function(){console.warn("THREE.WebGLRenderer: .addPostPlugin() has been removed.")},Es.prototype.updateShadowMap=function(){console.warn("THREE.WebGLRenderer: .updateShadowMap() has been removed.")},Es.prototype.setFaceCulling=function(){console.warn("THREE.WebGLRenderer: .setFaceCulling() has been removed.")},Es.prototype.allocTextureUnit=function(){console.warn("THREE.WebGLRenderer: .allocTextureUnit() has been removed.")},Es.prototype.setTexture=function(){console.warn("THREE.WebGLRenderer: .setTexture() has been removed.")},Es.prototype.setTexture2D=function(){console.warn("THREE.WebGLRenderer: .setTexture2D() has been removed.")},Es.prototype.setTextureCube=function(){console.warn("THREE.WebGLRenderer: .setTextureCube() has been removed.")},Es.prototype.getActiveMipMapLevel=function(){return console.warn("THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel()."),this.getActiveMipmapLevel()},Object.defineProperties(Es.prototype,{shadowMapEnabled:{get:function(){return this.shadowMap.enabled},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled."),this.shadowMap.enabled=a}},shadowMapType:{get:function(){return this.shadowMap.type},set:function(a){console.warn("THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type."),this.shadowMap.type=a}},shadowMapCullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.")}},context:{get:function(){return console.warn("THREE.WebGLRenderer: .context has been removed. Use .getContext() instead."),this.getContext()}},vr:{get:function(){return console.warn("THREE.WebGLRenderer: .vr has been renamed to .xr"),this.xr}},gammaInput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead."),!1},set:function(){console.warn("THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.")}},gammaOutput:{get:function(){return console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),!1},set:function(a){console.warn("THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead."),this.outputEncoding=!0===a?3001:Kp}},toneMappingWhitePoint:{get:function(){return console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed."),1},set:function(){console.warn("THREE.WebGLRenderer: .toneMappingWhitePoint has been removed.")}}}),Object.defineProperties(IB.prototype,{cullFace:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.")}},renderReverseSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.")}},renderSingleSided:{get:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")},set:function(){console.warn("THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.")}}}),Object.defineProperties(X0.prototype,{wrapS:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS."),this.texture.wrapS=a}},wrapT:{get:function(){return console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT},set:function(a){console.warn("THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT."),this.texture.wrapT=a}},magFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter."),this.texture.magFilter=a}},minFilter:{get:function(){return console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter},set:function(a){console.warn("THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter."),this.texture.minFilter=a}},anisotropy:{get:function(){return console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy},set:function(a){console.warn("THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy."),this.texture.anisotropy=a}},offset:{get:function(){return console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset},set:function(a){console.warn("THREE.WebGLRenderTarget: .offset is now .texture.offset."),this.texture.offset=a}},repeat:{get:function(){return console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat},set:function(a){console.warn("THREE.WebGLRenderTarget: .repeat is now .texture.repeat."),this.texture.repeat=a}},format:{get:function(){return console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format},set:function(a){console.warn("THREE.WebGLRenderTarget: .format is now .texture.format."),this.texture.format=a}},type:{get:function(){return console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type},set:function(a){console.warn("THREE.WebGLRenderTarget: .type is now .texture.type."),this.texture.type=a}},generateMipmaps:{get:function(){return console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps},set:function(a){console.warn("THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps."),this.texture.generateMipmaps=a}}}),class extends ts{constructor(t){super(),this.type="Audio",this.listener=t,this.context=t.context,this.gain=this.context.createGain(),this.gain.connect(t.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(t){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=t,this.connect(),this}setMediaElementSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(t),this.connect(),this}setMediaStreamSource(t){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(t),this.connect(),this}setBuffer(t){return this.buffer=t,this.sourceType="buffer",this.autoplay&&this.play(),this}play(t=0){if(!0===this.isPlaying)return void console.warn("THREE.Audio: Audio is already playing.");if(!1===this.hasPlaybackControl)return void console.warn("THREE.Audio: this Audio has no playback control.");this._startedAt=this.context.currentTime+t;const e=this.context.createBufferSource();return e.buffer=this.buffer,e.loop=this.loop,e.loopStart=this.loopStart,e.loopEnd=this.loopEnd,e.onended=this.onEnded.bind(this),e.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=e,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(!1!==this.hasPlaybackControl)return!0===this.isPlaying&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,!0===this.loop&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this;console.warn("THREE.Audio: this Audio has no playback control.")}stop(){if(!1!==this.hasPlaybackControl)return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this;console.warn("THREE.Audio: this Audio has no playback control.")}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].connect(this.filters[t]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let t=1,e=this.filters.length;t<e;t++)this.filters[t-1].disconnect(this.filters[t]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(t){return t||(t=[]),!0===this._connected?(this.disconnect(),this.filters=t.slice(),this.connect()):this.filters=t.slice(),this}setDetune(t){if(this.detune=t,void 0!==this.source.detune)return!0===this.isPlaying&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(t){return this.setFilters(t?[t]:[])}setPlaybackRate(t){if(!1!==this.hasPlaybackControl)return this.playbackRate=t,!0===this.isPlaying&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this;console.warn("THREE.Audio: this Audio has no playback control.")}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return!1===this.hasPlaybackControl?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(t){if(!1!==this.hasPlaybackControl)return this.loop=t,!0===this.isPlaying&&(this.source.loop=this.loop),this;console.warn("THREE.Audio: this Audio has no playback control.")}setLoopStart(t){return this.loopStart=t,this}setLoopEnd(t){return this.loopEnd=t,this}getVolume(){return this.gain.gain.value}setVolume(t){return this.gain.gain.setTargetAtTime(t,this.context.currentTime,.01),this}}.prototype.load=function(a){console.warn("THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.");const t=this;return(new r$).load(a,function(o){t.setBuffer(o)}),this},cN.prototype.updateCubeMap=function(a,t){return console.warn("THREE.CubeCamera: .updateCubeMap() is now .update()."),this.update(a,t)},cN.prototype.clear=function(a,t,e,o){return console.warn("THREE.CubeCamera: .clear() is now .renderTarget.clear()."),this.renderTarget.clear(a,t,e,o)},aT.crossOrigin=void 0,aT.loadTexture=function(a,t,e,o){console.warn("THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.");const l=new Yq;l.setCrossOrigin(this.crossOrigin);const d=l.load(a,e,void 0,o);return t&&(d.mapping=t),d},aT.loadTextureCube=function(a,t,e,o){console.warn("THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.");const l=new qq;l.setCrossOrigin(this.crossOrigin);const d=l.load(a,e,void 0,o);return t&&(d.mapping=t),d},aT.loadCompressedTexture=function(){console.error("THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.")},aT.loadCompressedTextureCube=function(){console.error("THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.")},"undefined"!=typeof __THREE_DEVTOOLS__&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:"132"}})),"undefined"!=typeof window&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__="132");class k${constructor(t,e){let o,l,d;this.position=new Ot(0,0,0),this.weigth=0,this.frameIndex=0,this.bufferArray=[0,0,0],this.radius=.2,this.distance=0,this.x=0,this.y=0,this.z=0,this.hidden=!1,this.opacity=!1,t.map(g=>{"weight"===g.name&&(this.weigth=g.value),"frameIndex"===g.name&&(this.frameIndex=+g.value),"x3"===g.name&&(this.x=o=g.value,this.bufferArray[0]=o),"y3"===g.name&&(this.y=l=g.value,this.bufferArray[1]=l),"z3"===g.name&&(this.z=d=g.value,this.bufferArray[2]=d)}),this.position=new Ot(o,l,d),this.distance=e.distanceTo(this.position)}setVisibility(t){if(!t)return void(this.hidden=!1);const e=Math.max(...t);t.indexOf(this.frameIndex)>-1?(this.hidden=!1,this.frameIndex!==e&&(this.opacity=!0)):(this.hidden=!0,this.opacity=!1)}}class L${constructor(t){this.id="",this.name="",this.featureColor=new zn(16711680),this.featureId="",this.optional=!1,this.disabled=!1,this.weight=1,this.involvedAtomSerials=[],this.position=new Ot(0,0,0),this.additionalPoints=[],this.frameIndecies=[],this.x=0,this.y=0,this.z=0,t.attrs.map(e=>{"name"===e.name&&(this.name=e.value),"id"===e.name&&(this.id=e.value),"featureColor"===e.name&&(this.featureColor=new zn(`#${e.value}`)),"featureId"===e.name&&(this.featureId=e.value),"optional"===e.name&&(this.optional=e.value),"weight"===e.name&&(this.weight=e.value),"involvedAtomSerials"===e.name&&(this.involvedAtomSerials=e.value.split(",").map(o=>+o))}),t.children.map(e=>{if("position"===e.name&&(this.position=this.renderPosition(e.attrs)),"additionalPoint"===e.name){const o=new k$(e.attrs,this.position);this.additionalPoints.push(o),this.frameIndecies.indexOf(o.frameIndex)<0&&(this.frameIndecies.push(o.frameIndex),this.frameIndeciesDict=!0)}}),this.frameIndecies.sort((e,o)=>e-o)}set nglName(t){this.elementName=t}get nglName(){return this.elementName?this.elementName:null}renderPosition(t){let e,o,l;return t.map(d=>{"x3"===d.name&&(this.x=e=+d.value),"y3"===d.name&&(this.y=o=+d.value),"z3"===d.name&&(this.z=l=+d.value)}),new Ot(e,o,l)}}class F${constructor(t){this.id="",this.name="",this.pharmacophoreType="",this.featureClouds=[],this.allInvolvedAtoms=[],this.center=new Ot(0,0,0),t.attrs.map(e=>{"name"===e.name&&(this.name=e.value),"pharmacophoreType"===e.name&&(this.pharmacophoreType=e.value),"id"===e.name&&(this.id=e.value)}),t.children.map(e=>{this.featureClouds.push(new L$(e))}),this.featureClouds.map(e=>{e.involvedAtomSerials.map(o=>{this.allInvolvedAtoms.indexOf(o)<0&&this.allInvolvedAtoms.push(o)}),this.center=new Ot(e.x,e.y,e.z)})}}class uV{constructor(t){this.dynophoreId=t.dynophoreId,this.featureCloudId=t.featureCloudId,this.featureCloudName=t.featureCloudName,this.id=t.id,this.color=t.color,this.position=t.position}}class N${constructor(t){this.atomname="",this.coords=new Ot(0,0,0),this.element="",this.resname="",this.resno=0,this.serial=0,this.atomname=t.atomname,this.coords=t.coords,this.element=t.element,this.resname=t.resname,this.resno=t.resno,this.serial=t.serial}}class B${constructor(t){this.label="",this.atom=new N$(t),this.dynophore=new uV(t)}addDynophore(t){this.dynophore=new uV(t)}setConnection(){const t=this.atom,e=this.dynophore;this.label=`${e.featureCloudName} --\x3e [${t.resname}]${t.resno}:${t.element}.${t.atomname}`,this.color=e.color,this.position1=e.position,this.position2=t.coords}}let U$=(()=>{class a{constructor(e){this.store=e,this.xmlParser=new ag,this.featureClouds={}}parseDynophore(e){const o=this.xmlParser.parse(e,"dyno_dynophore.pml");return!o||o.errors.length>0?null:new F$(o.rootNodes[1])}getAtomDynophoreInteractions(e,o){let l=1;const d={};return o.structure.eachAtom(g=>{e.indexOf(g.serial)>-1&&(d[l]||(d[l]=new B$({serial:g.serial,element:g.element,atomname:g.atomname,resno:g.resno,resname:g.resname,coords:new Ot(g.x,g.y,g.z)}))),l++}),d}structureDrawing(e,o,l){return e.addRepresentation("cartoon",{colorScheme:"element",crossSize:.75}),o.addComponentFromObject(new em.Shape(e)).addRepresentation("buffer",{opacity:.3}),e.autoView(),e}getShowingIndecies(e,o,l,d){const g=[];if("show"===o)for(let b=e[0];b<=e[1];b++)g.push(b);else if("hide"===o){for(let b=l;b<e[0];b++)g.push(b);for(let b=e[1];b<=d;b++)g.push(b)}return g}dynophoreDrawing(e){const o={};let l=1e6,d=0;return e.featureClouds.map(g=>{const b=new em.Shape(g.featureId);g.additionalPoints.map(M=>{M.frameIndex>d&&(d=M.frameIndex),M.frameIndex<l&&(l=M.frameIndex),M.setVisibility(),M.hidden||b.addSphere(M.position,g.featureColor,M.radius,`${g.name} frame index is ${M.frameIndex}`),this.featureClouds[b.name]={name:g.name,id:g.id,involvedAtomSerials:g.involvedAtomSerials,frameIndecies:g.frameIndecies,frameIndeciesDict:g.frameIndeciesDict}}),o[g.featureId]=b}),this.store.dispatch(Cr({min:l})),this.store.dispatch(aw({max:d})),o}parseAtomCoord(e){const l=e.position,d={};let g=0;return e.index.map(b=>{d[b]=new Ot(l[g],l[g+1],l[g+2]),g+=3}),d}dynophoreDrawingByVisible(e,o,l){const d={};return e.featureClouds.map(g=>{const b=new em.Shape(g.featureId);let M=null;g.additionalPoints.map(O=>{if(O.setVisibility(o),!O.hidden){const T="#"+Oz(g.featureColor.getHexString()).darken(25).toHex(),D=O.opacity&&l?new zn(T):g.featureColor;M=O.position,O.opacity&&l&&(M=null),b.addSphere(O.position,D,O.radius,`${g.name} frame index is ${O.frameIndex}`)}}),l&&M&&g.involvedAtomSerials.map(O=>{b.addArrow(M,l[O],g.featureColor,.05,`${g.name}`)}),d[g.featureId]=b}),d}additionalPointDrawing(){}getFeatureCloudInfo(e){return this.featureClouds[e]?this.featureClouds[e]:null}clearFeatureClouds(){this.featureClouds={}}}return a.\u0275fac=function(e){return new(e||a)(A.LFG(We.yh))},a.\u0275prov=A.Yz7({token:a,factory:a.\u0275fac,providedIn:"any"}),a})();const V$=(0,We.ZF)("selection"),z$=(0,We.P1)(V$,a=>a);function H$(a,t){if(1&a&&(A.TgZ(0,"span"),A._uU(1),A.qZA()),2&a){const e=t.$implicit;A.xp6(1),A.hij("",e,"\xa0")}}function G$(a,t){if(1&a&&(A.TgZ(0,"span",9),A._uU(1,"."),A.qZA()),2&a){const e=A.oxw().$implicit;A.Q6J("title",e+" is present")}}function j$(a,t){if(1&a&&(A.TgZ(0,"span",10),A._uU(1,"."),A.qZA()),2&a){const e=A.oxw().$implicit;A.Q6J("title",e+" is not present")}}function W$(a,t){if(1&a&&(A.TgZ(0,"span"),A.YNc(1,G$,2,1,"span",7),A.YNc(2,j$,2,1,"span",8),A.qZA()),2&a){const e=t.$implicit,o=A.oxw(2);A.xp6(1),A.Q6J("ngIf",o.selected.frameIndecies.indexOf(e)>=0),A.xp6(1),A.Q6J("ngIf",o.selected.frameIndecies.indexOf(e)<0)}}function q$(a,t){if(1&a&&(A.TgZ(0,"div",2),A.TgZ(1,"div",3),A.TgZ(2,"div",4),A._uU(3),A.qZA(),A.qZA(),A.TgZ(4,"div",3),A.TgZ(5,"div",4),A._uU(6,"Involved atom serials:\xa0 "),A.YNc(7,H$,2,1,"span",5),A.qZA(),A.qZA(),A.TgZ(8,"div",3),A.TgZ(9,"div",4),A._uU(10,"Superfeature occurrences"),A.qZA(),A.qZA(),A.TgZ(11,"div",3),A.TgZ(12,"div",6),A.YNc(13,W$,3,2,"span",5),A.qZA(),A.qZA(),A.qZA()),2&a){const e=A.oxw();A.xp6(3),A.AsE("Feature name: ",e.selected.name," (id: ",e.selected.id,")"),A.xp6(4),A.Q6J("ngForOf",e.selected.involvedAtomSerials),A.xp6(6),A.Q6J("ngForOf",e.globalFrames)}}function $$(a,t){1&a&&(A.TgZ(0,"div",2),A.TgZ(1,"div",11),A._uU(2," Select feature cloud to display: "),A.TgZ(3,"ul",12),A.TgZ(4,"li"),A._uU(5,"feature name"),A.qZA(),A.TgZ(6,"li"),A._uU(7,"involved atom serials"),A.qZA(),A.TgZ(8,"li"),A._uU(9,"superfeature occurrences (frames numbers)"),A.qZA(),A.qZA(),A.qZA(),A.qZA())}let Y$=(()=>{class a{constructor(e){this.store=e,this.selected=null,this.globalFrames=[],this.subs=new Qg,this.selected$=this.store.pipe((0,We.Ys)(z$)),this.globalMax$=this.store.pipe((0,We.Ys)(dS)),this.globalMin$=this.store.pipe((0,We.Ys)(qb))}ngOnDestroy(){this.subs.unsubscribe()}ngOnInit(){this.subs.sink=this.selected$.subscribe(e=>{this.selected=e}),this.subs.sink=hC([this.globalMax$,this.globalMin$]).pipe((0,Ia.w)(e=>{this.globalFrames=[];for(let o=e[1];o<=e[0];o++)this.globalFrames.push(o);return this.selected$})).subscribe(e=>{this.selected=e})}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(We.yh))},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-selected-info"]],decls:3,vars:2,consts:[["class","logical-container info-block",4,"ngIf","ngIfElse"],["nothingIsSelected",""],[1,"logical-container","info-block"],[1,"row"],[1,"col-sm-12"],[4,"ngFor","ngForOf"],[1,"occurrences"],["class","isPresent",3,"title",4,"ngIf"],[3,"title",4,"ngIf"],[1,"isPresent",3,"title"],[3,"title"],["role","alert",1,"alert","alert-primary"],[1,"mb-0"]],template:function(e,o){if(1&e&&(A.YNc(0,q$,14,4,"div",0),A.YNc(1,$$,10,0,"ng-template",null,1,A.W1O)),2&e){const l=A.MAs(2);A.Q6J("ngIf",o.selected&&o.selected.id)("ngIfElse",l)}},directives:[Se,bo],styles:[".info-block[_ngcontent-%COMP%]{height:10rem;overflow:hidden}"]}),a})();const X$=function(a){return{"full-size":a}},Z$=function(a,t){return{"bi-fullscreen":a,"bi-fullscreen-exit":t}};let K$=(()=>{class a{constructor(e,o,l){this.store=e,this.filesService=o,this.parserService=l,this.isFullSize=!1,this.bTitle="Full Screen",this.stageSize=[],this.atomsCoordsList=[],this.subs=new Qg,this.shapeComponents={},this.currentFrame=null,this.range=[0,100],this.isSelected=null,this.globalMax=0,this.globalMin=0,this.playStatus="stop",this.isPrevHidden=!0,this.playRange=[0,100],this.displayAll$=this.store.pipe((0,We.Ys)(ml)),this.isDisplaySelected$=this.store.pipe((0,We.Ys)(r_)),this.isRange$=this.store.pipe((0,We.Ys)(i_)),this.globalMax$=this.store.pipe((0,We.Ys)(dS)),this.globalMin$=this.store.pipe((0,We.Ys)(qb)),this.playStatus$=this.store.pipe((0,We.Ys)($l)),this.currentFrame$=this.store.pipe((0,We.Ys)(HD)),this.hidePast$=this.store.pipe((0,We.Ys)(uw)),this.playRange$=this.store.pipe((0,We.Ys)(GD))}ngOnInit(){}ngOnDestroy(){this.subs.unsubscribe()}ngAfterViewInit(){_y.z.schedule(()=>{this.stageInstance=new em.Stage("viewport"),this.subs.sink=this.filesService.isCustom$.subscribe(e=>{this.clearStage(e),this.initPdbDcd(e)}),this.storeSubscription()},500)}toggleFullSize(){this.isFullSize=!this.isFullSize,this.bTitle=this.isFullSize?"Close Full Screen":"Full Screen",_y.z.schedule(()=>{this.stageInstance.handleResize()},500)}initPdbDcd(e){this.subs.sink=this.filesService.uploadPdb(this.stageInstance,e).pipe((0,Ia.w)(o=>(this.structureComponent=this.parserService.structureDrawing(o,this.stageInstance),this.stageInstance.signals.clicked.add(this.stageClicked,this),this.filesService.uploadDcd(e))),(0,Ia.w)(o=>(this.trajectoryStructureComponent=this.structureComponent.addTrajectory(o,{deltaTime:500,timeOffset:0,removePeriodicity:!1,centerPbc:!1,remo:!1,superpose:!1}),this.trajectoryStructureComponent.signals.frameChanged.add(this.frameChangedListener,this),this.filesService.uploadPml(e)))).subscribe(o=>{this.dynophore=this.parserService.parseDynophore(o),this.atomsCoordsList=this.parserService.getAtomDynophoreInteractions(this.dynophore.allInvolvedAtoms,this.structureComponent),this.drawCloud(),this.structureComponent.autoView(),this.playerInit()})}drawCloud(){this.dynophoreShapes=this.parserService.dynophoreDrawing(this.dynophore),this.showDynophore()}showDynophore(){Object.keys(this.dynophoreShapes).map((e,o)=>{this.shapeComponents[e]=this.stageInstance.addComponentFromObject(this.dynophoreShapes[e]),this.shapeComponents[e].addRepresentation("buffer",{opacity:.9})})}removeDynophore(){Object.keys(this.dynophoreShapes).map(e=>{this.stageInstance.removeComponent(this.shapeComponents[e])})}toggleSelected(e){if(this.removeDynophore(),this.isSelected){const o=this.parserService.getShowingIndecies(this.range,this.isSelected,this.globalMin,this.globalMax);this.dynophoreShapes=this.parserService.dynophoreDrawingByVisible(this.dynophore,o),this.showDynophore()}else if(e){const o=this.parserService.getShowingIndecies([this.globalMin,this.globalMax],e,this.globalMin,this.globalMax);this.dynophoreShapes=this.parserService.dynophoreDrawingByVisible(this.dynophore,o),this.showDynophore()}}playDynophore(e){if(!e)return;let o=[e];if(this.removeDynophore(),!this.isPrevHidden){o=[];for(let d=this.playRange[0];d<=e;d++)o.push(d)}const l=this.parserService.parseAtomCoord(this.structureComponent.structure.getAtomData());this.dynophoreShapes=this.parserService.dynophoreDrawingByVisible(this.dynophore,o,l),Object.keys(this.dynophoreShapes).map((d,g)=>{this.shapeComponents[d]=this.stageInstance.addComponentFromObject(this.dynophoreShapes[d]),this.shapeComponents[d].addRepresentation("buffer",{opacity:.9})})}togglePlayer(e){"play"===e?(this.playRange[0]&&this.playRange[0]!==this.globalMin&&this.player.setParameters({start:this.playRange[0]}),this.playRange[1]&&this.playRange[1]!==this.globalMax&&this.player.setParameters({end:this.playRange[1]}),this.player.play()):"pause"===e?this.player.pause():"stop"===e&&(this.player.stop(),this.toggleSelected("show"))}playerInit(){this.stageInstance.eachComponent(e=>{"structure"===e.type&&(this.player=new em.TrajectoryPlayer(e.trajList[0].trajectory,{start:this.globalMin,end:this.globalMax,step:1,timeout:500,mode:"loop",direction:"forward"}))})}storeSubscription(){this.subs.sink=this.displayAll$.subscribe(e=>{!e||(this.dynophoreShapes||(this.dynophoreShapes=this.parserService.dynophoreDrawing(this.dynophore)),"show"==e?this.toggleSelected("show"):"hide"==e&&this.toggleSelected("hide"))}),this.subs.sink=this.isDisplaySelected$.subscribe(e=>{this.isSelected=e,this.isSelected&&this.range.length>0&&this.toggleSelected()}),this.subs.sink=this.isRange$.subscribe(e=>{e&&(this.range=e),this.isSelected&&this.range.length>0&&this.toggleSelected()}),this.subs.sink=this.globalMax$.subscribe(e=>{this.globalMax=e}),this.subs.sink=this.globalMin$.subscribe(e=>{this.globalMin=e}),this.subs.sink=this.playStatus$.subscribe(e=>{this.playStatus=e,this.player&&this.togglePlayer(e)}),this.subs.sink=this.currentFrame$.subscribe(e=>{this.currentFrame=e}),this.subs.sink=this.hidePast$.subscribe(e=>{this.isPrevHidden=e}),this.subs.sink=this.playRange$.subscribe(e=>{this.playRange=e&&e.length>0?e:[this.globalMin,this.globalMax],this.player&&(this.togglePlayer("stop"),this.store.dispatch(lw({playStatus:"stop"})))})}frameChangedListener(e){e<0||(this.playDynophore(e),this.store.dispatch(Gb({currentFrame:e})))}stageClicked(e){var o,l,d,g;(null===(l=null===(o=null==e?void 0:e.picker)||void 0===o?void 0:o.shape)||void 0===l?void 0:l.name)?this.store.dispatch(_f({selected:this.parserService.getFeatureCloudInfo(null===(g=null===(d=null==e?void 0:e.picker)||void 0===d?void 0:d.shape)||void 0===g?void 0:g.name)})):this.store.dispatch(jC())}clearStage(e){e&&(this.parserService.clearFeatureClouds(),this.stageInstance.removeAllComponents())}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(We.yh),A.Y36(gw),A.Y36(U$))},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-ngl-index"]],decls:6,vars:8,consts:[[1,"row"],[1,"col-sm-12","viewer-container",3,"ngClass"],[1,"btn","btn-outline-secondary","scale-button",3,"click"],[1,"bi",3,"ngClass"],["id","viewport",1,"viewport"]],template:function(e,o){1&e&&(A._UZ(0,"dyno-selected-info"),A.TgZ(1,"div",0),A.TgZ(2,"div",1),A.TgZ(3,"button",2),A.NdJ("click",function(){return o.toggleFullSize()}),A._UZ(4,"i",3),A.qZA(),A._UZ(5,"div",4),A.qZA(),A.qZA()),2&e&&(A.xp6(2),A.Q6J("ngClass",A.VKq(3,X$,o.isFullSize)),A.xp6(1),A.uIk("title",o.bTitle),A.xp6(1),A.Q6J("ngClass",A.WLB(5,Z$,!o.isFullSize,o.isFullSize)))},directives:[Y$,Nl],styles:["@charset \"UTF-8\";[_ngcontent-%COMP%]:root{--bs-blue: #0d6efd;--bs-indigo: #6610f2;--bs-purple: #6f42c1;--bs-pink: #d63384;--bs-red: #dc3545;--bs-orange: #fd7e14;--bs-yellow: #ffc107;--bs-green: #198754;--bs-teal: #20c997;--bs-cyan: #0dcaf0;--bs-white: #fff;--bs-gray: #6c757d;--bs-gray-dark: #343a40;--bs-gray-100: #f8f9fa;--bs-gray-200: #e9ecef;--bs-gray-300: #dee2e6;--bs-gray-400: #ced4da;--bs-gray-500: #adb5bd;--bs-gray-600: #6c757d;--bs-gray-700: #495057;--bs-gray-800: #343a40;--bs-gray-900: #212529;--bs-primary: #0d6efd;--bs-secondary: #6c757d;--bs-success: #198754;--bs-info: #0dcaf0;--bs-warning: #ffc107;--bs-danger: #dc3545;--bs-light: #f8f9fa;--bs-dark: #212529;--bs-primary-rgb: 13, 110, 253;--bs-secondary-rgb: 108, 117, 125;--bs-success-rgb: 25, 135, 84;--bs-info-rgb: 13, 202, 240;--bs-warning-rgb: 255, 193, 7;--bs-danger-rgb: 220, 53, 69;--bs-light-rgb: 248, 249, 250;--bs-dark-rgb: 33, 37, 41;--bs-white-rgb: 255, 255, 255;--bs-black-rgb: 0, 0, 0;--bs-body-color-rgb: 33, 37, 41;--bs-body-bg-rgb: 255, 255, 255;--bs-font-sans-serif: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";--bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;--bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, .15), rgba(255, 255, 255, 0));--bs-body-font-family: var(--bs-font-sans-serif);--bs-body-font-size: 1rem;--bs-body-font-weight: 400;--bs-body-line-height: 1.5;--bs-body-color: #212529;--bs-body-bg: #fff}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}hr[_ngcontent-%COMP%]{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr[_ngcontent-%COMP%]:not([size]){height:1px}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw)}@media (min-width: 1200px){h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:2.5rem}}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:calc(1.325rem + .9vw)}@media (min-width: 1200px){h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:2rem}}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:calc(1.3rem + .6vw)}@media (min-width: 1200px){h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:1.75rem}}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:calc(1.275rem + .3vw)}@media (min-width: 1200px){h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:1.5rem}}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:1.25rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1rem}p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}abbr[title][_ngcontent-%COMP%], abbr[data-bs-original-title][_ngcontent-%COMP%]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address[_ngcontent-%COMP%]{margin-bottom:1rem;font-style:normal;line-height:inherit}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding-left:2rem}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], dl[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}ol[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:0}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-bottom:.5rem;margin-left:0}blockquote[_ngcontent-%COMP%]{margin:0 0 1rem}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}small[_ngcontent-%COMP%], .small[_ngcontent-%COMP%]{font-size:.875em}mark[_ngcontent-%COMP%], .mark[_ngcontent-%COMP%]{padding:.2em;background-color:#fcf8e3}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}a[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}a[_ngcontent-%COMP%]:hover{color:#0a58ca}a[_ngcontent-%COMP%]:not([href]):not([class]), a[_ngcontent-%COMP%]:not([href]):not([class]):hover{color:inherit;text-decoration:none}pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:var(--bs-font-monospace);font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:inherit;color:inherit;word-break:normal}code[_ngcontent-%COMP%]{font-size:.875em;color:#d63384;word-wrap:break-word}a[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{color:inherit}kbd[_ngcontent-%COMP%]{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{padding:0;font-size:1em;font-weight:700}figure[_ngcontent-%COMP%]{margin:0 0 1rem}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{vertical-align:middle}table[_ngcontent-%COMP%]{caption-side:bottom;border-collapse:collapse}caption[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th[_ngcontent-%COMP%]{text-align:inherit;text-align:-webkit-match-parent}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}label[_ngcontent-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{border-radius:0}button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:0}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[role=button][_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{word-wrap:normal}select[_ngcontent-%COMP%]:disabled{opacity:1}[list][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%]{-webkit-appearance:button}button[_ngcontent-%COMP%]:not(:disabled), [type=button][_ngcontent-%COMP%]:not(:disabled), [type=reset][_ngcontent-%COMP%]:not(:disabled), [type=submit][_ngcontent-%COMP%]:not(:disabled){cursor:pointer}[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border-style:none}textarea[_ngcontent-%COMP%]{resize:vertical}fieldset[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;border:0}legend[_ngcontent-%COMP%]{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width: 1200px){legend[_ngcontent-%COMP%]{font-size:1.5rem}}legend[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{clear:left}[_ngcontent-%COMP%]::-webkit-datetime-edit-fields-wrapper, [_ngcontent-%COMP%]::-webkit-datetime-edit-text, [_ngcontent-%COMP%]::-webkit-datetime-edit-minute, [_ngcontent-%COMP%]::-webkit-datetime-edit-hour-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-day-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-month-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-year-field{padding:0}[_ngcontent-%COMP%]::-webkit-inner-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px;-webkit-appearance:textfield}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}[_ngcontent-%COMP%]::file-selector-button{font:inherit}[_ngcontent-%COMP%]::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output[_ngcontent-%COMP%]{display:inline-block}iframe[_ngcontent-%COMP%]{border:0}summary[_ngcontent-%COMP%]{display:list-item;cursor:pointer}progress[_ngcontent-%COMP%]{vertical-align:baseline}[hidden][_ngcontent-%COMP%]{display:none!important}.lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300}.display-1[_ngcontent-%COMP%]{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-1[_ngcontent-%COMP%]{font-size:5rem}}.display-2[_ngcontent-%COMP%]{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-2[_ngcontent-%COMP%]{font-size:4.5rem}}.display-3[_ngcontent-%COMP%]{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-3[_ngcontent-%COMP%]{font-size:4rem}}.display-4[_ngcontent-%COMP%]{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-4[_ngcontent-%COMP%]{font-size:3.5rem}}.display-5[_ngcontent-%COMP%]{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-5[_ngcontent-%COMP%]{font-size:3rem}}.display-6[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-6[_ngcontent-%COMP%]{font-size:2.5rem}}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline-item[_ngcontent-%COMP%]{display:inline-block}.list-inline-item[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.initialism[_ngcontent-%COMP%]{font-size:.875em;text-transform:uppercase}.blockquote[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.25rem}.blockquote[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}.blockquote-footer[_ngcontent-%COMP%]{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer[_ngcontent-%COMP%]:before{content:\"\\2014\\a0\"}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}.img-thumbnail[_ngcontent-%COMP%]{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure[_ngcontent-%COMP%]{display:inline-block}.figure-img[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1}.figure-caption[_ngcontent-%COMP%]{font-size:.875em;color:#6c757d}.container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%], .container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%]{width:100%;padding-right:var(--bs-gutter-x, .75rem);padding-left:var(--bs-gutter-x, .75rem);margin-right:auto;margin-left:auto}@media (min-width: 576px){.container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:540px}}@media (min-width: 768px){.container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:720px}}@media (min-width: 992px){.container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:960px}}@media (min-width: 1200px){.container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1140px}}@media (min-width: 1400px){.container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1320px}}.row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x) * -.5);margin-left:calc(var(--bs-gutter-x) * -.5)}.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-3[_ngcontent-%COMP%]{margin-left:25%}.offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-6[_ngcontent-%COMP%]{margin-left:50%}.offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-9[_ngcontent-%COMP%]{margin-left:75%}.offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-0[_ngcontent-%COMP%], .gx-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-0[_ngcontent-%COMP%], .gy-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-1[_ngcontent-%COMP%], .gx-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-1[_ngcontent-%COMP%], .gy-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-2[_ngcontent-%COMP%], .gx-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-2[_ngcontent-%COMP%], .gy-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-3[_ngcontent-%COMP%], .gx-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-3[_ngcontent-%COMP%], .gy-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-4[_ngcontent-%COMP%], .gx-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-4[_ngcontent-%COMP%], .gy-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-5[_ngcontent-%COMP%], .gx-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-5[_ngcontent-%COMP%], .gy-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}@media (min-width: 576px){.col-sm[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-sm-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-sm-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-sm-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-sm-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-sm-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-sm-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-sm-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-sm-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-sm-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-sm-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-sm-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-sm-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-sm-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-sm-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-sm-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-sm-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-sm-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-sm-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-sm-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-sm-0[_ngcontent-%COMP%]{margin-left:0}.offset-sm-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-sm-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-sm-3[_ngcontent-%COMP%]{margin-left:25%}.offset-sm-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-sm-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-sm-6[_ngcontent-%COMP%]{margin-left:50%}.offset-sm-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-sm-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-sm-9[_ngcontent-%COMP%]{margin-left:75%}.offset-sm-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-sm-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-sm-0[_ngcontent-%COMP%], .gx-sm-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-sm-0[_ngcontent-%COMP%], .gy-sm-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-sm-1[_ngcontent-%COMP%], .gx-sm-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-sm-1[_ngcontent-%COMP%], .gy-sm-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-sm-2[_ngcontent-%COMP%], .gx-sm-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-sm-2[_ngcontent-%COMP%], .gy-sm-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-sm-3[_ngcontent-%COMP%], .gx-sm-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-sm-3[_ngcontent-%COMP%], .gy-sm-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-sm-4[_ngcontent-%COMP%], .gx-sm-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-sm-4[_ngcontent-%COMP%], .gy-sm-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-sm-5[_ngcontent-%COMP%], .gx-sm-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-sm-5[_ngcontent-%COMP%], .gy-sm-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 768px){.col-md[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-md-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-md-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-md-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-md-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-md-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-md-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-md-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-md-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-md-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-md-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-md-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-md-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-md-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-md-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-md-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-md-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-md-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-md-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-md-0[_ngcontent-%COMP%]{margin-left:0}.offset-md-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-md-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-md-3[_ngcontent-%COMP%]{margin-left:25%}.offset-md-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-md-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-md-6[_ngcontent-%COMP%]{margin-left:50%}.offset-md-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-md-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-md-9[_ngcontent-%COMP%]{margin-left:75%}.offset-md-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-md-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-md-0[_ngcontent-%COMP%], .gx-md-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-md-0[_ngcontent-%COMP%], .gy-md-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-md-1[_ngcontent-%COMP%], .gx-md-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-md-1[_ngcontent-%COMP%], .gy-md-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-md-2[_ngcontent-%COMP%], .gx-md-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-md-2[_ngcontent-%COMP%], .gy-md-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-md-3[_ngcontent-%COMP%], .gx-md-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-md-3[_ngcontent-%COMP%], .gy-md-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-md-4[_ngcontent-%COMP%], .gx-md-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-md-4[_ngcontent-%COMP%], .gy-md-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-md-5[_ngcontent-%COMP%], .gx-md-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-md-5[_ngcontent-%COMP%], .gy-md-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 992px){.col-lg[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-lg-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-lg-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-lg-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-lg-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-lg-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-lg-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-lg-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-lg-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-lg-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-lg-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-lg-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-lg-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-lg-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-lg-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-lg-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-lg-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-lg-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-lg-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-lg-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-lg-0[_ngcontent-%COMP%]{margin-left:0}.offset-lg-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-lg-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-lg-3[_ngcontent-%COMP%]{margin-left:25%}.offset-lg-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-lg-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-lg-6[_ngcontent-%COMP%]{margin-left:50%}.offset-lg-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-lg-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-lg-9[_ngcontent-%COMP%]{margin-left:75%}.offset-lg-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-lg-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-lg-0[_ngcontent-%COMP%], .gx-lg-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-lg-0[_ngcontent-%COMP%], .gy-lg-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-lg-1[_ngcontent-%COMP%], .gx-lg-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-lg-1[_ngcontent-%COMP%], .gy-lg-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-lg-2[_ngcontent-%COMP%], .gx-lg-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-lg-2[_ngcontent-%COMP%], .gy-lg-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-lg-3[_ngcontent-%COMP%], .gx-lg-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-lg-3[_ngcontent-%COMP%], .gy-lg-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-lg-4[_ngcontent-%COMP%], .gx-lg-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-lg-4[_ngcontent-%COMP%], .gy-lg-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-lg-5[_ngcontent-%COMP%], .gx-lg-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-lg-5[_ngcontent-%COMP%], .gy-lg-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 1200px){.col-xl[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-xl-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-xl-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-xl-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-xl-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-xl-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-xl-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-xl-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-xl-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-xl-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-xl-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-xl-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-xl-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-xl-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-xl-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-xl-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-xl-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-xl-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-xl-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-xl-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-xl-0[_ngcontent-%COMP%]{margin-left:0}.offset-xl-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-xl-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-xl-3[_ngcontent-%COMP%]{margin-left:25%}.offset-xl-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-xl-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-xl-6[_ngcontent-%COMP%]{margin-left:50%}.offset-xl-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-xl-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-xl-9[_ngcontent-%COMP%]{margin-left:75%}.offset-xl-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-xl-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-xl-0[_ngcontent-%COMP%], .gx-xl-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-xl-0[_ngcontent-%COMP%], .gy-xl-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-xl-1[_ngcontent-%COMP%], .gx-xl-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-xl-1[_ngcontent-%COMP%], .gy-xl-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-xl-2[_ngcontent-%COMP%], .gx-xl-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-xl-2[_ngcontent-%COMP%], .gy-xl-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-xl-3[_ngcontent-%COMP%], .gx-xl-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-xl-3[_ngcontent-%COMP%], .gy-xl-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-xl-4[_ngcontent-%COMP%], .gx-xl-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-xl-4[_ngcontent-%COMP%], .gy-xl-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-xl-5[_ngcontent-%COMP%], .gx-xl-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-xl-5[_ngcontent-%COMP%], .gy-xl-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 1400px){.col-xxl[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-xxl-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-xxl-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-xxl-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-xxl-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-xxl-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-xxl-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-xxl-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-xxl-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-xxl-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-xxl-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-xxl-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-xxl-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-xxl-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-xxl-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-xxl-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-xxl-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-xxl-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-xxl-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-xxl-0[_ngcontent-%COMP%]{margin-left:0}.offset-xxl-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-xxl-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-xxl-3[_ngcontent-%COMP%]{margin-left:25%}.offset-xxl-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-xxl-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-xxl-6[_ngcontent-%COMP%]{margin-left:50%}.offset-xxl-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-xxl-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-xxl-9[_ngcontent-%COMP%]{margin-left:75%}.offset-xxl-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-xxl-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-xxl-0[_ngcontent-%COMP%], .gx-xxl-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-xxl-0[_ngcontent-%COMP%], .gy-xxl-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-xxl-1[_ngcontent-%COMP%], .gx-xxl-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-xxl-1[_ngcontent-%COMP%], .gy-xxl-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-xxl-2[_ngcontent-%COMP%], .gx-xxl-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-xxl-2[_ngcontent-%COMP%], .gy-xxl-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-xxl-3[_ngcontent-%COMP%], .gx-xxl-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-xxl-3[_ngcontent-%COMP%], .gy-xxl-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-xxl-4[_ngcontent-%COMP%], .gx-xxl-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-xxl-4[_ngcontent-%COMP%], .gy-xxl-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-xxl-5[_ngcontent-%COMP%], .gx-xxl-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-xxl-5[_ngcontent-%COMP%], .gy-xxl-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent;--bs-table-accent-bg: transparent;--bs-table-striped-color: #212529;--bs-table-striped-bg: rgba(0, 0, 0, .05);--bs-table-active-color: #212529;--bs-table-active-bg: rgba(0, 0, 0, .1);--bs-table-hover-color: #212529;--bs-table-hover-bg: rgba(0, 0, 0, .075);width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border-color:#dee2e6}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{vertical-align:inherit}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]{vertical-align:bottom}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:currentColor}.caption-top[_ngcontent-%COMP%]{caption-side:top}.table-sm[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.25rem}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%]{border-width:1px 0}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-width:0 1px}.table-borderless[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom-width:0}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd){--bs-table-accent-bg: var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active[_ngcontent-%COMP%]{--bs-table-accent-bg: var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{--bs-table-accent-bg: var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary[_ngcontent-%COMP%]{--bs-table-bg: #cfe2ff;--bs-table-striped-bg: #c5d7f2;--bs-table-striped-color: #000;--bs-table-active-bg: #bacbe6;--bs-table-active-color: #000;--bs-table-hover-bg: #bfd1ec;--bs-table-hover-color: #000;color:#000;border-color:#bacbe6}.table-secondary[_ngcontent-%COMP%]{--bs-table-bg: #e2e3e5;--bs-table-striped-bg: #d7d8da;--bs-table-striped-color: #000;--bs-table-active-bg: #cbccce;--bs-table-active-color: #000;--bs-table-hover-bg: #d1d2d4;--bs-table-hover-color: #000;color:#000;border-color:#cbccce}.table-success[_ngcontent-%COMP%]{--bs-table-bg: #d1e7dd;--bs-table-striped-bg: #c7dbd2;--bs-table-striped-color: #000;--bs-table-active-bg: #bcd0c7;--bs-table-active-color: #000;--bs-table-hover-bg: #c1d6cc;--bs-table-hover-color: #000;color:#000;border-color:#bcd0c7}.table-info[_ngcontent-%COMP%]{--bs-table-bg: #cff4fc;--bs-table-striped-bg: #c5e8ef;--bs-table-striped-color: #000;--bs-table-active-bg: #badce3;--bs-table-active-color: #000;--bs-table-hover-bg: #bfe2e9;--bs-table-hover-color: #000;color:#000;border-color:#badce3}.table-warning[_ngcontent-%COMP%]{--bs-table-bg: #fff3cd;--bs-table-striped-bg: #f2e7c3;--bs-table-striped-color: #000;--bs-table-active-bg: #e6dbb9;--bs-table-active-color: #000;--bs-table-hover-bg: #ece1be;--bs-table-hover-color: #000;color:#000;border-color:#e6dbb9}.table-danger[_ngcontent-%COMP%]{--bs-table-bg: #f8d7da;--bs-table-striped-bg: #eccccf;--bs-table-striped-color: #000;--bs-table-active-bg: #dfc2c4;--bs-table-active-color: #000;--bs-table-hover-bg: #e5c7ca;--bs-table-hover-color: #000;color:#000;border-color:#dfc2c4}.table-light[_ngcontent-%COMP%]{--bs-table-bg: #f8f9fa;--bs-table-striped-bg: #ecedee;--bs-table-striped-color: #000;--bs-table-active-bg: #dfe0e1;--bs-table-active-color: #000;--bs-table-hover-bg: #e5e6e7;--bs-table-hover-color: #000;color:#000;border-color:#dfe0e1}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #212529;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;color:#fff;border-color:#373b3e}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width: 575.98px){.table-responsive-sm[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 767.98px){.table-responsive-md[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 991.98px){.table-responsive-lg[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 1199.98px){.table-responsive-xl[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 1399.98px){.table-responsive-xxl[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label[_ngcontent-%COMP%]{margin-bottom:.5rem}.col-form-label[_ngcontent-%COMP%]{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg[_ngcontent-%COMP%]{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm[_ngcontent-%COMP%]{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]{transition:none}}.form-control[type=file][_ngcontent-%COMP%]{overflow:hidden}.form-control[type=file][_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control[_ngcontent-%COMP%]:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-control[_ngcontent-%COMP%]::-webkit-date-and-time-value{height:1.5em}.form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:1}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#e9ecef;opacity:1}.form-control[_ngcontent-%COMP%]::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]::file-selector-button{transition:none}}.form-control[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-transition:none;transition:none}}.form-control[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control-plaintext[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-sm[_ngcontent-%COMP%], .form-control-plaintext.form-control-lg[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.form-control-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-sm[_ngcontent-%COMP%]::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;margin-inline-end:.5rem}.form-control-sm[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;margin-inline-end:.5rem}.form-control-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-lg[_ngcontent-%COMP%]::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;margin-inline-end:1rem}.form-control-lg[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;margin-inline-end:1rem}textarea.form-control[_ngcontent-%COMP%]{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + 2px)}.form-control-color[_ngcontent-%COMP%]{width:3rem;height:auto;padding:.375rem}.form-control-color[_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control-color[_ngcontent-%COMP%]::-moz-color-swatch{height:1.5em;border-radius:.25rem}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch{height:1.5em;border-radius:.25rem}.form-select[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-select[_ngcontent-%COMP%]{transition:none}}.form-select[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-select[multiple][_ngcontent-%COMP%], .form-select[size][_ngcontent-%COMP%]:not([size=\"1\"]){padding-right:.75rem;background-image:none}.form-select[_ngcontent-%COMP%]:disabled{background-color:#e9ecef}.form-select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.form-select-lg[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.form-check[_ngcontent-%COMP%]{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:left;margin-left:-1.5em}.form-check-input[_ngcontent-%COMP%]{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact}.form-check-input[type=checkbox][_ngcontent-%COMP%]{border-radius:.25em}.form-check-input[type=radio][_ngcontent-%COMP%]{border-radius:50%}.form-check-input[_ngcontent-%COMP%]:active{filter:brightness(90%)}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input[_ngcontent-%COMP%]:checked[type=checkbox]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\")}.form-check-input[_ngcontent-%COMP%]:checked[type=radio]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-input[type=checkbox][_ngcontent-%COMP%]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e\")}.form-check-input[_ngcontent-%COMP%]:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input[disabled][_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%], .form-check-input[_ngcontent-%COMP%]:disabled ~ .form-check-label[_ngcontent-%COMP%]{opacity:.5}.form-switch[_ngcontent-%COMP%]{padding-left:2.5em}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2em;margin-left:-2.5em;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{transition:none}}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e\")}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-position:right center;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-inline[_ngcontent-%COMP%]{display:inline-block;margin-right:1rem}.btn-check[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check[disabled][_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:disabled + .btn[_ngcontent-%COMP%]{pointer-events:none;filter:none;opacity:.65}.form-range[_ngcontent-%COMP%]{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range[_ngcontent-%COMP%]:focus{outline:0}.form-range[_ngcontent-%COMP%]:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range[_ngcontent-%COMP%]:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range[_ngcontent-%COMP%]::-moz-focus-outer{border:0}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range[_ngcontent-%COMP%]::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-range[_ngcontent-%COMP%]::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range[_ngcontent-%COMP%]::-moz-range-thumb:active{background-color:#b6d4fe}.form-range[_ngcontent-%COMP%]::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range[_ngcontent-%COMP%]:disabled{pointer-events:none}.form-range[_ngcontent-%COMP%]:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range[_ngcontent-%COMP%]:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating[_ngcontent-%COMP%]{position:relative}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{height:calc(3.5rem + 2px);line-height:1.25}.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;padding:1rem .75rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion: reduce){.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{transition:none}}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{padding:1rem .75rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]::placeholder{color:transparent}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus, .form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{opacity:.65;transform:scale(.85) translateY(-.5rem) translate(.15rem)}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:-webkit-autofill ~ label[_ngcontent-%COMP%]{opacity:.65;transform:scale(.85) translateY(-.5rem) translate(.15rem)}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]:focus{z-index:3}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;z-index:2}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{z-index:3}.input-group-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-lg[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-right:3rem}.input-group[_ngcontent-%COMP%]:not(.has-validation) > [_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu), .input-group[_ngcontent-%COMP%]:not(.has-validation) > .dropdown-toggle[_ngcontent-%COMP%]:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu), .input-group.has-validation[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]:nth-last-child(n+4){border-top-right-radius:0;border-bottom-right-radius:0}.input-group[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback[_ngcontent-%COMP%]{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:#198754e6;border-radius:.25rem}.was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:valid ~ .valid-feedback[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:valid ~ .valid-tooltip[_ngcontent-%COMP%], .is-valid[_ngcontent-%COMP%] ~ .valid-feedback[_ngcontent-%COMP%], .is-valid[_ngcontent-%COMP%] ~ .valid-tooltip[_ngcontent-%COMP%]{display:block}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid, .form-control.is-valid[_ngcontent-%COMP%]{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid:focus, .form-control.is-valid[_ngcontent-%COMP%]:focus{border-color:#198754;box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:valid, textarea.form-control.is-valid[_ngcontent-%COMP%]{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid, .form-select.is-valid[_ngcontent-%COMP%]{border-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:not([multiple]):not([size]), .was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:not([multiple])[size=\"1\"], .form-select.is-valid[_ngcontent-%COMP%]:not([multiple]):not([size]), .form-select.is-valid[_ngcontent-%COMP%]:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:focus, .form-select.is-valid[_ngcontent-%COMP%]:focus{border-color:#198754;box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid, .form-check-input.is-valid[_ngcontent-%COMP%]{border-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid:checked, .form-check-input.is-valid[_ngcontent-%COMP%]:checked{background-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid:focus, .form-check-input.is-valid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid ~ .form-check-label[_ngcontent-%COMP%], .form-check-input.is-valid[_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%]{color:#198754}.form-check-inline[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] ~ .valid-feedback[_ngcontent-%COMP%]{margin-left:.5em}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid, .input-group[_ngcontent-%COMP%]   .form-control.is-valid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid, .input-group[_ngcontent-%COMP%]   .form-select.is-valid[_ngcontent-%COMP%]{z-index:1}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid:focus, .input-group[_ngcontent-%COMP%]   .form-control.is-valid[_ngcontent-%COMP%]:focus, .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:focus, .input-group[_ngcontent-%COMP%]   .form-select.is-valid[_ngcontent-%COMP%]:focus{z-index:3}.invalid-feedback[_ngcontent-%COMP%]{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:#dc3545e6;border-radius:.25rem}.was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:invalid ~ .invalid-feedback[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:invalid ~ .invalid-tooltip[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%] ~ .invalid-tooltip[_ngcontent-%COMP%]{display:block}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid:focus, .form-control.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:invalid, textarea.form-control.is-invalid[_ngcontent-%COMP%]{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid, .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:not([multiple]):not([size]), .was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:not([multiple])[size=\"1\"], .form-select.is-invalid[_ngcontent-%COMP%]:not([multiple]):not([size]), .form-select.is-invalid[_ngcontent-%COMP%]:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:focus, .form-select.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid, .form-check-input.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid:checked, .form-check-input.is-invalid[_ngcontent-%COMP%]:checked{background-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid:focus, .form-check-input.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid ~ .form-check-label[_ngcontent-%COMP%], .form-check-input.is-invalid[_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%]{color:#dc3545}.form-check-inline[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%]{margin-left:.5em}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid, .input-group[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{z-index:2}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid:focus, .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus, .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:focus, .input-group[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus{z-index:3}.btn[_ngcontent-%COMP%]{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%]{transition:none}}.btn[_ngcontent-%COMP%]:hover{color:#212529}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}.btn-check[_ngcontent-%COMP%]:focus + .btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#0b5ed7;border-color:#0a58ca;box-shadow:0 0 0 .25rem #3184fd80}.btn-check[_ngcontent-%COMP%]:checked + .btn-primary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:active, .btn-primary.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#0a58ca;border-color:#0a53be}.btn-check[_ngcontent-%COMP%]:checked + .btn-primary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:active:focus, .btn-primary.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3184fd80}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-primary.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#5c636a;border-color:#565e64}.btn-check[_ngcontent-%COMP%]:focus + .btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#5c636a;border-color:#565e64;box-shadow:0 0 0 .25rem #828a9180}.btn-check[_ngcontent-%COMP%]:checked + .btn-secondary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:active, .btn-secondary.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#565e64;border-color:#51585e}.btn-check[_ngcontent-%COMP%]:checked + .btn-secondary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-secondary[_ngcontent-%COMP%]:focus, .btn-secondary[_ngcontent-%COMP%]:active:focus, .btn-secondary.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #828a9180}.btn-secondary[_ngcontent-%COMP%]:disabled, .btn-secondary.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#157347;border-color:#146c43}.btn-check[_ngcontent-%COMP%]:focus + .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff;background-color:#157347;border-color:#146c43;box-shadow:0 0 0 .25rem #3c996e80}.btn-check[_ngcontent-%COMP%]:checked + .btn-success[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:active, .btn-success.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#146c43;border-color:#13653f}.btn-check[_ngcontent-%COMP%]:checked + .btn-success[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-success[_ngcontent-%COMP%]:focus, .btn-success[_ngcontent-%COMP%]:active:focus, .btn-success.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3c996e80}.btn-success[_ngcontent-%COMP%]:disabled, .btn-success.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-info[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-info[_ngcontent-%COMP%]:hover{color:#000;background-color:#31d2f2;border-color:#25cff2}.btn-check[_ngcontent-%COMP%]:focus + .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:focus{color:#000;background-color:#31d2f2;border-color:#25cff2;box-shadow:0 0 0 .25rem #0baccc80}.btn-check[_ngcontent-%COMP%]:checked + .btn-info[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:active, .btn-info.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-info.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#3dd5f3;border-color:#25cff2}.btn-check[_ngcontent-%COMP%]:checked + .btn-info[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-info[_ngcontent-%COMP%]:focus, .btn-info[_ngcontent-%COMP%]:active:focus, .btn-info.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-info.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0baccc80}.btn-info[_ngcontent-%COMP%]:disabled, .btn-info.disabled[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-warning[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-warning[_ngcontent-%COMP%]:hover{color:#000;background-color:#ffca2c;border-color:#ffc720}.btn-check[_ngcontent-%COMP%]:focus + .btn-warning[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%]:focus{color:#000;background-color:#ffca2c;border-color:#ffc720;box-shadow:0 0 0 .25rem #d9a40680}.btn-check[_ngcontent-%COMP%]:checked + .btn-warning[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-warning[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%]:active, .btn-warning.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-warning.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#ffcd39;border-color:#ffc720}.btn-check[_ngcontent-%COMP%]:checked + .btn-warning[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-warning[_ngcontent-%COMP%]:focus, .btn-warning[_ngcontent-%COMP%]:active:focus, .btn-warning.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-warning.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #d9a40680}.btn-warning[_ngcontent-%COMP%]:disabled, .btn-warning.disabled[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-danger[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#bb2d3b;border-color:#b02a37}.btn-check[_ngcontent-%COMP%]:focus + .btn-danger[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]:focus{color:#fff;background-color:#bb2d3b;border-color:#b02a37;box-shadow:0 0 0 .25rem #e1536180}.btn-check[_ngcontent-%COMP%]:checked + .btn-danger[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-danger[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]:active, .btn-danger.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-danger.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#b02a37;border-color:#a52834}.btn-check[_ngcontent-%COMP%]:checked + .btn-danger[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-danger[_ngcontent-%COMP%]:focus, .btn-danger[_ngcontent-%COMP%]:active:focus, .btn-danger.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-danger.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #e1536180}.btn-danger[_ngcontent-%COMP%]:disabled, .btn-danger.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-light[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light[_ngcontent-%COMP%]:hover{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check[_ngcontent-%COMP%]:focus + .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]:focus{color:#000;background-color:#f9fafb;border-color:#f9fafb;box-shadow:0 0 0 .25rem #d3d4d580}.btn-check[_ngcontent-%COMP%]:checked + .btn-light[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]:active, .btn-light.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-light.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check[_ngcontent-%COMP%]:checked + .btn-light[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-light[_ngcontent-%COMP%]:focus, .btn-light[_ngcontent-%COMP%]:active:focus, .btn-light.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-light.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #d3d4d580}.btn-light[_ngcontent-%COMP%]:disabled, .btn-light.disabled[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-check[_ngcontent-%COMP%]:focus + .btn-dark[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]:focus{color:#fff;background-color:#1c1f23;border-color:#1a1e21;box-shadow:0 0 0 .25rem #42464980}.btn-check[_ngcontent-%COMP%]:checked + .btn-dark[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-dark[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]:active, .btn-dark.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-dark.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#1a1e21;border-color:#191c1f}.btn-check[_ngcontent-%COMP%]:checked + .btn-dark[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-dark[_ngcontent-%COMP%]:focus, .btn-dark[_ngcontent-%COMP%]:active:focus, .btn-dark.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-dark.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #42464980}.btn-dark[_ngcontent-%COMP%]:disabled, .btn-dark.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-primary[_ngcontent-%COMP%]{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6efd80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-primary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:active, .btn-outline-primary.active[_ngcontent-%COMP%], .btn-outline-primary.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-outline-primary[_ngcontent-%COMP%]:active:focus, .btn-outline-primary.active[_ngcontent-%COMP%]:focus, .btn-outline-primary.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6efd80}.btn-outline-primary[_ngcontent-%COMP%]:disabled, .btn-outline-primary.disabled[_ngcontent-%COMP%]{color:#0d6efd;background-color:transparent}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-secondary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6c757d80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-secondary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-secondary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:active, .btn-outline-secondary.active[_ngcontent-%COMP%], .btn-outline-secondary.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-outline-secondary[_ngcontent-%COMP%]:active:focus, .btn-outline-secondary.active[_ngcontent-%COMP%]:focus, .btn-outline-secondary.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6c757d80}.btn-outline-secondary[_ngcontent-%COMP%]:disabled, .btn-outline-secondary.disabled[_ngcontent-%COMP%]{color:#6c757d;background-color:transparent}.btn-outline-success[_ngcontent-%COMP%]{color:#198754;border-color:#198754}.btn-outline-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#198754;border-color:#198754}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-success[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875480}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-success[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-success[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]:active, .btn-outline-success.active[_ngcontent-%COMP%], .btn-outline-success.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-success[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-success[_ngcontent-%COMP%]:focus, .btn-outline-success[_ngcontent-%COMP%]:active:focus, .btn-outline-success.active[_ngcontent-%COMP%]:focus, .btn-outline-success.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875480}.btn-outline-success[_ngcontent-%COMP%]:disabled, .btn-outline-success.disabled[_ngcontent-%COMP%]{color:#198754;background-color:transparent}.btn-outline-info[_ngcontent-%COMP%]{color:#0dcaf0;border-color:#0dcaf0}.btn-outline-info[_ngcontent-%COMP%]:hover{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-info[_ngcontent-%COMP%], .btn-outline-info[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0dcaf080}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-info[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-info[_ngcontent-%COMP%], .btn-outline-info[_ngcontent-%COMP%]:active, .btn-outline-info.active[_ngcontent-%COMP%], .btn-outline-info.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-info[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-info[_ngcontent-%COMP%]:focus, .btn-outline-info[_ngcontent-%COMP%]:active:focus, .btn-outline-info.active[_ngcontent-%COMP%]:focus, .btn-outline-info.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0dcaf080}.btn-outline-info[_ngcontent-%COMP%]:disabled, .btn-outline-info.disabled[_ngcontent-%COMP%]{color:#0dcaf0;background-color:transparent}.btn-outline-warning[_ngcontent-%COMP%]{color:#ffc107;border-color:#ffc107}.btn-outline-warning[_ngcontent-%COMP%]:hover{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-warning[_ngcontent-%COMP%], .btn-outline-warning[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffc10780}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-warning[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-warning[_ngcontent-%COMP%], .btn-outline-warning[_ngcontent-%COMP%]:active, .btn-outline-warning.active[_ngcontent-%COMP%], .btn-outline-warning.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-warning[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-warning[_ngcontent-%COMP%]:focus, .btn-outline-warning[_ngcontent-%COMP%]:active:focus, .btn-outline-warning.active[_ngcontent-%COMP%]:focus, .btn-outline-warning.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffc10780}.btn-outline-warning[_ngcontent-%COMP%]:disabled, .btn-outline-warning.disabled[_ngcontent-%COMP%]{color:#ffc107;background-color:transparent}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-danger[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354580}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-danger[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-danger[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]:active, .btn-outline-danger.active[_ngcontent-%COMP%], .btn-outline-danger.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-danger[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-danger[_ngcontent-%COMP%]:focus, .btn-outline-danger[_ngcontent-%COMP%]:active:focus, .btn-outline-danger.active[_ngcontent-%COMP%]:focus, .btn-outline-danger.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354580}.btn-outline-danger[_ngcontent-%COMP%]:disabled, .btn-outline-danger.disabled[_ngcontent-%COMP%]{color:#dc3545;background-color:transparent}.btn-outline-light[_ngcontent-%COMP%]{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light[_ngcontent-%COMP%]:hover{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #f8f9fa80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-light[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]:active, .btn-outline-light.active[_ngcontent-%COMP%], .btn-outline-light.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-light[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-light[_ngcontent-%COMP%]:focus, .btn-outline-light[_ngcontent-%COMP%]:active:focus, .btn-outline-light.active[_ngcontent-%COMP%]:focus, .btn-outline-light.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #f8f9fa80}.btn-outline-light[_ngcontent-%COMP%]:disabled, .btn-outline-light.disabled[_ngcontent-%COMP%]{color:#f8f9fa;background-color:transparent}.btn-outline-dark[_ngcontent-%COMP%]{color:#212529;border-color:#212529}.btn-outline-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-dark[_ngcontent-%COMP%], .btn-outline-dark[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #21252980}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-dark[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-dark[_ngcontent-%COMP%], .btn-outline-dark[_ngcontent-%COMP%]:active, .btn-outline-dark.active[_ngcontent-%COMP%], .btn-outline-dark.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-dark[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-dark[_ngcontent-%COMP%]:focus, .btn-outline-dark[_ngcontent-%COMP%]:active:focus, .btn-outline-dark.active[_ngcontent-%COMP%]:focus, .btn-outline-dark.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #21252980}.btn-outline-dark[_ngcontent-%COMP%]:disabled, .btn-outline-dark.disabled[_ngcontent-%COMP%]{color:#212529;background-color:transparent}.btn-link[_ngcontent-%COMP%]{font-weight:400;color:#0d6efd;text-decoration:underline}.btn-link[_ngcontent-%COMP%]:hover{color:#0a58ca}.btn-link[_ngcontent-%COMP%]:disabled, .btn-link.disabled[_ngcontent-%COMP%]{color:#6c757d}.btn-lg[_ngcontent-%COMP%], .btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-sm[_ngcontent-%COMP%], .btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.fade[_ngcontent-%COMP%]{transition:opacity .15s linear}@media (prefers-reduced-motion: reduce){.fade[_ngcontent-%COMP%]{transition:none}}.fade[_ngcontent-%COMP%]:not(.show){opacity:0}.collapse[_ngcontent-%COMP%]:not(.show){display:none}.collapsing[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion: reduce){.collapsing[_ngcontent-%COMP%]{transition:none}}.collapsing.collapse-horizontal[_ngcontent-%COMP%]{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion: reduce){.collapsing.collapse-horizontal[_ngcontent-%COMP%]{transition:none}}.dropup[_ngcontent-%COMP%], .dropend[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%], .dropstart[_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]{white-space:nowrap}.dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:100%;left:0;margin-top:.125rem}.dropdown-menu-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}@media (min-width: 576px){.dropdown-menu-sm-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-sm-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-sm-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-sm-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 768px){.dropdown-menu-md-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-md-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-md-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-md-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 992px){.dropdown-menu-lg-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-lg-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-lg-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-lg-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 1200px){.dropdown-menu-xl-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-xl-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-xl-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-xl-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 1400px){.dropdown-menu-xxl-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-xxl-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-xxl-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-xxl-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}.dropup[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropend[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{vertical-align:0}.dropstart[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\"}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{vertical-align:0}.dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid rgba(0,0,0,.15)}.dropdown-item[_ngcontent-%COMP%]{display:block;width:100%;padding:.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{color:#1e2125;background-color:#e9ecef}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.dropdown-header[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text[_ngcontent-%COMP%]{display:block;padding:.25rem 1rem;color:#212529}.dropdown-menu-dark[_ngcontent-%COMP%]{color:#dee2e6;background-color:#343a40;border-color:#00000026}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#dee2e6}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#fff;background-color:#ffffff26}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%], .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.disabled[_ngcontent-%COMP%], .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:disabled{color:#adb5bd}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{border-color:#00000026}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]{color:#dee2e6}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{color:#adb5bd}.btn-group[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%]{position:relative;display:inline-flex;vertical-align:middle}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{position:relative;flex:1 1 auto}.btn-group[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:hover, .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:focus, .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:active, .btn-group[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:hover, .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:focus, .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:active, .btn-group-vertical[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{z-index:1}.btn-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:first-child), .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle), .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:nth-child(n+3), .btn-group[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.btn-check) + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split[_ngcontent-%COMP%]:after, .dropup[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:after, .dropend[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:after{margin-left:0}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:before{margin-right:0}.btn-sm[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%], .btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.375rem;padding-left:.375rem}.btn-lg[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%], .btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]{width:100%}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:first-child), .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child){margin-top:-1px}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle), .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] ~ .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;color:#0d6efd;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion: reduce){.nav-link[_ngcontent-%COMP%]{transition:none}}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus{color:#0a58ca}.nav-link.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin-bottom:-1px;background:none;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-color:#e9ecef #e9ecef #dee2e6;isolation:isolate}.nav-tabs[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:none;border:0;border-radius:.25rem}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd}.nav-fill[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.nav-justified[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .nav-justified[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;text-align:center}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-justified[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{width:100%}.tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{display:none}.tab-content[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.navbar[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-fluid[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-sm[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-md[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-lg[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xl[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xxl[_ngcontent-%COMP%]{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand[_ngcontent-%COMP%]{padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;text-decoration:none;white-space:nowrap}.navbar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static}.navbar-text[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;transition:box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.navbar-toggler[_ngcontent-%COMP%]{transition:none}}.navbar-toggler[_ngcontent-%COMP%]:hover{text-decoration:none}.navbar-toggler[_ngcontent-%COMP%]:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll[_ngcontent-%COMP%]{max-height:var(--bs-scroll-height, 75vh);overflow-y:auto}@media (min-width: 576px){.navbar-expand-sm[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 768px){.navbar-expand-md[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 992px){.navbar-expand-lg[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 1200px){.navbar-expand-xl[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 1400px){.navbar-expand-xxl[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0000008c}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#000000b3}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#0000004d}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{color:#0000008c;border-color:#0000001a}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#0000008c}.navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#000000e6}.navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff8c}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#ffffffbf}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#ffffff40}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{color:#ffffff8c;border-color:#ffffff1a}.navbar-dark[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#ffffff8c}.navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#fff}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]{border-top:inherit;border-bottom:inherit}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%], .card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%] + .card-footer[_ngcontent-%COMP%]{border-top:0}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1rem}.card-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.card-subtitle[_ngcontent-%COMP%]{margin-top:-.25rem;margin-bottom:0}.card-text[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-link[_ngcontent-%COMP%] + .card-link[_ngcontent-%COMP%]{margin-left:1rem}.card-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;background-color:#00000008;border-bottom:1px solid rgba(0,0,0,.125)}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#00000008;border-top:1px solid rgba(0,0,0,.125)}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs[_ngcontent-%COMP%]{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills[_ngcontent-%COMP%]{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{width:100%}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 576px){.card-group[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex:1 0 0%;margin-bottom:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-left:0;border-left:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-header[_ngcontent-%COMP%]{border-top-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-header[_ngcontent-%COMP%]{border-top-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-left-radius:0}}.accordion-button[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;padding:1rem 1.25rem;font-size:1rem;color:#212529;text-align:left;background-color:#fff;border:0;border-radius:0;overflow-anchor:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease}@media (prefers-reduced-motion: reduce){.accordion-button[_ngcontent-%COMP%]{transition:none}}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#0c63e4;background-color:#e7f1ff;box-shadow:inset 0 -1px #00000020}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");transform:rotate(-180deg)}.accordion-button[_ngcontent-%COMP%]:after{flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:\"\";background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}@media (prefers-reduced-motion: reduce){.accordion-button[_ngcontent-%COMP%]:after{transition:none}}.accordion-button[_ngcontent-%COMP%]:hover{z-index:2}.accordion-button[_ngcontent-%COMP%]:focus{z-index:3;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.accordion-header[_ngcontent-%COMP%]{margin-bottom:0}.accordion-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125)}.accordion-item[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.accordion-item[_ngcontent-%COMP%]:first-of-type   .accordion-button[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion-item[_ngcontent-%COMP%]:not(:first-of-type){border-top:0}.accordion-item[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-item[_ngcontent-%COMP%]:last-of-type   .accordion-button.collapsed[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.accordion-item[_ngcontent-%COMP%]:last-of-type   .accordion-collapse[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.accordion-flush[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]{border-width:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border-right:0;border-left:0;border-radius:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:first-child{border-top:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{border-radius:0}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0;margin-bottom:1rem;list-style:none}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{float:left;padding-right:.5rem;color:#6c757d;content:var(--bs-breadcrumb-divider, \"/\")}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.pagination[_ngcontent-%COMP%]{display:flex;padding-left:0;list-style:none}.page-link[_ngcontent-%COMP%]{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.page-link[_ngcontent-%COMP%]{transition:none}}.page-link[_ngcontent-%COMP%]:hover{z-index:2;color:#0a58ca;background-color:#e9ecef;border-color:#dee2e6}.page-link[_ngcontent-%COMP%]:focus{z-index:3;color:#0a58ca;background-color:#e9ecef;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.page-item[_ngcontent-%COMP%]:not(:first-child)   .page-link[_ngcontent-%COMP%]{margin-left:-1px}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.page-link[_ngcontent-%COMP%]{padding:.375rem .75rem}.page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.pagination-sm[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge[_ngcontent-%COMP%]:empty{display:none}.btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:relative;top:-1px}.alert[_ngcontent-%COMP%]{position:relative;padding:1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading[_ngcontent-%COMP%]{color:inherit}.alert-link[_ngcontent-%COMP%]{font-weight:700}.alert-dismissible[_ngcontent-%COMP%]{padding-right:3rem}.alert-dismissible[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary[_ngcontent-%COMP%]{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe}.alert-primary[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#06357a}.alert-secondary[_ngcontent-%COMP%]{color:#41464b;background-color:#e2e3e5;border-color:#d3d6d8}.alert-secondary[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#34383c}.alert-success[_ngcontent-%COMP%]{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert-success[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#0c4128}.alert-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc;border-color:#b6effb}.alert-info[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#04414d}.alert-warning[_ngcontent-%COMP%]{color:#664d03;background-color:#fff3cd;border-color:#ffecb5}.alert-warning[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#523e02}.alert-danger[_ngcontent-%COMP%]{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert-danger[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#6a1a21}.alert-light[_ngcontent-%COMP%]{color:#636464;background-color:#fefefe;border-color:#fdfdfe}.alert-light[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#4f5050}.alert-dark[_ngcontent-%COMP%]{color:#141619;background-color:#d3d3d4;border-color:#bcbebf}.alert-dark[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#101214}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress[_ngcontent-%COMP%]{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion: reduce){.progress-bar[_ngcontent-%COMP%]{transition:none}}.progress-bar-striped[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated[_ngcontent-%COMP%]{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion: reduce){.progress-bar-animated[_ngcontent-%COMP%]{animation:none}}.list-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-numbered[_ngcontent-%COMP%]{list-style-type:none;counter-reset:section}.list-group-numbered[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counters(section,\".\") \". \";counter-increment:section}.list-group-item-action[_ngcontent-%COMP%]{width:100%;color:#495057;text-align:inherit}.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-action[_ngcontent-%COMP%]:focus{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action[_ngcontent-%COMP%]:active{color:#212529;background-color:#e9ecef}.list-group-item[_ngcontent-%COMP%]{position:relative;display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled[_ngcontent-%COMP%], .list-group-item[_ngcontent-%COMP%]:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active[_ngcontent-%COMP%]{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:0}.list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-top:-1px;border-top-width:1px}.list-group-horizontal[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}@media (min-width: 576px){.list-group-horizontal-sm[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 768px){.list-group-horizontal-md[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 992px){.list-group-horizontal-lg[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 1200px){.list-group-horizontal-xl[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 1400px){.list-group-horizontal-xxl[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}.list-group-flush[_ngcontent-%COMP%]{border-radius:0}.list-group-flush[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{border-width:0 0 1px}.list-group-flush[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-width:0}.list-group-item-primary[_ngcontent-%COMP%]{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-primary.list-group-item-action[_ngcontent-%COMP%]:focus{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary[_ngcontent-%COMP%]{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-secondary.list-group-item-action[_ngcontent-%COMP%]:focus{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success[_ngcontent-%COMP%]{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-success.list-group-item-action[_ngcontent-%COMP%]:focus{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-info.list-group-item-action[_ngcontent-%COMP%]:focus{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning[_ngcontent-%COMP%]{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-warning.list-group-item-action[_ngcontent-%COMP%]:focus{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger[_ngcontent-%COMP%]{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-danger.list-group-item-action[_ngcontent-%COMP%]:focus{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light[_ngcontent-%COMP%]{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-light.list-group-item-action[_ngcontent-%COMP%]:focus{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark[_ngcontent-%COMP%]{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-dark.list-group-item-action[_ngcontent-%COMP%]:focus{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#141619;border-color:#141619}.btn-close[_ngcontent-%COMP%]{box-sizing:content-box;width:1em;height:1em;padding:.25em;color:#000;background:transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat;border:0;border-radius:.25rem;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;opacity:.75}.btn-close[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd40;opacity:1}.btn-close[_ngcontent-%COMP%]:disabled, .btn-close.disabled[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none;opacity:.25}.btn-close-white[_ngcontent-%COMP%]{filter:invert(1) grayscale(100%) brightness(200%)}.toast[_ngcontent-%COMP%]{width:350px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:#ffffffd9;background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem #00000026;border-radius:.25rem}.toast.showing[_ngcontent-%COMP%]{opacity:0}.toast[_ngcontent-%COMP%]:not(.show){display:none}.toast-container[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem .75rem;color:#6c757d;background-color:#ffffffd9;background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-right:-.375rem;margin-left:.75rem}.toast-body[_ngcontent-%COMP%]{padding:.75rem;word-wrap:break-word}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1055;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:transform .3s ease-out;transform:translateY(-50px)}@media (prefers-reduced-motion: reduce){.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:none}}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:none}.modal.modal-static[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:scale(1.02)}.modal-dialog-scrollable[_ngcontent-%COMP%]{height:calc(100% - 1rem)}.modal-dialog-scrollable[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:100%;overflow:hidden}.modal-dialog-scrollable[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-dialog-centered[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1050;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.modal-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:.5rem;margin:-.5rem -.5rem -.5rem auto}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:1rem}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:.25rem}@media (min-width: 576px){.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable[_ngcontent-%COMP%]{height:calc(100% - 3.5rem)}.modal-dialog-centered[_ngcontent-%COMP%]{min-height:calc(100% - 3.5rem)}.modal-sm[_ngcontent-%COMP%]{max-width:300px}}@media (min-width: 992px){.modal-lg[_ngcontent-%COMP%], .modal-xl[_ngcontent-%COMP%]{max-width:800px}}@media (min-width: 1200px){.modal-xl[_ngcontent-%COMP%]{max-width:1140px}}.modal-fullscreen[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}@media (max-width: 575.98px){.modal-fullscreen-sm-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 767.98px){.modal-fullscreen-md-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 991.98px){.modal-fullscreen-lg-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 1199.98px){.modal-fullscreen-xl-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 1399.98px){.modal-fullscreen-xxl-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:1080;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show[_ngcontent-%COMP%]{opacity:.9}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{position:absolute;content:\"\";border-color:transparent;border-style:solid}.bs-tooltip-top[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]{padding:.4rem 0}.bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:0}.bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-end[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]{padding:0 .4rem}.bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:0;width:.4rem;height:.8rem}.bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-bottom[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]{padding:.4rem 0}.bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:0}.bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-start[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]{padding:0 .4rem}.bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{right:0;width:.4rem;height:.8rem}.bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner[_ngcontent-%COMP%]{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1070;display:block;max-width:276px;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{position:absolute;display:block;width:1rem;height:.5rem}.popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]:before, .popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]:after{position:absolute;display:block;content:\"\";border-color:transparent;border-style:solid}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{bottom:calc(-.5rem - 1px)}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{bottom:0;border-width:.5rem .5rem 0;border-top-color:#00000040}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{left:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:#00000040}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{top:calc(-.5rem - 1px)}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:#00000040}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-bottom[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]:before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:\"\";border-bottom:1px solid #f0f0f0}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{right:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:#00000040}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;font-size:1rem;background-color:#f0f0f0;border-bottom:1px solid rgba(0,0,0,.2);border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header[_ngcontent-%COMP%]:empty{display:none}.popover-body[_ngcontent-%COMP%]{padding:1rem;color:#212529}.carousel[_ngcontent-%COMP%]{position:relative}.carousel.pointer-event[_ngcontent-%COMP%]{touch-action:pan-y}.carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]:after{display:block;clear:both;content:\"\"}.carousel-item[_ngcontent-%COMP%]{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion: reduce){.carousel-item[_ngcontent-%COMP%]{transition:none}}.carousel-item.active[_ngcontent-%COMP%], .carousel-item-next[_ngcontent-%COMP%], .carousel-item-prev[_ngcontent-%COMP%]{display:block}.carousel-item-next[_ngcontent-%COMP%]:not(.carousel-item-start), .active.carousel-item-end[_ngcontent-%COMP%]{transform:translate(100%)}.carousel-item-prev[_ngcontent-%COMP%]:not(.carousel-item-end), .active.carousel-item-start[_ngcontent-%COMP%]{transform:translate(-100%)}.carousel-fade[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transform:none}.carousel-fade[_ngcontent-%COMP%]   .carousel-item.active[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .carousel-item-next.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .carousel-item-prev.carousel-item-end[_ngcontent-%COMP%]{z-index:1;opacity:1}.carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion: reduce){.carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{transition:none}}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:none;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion: reduce){.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{transition:none}}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-prev[_ngcontent-%COMP%]:focus, .carousel-control-next[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:focus{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev[_ngcontent-%COMP%]{left:0}.carousel-control-next[_ngcontent-%COMP%]{right:0}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e\")}.carousel-control-next-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\")}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion: reduce){.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{transition:none}}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{opacity:1}.carousel-caption[_ngcontent-%COMP%]{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-dark[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{filter:invert(1) grayscale(100)}.carousel-dark[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{background-color:#000}.carousel-dark[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{color:#000}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:.75s linear infinite spinner-border}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentColor;border-radius:50%;opacity:0;animation:.75s linear infinite spinner-grow}.spinner-grow-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (prefers-reduced-motion: reduce){.spinner-border[_ngcontent-%COMP%], .spinner-grow[_ngcontent-%COMP%]{animation-duration:1.5s}}.offcanvas[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;visibility:hidden;background-color:#fff;background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion: reduce){.offcanvas[_ngcontent-%COMP%]{transition:none}}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.offcanvas-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:.5rem;margin-top:-.5rem;margin-right:-.5rem;margin-bottom:-.5rem}.offcanvas-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5}.offcanvas-body[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto}.offcanvas-start[_ngcontent-%COMP%]{top:0;left:0;width:400px;border-right:1px solid rgba(0,0,0,.2);transform:translate(-100%)}.offcanvas-end[_ngcontent-%COMP%]{top:0;right:0;width:400px;border-left:1px solid rgba(0,0,0,.2);transform:translate(100%)}.offcanvas-top[_ngcontent-%COMP%]{top:0;right:0;left:0;height:30vh;max-height:100%;border-bottom:1px solid rgba(0,0,0,.2);transform:translateY(-100%)}.offcanvas-bottom[_ngcontent-%COMP%]{right:0;left:0;height:30vh;max-height:100%;border-top:1px solid rgba(0,0,0,.2);transform:translateY(100%)}.offcanvas.show[_ngcontent-%COMP%]{transform:none}.placeholder[_ngcontent-%COMP%]{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5}.placeholder.btn[_ngcontent-%COMP%]:before{display:inline-block;content:\"\"}.placeholder-xs[_ngcontent-%COMP%]{min-height:.6em}.placeholder-sm[_ngcontent-%COMP%]{min-height:.8em}.placeholder-lg[_ngcontent-%COMP%]{min-height:1.2em}.placeholder-glow[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{to{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix[_ngcontent-%COMP%]:after{display:block;clear:both;content:\"\"}.link-primary[_ngcontent-%COMP%]{color:#0d6efd}.link-primary[_ngcontent-%COMP%]:hover, .link-primary[_ngcontent-%COMP%]:focus{color:#0a58ca}.link-secondary[_ngcontent-%COMP%]{color:#6c757d}.link-secondary[_ngcontent-%COMP%]:hover, .link-secondary[_ngcontent-%COMP%]:focus{color:#565e64}.link-success[_ngcontent-%COMP%]{color:#198754}.link-success[_ngcontent-%COMP%]:hover, .link-success[_ngcontent-%COMP%]:focus{color:#146c43}.link-info[_ngcontent-%COMP%]{color:#0dcaf0}.link-info[_ngcontent-%COMP%]:hover, .link-info[_ngcontent-%COMP%]:focus{color:#3dd5f3}.link-warning[_ngcontent-%COMP%]{color:#ffc107}.link-warning[_ngcontent-%COMP%]:hover, .link-warning[_ngcontent-%COMP%]:focus{color:#ffcd39}.link-danger[_ngcontent-%COMP%]{color:#dc3545}.link-danger[_ngcontent-%COMP%]:hover, .link-danger[_ngcontent-%COMP%]:focus{color:#b02a37}.link-light[_ngcontent-%COMP%]{color:#f8f9fa}.link-light[_ngcontent-%COMP%]:hover, .link-light[_ngcontent-%COMP%]:focus{color:#f9fafb}.link-dark[_ngcontent-%COMP%]{color:#212529}.link-dark[_ngcontent-%COMP%]:hover, .link-dark[_ngcontent-%COMP%]:focus{color:#1a1e21}.ratio[_ngcontent-%COMP%]{position:relative;width:100%}.ratio[_ngcontent-%COMP%]:before{display:block;padding-top:var(--bs-aspect-ratio);content:\"\"}.ratio[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1[_ngcontent-%COMP%]{--bs-aspect-ratio: 100%}.ratio-4x3[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(3 / 4 * 100%)}.ratio-16x9[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(9 / 16 * 100%)}.ratio-21x9[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(9 / 21 * 100%)}.fixed-top[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}@media (min-width: 576px){.sticky-sm-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 768px){.sticky-md-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 992px){.sticky-lg-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 1200px){.sticky-xl-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 1400px){.sticky-xxl-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}.hstack[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden[_ngcontent-%COMP%], .visually-hidden-focusable[_ngcontent-%COMP%]:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:\"\"}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr[_ngcontent-%COMP%]{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentColor;opacity:.25}.align-baseline[_ngcontent-%COMP%]{vertical-align:baseline!important}.align-top[_ngcontent-%COMP%]{vertical-align:top!important}.align-middle[_ngcontent-%COMP%]{vertical-align:middle!important}.align-bottom[_ngcontent-%COMP%]{vertical-align:bottom!important}.align-text-bottom[_ngcontent-%COMP%]{vertical-align:text-bottom!important}.align-text-top[_ngcontent-%COMP%]{vertical-align:text-top!important}.float-start[_ngcontent-%COMP%]{float:left!important}.float-end[_ngcontent-%COMP%]{float:right!important}.float-none[_ngcontent-%COMP%]{float:none!important}.opacity-0[_ngcontent-%COMP%]{opacity:0!important}.opacity-25[_ngcontent-%COMP%]{opacity:.25!important}.opacity-50[_ngcontent-%COMP%]{opacity:.5!important}.opacity-75[_ngcontent-%COMP%]{opacity:.75!important}.opacity-100[_ngcontent-%COMP%]{opacity:1!important}.overflow-auto[_ngcontent-%COMP%]{overflow:auto!important}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden!important}.overflow-visible[_ngcontent-%COMP%]{overflow:visible!important}.overflow-scroll[_ngcontent-%COMP%]{overflow:scroll!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-grid[_ngcontent-%COMP%]{display:grid!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-none[_ngcontent-%COMP%]{display:none!important}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000026!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 1rem 3rem #0000002d!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}.position-static[_ngcontent-%COMP%]{position:static!important}.position-relative[_ngcontent-%COMP%]{position:relative!important}.position-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sticky[_ngcontent-%COMP%]{position:sticky!important}.top-0[_ngcontent-%COMP%]{top:0!important}.top-50[_ngcontent-%COMP%]{top:50%!important}.top-100[_ngcontent-%COMP%]{top:100%!important}.bottom-0[_ngcontent-%COMP%]{bottom:0!important}.bottom-50[_ngcontent-%COMP%]{bottom:50%!important}.bottom-100[_ngcontent-%COMP%]{bottom:100%!important}.start-0[_ngcontent-%COMP%]{left:0!important}.start-50[_ngcontent-%COMP%]{left:50%!important}.start-100[_ngcontent-%COMP%]{left:100%!important}.end-0[_ngcontent-%COMP%]{right:0!important}.end-50[_ngcontent-%COMP%]{right:50%!important}.end-100[_ngcontent-%COMP%]{right:100%!important}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)!important}.translate-middle-x[_ngcontent-%COMP%]{transform:translate(-50%)!important}.translate-middle-y[_ngcontent-%COMP%]{transform:translateY(-50%)!important}.border[_ngcontent-%COMP%]{border:1px solid #dee2e6!important}.border-0[_ngcontent-%COMP%]{border:0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #dee2e6!important}.border-top-0[_ngcontent-%COMP%]{border-top:0!important}.border-end[_ngcontent-%COMP%]{border-right:1px solid #dee2e6!important}.border-end-0[_ngcontent-%COMP%]{border-right:0!important}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6!important}.border-bottom-0[_ngcontent-%COMP%]{border-bottom:0!important}.border-start[_ngcontent-%COMP%]{border-left:1px solid #dee2e6!important}.border-start-0[_ngcontent-%COMP%]{border-left:0!important}.border-primary[_ngcontent-%COMP%]{border-color:#0d6efd!important}.border-secondary[_ngcontent-%COMP%]{border-color:#6c757d!important}.border-success[_ngcontent-%COMP%]{border-color:#198754!important}.border-info[_ngcontent-%COMP%]{border-color:#0dcaf0!important}.border-warning[_ngcontent-%COMP%]{border-color:#ffc107!important}.border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important}.border-light[_ngcontent-%COMP%]{border-color:#f8f9fa!important}.border-dark[_ngcontent-%COMP%]{border-color:#212529!important}.border-white[_ngcontent-%COMP%]{border-color:#fff!important}.border-1[_ngcontent-%COMP%]{border-width:1px!important}.border-2[_ngcontent-%COMP%]{border-width:2px!important}.border-3[_ngcontent-%COMP%]{border-width:3px!important}.border-4[_ngcontent-%COMP%]{border-width:4px!important}.border-5[_ngcontent-%COMP%]{border-width:5px!important}.w-25[_ngcontent-%COMP%]{width:25%!important}.w-50[_ngcontent-%COMP%]{width:50%!important}.w-75[_ngcontent-%COMP%]{width:75%!important}.w-100[_ngcontent-%COMP%]{width:100%!important}.w-auto[_ngcontent-%COMP%]{width:auto!important}.mw-100[_ngcontent-%COMP%]{max-width:100%!important}.vw-100[_ngcontent-%COMP%]{width:100vw!important}.min-vw-100[_ngcontent-%COMP%]{min-width:100vw!important}.h-25[_ngcontent-%COMP%]{height:25%!important}.h-50[_ngcontent-%COMP%]{height:50%!important}.h-75[_ngcontent-%COMP%]{height:75%!important}.h-100[_ngcontent-%COMP%]{height:100%!important}.h-auto[_ngcontent-%COMP%]{height:auto!important}.mh-100[_ngcontent-%COMP%]{max-height:100%!important}.vh-100[_ngcontent-%COMP%]{height:100vh!important}.min-vh-100[_ngcontent-%COMP%]{min-height:100vh!important}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-first[_ngcontent-%COMP%]{order:-1!important}.order-0[_ngcontent-%COMP%]{order:0!important}.order-1[_ngcontent-%COMP%]{order:1!important}.order-2[_ngcontent-%COMP%]{order:2!important}.order-3[_ngcontent-%COMP%]{order:3!important}.order-4[_ngcontent-%COMP%]{order:4!important}.order-5[_ngcontent-%COMP%]{order:5!important}.order-last[_ngcontent-%COMP%]{order:6!important}.m-0[_ngcontent-%COMP%]{margin:0!important}.m-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-3[_ngcontent-%COMP%]{margin:1rem!important}.m-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-5[_ngcontent-%COMP%]{margin:3rem!important}.m-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-0[_ngcontent-%COMP%]{margin-right:0!important}.me-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-3[_ngcontent-%COMP%]{padding:1rem!important}.p-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-5[_ngcontent-%COMP%]{padding:3rem!important}.px-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-5[_ngcontent-%COMP%]{padding-left:3rem!important}.font-monospace[_ngcontent-%COMP%]{font-family:var(--bs-font-monospace)!important}.fs-1[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw)!important}.fs-2[_ngcontent-%COMP%]{font-size:calc(1.325rem + .9vw)!important}.fs-3[_ngcontent-%COMP%]{font-size:calc(1.3rem + .6vw)!important}.fs-4[_ngcontent-%COMP%]{font-size:calc(1.275rem + .3vw)!important}.fs-5[_ngcontent-%COMP%]{font-size:1.25rem!important}.fs-6[_ngcontent-%COMP%]{font-size:1rem!important}.fst-italic[_ngcontent-%COMP%]{font-style:italic!important}.fst-normal[_ngcontent-%COMP%]{font-style:normal!important}.fw-light[_ngcontent-%COMP%]{font-weight:300!important}.fw-lighter[_ngcontent-%COMP%]{font-weight:lighter!important}.fw-normal[_ngcontent-%COMP%]{font-weight:400!important}.fw-bold[_ngcontent-%COMP%]{font-weight:700!important}.fw-bolder[_ngcontent-%COMP%]{font-weight:bolder!important}.lh-1[_ngcontent-%COMP%]{line-height:1!important}.lh-sm[_ngcontent-%COMP%]{line-height:1.25!important}.lh-base[_ngcontent-%COMP%]{line-height:1.5!important}.lh-lg[_ngcontent-%COMP%]{line-height:2!important}.text-start[_ngcontent-%COMP%]{text-align:left!important}.text-end[_ngcontent-%COMP%]{text-align:right!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-decoration-none[_ngcontent-%COMP%]{text-decoration:none!important}.text-decoration-underline[_ngcontent-%COMP%]{text-decoration:underline!important}.text-decoration-line-through[_ngcontent-%COMP%]{text-decoration:line-through!important}.text-lowercase[_ngcontent-%COMP%]{text-transform:lowercase!important}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize!important}.text-wrap[_ngcontent-%COMP%]{white-space:normal!important}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap!important}.text-break[_ngcontent-%COMP%]{word-wrap:break-word!important;word-break:break-word!important}.text-primary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#6c757d!important}.text-black-50[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#00000080!important}.text-white-50[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#ffffff80!important}.text-reset[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:inherit!important}.text-opacity-25[_ngcontent-%COMP%]{--bs-text-opacity: .25}.text-opacity-50[_ngcontent-%COMP%]{--bs-text-opacity: .5}.text-opacity-75[_ngcontent-%COMP%]{--bs-text-opacity: .75}.text-opacity-100[_ngcontent-%COMP%]{--bs-text-opacity: 1}.bg-primary[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}.bg-opacity-10[_ngcontent-%COMP%]{--bs-bg-opacity: .1}.bg-opacity-25[_ngcontent-%COMP%]{--bs-bg-opacity: .25}.bg-opacity-50[_ngcontent-%COMP%]{--bs-bg-opacity: .5}.bg-opacity-75[_ngcontent-%COMP%]{--bs-bg-opacity: .75}.bg-opacity-100[_ngcontent-%COMP%]{--bs-bg-opacity: 1}.bg-gradient[_ngcontent-%COMP%]{background-image:var(--bs-gradient)!important}.user-select-all[_ngcontent-%COMP%]{-webkit-user-select:all!important;user-select:all!important}.user-select-auto[_ngcontent-%COMP%]{-webkit-user-select:auto!important;user-select:auto!important}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important}.pe-none[_ngcontent-%COMP%]{pointer-events:none!important}.pe-auto[_ngcontent-%COMP%]{pointer-events:auto!important}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.rounded-1[_ngcontent-%COMP%]{border-radius:.2rem!important}.rounded-2[_ngcontent-%COMP%]{border-radius:.25rem!important}.rounded-3[_ngcontent-%COMP%]{border-radius:.3rem!important}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.rounded-pill[_ngcontent-%COMP%]{border-radius:50rem!important}.rounded-top[_ngcontent-%COMP%]{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-end[_ngcontent-%COMP%]{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-start[_ngcontent-%COMP%]{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible[_ngcontent-%COMP%]{visibility:visible!important}.invisible[_ngcontent-%COMP%]{visibility:hidden!important}@media (min-width: 576px){.float-sm-start[_ngcontent-%COMP%]{float:left!important}.float-sm-end[_ngcontent-%COMP%]{float:right!important}.float-sm-none[_ngcontent-%COMP%]{float:none!important}.d-sm-inline[_ngcontent-%COMP%]{display:inline!important}.d-sm-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-sm-block[_ngcontent-%COMP%]{display:block!important}.d-sm-grid[_ngcontent-%COMP%]{display:grid!important}.d-sm-table[_ngcontent-%COMP%]{display:table!important}.d-sm-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-sm-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-sm-flex[_ngcontent-%COMP%]{display:flex!important}.d-sm-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-sm-none[_ngcontent-%COMP%]{display:none!important}.flex-sm-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-sm-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-sm-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-sm-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-sm-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-sm-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-sm-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-sm-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-sm-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-sm-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-sm-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-sm-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-sm-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-sm-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-sm-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-sm-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-sm-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-sm-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-sm-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-sm-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-sm-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-sm-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-sm-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-sm-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-sm-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-sm-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-sm-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-sm-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-sm-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-sm-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-sm-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-sm-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-sm-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-sm-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-sm-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-sm-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-sm-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-sm-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-sm-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-sm-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-sm-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-sm-first[_ngcontent-%COMP%]{order:-1!important}.order-sm-0[_ngcontent-%COMP%]{order:0!important}.order-sm-1[_ngcontent-%COMP%]{order:1!important}.order-sm-2[_ngcontent-%COMP%]{order:2!important}.order-sm-3[_ngcontent-%COMP%]{order:3!important}.order-sm-4[_ngcontent-%COMP%]{order:4!important}.order-sm-5[_ngcontent-%COMP%]{order:5!important}.order-sm-last[_ngcontent-%COMP%]{order:6!important}.m-sm-0[_ngcontent-%COMP%]{margin:0!important}.m-sm-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-sm-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-sm-3[_ngcontent-%COMP%]{margin:1rem!important}.m-sm-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-sm-5[_ngcontent-%COMP%]{margin:3rem!important}.m-sm-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-sm-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-sm-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-sm-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-sm-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-sm-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-sm-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-sm-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-sm-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-sm-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-sm-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-sm-0[_ngcontent-%COMP%]{margin-right:0!important}.me-sm-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-sm-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-sm-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-sm-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-sm-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-sm-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-sm-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-sm-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-sm-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-sm-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-sm-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-sm-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-sm-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-sm-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-sm-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-sm-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-sm-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-sm-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-sm-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-sm-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-sm-0[_ngcontent-%COMP%]{padding:0!important}.p-sm-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-sm-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-sm-3[_ngcontent-%COMP%]{padding:1rem!important}.p-sm-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-sm-5[_ngcontent-%COMP%]{padding:3rem!important}.px-sm-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-sm-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-sm-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-sm-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-sm-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-sm-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-sm-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-sm-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-sm-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-sm-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-sm-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-sm-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-sm-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-sm-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-sm-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-sm-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-sm-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-sm-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-sm-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-sm-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-sm-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-sm-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-sm-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-sm-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-sm-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-sm-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-sm-start[_ngcontent-%COMP%]{text-align:left!important}.text-sm-end[_ngcontent-%COMP%]{text-align:right!important}.text-sm-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 768px){.float-md-start[_ngcontent-%COMP%]{float:left!important}.float-md-end[_ngcontent-%COMP%]{float:right!important}.float-md-none[_ngcontent-%COMP%]{float:none!important}.d-md-inline[_ngcontent-%COMP%]{display:inline!important}.d-md-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-md-block[_ngcontent-%COMP%]{display:block!important}.d-md-grid[_ngcontent-%COMP%]{display:grid!important}.d-md-table[_ngcontent-%COMP%]{display:table!important}.d-md-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-md-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-md-flex[_ngcontent-%COMP%]{display:flex!important}.d-md-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-md-none[_ngcontent-%COMP%]{display:none!important}.flex-md-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-md-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-md-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-md-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-md-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-md-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-md-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-md-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-md-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-md-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-md-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-md-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-md-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-md-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-md-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-md-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-md-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-md-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-md-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-md-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-md-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-md-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-md-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-md-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-md-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-md-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-md-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-md-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-md-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-md-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-md-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-md-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-md-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-md-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-md-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-md-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-md-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-md-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-md-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-md-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-md-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-md-first[_ngcontent-%COMP%]{order:-1!important}.order-md-0[_ngcontent-%COMP%]{order:0!important}.order-md-1[_ngcontent-%COMP%]{order:1!important}.order-md-2[_ngcontent-%COMP%]{order:2!important}.order-md-3[_ngcontent-%COMP%]{order:3!important}.order-md-4[_ngcontent-%COMP%]{order:4!important}.order-md-5[_ngcontent-%COMP%]{order:5!important}.order-md-last[_ngcontent-%COMP%]{order:6!important}.m-md-0[_ngcontent-%COMP%]{margin:0!important}.m-md-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-md-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-md-3[_ngcontent-%COMP%]{margin:1rem!important}.m-md-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-md-5[_ngcontent-%COMP%]{margin:3rem!important}.m-md-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-md-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-md-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-md-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-md-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-md-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-md-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-md-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-md-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-md-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-md-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-md-0[_ngcontent-%COMP%]{margin-right:0!important}.me-md-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-md-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-md-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-md-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-md-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-md-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-md-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-md-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-md-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-md-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-md-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-md-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-md-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-md-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-md-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-md-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-md-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-md-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-md-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-md-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-md-0[_ngcontent-%COMP%]{padding:0!important}.p-md-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-md-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-md-3[_ngcontent-%COMP%]{padding:1rem!important}.p-md-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-md-5[_ngcontent-%COMP%]{padding:3rem!important}.px-md-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-md-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-md-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-md-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-md-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-md-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-md-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-md-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-md-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-md-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-md-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-md-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-md-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-md-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-md-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-md-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-md-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-md-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-md-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-md-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-md-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-md-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-md-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-md-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-md-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-md-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-md-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-md-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-md-start[_ngcontent-%COMP%]{text-align:left!important}.text-md-end[_ngcontent-%COMP%]{text-align:right!important}.text-md-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 992px){.float-lg-start[_ngcontent-%COMP%]{float:left!important}.float-lg-end[_ngcontent-%COMP%]{float:right!important}.float-lg-none[_ngcontent-%COMP%]{float:none!important}.d-lg-inline[_ngcontent-%COMP%]{display:inline!important}.d-lg-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-lg-block[_ngcontent-%COMP%]{display:block!important}.d-lg-grid[_ngcontent-%COMP%]{display:grid!important}.d-lg-table[_ngcontent-%COMP%]{display:table!important}.d-lg-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-lg-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-lg-flex[_ngcontent-%COMP%]{display:flex!important}.d-lg-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-lg-none[_ngcontent-%COMP%]{display:none!important}.flex-lg-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-lg-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-lg-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-lg-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-lg-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-lg-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-lg-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-lg-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-lg-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-lg-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-lg-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-lg-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-lg-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-lg-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-lg-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-lg-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-lg-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-lg-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-lg-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-lg-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-lg-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-lg-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-lg-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-lg-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-lg-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-lg-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-lg-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-lg-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-lg-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-lg-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-lg-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-lg-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-lg-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-lg-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-lg-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-lg-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-lg-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-lg-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-lg-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-lg-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-lg-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-lg-first[_ngcontent-%COMP%]{order:-1!important}.order-lg-0[_ngcontent-%COMP%]{order:0!important}.order-lg-1[_ngcontent-%COMP%]{order:1!important}.order-lg-2[_ngcontent-%COMP%]{order:2!important}.order-lg-3[_ngcontent-%COMP%]{order:3!important}.order-lg-4[_ngcontent-%COMP%]{order:4!important}.order-lg-5[_ngcontent-%COMP%]{order:5!important}.order-lg-last[_ngcontent-%COMP%]{order:6!important}.m-lg-0[_ngcontent-%COMP%]{margin:0!important}.m-lg-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-lg-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-lg-3[_ngcontent-%COMP%]{margin:1rem!important}.m-lg-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-lg-5[_ngcontent-%COMP%]{margin:3rem!important}.m-lg-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-lg-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-lg-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-lg-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-lg-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-lg-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-lg-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-lg-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-lg-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-lg-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-lg-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-lg-0[_ngcontent-%COMP%]{margin-right:0!important}.me-lg-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-lg-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-lg-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-lg-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-lg-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-lg-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-lg-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-lg-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-lg-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-lg-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-lg-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-lg-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-lg-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-lg-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-lg-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-lg-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-lg-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-lg-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-lg-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-lg-0[_ngcontent-%COMP%]{padding:0!important}.p-lg-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-lg-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-lg-3[_ngcontent-%COMP%]{padding:1rem!important}.p-lg-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-lg-5[_ngcontent-%COMP%]{padding:3rem!important}.px-lg-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-lg-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-lg-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-lg-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-lg-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-lg-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-lg-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-lg-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-lg-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-lg-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-lg-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-lg-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-lg-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-lg-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-lg-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-lg-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-lg-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-lg-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-lg-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-lg-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-lg-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-lg-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-lg-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-lg-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-lg-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-lg-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-lg-start[_ngcontent-%COMP%]{text-align:left!important}.text-lg-end[_ngcontent-%COMP%]{text-align:right!important}.text-lg-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1200px){.float-xl-start[_ngcontent-%COMP%]{float:left!important}.float-xl-end[_ngcontent-%COMP%]{float:right!important}.float-xl-none[_ngcontent-%COMP%]{float:none!important}.d-xl-inline[_ngcontent-%COMP%]{display:inline!important}.d-xl-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-xl-block[_ngcontent-%COMP%]{display:block!important}.d-xl-grid[_ngcontent-%COMP%]{display:grid!important}.d-xl-table[_ngcontent-%COMP%]{display:table!important}.d-xl-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-xl-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-xl-flex[_ngcontent-%COMP%]{display:flex!important}.d-xl-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-xl-none[_ngcontent-%COMP%]{display:none!important}.flex-xl-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-xl-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-xl-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-xl-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-xl-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-xl-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-xl-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-xl-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-xl-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-xl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-xl-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-xl-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-xl-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-xl-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-xl-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-xl-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-xl-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-xl-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-xl-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-xl-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-xl-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-xl-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-xl-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-xl-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-xl-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-xl-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-xl-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-xl-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-xl-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-xl-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-xl-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-xl-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-xl-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-xl-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-xl-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-xl-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-xl-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-xl-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-xl-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-xl-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-xl-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-xl-first[_ngcontent-%COMP%]{order:-1!important}.order-xl-0[_ngcontent-%COMP%]{order:0!important}.order-xl-1[_ngcontent-%COMP%]{order:1!important}.order-xl-2[_ngcontent-%COMP%]{order:2!important}.order-xl-3[_ngcontent-%COMP%]{order:3!important}.order-xl-4[_ngcontent-%COMP%]{order:4!important}.order-xl-5[_ngcontent-%COMP%]{order:5!important}.order-xl-last[_ngcontent-%COMP%]{order:6!important}.m-xl-0[_ngcontent-%COMP%]{margin:0!important}.m-xl-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-xl-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-xl-3[_ngcontent-%COMP%]{margin:1rem!important}.m-xl-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-xl-5[_ngcontent-%COMP%]{margin:3rem!important}.m-xl-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-xl-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-xl-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-xl-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-xl-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-xl-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-xl-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-xl-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-xl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-xl-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-xl-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-xl-0[_ngcontent-%COMP%]{margin-right:0!important}.me-xl-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-xl-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-xl-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-xl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-xl-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-xl-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-xl-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-xl-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-xl-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-xl-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-xl-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-xl-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-xl-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-xl-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-xl-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-xl-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-xl-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-xl-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-xl-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-xl-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-xl-0[_ngcontent-%COMP%]{padding:0!important}.p-xl-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-xl-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-xl-3[_ngcontent-%COMP%]{padding:1rem!important}.p-xl-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-xl-5[_ngcontent-%COMP%]{padding:3rem!important}.px-xl-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-xl-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-xl-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-xl-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-xl-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-xl-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-xl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-xl-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-xl-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-xl-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-xl-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-xl-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-xl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-xl-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-xl-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-xl-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-xl-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-xl-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-xl-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-xl-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-xl-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-xl-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-xl-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-xl-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-xl-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-xl-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-xl-start[_ngcontent-%COMP%]{text-align:left!important}.text-xl-end[_ngcontent-%COMP%]{text-align:right!important}.text-xl-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1400px){.float-xxl-start[_ngcontent-%COMP%]{float:left!important}.float-xxl-end[_ngcontent-%COMP%]{float:right!important}.float-xxl-none[_ngcontent-%COMP%]{float:none!important}.d-xxl-inline[_ngcontent-%COMP%]{display:inline!important}.d-xxl-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-xxl-block[_ngcontent-%COMP%]{display:block!important}.d-xxl-grid[_ngcontent-%COMP%]{display:grid!important}.d-xxl-table[_ngcontent-%COMP%]{display:table!important}.d-xxl-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-xxl-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-xxl-flex[_ngcontent-%COMP%]{display:flex!important}.d-xxl-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-xxl-none[_ngcontent-%COMP%]{display:none!important}.flex-xxl-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-xxl-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-xxl-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-xxl-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-xxl-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-xxl-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-xxl-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-xxl-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-xxl-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-xxl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-xxl-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-xxl-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-xxl-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-xxl-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-xxl-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-xxl-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-xxl-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-xxl-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-xxl-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-xxl-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-xxl-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-xxl-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-xxl-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-xxl-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-xxl-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-xxl-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-xxl-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-xxl-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-xxl-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-xxl-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-xxl-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-xxl-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-xxl-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-xxl-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-xxl-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-xxl-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-xxl-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-xxl-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-xxl-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-xxl-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-xxl-first[_ngcontent-%COMP%]{order:-1!important}.order-xxl-0[_ngcontent-%COMP%]{order:0!important}.order-xxl-1[_ngcontent-%COMP%]{order:1!important}.order-xxl-2[_ngcontent-%COMP%]{order:2!important}.order-xxl-3[_ngcontent-%COMP%]{order:3!important}.order-xxl-4[_ngcontent-%COMP%]{order:4!important}.order-xxl-5[_ngcontent-%COMP%]{order:5!important}.order-xxl-last[_ngcontent-%COMP%]{order:6!important}.m-xxl-0[_ngcontent-%COMP%]{margin:0!important}.m-xxl-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-xxl-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-xxl-3[_ngcontent-%COMP%]{margin:1rem!important}.m-xxl-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-xxl-5[_ngcontent-%COMP%]{margin:3rem!important}.m-xxl-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-xxl-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-xxl-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-xxl-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-xxl-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-xxl-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-xxl-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-xxl-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-xxl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-xxl-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-xxl-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-xxl-0[_ngcontent-%COMP%]{margin-right:0!important}.me-xxl-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-xxl-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-xxl-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-xxl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-xxl-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-xxl-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-xxl-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-xxl-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-xxl-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-xxl-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-xxl-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-xxl-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-xxl-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-xxl-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-xxl-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-xxl-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-xxl-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-xxl-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-xxl-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-xxl-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-xxl-0[_ngcontent-%COMP%]{padding:0!important}.p-xxl-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-xxl-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-xxl-3[_ngcontent-%COMP%]{padding:1rem!important}.p-xxl-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-xxl-5[_ngcontent-%COMP%]{padding:3rem!important}.px-xxl-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-xxl-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-xxl-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-xxl-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-xxl-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-xxl-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-xxl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-xxl-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-xxl-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-xxl-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-xxl-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-xxl-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-xxl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-xxl-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-xxl-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-xxl-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-xxl-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-xxl-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-xxl-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-xxl-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-xxl-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-xxl-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-xxl-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-xxl-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-xxl-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-xxl-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-xxl-start[_ngcontent-%COMP%]{text-align:left!important}.text-xxl-end[_ngcontent-%COMP%]{text-align:right!important}.text-xxl-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1200px){.fs-1[_ngcontent-%COMP%]{font-size:2.5rem!important}.fs-2[_ngcontent-%COMP%]{font-size:2rem!important}.fs-3[_ngcontent-%COMP%]{font-size:1.75rem!important}.fs-4[_ngcontent-%COMP%]{font-size:1.5rem!important}}@media print{.d-print-inline[_ngcontent-%COMP%]{display:inline!important}.d-print-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-print-block[_ngcontent-%COMP%]{display:block!important}.d-print-grid[_ngcontent-%COMP%]{display:grid!important}.d-print-table[_ngcontent-%COMP%]{display:table!important}.d-print-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-print-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-print-flex[_ngcontent-%COMP%]{display:flex!important}.d-print-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-print-none[_ngcontent-%COMP%]{display:none!important}}[_nghost-%COMP%]{width:100%}.viewport[_ngcontent-%COMP%]{width:100%;max-width:100%;height:calc(100vh - 12rem - 5rem);display:block;background:#000}.scroll[_ngcontent-%COMP%]{overflow-y:auto}.viewer-container[_ngcontent-%COMP%]{position:relative}.scale-button[_ngcontent-%COMP%]{position:absolute;right:30px;top:30px;z-index:101}.full-size[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100vw;height:100vh;padding:0;margin:0}.full-size[_ngcontent-%COMP%]   .viewport[_ngcontent-%COMP%]{width:100vw;height:100vh;padding:0;margin:0}"]}),a})();function Q$(a,t){1&a&&A._UZ(0,"dyno-ngl-index")}const dV={ngl:{type:"ngl",button:"Frames diagram"},chart:{type:"chart",button:"Ngl viewer"}};let J$=(()=>{class a{constructor(e){this.store=e,this.buttonHeader="Frames diagram",this.pageType="ngl",this.subs=new Qg,this.tabSelected$=(0,ti.of)(this.pageType),this.tabSelected$=this.store.pipe((0,We.Ys)(iw))}ngOnInit(){this.subs.sink=this.tabSelected$.subscribe(e=>{this.toggle("ngl"===e?"ngl":"chart")})}toggleView(){this.toggle("ngl"===this.pageType?"chart":"ngl",!0)}toggle(e,o){this.buttonHeader=dV[e].button,this.pageType=dV[e].type,o&&this.store.dispatch(WC({tab:e}))}}return a.\u0275fac=function(e){return new(e||a)(A.Y36(We.yh))},a.\u0275cmp=A.Xpm({type:a,selectors:[["dyno-home"]],decls:5,vars:1,consts:[[1,"row"],[1,"col-sm-4"],[1,"col-sm-8"],[4,"ngIf"]],template:function(e,o){1&e&&(A.TgZ(0,"div",0),A.TgZ(1,"div",1),A._UZ(2,"dyno-control-panel-index"),A.qZA(),A.TgZ(3,"div",2),A.YNc(4,Q$,1,0,"dyno-ngl-index",3),A.qZA(),A.qZA()),2&e&&(A.xp6(4),A.Q6J("ngIf","ngl"===o.pageType||!0))},directives:[A_,Se,K$],styles:["[_nghost-%COMP%]{width:100%}.view-selector[_ngcontent-%COMP%]{float:right}"]}),a})(),tY=(()=>{class a{constructor(){this.title="client"}ngOnInit(){}}return a.\u0275fac=function(e){return new(e||a)},a.\u0275cmp=A.Xpm({type:a,selectors:[["app-root"]],decls:9,vars:0,consts:[[1,"site-header","py-1","mb-2"],[1,"container-fluid","d-flex","flex-column","flex-md-row","justify-content-between"],["routerLink","/","routerLinkActive","active",1,"py-2","d-none","d-md-inline-block"],[1,"container-fluid","d-flex","align-content-start","height-100"],[1,"mt-auto","site-footer","py-1"],[1,"container-fluid"]],template:function(e,o){1&e&&(A.TgZ(0,"header",0),A.TgZ(1,"nav",1),A.TgZ(2,"a",2),A._uU(3," Dynophore-Viewer "),A.qZA(),A.qZA(),A.qZA(),A.TgZ(4,"main",3),A._UZ(5,"dyno-home"),A.qZA(),A.TgZ(6,"footer",4),A.TgZ(7,"div",5),A._UZ(8,"p"),A.qZA(),A.qZA())},directives:[ff,BC,J$],styles:["@charset \"UTF-8\";[_ngcontent-%COMP%]:root{--bs-blue: #0d6efd;--bs-indigo: #6610f2;--bs-purple: #6f42c1;--bs-pink: #d63384;--bs-red: #dc3545;--bs-orange: #fd7e14;--bs-yellow: #ffc107;--bs-green: #198754;--bs-teal: #20c997;--bs-cyan: #0dcaf0;--bs-white: #fff;--bs-gray: #6c757d;--bs-gray-dark: #343a40;--bs-gray-100: #f8f9fa;--bs-gray-200: #e9ecef;--bs-gray-300: #dee2e6;--bs-gray-400: #ced4da;--bs-gray-500: #adb5bd;--bs-gray-600: #6c757d;--bs-gray-700: #495057;--bs-gray-800: #343a40;--bs-gray-900: #212529;--bs-primary: #0d6efd;--bs-secondary: #6c757d;--bs-success: #198754;--bs-info: #0dcaf0;--bs-warning: #ffc107;--bs-danger: #dc3545;--bs-light: #f8f9fa;--bs-dark: #212529;--bs-primary-rgb: 13, 110, 253;--bs-secondary-rgb: 108, 117, 125;--bs-success-rgb: 25, 135, 84;--bs-info-rgb: 13, 202, 240;--bs-warning-rgb: 255, 193, 7;--bs-danger-rgb: 220, 53, 69;--bs-light-rgb: 248, 249, 250;--bs-dark-rgb: 33, 37, 41;--bs-white-rgb: 255, 255, 255;--bs-black-rgb: 0, 0, 0;--bs-body-color-rgb: 33, 37, 41;--bs-body-bg-rgb: 255, 255, 255;--bs-font-sans-serif: system-ui, -apple-system, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", \"Liberation Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";--bs-font-monospace: SFMono-Regular, Menlo, Monaco, Consolas, \"Liberation Mono\", \"Courier New\", monospace;--bs-gradient: linear-gradient(180deg, rgba(255, 255, 255, .15), rgba(255, 255, 255, 0));--bs-body-font-family: var(--bs-font-sans-serif);--bs-body-font-size: 1rem;--bs-body-font-weight: 400;--bs-body-line-height: 1.5;--bs-body-color: #212529;--bs-body-bg: #fff}*[_ngcontent-%COMP%], *[_ngcontent-%COMP%]:before, *[_ngcontent-%COMP%]:after{box-sizing:border-box}@media (prefers-reduced-motion: no-preference){[_ngcontent-%COMP%]:root{scroll-behavior:smooth}}body[_ngcontent-%COMP%]{margin:0;font-family:var(--bs-body-font-family);font-size:var(--bs-body-font-size);font-weight:var(--bs-body-font-weight);line-height:var(--bs-body-line-height);color:var(--bs-body-color);text-align:var(--bs-body-text-align);background-color:var(--bs-body-bg);-webkit-text-size-adjust:100%;-webkit-tap-highlight-color:rgba(0,0,0,0)}hr[_ngcontent-%COMP%]{margin:1rem 0;color:inherit;background-color:currentColor;border:0;opacity:.25}hr[_ngcontent-%COMP%]:not([size]){height:1px}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%], h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%], h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%], h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%], h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%], h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{margin-top:0;margin-bottom:.5rem;font-weight:500;line-height:1.2}h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw)}@media (min-width: 1200px){h1[_ngcontent-%COMP%], .h1[_ngcontent-%COMP%]{font-size:2.5rem}}h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:calc(1.325rem + .9vw)}@media (min-width: 1200px){h2[_ngcontent-%COMP%], .h2[_ngcontent-%COMP%]{font-size:2rem}}h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:calc(1.3rem + .6vw)}@media (min-width: 1200px){h3[_ngcontent-%COMP%], .h3[_ngcontent-%COMP%]{font-size:1.75rem}}h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:calc(1.275rem + .3vw)}@media (min-width: 1200px){h4[_ngcontent-%COMP%], .h4[_ngcontent-%COMP%]{font-size:1.5rem}}h5[_ngcontent-%COMP%], .h5[_ngcontent-%COMP%]{font-size:1.25rem}h6[_ngcontent-%COMP%], .h6[_ngcontent-%COMP%]{font-size:1rem}p[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}abbr[title][_ngcontent-%COMP%], abbr[data-bs-original-title][_ngcontent-%COMP%]{-webkit-text-decoration:underline dotted;text-decoration:underline dotted;cursor:help;-webkit-text-decoration-skip-ink:none;text-decoration-skip-ink:none}address[_ngcontent-%COMP%]{margin-bottom:1rem;font-style:normal;line-height:inherit}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]{padding-left:2rem}ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%], dl[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem}ol[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], ol[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%], ul[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{margin-bottom:0}dt[_ngcontent-%COMP%]{font-weight:700}dd[_ngcontent-%COMP%]{margin-bottom:.5rem;margin-left:0}blockquote[_ngcontent-%COMP%]{margin:0 0 1rem}b[_ngcontent-%COMP%], strong[_ngcontent-%COMP%]{font-weight:bolder}small[_ngcontent-%COMP%], .small[_ngcontent-%COMP%]{font-size:.875em}mark[_ngcontent-%COMP%], .mark[_ngcontent-%COMP%]{padding:.2em;background-color:#fcf8e3}sub[_ngcontent-%COMP%], sup[_ngcontent-%COMP%]{position:relative;font-size:.75em;line-height:0;vertical-align:baseline}sub[_ngcontent-%COMP%]{bottom:-.25em}sup[_ngcontent-%COMP%]{top:-.5em}a[_ngcontent-%COMP%]{color:#0d6efd;text-decoration:underline}a[_ngcontent-%COMP%]:hover{color:#0a58ca}a[_ngcontent-%COMP%]:not([href]):not([class]), a[_ngcontent-%COMP%]:not([href]):not([class]):hover{color:inherit;text-decoration:none}pre[_ngcontent-%COMP%], code[_ngcontent-%COMP%], kbd[_ngcontent-%COMP%], samp[_ngcontent-%COMP%]{font-family:var(--bs-font-monospace);font-size:1em;direction:ltr;unicode-bidi:bidi-override}pre[_ngcontent-%COMP%]{display:block;margin-top:0;margin-bottom:1rem;overflow:auto;font-size:.875em}pre[_ngcontent-%COMP%]   code[_ngcontent-%COMP%]{font-size:inherit;color:inherit;word-break:normal}code[_ngcontent-%COMP%]{font-size:.875em;color:#d63384;word-wrap:break-word}a[_ngcontent-%COMP%] > code[_ngcontent-%COMP%]{color:inherit}kbd[_ngcontent-%COMP%]{padding:.2rem .4rem;font-size:.875em;color:#fff;background-color:#212529;border-radius:.2rem}kbd[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{padding:0;font-size:1em;font-weight:700}figure[_ngcontent-%COMP%]{margin:0 0 1rem}img[_ngcontent-%COMP%], svg[_ngcontent-%COMP%]{vertical-align:middle}table[_ngcontent-%COMP%]{caption-side:bottom;border-collapse:collapse}caption[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;color:#6c757d;text-align:left}th[_ngcontent-%COMP%]{text-align:inherit;text-align:-webkit-match-parent}thead[_ngcontent-%COMP%], tbody[_ngcontent-%COMP%], tfoot[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border-color:inherit;border-style:solid;border-width:0}label[_ngcontent-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{border-radius:0}button[_ngcontent-%COMP%]:focus:not(:focus-visible){outline:0}input[_ngcontent-%COMP%], button[_ngcontent-%COMP%], select[_ngcontent-%COMP%], optgroup[_ngcontent-%COMP%], textarea[_ngcontent-%COMP%]{margin:0;font-family:inherit;font-size:inherit;line-height:inherit}button[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{text-transform:none}[role=button][_ngcontent-%COMP%]{cursor:pointer}select[_ngcontent-%COMP%]{word-wrap:normal}select[_ngcontent-%COMP%]:disabled{opacity:1}[list][_ngcontent-%COMP%]::-webkit-calendar-picker-indicator{display:none}button[_ngcontent-%COMP%], [type=button][_ngcontent-%COMP%], [type=reset][_ngcontent-%COMP%], [type=submit][_ngcontent-%COMP%]{-webkit-appearance:button}button[_ngcontent-%COMP%]:not(:disabled), [type=button][_ngcontent-%COMP%]:not(:disabled), [type=reset][_ngcontent-%COMP%]:not(:disabled), [type=submit][_ngcontent-%COMP%]:not(:disabled){cursor:pointer}[_ngcontent-%COMP%]::-moz-focus-inner{padding:0;border-style:none}textarea[_ngcontent-%COMP%]{resize:vertical}fieldset[_ngcontent-%COMP%]{min-width:0;padding:0;margin:0;border:0}legend[_ngcontent-%COMP%]{float:left;width:100%;padding:0;margin-bottom:.5rem;font-size:calc(1.275rem + .3vw);line-height:inherit}@media (min-width: 1200px){legend[_ngcontent-%COMP%]{font-size:1.5rem}}legend[_ngcontent-%COMP%] + *[_ngcontent-%COMP%]{clear:left}[_ngcontent-%COMP%]::-webkit-datetime-edit-fields-wrapper, [_ngcontent-%COMP%]::-webkit-datetime-edit-text, [_ngcontent-%COMP%]::-webkit-datetime-edit-minute, [_ngcontent-%COMP%]::-webkit-datetime-edit-hour-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-day-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-month-field, [_ngcontent-%COMP%]::-webkit-datetime-edit-year-field{padding:0}[_ngcontent-%COMP%]::-webkit-inner-spin-button{height:auto}[type=search][_ngcontent-%COMP%]{outline-offset:-2px;-webkit-appearance:textfield}[_ngcontent-%COMP%]::-webkit-search-decoration{-webkit-appearance:none}[_ngcontent-%COMP%]::-webkit-color-swatch-wrapper{padding:0}[_ngcontent-%COMP%]::file-selector-button{font:inherit}[_ngcontent-%COMP%]::-webkit-file-upload-button{font:inherit;-webkit-appearance:button}output[_ngcontent-%COMP%]{display:inline-block}iframe[_ngcontent-%COMP%]{border:0}summary[_ngcontent-%COMP%]{display:list-item;cursor:pointer}progress[_ngcontent-%COMP%]{vertical-align:baseline}[hidden][_ngcontent-%COMP%]{display:none!important}.lead[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:300}.display-1[_ngcontent-%COMP%]{font-size:calc(1.625rem + 4.5vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-1[_ngcontent-%COMP%]{font-size:5rem}}.display-2[_ngcontent-%COMP%]{font-size:calc(1.575rem + 3.9vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-2[_ngcontent-%COMP%]{font-size:4.5rem}}.display-3[_ngcontent-%COMP%]{font-size:calc(1.525rem + 3.3vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-3[_ngcontent-%COMP%]{font-size:4rem}}.display-4[_ngcontent-%COMP%]{font-size:calc(1.475rem + 2.7vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-4[_ngcontent-%COMP%]{font-size:3.5rem}}.display-5[_ngcontent-%COMP%]{font-size:calc(1.425rem + 2.1vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-5[_ngcontent-%COMP%]{font-size:3rem}}.display-6[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw);font-weight:300;line-height:1.2}@media (min-width: 1200px){.display-6[_ngcontent-%COMP%]{font-size:2.5rem}}.list-unstyled[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline[_ngcontent-%COMP%]{padding-left:0;list-style:none}.list-inline-item[_ngcontent-%COMP%]{display:inline-block}.list-inline-item[_ngcontent-%COMP%]:not(:last-child){margin-right:.5rem}.initialism[_ngcontent-%COMP%]{font-size:.875em;text-transform:uppercase}.blockquote[_ngcontent-%COMP%]{margin-bottom:1rem;font-size:1.25rem}.blockquote[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:last-child{margin-bottom:0}.blockquote-footer[_ngcontent-%COMP%]{margin-top:-1rem;margin-bottom:1rem;font-size:.875em;color:#6c757d}.blockquote-footer[_ngcontent-%COMP%]:before{content:\"\\2014\\a0\"}.img-fluid[_ngcontent-%COMP%]{max-width:100%;height:auto}.img-thumbnail[_ngcontent-%COMP%]{padding:.25rem;background-color:#fff;border:1px solid #dee2e6;border-radius:.25rem;max-width:100%;height:auto}.figure[_ngcontent-%COMP%]{display:inline-block}.figure-img[_ngcontent-%COMP%]{margin-bottom:.5rem;line-height:1}.figure-caption[_ngcontent-%COMP%]{font-size:.875em;color:#6c757d}.container[_ngcontent-%COMP%], .container-fluid[_ngcontent-%COMP%], .container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%]{width:100%;padding-right:var(--bs-gutter-x, .75rem);padding-left:var(--bs-gutter-x, .75rem);margin-right:auto;margin-left:auto}@media (min-width: 576px){.container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:540px}}@media (min-width: 768px){.container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:720px}}@media (min-width: 992px){.container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:960px}}@media (min-width: 1200px){.container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1140px}}@media (min-width: 1400px){.container-xxl[_ngcontent-%COMP%], .container-xl[_ngcontent-%COMP%], .container-lg[_ngcontent-%COMP%], .container-md[_ngcontent-%COMP%], .container-sm[_ngcontent-%COMP%], .container[_ngcontent-%COMP%]{max-width:1320px}}.row[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem;--bs-gutter-y: 0;display:flex;flex-wrap:wrap;margin-top:calc(var(--bs-gutter-y) * -1);margin-right:calc(var(--bs-gutter-x) * -.5);margin-left:calc(var(--bs-gutter-x) * -.5)}.row[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex-shrink:0;width:100%;max-width:100%;padding-right:calc(var(--bs-gutter-x) * .5);padding-left:calc(var(--bs-gutter-x) * .5);margin-top:var(--bs-gutter-y)}.col[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-3[_ngcontent-%COMP%]{margin-left:25%}.offset-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-6[_ngcontent-%COMP%]{margin-left:50%}.offset-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-9[_ngcontent-%COMP%]{margin-left:75%}.offset-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-0[_ngcontent-%COMP%], .gx-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-0[_ngcontent-%COMP%], .gy-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-1[_ngcontent-%COMP%], .gx-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-1[_ngcontent-%COMP%], .gy-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-2[_ngcontent-%COMP%], .gx-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-2[_ngcontent-%COMP%], .gy-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-3[_ngcontent-%COMP%], .gx-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-3[_ngcontent-%COMP%], .gy-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-4[_ngcontent-%COMP%], .gx-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-4[_ngcontent-%COMP%], .gy-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-5[_ngcontent-%COMP%], .gx-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-5[_ngcontent-%COMP%], .gy-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}@media (min-width: 576px){.col-sm[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-sm-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-sm-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-sm-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-sm-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-sm-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-sm-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-sm-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-sm-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-sm-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-sm-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-sm-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-sm-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-sm-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-sm-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-sm-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-sm-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-sm-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-sm-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-sm-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-sm-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-sm-0[_ngcontent-%COMP%]{margin-left:0}.offset-sm-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-sm-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-sm-3[_ngcontent-%COMP%]{margin-left:25%}.offset-sm-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-sm-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-sm-6[_ngcontent-%COMP%]{margin-left:50%}.offset-sm-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-sm-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-sm-9[_ngcontent-%COMP%]{margin-left:75%}.offset-sm-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-sm-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-sm-0[_ngcontent-%COMP%], .gx-sm-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-sm-0[_ngcontent-%COMP%], .gy-sm-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-sm-1[_ngcontent-%COMP%], .gx-sm-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-sm-1[_ngcontent-%COMP%], .gy-sm-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-sm-2[_ngcontent-%COMP%], .gx-sm-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-sm-2[_ngcontent-%COMP%], .gy-sm-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-sm-3[_ngcontent-%COMP%], .gx-sm-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-sm-3[_ngcontent-%COMP%], .gy-sm-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-sm-4[_ngcontent-%COMP%], .gx-sm-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-sm-4[_ngcontent-%COMP%], .gy-sm-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-sm-5[_ngcontent-%COMP%], .gx-sm-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-sm-5[_ngcontent-%COMP%], .gy-sm-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 768px){.col-md[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-md-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-md-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-md-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-md-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-md-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-md-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-md-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-md-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-md-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-md-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-md-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-md-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-md-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-md-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-md-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-md-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-md-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-md-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-md-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-md-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-md-0[_ngcontent-%COMP%]{margin-left:0}.offset-md-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-md-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-md-3[_ngcontent-%COMP%]{margin-left:25%}.offset-md-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-md-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-md-6[_ngcontent-%COMP%]{margin-left:50%}.offset-md-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-md-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-md-9[_ngcontent-%COMP%]{margin-left:75%}.offset-md-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-md-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-md-0[_ngcontent-%COMP%], .gx-md-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-md-0[_ngcontent-%COMP%], .gy-md-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-md-1[_ngcontent-%COMP%], .gx-md-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-md-1[_ngcontent-%COMP%], .gy-md-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-md-2[_ngcontent-%COMP%], .gx-md-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-md-2[_ngcontent-%COMP%], .gy-md-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-md-3[_ngcontent-%COMP%], .gx-md-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-md-3[_ngcontent-%COMP%], .gy-md-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-md-4[_ngcontent-%COMP%], .gx-md-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-md-4[_ngcontent-%COMP%], .gy-md-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-md-5[_ngcontent-%COMP%], .gx-md-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-md-5[_ngcontent-%COMP%], .gy-md-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 992px){.col-lg[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-lg-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-lg-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-lg-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-lg-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-lg-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-lg-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-lg-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-lg-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-lg-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-lg-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-lg-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-lg-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-lg-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-lg-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-lg-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-lg-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-lg-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-lg-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-lg-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-lg-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-lg-0[_ngcontent-%COMP%]{margin-left:0}.offset-lg-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-lg-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-lg-3[_ngcontent-%COMP%]{margin-left:25%}.offset-lg-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-lg-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-lg-6[_ngcontent-%COMP%]{margin-left:50%}.offset-lg-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-lg-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-lg-9[_ngcontent-%COMP%]{margin-left:75%}.offset-lg-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-lg-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-lg-0[_ngcontent-%COMP%], .gx-lg-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-lg-0[_ngcontent-%COMP%], .gy-lg-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-lg-1[_ngcontent-%COMP%], .gx-lg-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-lg-1[_ngcontent-%COMP%], .gy-lg-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-lg-2[_ngcontent-%COMP%], .gx-lg-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-lg-2[_ngcontent-%COMP%], .gy-lg-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-lg-3[_ngcontent-%COMP%], .gx-lg-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-lg-3[_ngcontent-%COMP%], .gy-lg-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-lg-4[_ngcontent-%COMP%], .gx-lg-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-lg-4[_ngcontent-%COMP%], .gy-lg-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-lg-5[_ngcontent-%COMP%], .gx-lg-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-lg-5[_ngcontent-%COMP%], .gy-lg-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 1200px){.col-xl[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-xl-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-xl-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-xl-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-xl-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-xl-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-xl-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-xl-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-xl-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-xl-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-xl-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-xl-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-xl-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-xl-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-xl-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-xl-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-xl-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-xl-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-xl-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-xl-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-xl-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-xl-0[_ngcontent-%COMP%]{margin-left:0}.offset-xl-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-xl-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-xl-3[_ngcontent-%COMP%]{margin-left:25%}.offset-xl-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-xl-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-xl-6[_ngcontent-%COMP%]{margin-left:50%}.offset-xl-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-xl-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-xl-9[_ngcontent-%COMP%]{margin-left:75%}.offset-xl-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-xl-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-xl-0[_ngcontent-%COMP%], .gx-xl-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-xl-0[_ngcontent-%COMP%], .gy-xl-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-xl-1[_ngcontent-%COMP%], .gx-xl-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-xl-1[_ngcontent-%COMP%], .gy-xl-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-xl-2[_ngcontent-%COMP%], .gx-xl-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-xl-2[_ngcontent-%COMP%], .gy-xl-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-xl-3[_ngcontent-%COMP%], .gx-xl-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-xl-3[_ngcontent-%COMP%], .gy-xl-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-xl-4[_ngcontent-%COMP%], .gx-xl-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-xl-4[_ngcontent-%COMP%], .gy-xl-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-xl-5[_ngcontent-%COMP%], .gx-xl-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-xl-5[_ngcontent-%COMP%], .gy-xl-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}@media (min-width: 1400px){.col-xxl[_ngcontent-%COMP%]{flex:1 0 0%}.row-cols-xxl-auto[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.row-cols-xxl-1[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.row-cols-xxl-2[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.row-cols-xxl-3[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:33.3333333333%}.row-cols-xxl-4[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.row-cols-xxl-5[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:20%}.row-cols-xxl-6[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{flex:0 0 auto;width:16.6666666667%}.col-xxl-auto[_ngcontent-%COMP%]{flex:0 0 auto;width:auto}.col-xxl-1[_ngcontent-%COMP%]{flex:0 0 auto;width:8.33333333%}.col-xxl-2[_ngcontent-%COMP%]{flex:0 0 auto;width:16.66666667%}.col-xxl-3[_ngcontent-%COMP%]{flex:0 0 auto;width:25%}.col-xxl-4[_ngcontent-%COMP%]{flex:0 0 auto;width:33.33333333%}.col-xxl-5[_ngcontent-%COMP%]{flex:0 0 auto;width:41.66666667%}.col-xxl-6[_ngcontent-%COMP%]{flex:0 0 auto;width:50%}.col-xxl-7[_ngcontent-%COMP%]{flex:0 0 auto;width:58.33333333%}.col-xxl-8[_ngcontent-%COMP%]{flex:0 0 auto;width:66.66666667%}.col-xxl-9[_ngcontent-%COMP%]{flex:0 0 auto;width:75%}.col-xxl-10[_ngcontent-%COMP%]{flex:0 0 auto;width:83.33333333%}.col-xxl-11[_ngcontent-%COMP%]{flex:0 0 auto;width:91.66666667%}.col-xxl-12[_ngcontent-%COMP%]{flex:0 0 auto;width:100%}.offset-xxl-0[_ngcontent-%COMP%]{margin-left:0}.offset-xxl-1[_ngcontent-%COMP%]{margin-left:8.33333333%}.offset-xxl-2[_ngcontent-%COMP%]{margin-left:16.66666667%}.offset-xxl-3[_ngcontent-%COMP%]{margin-left:25%}.offset-xxl-4[_ngcontent-%COMP%]{margin-left:33.33333333%}.offset-xxl-5[_ngcontent-%COMP%]{margin-left:41.66666667%}.offset-xxl-6[_ngcontent-%COMP%]{margin-left:50%}.offset-xxl-7[_ngcontent-%COMP%]{margin-left:58.33333333%}.offset-xxl-8[_ngcontent-%COMP%]{margin-left:66.66666667%}.offset-xxl-9[_ngcontent-%COMP%]{margin-left:75%}.offset-xxl-10[_ngcontent-%COMP%]{margin-left:83.33333333%}.offset-xxl-11[_ngcontent-%COMP%]{margin-left:91.66666667%}.g-xxl-0[_ngcontent-%COMP%], .gx-xxl-0[_ngcontent-%COMP%]{--bs-gutter-x: 0}.g-xxl-0[_ngcontent-%COMP%], .gy-xxl-0[_ngcontent-%COMP%]{--bs-gutter-y: 0}.g-xxl-1[_ngcontent-%COMP%], .gx-xxl-1[_ngcontent-%COMP%]{--bs-gutter-x: .25rem}.g-xxl-1[_ngcontent-%COMP%], .gy-xxl-1[_ngcontent-%COMP%]{--bs-gutter-y: .25rem}.g-xxl-2[_ngcontent-%COMP%], .gx-xxl-2[_ngcontent-%COMP%]{--bs-gutter-x: .5rem}.g-xxl-2[_ngcontent-%COMP%], .gy-xxl-2[_ngcontent-%COMP%]{--bs-gutter-y: .5rem}.g-xxl-3[_ngcontent-%COMP%], .gx-xxl-3[_ngcontent-%COMP%]{--bs-gutter-x: 1rem}.g-xxl-3[_ngcontent-%COMP%], .gy-xxl-3[_ngcontent-%COMP%]{--bs-gutter-y: 1rem}.g-xxl-4[_ngcontent-%COMP%], .gx-xxl-4[_ngcontent-%COMP%]{--bs-gutter-x: 1.5rem}.g-xxl-4[_ngcontent-%COMP%], .gy-xxl-4[_ngcontent-%COMP%]{--bs-gutter-y: 1.5rem}.g-xxl-5[_ngcontent-%COMP%], .gx-xxl-5[_ngcontent-%COMP%]{--bs-gutter-x: 3rem}.g-xxl-5[_ngcontent-%COMP%], .gy-xxl-5[_ngcontent-%COMP%]{--bs-gutter-y: 3rem}}.table[_ngcontent-%COMP%]{--bs-table-bg: transparent;--bs-table-accent-bg: transparent;--bs-table-striped-color: #212529;--bs-table-striped-bg: rgba(0, 0, 0, .05);--bs-table-active-color: #212529;--bs-table-active-bg: rgba(0, 0, 0, .1);--bs-table-hover-color: #212529;--bs-table-hover-bg: rgba(0, 0, 0, .075);width:100%;margin-bottom:1rem;color:#212529;vertical-align:top;border-color:#dee2e6}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.5rem;background-color:var(--bs-table-bg);border-bottom-width:1px;box-shadow:inset 0 0 0 9999px var(--bs-table-accent-bg)}.table[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%]{vertical-align:inherit}.table[_ngcontent-%COMP%] > thead[_ngcontent-%COMP%]{vertical-align:bottom}.table[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child) > [_ngcontent-%COMP%]:last-child > *[_ngcontent-%COMP%]{border-bottom-color:currentColor}.caption-top[_ngcontent-%COMP%]{caption-side:top}.table-sm[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{padding:.25rem}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%]{border-width:1px 0}.table-bordered[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-width:0 1px}.table-borderless[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(caption) > *[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{border-bottom-width:0}.table-striped[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:nth-of-type(odd){--bs-table-accent-bg: var(--bs-table-striped-bg);color:var(--bs-table-striped-color)}.table-active[_ngcontent-%COMP%]{--bs-table-accent-bg: var(--bs-table-active-bg);color:var(--bs-table-active-color)}.table-hover[_ngcontent-%COMP%] > tbody[_ngcontent-%COMP%] > tr[_ngcontent-%COMP%]:hover{--bs-table-accent-bg: var(--bs-table-hover-bg);color:var(--bs-table-hover-color)}.table-primary[_ngcontent-%COMP%]{--bs-table-bg: #cfe2ff;--bs-table-striped-bg: #c5d7f2;--bs-table-striped-color: #000;--bs-table-active-bg: #bacbe6;--bs-table-active-color: #000;--bs-table-hover-bg: #bfd1ec;--bs-table-hover-color: #000;color:#000;border-color:#bacbe6}.table-secondary[_ngcontent-%COMP%]{--bs-table-bg: #e2e3e5;--bs-table-striped-bg: #d7d8da;--bs-table-striped-color: #000;--bs-table-active-bg: #cbccce;--bs-table-active-color: #000;--bs-table-hover-bg: #d1d2d4;--bs-table-hover-color: #000;color:#000;border-color:#cbccce}.table-success[_ngcontent-%COMP%]{--bs-table-bg: #d1e7dd;--bs-table-striped-bg: #c7dbd2;--bs-table-striped-color: #000;--bs-table-active-bg: #bcd0c7;--bs-table-active-color: #000;--bs-table-hover-bg: #c1d6cc;--bs-table-hover-color: #000;color:#000;border-color:#bcd0c7}.table-info[_ngcontent-%COMP%]{--bs-table-bg: #cff4fc;--bs-table-striped-bg: #c5e8ef;--bs-table-striped-color: #000;--bs-table-active-bg: #badce3;--bs-table-active-color: #000;--bs-table-hover-bg: #bfe2e9;--bs-table-hover-color: #000;color:#000;border-color:#badce3}.table-warning[_ngcontent-%COMP%]{--bs-table-bg: #fff3cd;--bs-table-striped-bg: #f2e7c3;--bs-table-striped-color: #000;--bs-table-active-bg: #e6dbb9;--bs-table-active-color: #000;--bs-table-hover-bg: #ece1be;--bs-table-hover-color: #000;color:#000;border-color:#e6dbb9}.table-danger[_ngcontent-%COMP%]{--bs-table-bg: #f8d7da;--bs-table-striped-bg: #eccccf;--bs-table-striped-color: #000;--bs-table-active-bg: #dfc2c4;--bs-table-active-color: #000;--bs-table-hover-bg: #e5c7ca;--bs-table-hover-color: #000;color:#000;border-color:#dfc2c4}.table-light[_ngcontent-%COMP%]{--bs-table-bg: #f8f9fa;--bs-table-striped-bg: #ecedee;--bs-table-striped-color: #000;--bs-table-active-bg: #dfe0e1;--bs-table-active-color: #000;--bs-table-hover-bg: #e5e6e7;--bs-table-hover-color: #000;color:#000;border-color:#dfe0e1}.table-dark[_ngcontent-%COMP%]{--bs-table-bg: #212529;--bs-table-striped-bg: #2c3034;--bs-table-striped-color: #fff;--bs-table-active-bg: #373b3e;--bs-table-active-color: #fff;--bs-table-hover-bg: #323539;--bs-table-hover-color: #fff;color:#fff;border-color:#373b3e}.table-responsive[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}@media (max-width: 575.98px){.table-responsive-sm[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 767.98px){.table-responsive-md[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 991.98px){.table-responsive-lg[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 1199.98px){.table-responsive-xl[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}@media (max-width: 1399.98px){.table-responsive-xxl[_ngcontent-%COMP%]{overflow-x:auto;-webkit-overflow-scrolling:touch}}.form-label[_ngcontent-%COMP%]{margin-bottom:.5rem}.col-form-label[_ngcontent-%COMP%]{padding-top:calc(.375rem + 1px);padding-bottom:calc(.375rem + 1px);margin-bottom:0;font-size:inherit;line-height:1.5}.col-form-label-lg[_ngcontent-%COMP%]{padding-top:calc(.5rem + 1px);padding-bottom:calc(.5rem + 1px);font-size:1.25rem}.col-form-label-sm[_ngcontent-%COMP%]{padding-top:calc(.25rem + 1px);padding-bottom:calc(.25rem + 1px);font-size:.875rem}.form-text[_ngcontent-%COMP%]{margin-top:.25rem;font-size:.875em;color:#6c757d}.form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;-webkit-appearance:none;-moz-appearance:none;appearance:none;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]{transition:none}}.form-control[type=file][_ngcontent-%COMP%]{overflow:hidden}.form-control[type=file][_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control[_ngcontent-%COMP%]:focus{color:#212529;background-color:#fff;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-control[_ngcontent-%COMP%]::-webkit-date-and-time-value{height:1.5em}.form-control[_ngcontent-%COMP%]::placeholder{color:#6c757d;opacity:1}.form-control[_ngcontent-%COMP%]:disabled, .form-control[readonly][_ngcontent-%COMP%]{background-color:#e9ecef;opacity:1}.form-control[_ngcontent-%COMP%]::file-selector-button{padding:.375rem .75rem;margin:-.375rem -.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]::file-selector-button{transition:none}}.form-control[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::file-selector-button{background-color:#dde0e3}.form-control[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.375rem .75rem;margin:-.375rem -.75rem;margin-inline-end:.75rem;color:#212529;background-color:#e9ecef;pointer-events:none;border-color:inherit;border-style:solid;border-width:0;border-inline-end-width:1px;border-radius:0;-webkit-transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-control[_ngcontent-%COMP%]::-webkit-file-upload-button{-webkit-transition:none;transition:none}}.form-control[_ngcontent-%COMP%]:hover:not(:disabled):not([readonly])::-webkit-file-upload-button{background-color:#dde0e3}.form-control-plaintext[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 0;margin-bottom:0;line-height:1.5;color:#212529;background-color:transparent;border:solid transparent;border-width:1px 0}.form-control-plaintext.form-control-sm[_ngcontent-%COMP%], .form-control-plaintext.form-control-lg[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.form-control-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + 2px);padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.form-control-sm[_ngcontent-%COMP%]::file-selector-button{padding:.25rem .5rem;margin:-.25rem -.5rem;margin-inline-end:.5rem}.form-control-sm[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.25rem .5rem;margin:-.25rem -.5rem;margin-inline-end:.5rem}.form-control-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + 2px);padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.form-control-lg[_ngcontent-%COMP%]::file-selector-button{padding:.5rem 1rem;margin:-.5rem -1rem;margin-inline-end:1rem}.form-control-lg[_ngcontent-%COMP%]::-webkit-file-upload-button{padding:.5rem 1rem;margin:-.5rem -1rem;margin-inline-end:1rem}textarea.form-control[_ngcontent-%COMP%]{min-height:calc(1.5em + .75rem + 2px)}textarea.form-control-sm[_ngcontent-%COMP%]{min-height:calc(1.5em + .5rem + 2px)}textarea.form-control-lg[_ngcontent-%COMP%]{min-height:calc(1.5em + 1rem + 2px)}.form-control-color[_ngcontent-%COMP%]{width:3rem;height:auto;padding:.375rem}.form-control-color[_ngcontent-%COMP%]:not(:disabled):not([readonly]){cursor:pointer}.form-control-color[_ngcontent-%COMP%]::-moz-color-swatch{height:1.5em;border-radius:.25rem}.form-control-color[_ngcontent-%COMP%]::-webkit-color-swatch{height:1.5em;border-radius:.25rem}.form-select[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;-moz-padding-start:calc(.75rem - 3px);font-size:1rem;font-weight:400;line-height:1.5;color:#212529;background-color:#fff;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.25rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-select[_ngcontent-%COMP%]{transition:none}}.form-select[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-select[multiple][_ngcontent-%COMP%], .form-select[size][_ngcontent-%COMP%]:not([size=\"1\"]){padding-right:.75rem;background-image:none}.form-select[_ngcontent-%COMP%]:disabled{background-color:#e9ecef}.form-select[_ngcontent-%COMP%]:-moz-focusring{color:transparent;text-shadow:0 0 0 #212529}.form-select-sm[_ngcontent-%COMP%]{padding-top:.25rem;padding-bottom:.25rem;padding-left:.5rem;font-size:.875rem}.form-select-lg[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem;padding-left:1rem;font-size:1.25rem}.form-check[_ngcontent-%COMP%]{display:block;min-height:1.5rem;padding-left:1.5em;margin-bottom:.125rem}.form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{float:left;margin-left:-1.5em}.form-check-input[_ngcontent-%COMP%]{width:1em;height:1em;margin-top:.25em;vertical-align:top;background-color:#fff;background-repeat:no-repeat;background-position:center;background-size:contain;border:1px solid rgba(0,0,0,.25);-webkit-appearance:none;-moz-appearance:none;appearance:none;-webkit-print-color-adjust:exact;color-adjust:exact}.form-check-input[type=checkbox][_ngcontent-%COMP%]{border-radius:.25em}.form-check-input[type=radio][_ngcontent-%COMP%]{border-radius:50%}.form-check-input[_ngcontent-%COMP%]:active{filter:brightness(90%)}.form-check-input[_ngcontent-%COMP%]:focus{border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.form-check-input[_ngcontent-%COMP%]:checked{background-color:#0d6efd;border-color:#0d6efd}.form-check-input[_ngcontent-%COMP%]:checked[type=checkbox]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10l3 3l6-6'/%3e%3c/svg%3e\")}.form-check-input[_ngcontent-%COMP%]:checked[type=radio]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='2' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-input[type=checkbox][_ngcontent-%COMP%]:indeterminate{background-color:#0d6efd;border-color:#0d6efd;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 20 20'%3e%3cpath fill='none' stroke='%23fff' stroke-linecap='round' stroke-linejoin='round' stroke-width='3' d='M6 10h8'/%3e%3c/svg%3e\")}.form-check-input[_ngcontent-%COMP%]:disabled{pointer-events:none;filter:none;opacity:.5}.form-check-input[disabled][_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%], .form-check-input[_ngcontent-%COMP%]:disabled ~ .form-check-label[_ngcontent-%COMP%]{opacity:.5}.form-switch[_ngcontent-%COMP%]{padding-left:2.5em}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:2em;margin-left:-2.5em;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='rgba%280, 0, 0, 0.25%29'/%3e%3c/svg%3e\");background-position:left center;border-radius:2em;transition:background-position .15s ease-in-out}@media (prefers-reduced-motion: reduce){.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{transition:none}}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%2386b7fe'/%3e%3c/svg%3e\")}.form-switch[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-position:right center;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='-4 -4 8 8'%3e%3ccircle r='3' fill='%23fff'/%3e%3c/svg%3e\")}.form-check-inline[_ngcontent-%COMP%]{display:inline-block;margin-right:1rem}.btn-check[_ngcontent-%COMP%]{position:absolute;clip:rect(0,0,0,0);pointer-events:none}.btn-check[disabled][_ngcontent-%COMP%] + .btn[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:disabled + .btn[_ngcontent-%COMP%]{pointer-events:none;filter:none;opacity:.65}.form-range[_ngcontent-%COMP%]{width:100%;height:1.5rem;padding:0;background-color:transparent;-webkit-appearance:none;-moz-appearance:none;appearance:none}.form-range[_ngcontent-%COMP%]:focus{outline:0}.form-range[_ngcontent-%COMP%]:focus::-webkit-slider-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range[_ngcontent-%COMP%]:focus::-moz-range-thumb{box-shadow:0 0 0 1px #fff,0 0 0 .25rem #0d6efd40}.form-range[_ngcontent-%COMP%]::-moz-focus-outer{border:0}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{width:1rem;height:1rem;margin-top:-.25rem;background-color:#0d6efd;border:0;border-radius:1rem;-webkit-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-webkit-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-transition:none;transition:none}}.form-range[_ngcontent-%COMP%]::-webkit-slider-thumb:active{background-color:#b6d4fe}.form-range[_ngcontent-%COMP%]::-webkit-slider-runnable-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range[_ngcontent-%COMP%]::-moz-range-thumb{width:1rem;height:1rem;background-color:#0d6efd;border:0;border-radius:1rem;-moz-transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;transition:background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out;-moz-appearance:none;appearance:none}@media (prefers-reduced-motion: reduce){.form-range[_ngcontent-%COMP%]::-moz-range-thumb{-moz-transition:none;transition:none}}.form-range[_ngcontent-%COMP%]::-moz-range-thumb:active{background-color:#b6d4fe}.form-range[_ngcontent-%COMP%]::-moz-range-track{width:100%;height:.5rem;color:transparent;cursor:pointer;background-color:#dee2e6;border-color:transparent;border-radius:1rem}.form-range[_ngcontent-%COMP%]:disabled{pointer-events:none}.form-range[_ngcontent-%COMP%]:disabled::-webkit-slider-thumb{background-color:#adb5bd}.form-range[_ngcontent-%COMP%]:disabled::-moz-range-thumb{background-color:#adb5bd}.form-floating[_ngcontent-%COMP%]{position:relative}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{height:calc(3.5rem + 2px);line-height:1.25}.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{position:absolute;top:0;left:0;height:100%;padding:1rem .75rem;pointer-events:none;border:1px solid transparent;transform-origin:0 0;transition:opacity .1s ease-in-out,transform .1s ease-in-out}@media (prefers-reduced-motion: reduce){.form-floating[_ngcontent-%COMP%] > label[_ngcontent-%COMP%]{transition:none}}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]{padding:1rem .75rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]::placeholder{color:transparent}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus, .form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:placeholder-shown){padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:-webkit-autofill{padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-top:1.625rem;padding-bottom:.625rem}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:not(:placeholder-shown) ~ label[_ngcontent-%COMP%], .form-floating[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%] ~ label[_ngcontent-%COMP%]{opacity:.65;transform:scale(.85) translateY(-.5rem) translate(.15rem)}.form-floating[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:-webkit-autofill ~ label[_ngcontent-%COMP%]{opacity:.65;transform:scale(.85) translateY(-.5rem) translate(.15rem)}.input-group[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:stretch;width:100%}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;width:1%;min-width:0}.input-group[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%]:focus, .input-group[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]:focus{z-index:3}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{position:relative;z-index:2}.input-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:focus{z-index:3}.input-group-text[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#212529;text-align:center;white-space:nowrap;background-color:#e9ecef;border:1px solid #ced4da;border-radius:.25rem}.input-group-lg[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.input-group-sm[_ngcontent-%COMP%] > .form-control[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .input-group-text[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.input-group-lg[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%], .input-group-sm[_ngcontent-%COMP%] > .form-select[_ngcontent-%COMP%]{padding-right:3rem}.input-group[_ngcontent-%COMP%]:not(.has-validation) > [_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle):not(.dropdown-menu), .input-group[_ngcontent-%COMP%]:not(.has-validation) > .dropdown-toggle[_ngcontent-%COMP%]:nth-last-child(n+3){border-top-right-radius:0;border-bottom-right-radius:0}.input-group.has-validation[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-last-child(n+3):not(.dropdown-toggle):not(.dropdown-menu), .input-group.has-validation[_ngcontent-%COMP%] > .dropdown-toggle[_ngcontent-%COMP%]:nth-last-child(n+4){border-top-right-radius:0;border-bottom-right-radius:0}.input-group[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:first-child):not(.dropdown-menu):not(.valid-tooltip):not(.valid-feedback):not(.invalid-tooltip):not(.invalid-feedback){margin-left:-1px;border-top-left-radius:0;border-bottom-left-radius:0}.valid-feedback[_ngcontent-%COMP%]{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#198754}.valid-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:#198754e6;border-radius:.25rem}.was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:valid ~ .valid-feedback[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:valid ~ .valid-tooltip[_ngcontent-%COMP%], .is-valid[_ngcontent-%COMP%] ~ .valid-feedback[_ngcontent-%COMP%], .is-valid[_ngcontent-%COMP%] ~ .valid-tooltip[_ngcontent-%COMP%]{display:block}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid, .form-control.is-valid[_ngcontent-%COMP%]{border-color:#198754;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid:focus, .form-control.is-valid[_ngcontent-%COMP%]:focus{border-color:#198754;box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:valid, textarea.form-control.is-valid[_ngcontent-%COMP%]{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid, .form-select.is-valid[_ngcontent-%COMP%]{border-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:not([multiple]):not([size]), .was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:not([multiple])[size=\"1\"], .form-select.is-valid[_ngcontent-%COMP%]:not([multiple]):not([size]), .form-select.is-valid[_ngcontent-%COMP%]:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%23198754' d='M2.3 6.73L.6 4.53c-.4-1.04.46-1.4 1.1-.8l1.1 1.4 3.4-3.8c.6-.63 1.6-.27 1.2.7l-4 4.6c-.43.5-.8.4-1.1.1z'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:focus, .form-select.is-valid[_ngcontent-%COMP%]:focus{border-color:#198754;box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid, .form-check-input.is-valid[_ngcontent-%COMP%]{border-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid:checked, .form-check-input.is-valid[_ngcontent-%COMP%]:checked{background-color:#198754}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid:focus, .form-check-input.is-valid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875440}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:valid ~ .form-check-label[_ngcontent-%COMP%], .form-check-input.is-valid[_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%]{color:#198754}.form-check-inline[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] ~ .valid-feedback[_ngcontent-%COMP%]{margin-left:.5em}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid, .input-group[_ngcontent-%COMP%]   .form-control.is-valid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid, .input-group[_ngcontent-%COMP%]   .form-select.is-valid[_ngcontent-%COMP%]{z-index:1}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:valid:focus, .input-group[_ngcontent-%COMP%]   .form-control.is-valid[_ngcontent-%COMP%]:focus, .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:valid:focus, .input-group[_ngcontent-%COMP%]   .form-select.is-valid[_ngcontent-%COMP%]:focus{z-index:3}.invalid-feedback[_ngcontent-%COMP%]{display:none;width:100%;margin-top:.25rem;font-size:.875em;color:#dc3545}.invalid-tooltip[_ngcontent-%COMP%]{position:absolute;top:100%;z-index:5;display:none;max-width:100%;padding:.25rem .5rem;margin-top:.1rem;font-size:.875rem;color:#fff;background-color:#dc3545e6;border-radius:.25rem}.was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:invalid ~ .invalid-feedback[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:invalid ~ .invalid-tooltip[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%], .is-invalid[_ngcontent-%COMP%] ~ .invalid-tooltip[_ngcontent-%COMP%]{display:block}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;padding-right:calc(1.5em + .75rem);background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-position:right calc(.375em + .1875rem) center;background-size:calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid:focus, .form-control.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]:invalid, textarea.form-control.is-invalid[_ngcontent-%COMP%]{padding-right:calc(1.5em + .75rem);background-position:top calc(.375em + .1875rem) right calc(.375em + .1875rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid, .form-select.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:not([multiple]):not([size]), .was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:not([multiple])[size=\"1\"], .form-select.is-invalid[_ngcontent-%COMP%]:not([multiple]):not([size]), .form-select.is-invalid[_ngcontent-%COMP%]:not([multiple])[size=\"1\"]{padding-right:4.125rem;background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M2 5l6 6 6-6'/%3e%3c/svg%3e\"),url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e\");background-position:right .75rem center,center right 2.25rem;background-size:16px 12px,calc(.75em + .375rem) calc(.75em + .375rem)}.was-validated[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:focus, .form-select.is-invalid[_ngcontent-%COMP%]:focus{border-color:#dc3545;box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid, .form-check-input.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid:checked, .form-check-input.is-invalid[_ngcontent-%COMP%]:checked{background-color:#dc3545}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid:focus, .form-check-input.is-invalid[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354540}.was-validated[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:invalid ~ .form-check-label[_ngcontent-%COMP%], .form-check-input.is-invalid[_ngcontent-%COMP%] ~ .form-check-label[_ngcontent-%COMP%]{color:#dc3545}.form-check-inline[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%] ~ .invalid-feedback[_ngcontent-%COMP%]{margin-left:.5em}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid, .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%], .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid, .input-group[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]{z-index:2}.was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:invalid:focus, .input-group[_ngcontent-%COMP%]   .form-control.is-invalid[_ngcontent-%COMP%]:focus, .was-validated[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:invalid:focus, .input-group[_ngcontent-%COMP%]   .form-select.is-invalid[_ngcontent-%COMP%]:focus{z-index:3}.btn[_ngcontent-%COMP%]{display:inline-block;font-weight:400;line-height:1.5;color:#212529;text-align:center;text-decoration:none;vertical-align:middle;cursor:pointer;-webkit-user-select:none;user-select:none;background-color:transparent;border:1px solid transparent;padding:.375rem .75rem;font-size:1rem;border-radius:.25rem;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.btn[_ngcontent-%COMP%]{transition:none}}.btn[_ngcontent-%COMP%]:hover{color:#212529}.btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.btn[_ngcontent-%COMP%]:disabled, .btn.disabled[_ngcontent-%COMP%], fieldset[_ngcontent-%COMP%]:disabled   .btn[_ngcontent-%COMP%]{pointer-events:none;opacity:.65}.btn-primary[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0b5ed7;border-color:#0a58ca}.btn-check[_ngcontent-%COMP%]:focus + .btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#0b5ed7;border-color:#0a58ca;box-shadow:0 0 0 .25rem #3184fd80}.btn-check[_ngcontent-%COMP%]:checked + .btn-primary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-primary[_ngcontent-%COMP%], .btn-primary[_ngcontent-%COMP%]:active, .btn-primary.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#0a58ca;border-color:#0a53be}.btn-check[_ngcontent-%COMP%]:checked + .btn-primary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-primary[_ngcontent-%COMP%]:focus, .btn-primary[_ngcontent-%COMP%]:active:focus, .btn-primary.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-primary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3184fd80}.btn-primary[_ngcontent-%COMP%]:disabled, .btn-primary.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-secondary[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#5c636a;border-color:#565e64}.btn-check[_ngcontent-%COMP%]:focus + .btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:focus{color:#fff;background-color:#5c636a;border-color:#565e64;box-shadow:0 0 0 .25rem #828a9180}.btn-check[_ngcontent-%COMP%]:checked + .btn-secondary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-secondary[_ngcontent-%COMP%], .btn-secondary[_ngcontent-%COMP%]:active, .btn-secondary.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#565e64;border-color:#51585e}.btn-check[_ngcontent-%COMP%]:checked + .btn-secondary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-secondary[_ngcontent-%COMP%]:focus, .btn-secondary[_ngcontent-%COMP%]:active:focus, .btn-secondary.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-secondary.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #828a9180}.btn-secondary[_ngcontent-%COMP%]:disabled, .btn-secondary.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#157347;border-color:#146c43}.btn-check[_ngcontent-%COMP%]:focus + .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:focus{color:#fff;background-color:#157347;border-color:#146c43;box-shadow:0 0 0 .25rem #3c996e80}.btn-check[_ngcontent-%COMP%]:checked + .btn-success[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-success[_ngcontent-%COMP%], .btn-success[_ngcontent-%COMP%]:active, .btn-success.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#146c43;border-color:#13653f}.btn-check[_ngcontent-%COMP%]:checked + .btn-success[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-success[_ngcontent-%COMP%]:focus, .btn-success[_ngcontent-%COMP%]:active:focus, .btn-success.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-success.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #3c996e80}.btn-success[_ngcontent-%COMP%]:disabled, .btn-success.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-info[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-info[_ngcontent-%COMP%]:hover{color:#000;background-color:#31d2f2;border-color:#25cff2}.btn-check[_ngcontent-%COMP%]:focus + .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:focus{color:#000;background-color:#31d2f2;border-color:#25cff2;box-shadow:0 0 0 .25rem #0baccc80}.btn-check[_ngcontent-%COMP%]:checked + .btn-info[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-info[_ngcontent-%COMP%], .btn-info[_ngcontent-%COMP%]:active, .btn-info.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-info.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#3dd5f3;border-color:#25cff2}.btn-check[_ngcontent-%COMP%]:checked + .btn-info[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-info[_ngcontent-%COMP%]:focus, .btn-info[_ngcontent-%COMP%]:active:focus, .btn-info.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-info.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0baccc80}.btn-info[_ngcontent-%COMP%]:disabled, .btn-info.disabled[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-warning[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-warning[_ngcontent-%COMP%]:hover{color:#000;background-color:#ffca2c;border-color:#ffc720}.btn-check[_ngcontent-%COMP%]:focus + .btn-warning[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%]:focus{color:#000;background-color:#ffca2c;border-color:#ffc720;box-shadow:0 0 0 .25rem #d9a40680}.btn-check[_ngcontent-%COMP%]:checked + .btn-warning[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-warning[_ngcontent-%COMP%], .btn-warning[_ngcontent-%COMP%]:active, .btn-warning.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-warning.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#ffcd39;border-color:#ffc720}.btn-check[_ngcontent-%COMP%]:checked + .btn-warning[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-warning[_ngcontent-%COMP%]:focus, .btn-warning[_ngcontent-%COMP%]:active:focus, .btn-warning.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-warning.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #d9a40680}.btn-warning[_ngcontent-%COMP%]:disabled, .btn-warning.disabled[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-danger[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#bb2d3b;border-color:#b02a37}.btn-check[_ngcontent-%COMP%]:focus + .btn-danger[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]:focus{color:#fff;background-color:#bb2d3b;border-color:#b02a37;box-shadow:0 0 0 .25rem #e1536180}.btn-check[_ngcontent-%COMP%]:checked + .btn-danger[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-danger[_ngcontent-%COMP%], .btn-danger[_ngcontent-%COMP%]:active, .btn-danger.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-danger.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#b02a37;border-color:#a52834}.btn-check[_ngcontent-%COMP%]:checked + .btn-danger[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-danger[_ngcontent-%COMP%]:focus, .btn-danger[_ngcontent-%COMP%]:active:focus, .btn-danger.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-danger.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #e1536180}.btn-danger[_ngcontent-%COMP%]:disabled, .btn-danger.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-light[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-light[_ngcontent-%COMP%]:hover{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check[_ngcontent-%COMP%]:focus + .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]:focus{color:#000;background-color:#f9fafb;border-color:#f9fafb;box-shadow:0 0 0 .25rem #d3d4d580}.btn-check[_ngcontent-%COMP%]:checked + .btn-light[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-light[_ngcontent-%COMP%], .btn-light[_ngcontent-%COMP%]:active, .btn-light.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-light.dropdown-toggle[_ngcontent-%COMP%]{color:#000;background-color:#f9fafb;border-color:#f9fafb}.btn-check[_ngcontent-%COMP%]:checked + .btn-light[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-light[_ngcontent-%COMP%]:focus, .btn-light[_ngcontent-%COMP%]:active:focus, .btn-light.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-light.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #d3d4d580}.btn-light[_ngcontent-%COMP%]:disabled, .btn-light.disabled[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-dark[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#1c1f23;border-color:#1a1e21}.btn-check[_ngcontent-%COMP%]:focus + .btn-dark[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]:focus{color:#fff;background-color:#1c1f23;border-color:#1a1e21;box-shadow:0 0 0 .25rem #42464980}.btn-check[_ngcontent-%COMP%]:checked + .btn-dark[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-dark[_ngcontent-%COMP%], .btn-dark[_ngcontent-%COMP%]:active, .btn-dark.active[_ngcontent-%COMP%], .show[_ngcontent-%COMP%] > .btn-dark.dropdown-toggle[_ngcontent-%COMP%]{color:#fff;background-color:#1a1e21;border-color:#191c1f}.btn-check[_ngcontent-%COMP%]:checked + .btn-dark[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-dark[_ngcontent-%COMP%]:focus, .btn-dark[_ngcontent-%COMP%]:active:focus, .btn-dark.active[_ngcontent-%COMP%]:focus, .show[_ngcontent-%COMP%] > .btn-dark.dropdown-toggle[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #42464980}.btn-dark[_ngcontent-%COMP%]:disabled, .btn-dark.disabled[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-outline-primary[_ngcontent-%COMP%]{color:#0d6efd;border-color:#0d6efd}.btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6efd80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-primary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-primary[_ngcontent-%COMP%], .btn-outline-primary[_ngcontent-%COMP%]:active, .btn-outline-primary.active[_ngcontent-%COMP%], .btn-outline-primary.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd;border-color:#0d6efd}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-primary[_ngcontent-%COMP%]:focus, .btn-outline-primary[_ngcontent-%COMP%]:active:focus, .btn-outline-primary.active[_ngcontent-%COMP%]:focus, .btn-outline-primary.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0d6efd80}.btn-outline-primary[_ngcontent-%COMP%]:disabled, .btn-outline-primary.disabled[_ngcontent-%COMP%]{color:#0d6efd;background-color:transparent}.btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-secondary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6c757d80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-secondary[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-secondary[_ngcontent-%COMP%], .btn-outline-secondary[_ngcontent-%COMP%]:active, .btn-outline-secondary.active[_ngcontent-%COMP%], .btn-outline-secondary.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#6c757d;border-color:#6c757d}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-secondary[_ngcontent-%COMP%]:focus, .btn-outline-secondary[_ngcontent-%COMP%]:active:focus, .btn-outline-secondary.active[_ngcontent-%COMP%]:focus, .btn-outline-secondary.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #6c757d80}.btn-outline-secondary[_ngcontent-%COMP%]:disabled, .btn-outline-secondary.disabled[_ngcontent-%COMP%]{color:#6c757d;background-color:transparent}.btn-outline-success[_ngcontent-%COMP%]{color:#198754;border-color:#198754}.btn-outline-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:#198754;border-color:#198754}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-success[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875480}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-success[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-success[_ngcontent-%COMP%], .btn-outline-success[_ngcontent-%COMP%]:active, .btn-outline-success.active[_ngcontent-%COMP%], .btn-outline-success.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#198754;border-color:#198754}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-success[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-success[_ngcontent-%COMP%]:focus, .btn-outline-success[_ngcontent-%COMP%]:active:focus, .btn-outline-success.active[_ngcontent-%COMP%]:focus, .btn-outline-success.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #19875480}.btn-outline-success[_ngcontent-%COMP%]:disabled, .btn-outline-success.disabled[_ngcontent-%COMP%]{color:#198754;background-color:transparent}.btn-outline-info[_ngcontent-%COMP%]{color:#0dcaf0;border-color:#0dcaf0}.btn-outline-info[_ngcontent-%COMP%]:hover{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-info[_ngcontent-%COMP%], .btn-outline-info[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0dcaf080}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-info[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-info[_ngcontent-%COMP%], .btn-outline-info[_ngcontent-%COMP%]:active, .btn-outline-info.active[_ngcontent-%COMP%], .btn-outline-info.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#0dcaf0;border-color:#0dcaf0}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-info[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-info[_ngcontent-%COMP%]:focus, .btn-outline-info[_ngcontent-%COMP%]:active:focus, .btn-outline-info.active[_ngcontent-%COMP%]:focus, .btn-outline-info.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #0dcaf080}.btn-outline-info[_ngcontent-%COMP%]:disabled, .btn-outline-info.disabled[_ngcontent-%COMP%]{color:#0dcaf0;background-color:transparent}.btn-outline-warning[_ngcontent-%COMP%]{color:#ffc107;border-color:#ffc107}.btn-outline-warning[_ngcontent-%COMP%]:hover{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-warning[_ngcontent-%COMP%], .btn-outline-warning[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffc10780}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-warning[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-warning[_ngcontent-%COMP%], .btn-outline-warning[_ngcontent-%COMP%]:active, .btn-outline-warning.active[_ngcontent-%COMP%], .btn-outline-warning.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#ffc107;border-color:#ffc107}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-warning[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-warning[_ngcontent-%COMP%]:focus, .btn-outline-warning[_ngcontent-%COMP%]:active:focus, .btn-outline-warning.active[_ngcontent-%COMP%]:focus, .btn-outline-warning.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #ffc10780}.btn-outline-warning[_ngcontent-%COMP%]:disabled, .btn-outline-warning.disabled[_ngcontent-%COMP%]{color:#ffc107;background-color:transparent}.btn-outline-danger[_ngcontent-%COMP%]{color:#dc3545;border-color:#dc3545}.btn-outline-danger[_ngcontent-%COMP%]:hover{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-danger[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354580}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-danger[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-danger[_ngcontent-%COMP%], .btn-outline-danger[_ngcontent-%COMP%]:active, .btn-outline-danger.active[_ngcontent-%COMP%], .btn-outline-danger.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#dc3545;border-color:#dc3545}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-danger[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-danger[_ngcontent-%COMP%]:focus, .btn-outline-danger[_ngcontent-%COMP%]:active:focus, .btn-outline-danger.active[_ngcontent-%COMP%]:focus, .btn-outline-danger.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #dc354580}.btn-outline-danger[_ngcontent-%COMP%]:disabled, .btn-outline-danger.disabled[_ngcontent-%COMP%]{color:#dc3545;background-color:transparent}.btn-outline-light[_ngcontent-%COMP%]{color:#f8f9fa;border-color:#f8f9fa}.btn-outline-light[_ngcontent-%COMP%]:hover{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #f8f9fa80}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-light[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-light[_ngcontent-%COMP%], .btn-outline-light[_ngcontent-%COMP%]:active, .btn-outline-light.active[_ngcontent-%COMP%], .btn-outline-light.dropdown-toggle.show[_ngcontent-%COMP%]{color:#000;background-color:#f8f9fa;border-color:#f8f9fa}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-light[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-light[_ngcontent-%COMP%]:focus, .btn-outline-light[_ngcontent-%COMP%]:active:focus, .btn-outline-light.active[_ngcontent-%COMP%]:focus, .btn-outline-light.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #f8f9fa80}.btn-outline-light[_ngcontent-%COMP%]:disabled, .btn-outline-light.disabled[_ngcontent-%COMP%]{color:#f8f9fa;background-color:transparent}.btn-outline-dark[_ngcontent-%COMP%]{color:#212529;border-color:#212529}.btn-outline-dark[_ngcontent-%COMP%]:hover{color:#fff;background-color:#212529;border-color:#212529}.btn-check[_ngcontent-%COMP%]:focus + .btn-outline-dark[_ngcontent-%COMP%], .btn-outline-dark[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #21252980}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-dark[_ngcontent-%COMP%], .btn-check[_ngcontent-%COMP%]:active + .btn-outline-dark[_ngcontent-%COMP%], .btn-outline-dark[_ngcontent-%COMP%]:active, .btn-outline-dark.active[_ngcontent-%COMP%], .btn-outline-dark.dropdown-toggle.show[_ngcontent-%COMP%]{color:#fff;background-color:#212529;border-color:#212529}.btn-check[_ngcontent-%COMP%]:checked + .btn-outline-dark[_ngcontent-%COMP%]:focus, .btn-check[_ngcontent-%COMP%]:active + .btn-outline-dark[_ngcontent-%COMP%]:focus, .btn-outline-dark[_ngcontent-%COMP%]:active:focus, .btn-outline-dark.active[_ngcontent-%COMP%]:focus, .btn-outline-dark.dropdown-toggle.show[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .25rem #21252980}.btn-outline-dark[_ngcontent-%COMP%]:disabled, .btn-outline-dark.disabled[_ngcontent-%COMP%]{color:#212529;background-color:transparent}.btn-link[_ngcontent-%COMP%]{font-weight:400;color:#0d6efd;text-decoration:underline}.btn-link[_ngcontent-%COMP%]:hover{color:#0a58ca}.btn-link[_ngcontent-%COMP%]:disabled, .btn-link.disabled[_ngcontent-%COMP%]{color:#6c757d}.btn-lg[_ngcontent-%COMP%], .btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:1.25rem;border-radius:.3rem}.btn-sm[_ngcontent-%COMP%], .btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.2rem}.fade[_ngcontent-%COMP%]{transition:opacity .15s linear}@media (prefers-reduced-motion: reduce){.fade[_ngcontent-%COMP%]{transition:none}}.fade[_ngcontent-%COMP%]:not(.show){opacity:0}.collapse[_ngcontent-%COMP%]:not(.show){display:none}.collapsing[_ngcontent-%COMP%]{height:0;overflow:hidden;transition:height .35s ease}@media (prefers-reduced-motion: reduce){.collapsing[_ngcontent-%COMP%]{transition:none}}.collapsing.collapse-horizontal[_ngcontent-%COMP%]{width:0;height:auto;transition:width .35s ease}@media (prefers-reduced-motion: reduce){.collapsing.collapse-horizontal[_ngcontent-%COMP%]{transition:none}}.dropup[_ngcontent-%COMP%], .dropend[_ngcontent-%COMP%], .dropdown[_ngcontent-%COMP%], .dropstart[_ngcontent-%COMP%]{position:relative}.dropdown-toggle[_ngcontent-%COMP%]{white-space:nowrap}.dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid;border-right:.3em solid transparent;border-bottom:0;border-left:.3em solid transparent}.dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropdown-menu[_ngcontent-%COMP%]{position:absolute;z-index:1000;display:none;min-width:10rem;padding:.5rem 0;margin:0;font-size:1rem;color:#212529;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:.25rem}.dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:100%;left:0;margin-top:.125rem}.dropdown-menu-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}@media (min-width: 576px){.dropdown-menu-sm-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-sm-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-sm-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-sm-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 768px){.dropdown-menu-md-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-md-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-md-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-md-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 992px){.dropdown-menu-lg-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-lg-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-lg-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-lg-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 1200px){.dropdown-menu-xl-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-xl-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-xl-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-xl-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}@media (min-width: 1400px){.dropdown-menu-xxl-start[_ngcontent-%COMP%]{--bs-position: start}.dropdown-menu-xxl-start[data-bs-popper][_ngcontent-%COMP%]{right:auto;left:0}.dropdown-menu-xxl-end[_ngcontent-%COMP%]{--bs-position: end}.dropdown-menu-xxl-end[data-bs-popper][_ngcontent-%COMP%]{right:0;left:auto}}.dropup[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:auto;bottom:100%;margin-top:0;margin-bottom:.125rem}.dropup[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:0;border-right:.3em solid transparent;border-bottom:.3em solid;border-left:.3em solid transparent}.dropup[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropend[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:0;right:auto;left:100%;margin-top:0;margin-left:.125rem}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:0;border-bottom:.3em solid transparent;border-left:.3em solid}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropend[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{vertical-align:0}.dropstart[_ngcontent-%COMP%]   .dropdown-menu[data-bs-popper][_ngcontent-%COMP%]{top:0;right:100%;left:auto;margin-top:0;margin-right:.125rem}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:inline-block;margin-left:.255em;vertical-align:.255em;content:\"\"}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:after{display:none}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{display:inline-block;margin-right:.255em;vertical-align:.255em;content:\"\";border-top:.3em solid transparent;border-right:.3em solid;border-bottom:.3em solid transparent}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:empty:after{margin-left:0}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle[_ngcontent-%COMP%]:before{vertical-align:0}.dropdown-divider[_ngcontent-%COMP%]{height:0;margin:.5rem 0;overflow:hidden;border-top:1px solid rgba(0,0,0,.15)}.dropdown-item[_ngcontent-%COMP%]{display:block;width:100%;padding:.25rem 1rem;clear:both;font-weight:400;color:#212529;text-align:inherit;text-decoration:none;white-space:nowrap;background-color:transparent;border:0}.dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-item[_ngcontent-%COMP%]:focus{color:#1e2125;background-color:#e9ecef}.dropdown-item.active[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:active{color:#fff;text-decoration:none;background-color:#0d6efd}.dropdown-item.disabled[_ngcontent-%COMP%], .dropdown-item[_ngcontent-%COMP%]:disabled{color:#adb5bd;pointer-events:none;background-color:transparent}.dropdown-menu.show[_ngcontent-%COMP%]{display:block}.dropdown-header[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;margin-bottom:0;font-size:.875rem;color:#6c757d;white-space:nowrap}.dropdown-item-text[_ngcontent-%COMP%]{display:block;padding:.25rem 1rem;color:#212529}.dropdown-menu-dark[_ngcontent-%COMP%]{color:#dee2e6;background-color:#343a40;border-color:#00000026}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]{color:#dee2e6}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:hover, .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:focus{color:#fff;background-color:#ffffff26}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.active[_ngcontent-%COMP%], .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:active{color:#fff;background-color:#0d6efd}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item.disabled[_ngcontent-%COMP%], .dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item[_ngcontent-%COMP%]:disabled{color:#adb5bd}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-divider[_ngcontent-%COMP%]{border-color:#00000026}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-item-text[_ngcontent-%COMP%]{color:#dee2e6}.dropdown-menu-dark[_ngcontent-%COMP%]   .dropdown-header[_ngcontent-%COMP%]{color:#adb5bd}.btn-group[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%]{position:relative;display:inline-flex;vertical-align:middle}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]{position:relative;flex:1 1 auto}.btn-group[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:hover, .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:focus, .btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:active, .btn-group[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:checked + .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-check[_ngcontent-%COMP%]:focus + .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:hover, .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:focus, .btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:active, .btn-group-vertical[_ngcontent-%COMP%] > .btn.active[_ngcontent-%COMP%]{z-index:1}.btn-toolbar[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;justify-content:flex-start}.btn-toolbar[_ngcontent-%COMP%]   .input-group[_ngcontent-%COMP%]{width:auto}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:first-child), .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child){margin-left:-1px}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle), .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%]{border-top-right-radius:0;border-bottom-right-radius:0}.btn-group[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:nth-child(n+3), .btn-group[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(.btn-check) + .btn[_ngcontent-%COMP%], .btn-group[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-bottom-left-radius:0}.dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.5625rem;padding-left:.5625rem}.dropdown-toggle-split[_ngcontent-%COMP%]:after, .dropup[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:after, .dropend[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:after{margin-left:0}.dropstart[_ngcontent-%COMP%]   .dropdown-toggle-split[_ngcontent-%COMP%]:before{margin-right:0}.btn-sm[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%], .btn-group-sm[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.375rem;padding-left:.375rem}.btn-lg[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%], .btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] + .dropdown-toggle-split[_ngcontent-%COMP%]{padding-right:.75rem;padding-left:.75rem}.btn-group-vertical[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;justify-content:center}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]{width:100%}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:first-child), .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child){margin-top:-1px}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%]:not(:last-child):not(.dropdown-toggle), .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:last-child) > .btn[_ngcontent-%COMP%]{border-bottom-right-radius:0;border-bottom-left-radius:0}.btn-group-vertical[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%] ~ .btn[_ngcontent-%COMP%], .btn-group-vertical[_ngcontent-%COMP%] > .btn-group[_ngcontent-%COMP%]:not(:first-child) > .btn[_ngcontent-%COMP%]{border-top-left-radius:0;border-top-right-radius:0}.nav[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding-left:0;margin-bottom:0;list-style:none}.nav-link[_ngcontent-%COMP%]{display:block;padding:.5rem 1rem;color:#0d6efd;text-decoration:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out}@media (prefers-reduced-motion: reduce){.nav-link[_ngcontent-%COMP%]{transition:none}}.nav-link[_ngcontent-%COMP%]:hover, .nav-link[_ngcontent-%COMP%]:focus{color:#0a58ca}.nav-link.disabled[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;cursor:default}.nav-tabs[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin-bottom:-1px;background:none;border:1px solid transparent;border-top-left-radius:.25rem;border-top-right-radius:.25rem}.nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{border-color:#e9ecef #e9ecef #dee2e6;isolation:isolate}.nav-tabs[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#6c757d;background-color:transparent;border-color:transparent}.nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-tabs[_ngcontent-%COMP%]   .nav-item.show[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#495057;background-color:#fff;border-color:#dee2e6 #dee2e6 #fff}.nav-tabs[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{margin-top:-1px;border-top-left-radius:0;border-top-right-radius:0}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{background:none;border:0;border-radius:.25rem}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%], .nav-pills[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%]{color:#fff;background-color:#0d6efd}.nav-fill[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex:1 1 auto;text-align:center}.nav-justified[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .nav-justified[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{flex-basis:0;flex-grow:1;text-align:center}.nav-fill[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .nav-justified[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{width:100%}.tab-content[_ngcontent-%COMP%] > .tab-pane[_ngcontent-%COMP%]{display:none}.tab-content[_ngcontent-%COMP%] > .active[_ngcontent-%COMP%]{display:block}.navbar[_ngcontent-%COMP%]{position:relative;display:flex;flex-wrap:wrap;align-items:center;justify-content:space-between;padding-top:.5rem;padding-bottom:.5rem}.navbar[_ngcontent-%COMP%] > .container[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-fluid[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-sm[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-md[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-lg[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xl[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%] > .container-xxl[_ngcontent-%COMP%]{display:flex;flex-wrap:inherit;align-items:center;justify-content:space-between}.navbar-brand[_ngcontent-%COMP%]{padding-top:.3125rem;padding-bottom:.3125rem;margin-right:1rem;font-size:1.25rem;text-decoration:none;white-space:nowrap}.navbar-nav[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;list-style:none}.navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:0;padding-left:0}.navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:static}.navbar-text[_ngcontent-%COMP%]{padding-top:.5rem;padding-bottom:.5rem}.navbar-collapse[_ngcontent-%COMP%]{flex-basis:100%;flex-grow:1;align-items:center}.navbar-toggler[_ngcontent-%COMP%]{padding:.25rem .75rem;font-size:1.25rem;line-height:1;background-color:transparent;border:1px solid transparent;border-radius:.25rem;transition:box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.navbar-toggler[_ngcontent-%COMP%]{transition:none}}.navbar-toggler[_ngcontent-%COMP%]:hover{text-decoration:none}.navbar-toggler[_ngcontent-%COMP%]:focus{text-decoration:none;outline:0;box-shadow:0 0 0 .25rem}.navbar-toggler-icon[_ngcontent-%COMP%]{display:inline-block;width:1.5em;height:1.5em;vertical-align:middle;background-repeat:no-repeat;background-position:center;background-size:100%}.navbar-nav-scroll[_ngcontent-%COMP%]{max-height:var(--bs-scroll-height, 75vh);overflow-y:auto}@media (min-width: 576px){.navbar-expand-sm[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-sm[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-sm[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 768px){.navbar-expand-md[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-md[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-md[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 992px){.navbar-expand-lg[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-lg[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-lg[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 1200px){.navbar-expand-xl[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-xl[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-xl[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}@media (min-width: 1400px){.navbar-expand-xxl[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand-xxl[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand-xxl[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}}.navbar-expand[_ngcontent-%COMP%]{flex-wrap:nowrap;justify-content:flex-start}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]{flex-direction:row}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .dropdown-menu[_ngcontent-%COMP%]{position:absolute}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding-right:.5rem;padding-left:.5rem}.navbar-expand[_ngcontent-%COMP%]   .navbar-nav-scroll[_ngcontent-%COMP%]{overflow:visible}.navbar-expand[_ngcontent-%COMP%]   .navbar-collapse[_ngcontent-%COMP%]{display:flex!important;flex-basis:auto}.navbar-expand[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{display:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-header[_ngcontent-%COMP%]{display:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas[_ngcontent-%COMP%]{position:inherit;bottom:0;z-index:1000;flex-grow:1;visibility:visible!important;background-color:transparent;border-right:0;border-left:0;transition:none;transform:none}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-top[_ngcontent-%COMP%], .navbar-expand[_ngcontent-%COMP%]   .offcanvas-bottom[_ngcontent-%COMP%]{height:auto;border-top:0;border-bottom:0}.navbar-expand[_ngcontent-%COMP%]   .offcanvas-body[_ngcontent-%COMP%]{display:flex;flex-grow:0;padding:0;overflow-y:visible}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#0000008c}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#000000b3}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#0000004d}.navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#000000e6}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{color:#0000008c;border-color:#0000001a}.navbar-light[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%280, 0, 0, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#0000008c}.navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-light[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#000000e6}.navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]:focus{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#ffffff8c}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:focus{color:#ffffffbf}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.disabled[_ngcontent-%COMP%]{color:#ffffff40}.navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%] > .nav-link[_ngcontent-%COMP%], .navbar-dark[_ngcontent-%COMP%]   .navbar-nav[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#fff}.navbar-dark[_ngcontent-%COMP%]   .navbar-toggler[_ngcontent-%COMP%]{color:#ffffff8c;border-color:#ffffff1a}.navbar-dark[_ngcontent-%COMP%]   .navbar-toggler-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 30 30'%3e%3cpath stroke='rgba%28255, 255, 255, 0.55%29' stroke-linecap='round' stroke-miterlimit='10' stroke-width='2' d='M4 7h22M4 15h22M4 23h22'/%3e%3c/svg%3e\")}.navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]{color:#ffffff8c}.navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%], .navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .navbar-dark[_ngcontent-%COMP%]   .navbar-text[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:focus{color:#fff}.card[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;min-width:0;word-wrap:break-word;background-color:#fff;background-clip:border-box;border:1px solid rgba(0,0,0,.125);border-radius:.25rem}.card[_ngcontent-%COMP%] > hr[_ngcontent-%COMP%]{margin-right:0;margin-left:0}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]{border-top:inherit;border-bottom:inherit}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:first-child{border-top-width:0;border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%]:last-child{border-bottom-width:0;border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card[_ngcontent-%COMP%] > .card-header[_ngcontent-%COMP%] + .list-group[_ngcontent-%COMP%], .card[_ngcontent-%COMP%] > .list-group[_ngcontent-%COMP%] + .card-footer[_ngcontent-%COMP%]{border-top:0}.card-body[_ngcontent-%COMP%]{flex:1 1 auto;padding:1rem}.card-title[_ngcontent-%COMP%]{margin-bottom:.5rem}.card-subtitle[_ngcontent-%COMP%]{margin-top:-.25rem;margin-bottom:0}.card-text[_ngcontent-%COMP%]:last-child{margin-bottom:0}.card-link[_ngcontent-%COMP%] + .card-link[_ngcontent-%COMP%]{margin-left:1rem}.card-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;background-color:#00000008;border-bottom:1px solid rgba(0,0,0,.125)}.card-header[_ngcontent-%COMP%]:first-child{border-radius:calc(.25rem - 1px) calc(.25rem - 1px) 0 0}.card-footer[_ngcontent-%COMP%]{padding:.5rem 1rem;background-color:#00000008;border-top:1px solid rgba(0,0,0,.125)}.card-footer[_ngcontent-%COMP%]:last-child{border-radius:0 0 calc(.25rem - 1px) calc(.25rem - 1px)}.card-header-tabs[_ngcontent-%COMP%]{margin-right:-.5rem;margin-bottom:-.5rem;margin-left:-.5rem;border-bottom:0}.card-header-pills[_ngcontent-%COMP%]{margin-right:-.5rem;margin-left:-.5rem}.card-img-overlay[_ngcontent-%COMP%]{position:absolute;top:0;right:0;bottom:0;left:0;padding:1rem;border-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{width:100%}.card-img[_ngcontent-%COMP%], .card-img-top[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.card-img[_ngcontent-%COMP%], .card-img-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 576px){.card-group[_ngcontent-%COMP%]{display:flex;flex-flow:row wrap}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]{flex:1 0 0%;margin-bottom:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%] + .card[_ngcontent-%COMP%]{margin-left:0;border-left:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child){border-top-right-radius:0;border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-header[_ngcontent-%COMP%]{border-top-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:last-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-right-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child){border-top-left-radius:0;border-bottom-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-top[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-header[_ngcontent-%COMP%]{border-top-left-radius:0}.card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-img-bottom[_ngcontent-%COMP%], .card-group[_ngcontent-%COMP%] > .card[_ngcontent-%COMP%]:not(:first-child)   .card-footer[_ngcontent-%COMP%]{border-bottom-left-radius:0}}.accordion-button[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center;width:100%;padding:1rem 1.25rem;font-size:1rem;color:#212529;text-align:left;background-color:#fff;border:0;border-radius:0;overflow-anchor:none;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out,border-radius .15s ease}@media (prefers-reduced-motion: reduce){.accordion-button[_ngcontent-%COMP%]{transition:none}}.accordion-button[_ngcontent-%COMP%]:not(.collapsed){color:#0c63e4;background-color:#e7f1ff;box-shadow:inset 0 -1px #00000020}.accordion-button[_ngcontent-%COMP%]:not(.collapsed):after{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%230c63e4'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");transform:rotate(-180deg)}.accordion-button[_ngcontent-%COMP%]:after{flex-shrink:0;width:1.25rem;height:1.25rem;margin-left:auto;content:\"\";background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23212529'%3e%3cpath fill-rule='evenodd' d='M1.646 4.646a.5.5 0 0 1 .708 0L8 10.293l5.646-5.647a.5.5 0 0 1 .708.708l-6 6a.5.5 0 0 1-.708 0l-6-6a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\");background-repeat:no-repeat;background-size:1.25rem;transition:transform .2s ease-in-out}@media (prefers-reduced-motion: reduce){.accordion-button[_ngcontent-%COMP%]:after{transition:none}}.accordion-button[_ngcontent-%COMP%]:hover{z-index:2}.accordion-button[_ngcontent-%COMP%]:focus{z-index:3;border-color:#86b7fe;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.accordion-header[_ngcontent-%COMP%]{margin-bottom:0}.accordion-item[_ngcontent-%COMP%]{background-color:#fff;border:1px solid rgba(0,0,0,.125)}.accordion-item[_ngcontent-%COMP%]:first-of-type{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.accordion-item[_ngcontent-%COMP%]:first-of-type   .accordion-button[_ngcontent-%COMP%]{border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.accordion-item[_ngcontent-%COMP%]:not(:first-of-type){border-top:0}.accordion-item[_ngcontent-%COMP%]:last-of-type{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-item[_ngcontent-%COMP%]:last-of-type   .accordion-button.collapsed[_ngcontent-%COMP%]{border-bottom-right-radius:calc(.25rem - 1px);border-bottom-left-radius:calc(.25rem - 1px)}.accordion-item[_ngcontent-%COMP%]:last-of-type   .accordion-collapse[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}.accordion-body[_ngcontent-%COMP%]{padding:1rem 1.25rem}.accordion-flush[_ngcontent-%COMP%]   .accordion-collapse[_ngcontent-%COMP%]{border-width:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]{border-right:0;border-left:0;border-radius:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:first-child{border-top:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]:last-child{border-bottom:0}.accordion-flush[_ngcontent-%COMP%]   .accordion-item[_ngcontent-%COMP%]   .accordion-button[_ngcontent-%COMP%]{border-radius:0}.breadcrumb[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;padding:0;margin-bottom:1rem;list-style:none}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]{padding-left:.5rem}.breadcrumb-item[_ngcontent-%COMP%] + .breadcrumb-item[_ngcontent-%COMP%]:before{float:left;padding-right:.5rem;color:#6c757d;content:var(--bs-breadcrumb-divider, \"/\")}.breadcrumb-item.active[_ngcontent-%COMP%]{color:#6c757d}.pagination[_ngcontent-%COMP%]{display:flex;padding-left:0;list-style:none}.page-link[_ngcontent-%COMP%]{position:relative;display:block;color:#0d6efd;text-decoration:none;background-color:#fff;border:1px solid #dee2e6;transition:color .15s ease-in-out,background-color .15s ease-in-out,border-color .15s ease-in-out,box-shadow .15s ease-in-out}@media (prefers-reduced-motion: reduce){.page-link[_ngcontent-%COMP%]{transition:none}}.page-link[_ngcontent-%COMP%]:hover{z-index:2;color:#0a58ca;background-color:#e9ecef;border-color:#dee2e6}.page-link[_ngcontent-%COMP%]:focus{z-index:3;color:#0a58ca;background-color:#e9ecef;outline:0;box-shadow:0 0 0 .25rem #0d6efd40}.page-item[_ngcontent-%COMP%]:not(:first-child)   .page-link[_ngcontent-%COMP%]{margin-left:-1px}.page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{z-index:3;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;pointer-events:none;background-color:#fff;border-color:#dee2e6}.page-link[_ngcontent-%COMP%]{padding:.375rem .75rem}.page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-bottom-left-radius:.25rem}.page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.pagination-lg[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1.25rem}.pagination-lg[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.3rem;border-bottom-left-radius:.3rem}.pagination-lg[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.3rem;border-bottom-right-radius:.3rem}.pagination-sm[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem}.pagination-sm[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:first-child   .page-link[_ngcontent-%COMP%]{border-top-left-radius:.2rem;border-bottom-left-radius:.2rem}.pagination-sm[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]:last-child   .page-link[_ngcontent-%COMP%]{border-top-right-radius:.2rem;border-bottom-right-radius:.2rem}.badge[_ngcontent-%COMP%]{display:inline-block;padding:.35em .65em;font-size:.75em;font-weight:700;line-height:1;color:#fff;text-align:center;white-space:nowrap;vertical-align:baseline;border-radius:.25rem}.badge[_ngcontent-%COMP%]:empty{display:none}.btn[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{position:relative;top:-1px}.alert[_ngcontent-%COMP%]{position:relative;padding:1rem;margin-bottom:1rem;border:1px solid transparent;border-radius:.25rem}.alert-heading[_ngcontent-%COMP%]{color:inherit}.alert-link[_ngcontent-%COMP%]{font-weight:700}.alert-dismissible[_ngcontent-%COMP%]{padding-right:3rem}.alert-dismissible[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{position:absolute;top:0;right:0;z-index:2;padding:1.25rem 1rem}.alert-primary[_ngcontent-%COMP%]{color:#084298;background-color:#cfe2ff;border-color:#b6d4fe}.alert-primary[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#06357a}.alert-secondary[_ngcontent-%COMP%]{color:#41464b;background-color:#e2e3e5;border-color:#d3d6d8}.alert-secondary[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#34383c}.alert-success[_ngcontent-%COMP%]{color:#0f5132;background-color:#d1e7dd;border-color:#badbcc}.alert-success[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#0c4128}.alert-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc;border-color:#b6effb}.alert-info[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#04414d}.alert-warning[_ngcontent-%COMP%]{color:#664d03;background-color:#fff3cd;border-color:#ffecb5}.alert-warning[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#523e02}.alert-danger[_ngcontent-%COMP%]{color:#842029;background-color:#f8d7da;border-color:#f5c2c7}.alert-danger[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#6a1a21}.alert-light[_ngcontent-%COMP%]{color:#636464;background-color:#fefefe;border-color:#fdfdfe}.alert-light[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#4f5050}.alert-dark[_ngcontent-%COMP%]{color:#141619;background-color:#d3d3d4;border-color:#bcbebf}.alert-dark[_ngcontent-%COMP%]   .alert-link[_ngcontent-%COMP%]{color:#101214}@keyframes progress-bar-stripes{0%{background-position-x:1rem}}.progress[_ngcontent-%COMP%]{display:flex;height:1rem;overflow:hidden;font-size:.75rem;background-color:#e9ecef;border-radius:.25rem}.progress-bar[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;overflow:hidden;color:#fff;text-align:center;white-space:nowrap;background-color:#0d6efd;transition:width .6s ease}@media (prefers-reduced-motion: reduce){.progress-bar[_ngcontent-%COMP%]{transition:none}}.progress-bar-striped[_ngcontent-%COMP%]{background-image:linear-gradient(45deg,rgba(255,255,255,.15) 25%,transparent 25%,transparent 50%,rgba(255,255,255,.15) 50%,rgba(255,255,255,.15) 75%,transparent 75%,transparent);background-size:1rem 1rem}.progress-bar-animated[_ngcontent-%COMP%]{animation:1s linear infinite progress-bar-stripes}@media (prefers-reduced-motion: reduce){.progress-bar-animated[_ngcontent-%COMP%]{animation:none}}.list-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding-left:0;margin-bottom:0;border-radius:.25rem}.list-group-numbered[_ngcontent-%COMP%]{list-style-type:none;counter-reset:section}.list-group-numbered[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]:before{content:counters(section,\".\") \". \";counter-increment:section}.list-group-item-action[_ngcontent-%COMP%]{width:100%;color:#495057;text-align:inherit}.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-action[_ngcontent-%COMP%]:focus{z-index:1;color:#495057;text-decoration:none;background-color:#f8f9fa}.list-group-item-action[_ngcontent-%COMP%]:active{color:#212529;background-color:#e9ecef}.list-group-item[_ngcontent-%COMP%]{position:relative;display:block;padding:.5rem 1rem;color:#212529;text-decoration:none;background-color:#fff;border:1px solid rgba(0,0,0,.125)}.list-group-item[_ngcontent-%COMP%]:first-child{border-top-left-radius:inherit;border-top-right-radius:inherit}.list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-right-radius:inherit;border-bottom-left-radius:inherit}.list-group-item.disabled[_ngcontent-%COMP%], .list-group-item[_ngcontent-%COMP%]:disabled{color:#6c757d;pointer-events:none;background-color:#fff}.list-group-item.active[_ngcontent-%COMP%]{z-index:2;color:#fff;background-color:#0d6efd;border-color:#0d6efd}.list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:0}.list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-top:-1px;border-top-width:1px}.list-group-horizontal[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}@media (min-width: 576px){.list-group-horizontal-sm[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-sm[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 768px){.list-group-horizontal-md[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-md[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 992px){.list-group-horizontal-lg[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-lg[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 1200px){.list-group-horizontal-xl[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-xl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}@media (min-width: 1400px){.list-group-horizontal-xxl[_ngcontent-%COMP%]{flex-direction:row}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:first-child{border-bottom-left-radius:.25rem;border-top-right-radius:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-top-right-radius:.25rem;border-bottom-left-radius:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item.active[_ngcontent-%COMP%]{margin-top:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item[_ngcontent-%COMP%]{border-top-width:1px;border-left-width:0}.list-group-horizontal-xxl[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%] + .list-group-item.active[_ngcontent-%COMP%]{margin-left:-1px;border-left-width:1px}}.list-group-flush[_ngcontent-%COMP%]{border-radius:0}.list-group-flush[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]{border-width:0 0 1px}.list-group-flush[_ngcontent-%COMP%] > .list-group-item[_ngcontent-%COMP%]:last-child{border-bottom-width:0}.list-group-item-primary[_ngcontent-%COMP%]{color:#084298;background-color:#cfe2ff}.list-group-item-primary.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-primary.list-group-item-action[_ngcontent-%COMP%]:focus{color:#084298;background-color:#bacbe6}.list-group-item-primary.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#084298;border-color:#084298}.list-group-item-secondary[_ngcontent-%COMP%]{color:#41464b;background-color:#e2e3e5}.list-group-item-secondary.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-secondary.list-group-item-action[_ngcontent-%COMP%]:focus{color:#41464b;background-color:#cbccce}.list-group-item-secondary.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#41464b;border-color:#41464b}.list-group-item-success[_ngcontent-%COMP%]{color:#0f5132;background-color:#d1e7dd}.list-group-item-success.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-success.list-group-item-action[_ngcontent-%COMP%]:focus{color:#0f5132;background-color:#bcd0c7}.list-group-item-success.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#0f5132;border-color:#0f5132}.list-group-item-info[_ngcontent-%COMP%]{color:#055160;background-color:#cff4fc}.list-group-item-info.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-info.list-group-item-action[_ngcontent-%COMP%]:focus{color:#055160;background-color:#badce3}.list-group-item-info.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#055160;border-color:#055160}.list-group-item-warning[_ngcontent-%COMP%]{color:#664d03;background-color:#fff3cd}.list-group-item-warning.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-warning.list-group-item-action[_ngcontent-%COMP%]:focus{color:#664d03;background-color:#e6dbb9}.list-group-item-warning.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#664d03;border-color:#664d03}.list-group-item-danger[_ngcontent-%COMP%]{color:#842029;background-color:#f8d7da}.list-group-item-danger.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-danger.list-group-item-action[_ngcontent-%COMP%]:focus{color:#842029;background-color:#dfc2c4}.list-group-item-danger.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#842029;border-color:#842029}.list-group-item-light[_ngcontent-%COMP%]{color:#636464;background-color:#fefefe}.list-group-item-light.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-light.list-group-item-action[_ngcontent-%COMP%]:focus{color:#636464;background-color:#e5e5e5}.list-group-item-light.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#636464;border-color:#636464}.list-group-item-dark[_ngcontent-%COMP%]{color:#141619;background-color:#d3d3d4}.list-group-item-dark.list-group-item-action[_ngcontent-%COMP%]:hover, .list-group-item-dark.list-group-item-action[_ngcontent-%COMP%]:focus{color:#141619;background-color:#bebebf}.list-group-item-dark.list-group-item-action.active[_ngcontent-%COMP%]{color:#fff;background-color:#141619;border-color:#141619}.btn-close[_ngcontent-%COMP%]{box-sizing:content-box;width:1em;height:1em;padding:.25em;color:#000;background:transparent url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23000'%3e%3cpath d='M.293.293a1 1 0 011.414 0L8 6.586 14.293.293a1 1 0 111.414 1.414L9.414 8l6.293 6.293a1 1 0 01-1.414 1.414L8 9.414l-6.293 6.293a1 1 0 01-1.414-1.414L6.586 8 .293 1.707a1 1 0 010-1.414z'/%3e%3c/svg%3e\") center/1em auto no-repeat;border:0;border-radius:.25rem;opacity:.5}.btn-close[_ngcontent-%COMP%]:hover{color:#000;text-decoration:none;opacity:.75}.btn-close[_ngcontent-%COMP%]:focus{outline:0;box-shadow:0 0 0 .25rem #0d6efd40;opacity:1}.btn-close[_ngcontent-%COMP%]:disabled, .btn-close.disabled[_ngcontent-%COMP%]{pointer-events:none;-webkit-user-select:none;user-select:none;opacity:.25}.btn-close-white[_ngcontent-%COMP%]{filter:invert(1) grayscale(100%) brightness(200%)}.toast[_ngcontent-%COMP%]{width:350px;max-width:100%;font-size:.875rem;pointer-events:auto;background-color:#ffffffd9;background-clip:padding-box;border:1px solid rgba(0,0,0,.1);box-shadow:0 .5rem 1rem #00000026;border-radius:.25rem}.toast.showing[_ngcontent-%COMP%]{opacity:0}.toast[_ngcontent-%COMP%]:not(.show){display:none}.toast-container[_ngcontent-%COMP%]{width:-webkit-max-content;width:max-content;max-width:100%;pointer-events:none}.toast-container[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:not(:last-child){margin-bottom:.75rem}.toast-header[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.5rem .75rem;color:#6c757d;background-color:#ffffffd9;background-clip:padding-box;border-bottom:1px solid rgba(0,0,0,.05);border-top-left-radius:calc(.25rem - 1px);border-top-right-radius:calc(.25rem - 1px)}.toast-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{margin-right:-.375rem;margin-left:.75rem}.toast-body[_ngcontent-%COMP%]{padding:.75rem;word-wrap:break-word}.modal[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1055;display:none;width:100%;height:100%;overflow-x:hidden;overflow-y:auto;outline:0}.modal-dialog[_ngcontent-%COMP%]{position:relative;width:auto;margin:.5rem;pointer-events:none}.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:transform .3s ease-out;transform:translateY(-50px)}@media (prefers-reduced-motion: reduce){.modal.fade[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transition:none}}.modal.show[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:none}.modal.modal-static[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{transform:scale(1.02)}.modal-dialog-scrollable[_ngcontent-%COMP%]{height:calc(100% - 1rem)}.modal-dialog-scrollable[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{max-height:100%;overflow:hidden}.modal-dialog-scrollable[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-dialog-centered[_ngcontent-%COMP%]{display:flex;align-items:center;min-height:calc(100% - 1rem)}.modal-content[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;width:100%;pointer-events:auto;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem;outline:0}.modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1050;width:100vw;height:100vh;background-color:#000}.modal-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.modal-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.modal-header[_ngcontent-%COMP%]{display:flex;flex-shrink:0;align-items:center;justify-content:space-between;padding:1rem;border-bottom:1px solid #dee2e6;border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:.5rem;margin:-.5rem -.5rem -.5rem auto}.modal-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5}.modal-body[_ngcontent-%COMP%]{position:relative;flex:1 1 auto;padding:1rem}.modal-footer[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;flex-shrink:0;align-items:center;justify-content:flex-end;padding:.75rem;border-top:1px solid #dee2e6;border-bottom-right-radius:calc(.3rem - 1px);border-bottom-left-radius:calc(.3rem - 1px)}.modal-footer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{margin:.25rem}@media (min-width: 576px){.modal-dialog[_ngcontent-%COMP%]{max-width:500px;margin:1.75rem auto}.modal-dialog-scrollable[_ngcontent-%COMP%]{height:calc(100% - 3.5rem)}.modal-dialog-centered[_ngcontent-%COMP%]{min-height:calc(100% - 3.5rem)}.modal-sm[_ngcontent-%COMP%]{max-width:300px}}@media (min-width: 992px){.modal-lg[_ngcontent-%COMP%], .modal-xl[_ngcontent-%COMP%]{max-width:800px}}@media (min-width: 1200px){.modal-xl[_ngcontent-%COMP%]{max-width:1140px}}.modal-fullscreen[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}@media (max-width: 575.98px){.modal-fullscreen-sm-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-sm-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 767.98px){.modal-fullscreen-md-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-md-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 991.98px){.modal-fullscreen-lg-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-lg-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 1199.98px){.modal-fullscreen-xl-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-xl-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}@media (max-width: 1399.98px){.modal-fullscreen-xxl-down[_ngcontent-%COMP%]{width:100vw;max-width:none;height:100%;margin:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:100%;border:0;border-radius:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:0}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{overflow-y:auto}.modal-fullscreen-xxl-down[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-radius:0}}.tooltip[_ngcontent-%COMP%]{position:absolute;z-index:1080;display:block;margin:0;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;opacity:0}.tooltip.show[_ngcontent-%COMP%]{opacity:.9}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{position:absolute;display:block;width:.8rem;height:.4rem}.tooltip[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{position:absolute;content:\"\";border-color:transparent;border-style:solid}.bs-tooltip-top[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]{padding:.4rem 0}.bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{bottom:0}.bs-tooltip-top[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=top][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{top:-1px;border-width:.4rem .4rem 0;border-top-color:#000}.bs-tooltip-end[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]{padding:0 .4rem}.bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{left:0;width:.4rem;height:.8rem}.bs-tooltip-end[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=right][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{right:-1px;border-width:.4rem .4rem .4rem 0;border-right-color:#000}.bs-tooltip-bottom[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]{padding:.4rem 0}.bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{top:0}.bs-tooltip-bottom[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{bottom:-1px;border-width:0 .4rem .4rem;border-bottom-color:#000}.bs-tooltip-start[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]{padding:0 .4rem}.bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%], .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]{right:0;width:.4rem;height:.8rem}.bs-tooltip-start[_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before, .bs-tooltip-auto[data-popper-placement^=left][_ngcontent-%COMP%]   .tooltip-arrow[_ngcontent-%COMP%]:before{left:-1px;border-width:.4rem 0 .4rem .4rem;border-left-color:#000}.tooltip-inner[_ngcontent-%COMP%]{max-width:200px;padding:.25rem .5rem;color:#fff;text-align:center;background-color:#000;border-radius:.25rem}.popover[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:1070;display:block;max-width:276px;font-family:var(--bs-font-sans-serif);font-style:normal;font-weight:400;line-height:1.5;text-align:left;text-align:start;text-decoration:none;text-shadow:none;text-transform:none;letter-spacing:normal;word-break:normal;word-spacing:normal;white-space:normal;line-break:auto;font-size:.875rem;word-wrap:break-word;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.2);border-radius:.3rem}.popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]{position:absolute;display:block;width:1rem;height:.5rem}.popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]:before, .popover[_ngcontent-%COMP%]   .popover-arrow[_ngcontent-%COMP%]:after{position:absolute;display:block;content:\"\";border-color:transparent;border-style:solid}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{bottom:calc(-.5rem - 1px)}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{bottom:0;border-width:.5rem .5rem 0;border-top-color:#00000040}.bs-popover-top[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=top][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{bottom:1px;border-width:.5rem .5rem 0;border-top-color:#fff}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{left:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{left:0;border-width:.5rem .5rem .5rem 0;border-right-color:#00000040}.bs-popover-end[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=right][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{left:1px;border-width:.5rem .5rem .5rem 0;border-right-color:#fff}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{top:calc(-.5rem - 1px)}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{top:0;border-width:0 .5rem .5rem .5rem;border-bottom-color:#00000040}.bs-popover-bottom[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{top:1px;border-width:0 .5rem .5rem .5rem;border-bottom-color:#fff}.bs-popover-bottom[_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=bottom][_ngcontent-%COMP%]   .popover-header[_ngcontent-%COMP%]:before{position:absolute;top:0;left:50%;display:block;width:1rem;margin-left:-.5rem;content:\"\";border-bottom:1px solid #f0f0f0}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%], .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]{right:calc(-.5rem - 1px);width:.5rem;height:1rem}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before, .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:before{right:0;border-width:.5rem 0 .5rem .5rem;border-left-color:#00000040}.bs-popover-start[_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after, .bs-popover-auto[data-popper-placement^=left][_ngcontent-%COMP%] > .popover-arrow[_ngcontent-%COMP%]:after{right:1px;border-width:.5rem 0 .5rem .5rem;border-left-color:#fff}.popover-header[_ngcontent-%COMP%]{padding:.5rem 1rem;margin-bottom:0;font-size:1rem;background-color:#f0f0f0;border-bottom:1px solid rgba(0,0,0,.2);border-top-left-radius:calc(.3rem - 1px);border-top-right-radius:calc(.3rem - 1px)}.popover-header[_ngcontent-%COMP%]:empty{display:none}.popover-body[_ngcontent-%COMP%]{padding:1rem;color:#212529}.carousel[_ngcontent-%COMP%]{position:relative}.carousel.pointer-event[_ngcontent-%COMP%]{touch-action:pan-y}.carousel-inner[_ngcontent-%COMP%]{position:relative;width:100%;overflow:hidden}.carousel-inner[_ngcontent-%COMP%]:after{display:block;clear:both;content:\"\"}.carousel-item[_ngcontent-%COMP%]{position:relative;display:none;float:left;width:100%;margin-right:-100%;-webkit-backface-visibility:hidden;backface-visibility:hidden;transition:transform .6s ease-in-out}@media (prefers-reduced-motion: reduce){.carousel-item[_ngcontent-%COMP%]{transition:none}}.carousel-item.active[_ngcontent-%COMP%], .carousel-item-next[_ngcontent-%COMP%], .carousel-item-prev[_ngcontent-%COMP%]{display:block}.carousel-item-next[_ngcontent-%COMP%]:not(.carousel-item-start), .active.carousel-item-end[_ngcontent-%COMP%]{transform:translate(100%)}.carousel-item-prev[_ngcontent-%COMP%]:not(.carousel-item-end), .active.carousel-item-start[_ngcontent-%COMP%]{transform:translate(-100%)}.carousel-fade[_ngcontent-%COMP%]   .carousel-item[_ngcontent-%COMP%]{opacity:0;transition-property:opacity;transform:none}.carousel-fade[_ngcontent-%COMP%]   .carousel-item.active[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .carousel-item-next.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .carousel-item-prev.carousel-item-end[_ngcontent-%COMP%]{z-index:1;opacity:1}.carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{z-index:0;opacity:0;transition:opacity 0s .6s}@media (prefers-reduced-motion: reduce){.carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-start[_ngcontent-%COMP%], .carousel-fade[_ngcontent-%COMP%]   .active.carousel-item-end[_ngcontent-%COMP%]{transition:none}}.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;z-index:1;display:flex;align-items:center;justify-content:center;width:15%;padding:0;color:#fff;text-align:center;background:none;border:0;opacity:.5;transition:opacity .15s ease}@media (prefers-reduced-motion: reduce){.carousel-control-prev[_ngcontent-%COMP%], .carousel-control-next[_ngcontent-%COMP%]{transition:none}}.carousel-control-prev[_ngcontent-%COMP%]:hover, .carousel-control-prev[_ngcontent-%COMP%]:focus, .carousel-control-next[_ngcontent-%COMP%]:hover, .carousel-control-next[_ngcontent-%COMP%]:focus{color:#fff;text-decoration:none;outline:0;opacity:.9}.carousel-control-prev[_ngcontent-%COMP%]{left:0}.carousel-control-next[_ngcontent-%COMP%]{right:0}.carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-control-next-icon[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;background-repeat:no-repeat;background-position:50%;background-size:100% 100%}.carousel-control-prev-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z'/%3e%3c/svg%3e\")}.carousel-control-next-icon[_ngcontent-%COMP%]{background-image:url(\"data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16' fill='%23fff'%3e%3cpath d='M4.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L10.293 8 4.646 2.354a.5.5 0 0 1 0-.708z'/%3e%3c/svg%3e\")}.carousel-indicators[_ngcontent-%COMP%]{position:absolute;right:0;bottom:0;left:0;z-index:2;display:flex;justify-content:center;padding:0;margin-right:15%;margin-bottom:1rem;margin-left:15%;list-style:none}.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{box-sizing:content-box;flex:0 1 auto;width:30px;height:3px;padding:0;margin-right:3px;margin-left:3px;text-indent:-999px;cursor:pointer;background-color:#fff;background-clip:padding-box;border:0;border-top:10px solid transparent;border-bottom:10px solid transparent;opacity:.5;transition:opacity .6s ease}@media (prefers-reduced-motion: reduce){.carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{transition:none}}.carousel-indicators[_ngcontent-%COMP%]   .active[_ngcontent-%COMP%]{opacity:1}.carousel-caption[_ngcontent-%COMP%]{position:absolute;right:15%;bottom:1.25rem;left:15%;padding-top:1.25rem;padding-bottom:1.25rem;color:#fff;text-align:center}.carousel-dark[_ngcontent-%COMP%]   .carousel-control-prev-icon[_ngcontent-%COMP%], .carousel-dark[_ngcontent-%COMP%]   .carousel-control-next-icon[_ngcontent-%COMP%]{filter:invert(1) grayscale(100)}.carousel-dark[_ngcontent-%COMP%]   .carousel-indicators[_ngcontent-%COMP%]   [data-bs-target][_ngcontent-%COMP%]{background-color:#000}.carousel-dark[_ngcontent-%COMP%]   .carousel-caption[_ngcontent-%COMP%]{color:#000}@keyframes spinner-border{to{transform:rotate(360deg)}}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:.75s linear infinite spinner-border}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem;border-width:.2em}@keyframes spinner-grow{0%{transform:scale(0)}50%{opacity:1;transform:none}}.spinner-grow[_ngcontent-%COMP%]{display:inline-block;width:2rem;height:2rem;vertical-align:-.125em;background-color:currentColor;border-radius:50%;opacity:0;animation:.75s linear infinite spinner-grow}.spinner-grow-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (prefers-reduced-motion: reduce){.spinner-border[_ngcontent-%COMP%], .spinner-grow[_ngcontent-%COMP%]{animation-duration:1.5s}}.offcanvas[_ngcontent-%COMP%]{position:fixed;bottom:0;z-index:1045;display:flex;flex-direction:column;max-width:100%;visibility:hidden;background-color:#fff;background-clip:padding-box;outline:0;transition:transform .3s ease-in-out}@media (prefers-reduced-motion: reduce){.offcanvas[_ngcontent-%COMP%]{transition:none}}.offcanvas-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;z-index:1040;width:100vw;height:100vh;background-color:#000}.offcanvas-backdrop.fade[_ngcontent-%COMP%]{opacity:0}.offcanvas-backdrop.show[_ngcontent-%COMP%]{opacity:.5}.offcanvas-header[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;padding:1rem}.offcanvas-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{padding:.5rem;margin-top:-.5rem;margin-right:-.5rem;margin-bottom:-.5rem}.offcanvas-title[_ngcontent-%COMP%]{margin-bottom:0;line-height:1.5}.offcanvas-body[_ngcontent-%COMP%]{flex-grow:1;padding:1rem;overflow-y:auto}.offcanvas-start[_ngcontent-%COMP%]{top:0;left:0;width:400px;border-right:1px solid rgba(0,0,0,.2);transform:translate(-100%)}.offcanvas-end[_ngcontent-%COMP%]{top:0;right:0;width:400px;border-left:1px solid rgba(0,0,0,.2);transform:translate(100%)}.offcanvas-top[_ngcontent-%COMP%]{top:0;right:0;left:0;height:30vh;max-height:100%;border-bottom:1px solid rgba(0,0,0,.2);transform:translateY(-100%)}.offcanvas-bottom[_ngcontent-%COMP%]{right:0;left:0;height:30vh;max-height:100%;border-top:1px solid rgba(0,0,0,.2);transform:translateY(100%)}.offcanvas.show[_ngcontent-%COMP%]{transform:none}.placeholder[_ngcontent-%COMP%]{display:inline-block;min-height:1em;vertical-align:middle;cursor:wait;background-color:currentColor;opacity:.5}.placeholder.btn[_ngcontent-%COMP%]:before{display:inline-block;content:\"\"}.placeholder-xs[_ngcontent-%COMP%]{min-height:.6em}.placeholder-sm[_ngcontent-%COMP%]{min-height:.8em}.placeholder-lg[_ngcontent-%COMP%]{min-height:1.2em}.placeholder-glow[_ngcontent-%COMP%]   .placeholder[_ngcontent-%COMP%]{animation:placeholder-glow 2s ease-in-out infinite}@keyframes placeholder-glow{50%{opacity:.2}}.placeholder-wave[_ngcontent-%COMP%]{-webkit-mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);mask-image:linear-gradient(130deg,#000 55%,rgba(0,0,0,.8) 75%,#000 95%);-webkit-mask-size:200% 100%;mask-size:200% 100%;animation:placeholder-wave 2s linear infinite}@keyframes placeholder-wave{to{-webkit-mask-position:-200% 0%;mask-position:-200% 0%}}.clearfix[_ngcontent-%COMP%]:after{display:block;clear:both;content:\"\"}.link-primary[_ngcontent-%COMP%]{color:#0d6efd}.link-primary[_ngcontent-%COMP%]:hover, .link-primary[_ngcontent-%COMP%]:focus{color:#0a58ca}.link-secondary[_ngcontent-%COMP%]{color:#6c757d}.link-secondary[_ngcontent-%COMP%]:hover, .link-secondary[_ngcontent-%COMP%]:focus{color:#565e64}.link-success[_ngcontent-%COMP%]{color:#198754}.link-success[_ngcontent-%COMP%]:hover, .link-success[_ngcontent-%COMP%]:focus{color:#146c43}.link-info[_ngcontent-%COMP%]{color:#0dcaf0}.link-info[_ngcontent-%COMP%]:hover, .link-info[_ngcontent-%COMP%]:focus{color:#3dd5f3}.link-warning[_ngcontent-%COMP%]{color:#ffc107}.link-warning[_ngcontent-%COMP%]:hover, .link-warning[_ngcontent-%COMP%]:focus{color:#ffcd39}.link-danger[_ngcontent-%COMP%]{color:#dc3545}.link-danger[_ngcontent-%COMP%]:hover, .link-danger[_ngcontent-%COMP%]:focus{color:#b02a37}.link-light[_ngcontent-%COMP%]{color:#f8f9fa}.link-light[_ngcontent-%COMP%]:hover, .link-light[_ngcontent-%COMP%]:focus{color:#f9fafb}.link-dark[_ngcontent-%COMP%]{color:#212529}.link-dark[_ngcontent-%COMP%]:hover, .link-dark[_ngcontent-%COMP%]:focus{color:#1a1e21}.ratio[_ngcontent-%COMP%]{position:relative;width:100%}.ratio[_ngcontent-%COMP%]:before{display:block;padding-top:var(--bs-aspect-ratio);content:\"\"}.ratio[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]{position:absolute;top:0;left:0;width:100%;height:100%}.ratio-1x1[_ngcontent-%COMP%]{--bs-aspect-ratio: 100%}.ratio-4x3[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(3 / 4 * 100%)}.ratio-16x9[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(9 / 16 * 100%)}.ratio-21x9[_ngcontent-%COMP%]{--bs-aspect-ratio: calc(9 / 21 * 100%)}.fixed-top[_ngcontent-%COMP%]{position:fixed;top:0;right:0;left:0;z-index:1030}.fixed-bottom[_ngcontent-%COMP%]{position:fixed;right:0;bottom:0;left:0;z-index:1030}.sticky-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}@media (min-width: 576px){.sticky-sm-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 768px){.sticky-md-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 992px){.sticky-lg-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 1200px){.sticky-xl-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}@media (min-width: 1400px){.sticky-xxl-top[_ngcontent-%COMP%]{position:sticky;top:0;z-index:1020}}.hstack[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-items:center;align-self:stretch}.vstack[_ngcontent-%COMP%]{display:flex;flex:1 1 auto;flex-direction:column;align-self:stretch}.visually-hidden[_ngcontent-%COMP%], .visually-hidden-focusable[_ngcontent-%COMP%]:not(:focus):not(:focus-within){position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.stretched-link[_ngcontent-%COMP%]:after{position:absolute;top:0;right:0;bottom:0;left:0;z-index:1;content:\"\"}.text-truncate[_ngcontent-%COMP%]{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.vr[_ngcontent-%COMP%]{display:inline-block;align-self:stretch;width:1px;min-height:1em;background-color:currentColor;opacity:.25}.align-baseline[_ngcontent-%COMP%]{vertical-align:baseline!important}.align-top[_ngcontent-%COMP%]{vertical-align:top!important}.align-middle[_ngcontent-%COMP%]{vertical-align:middle!important}.align-bottom[_ngcontent-%COMP%]{vertical-align:bottom!important}.align-text-bottom[_ngcontent-%COMP%]{vertical-align:text-bottom!important}.align-text-top[_ngcontent-%COMP%]{vertical-align:text-top!important}.float-start[_ngcontent-%COMP%]{float:left!important}.float-end[_ngcontent-%COMP%]{float:right!important}.float-none[_ngcontent-%COMP%]{float:none!important}.opacity-0[_ngcontent-%COMP%]{opacity:0!important}.opacity-25[_ngcontent-%COMP%]{opacity:.25!important}.opacity-50[_ngcontent-%COMP%]{opacity:.5!important}.opacity-75[_ngcontent-%COMP%]{opacity:.75!important}.opacity-100[_ngcontent-%COMP%]{opacity:1!important}.overflow-auto[_ngcontent-%COMP%]{overflow:auto!important}.overflow-hidden[_ngcontent-%COMP%]{overflow:hidden!important}.overflow-visible[_ngcontent-%COMP%]{overflow:visible!important}.overflow-scroll[_ngcontent-%COMP%]{overflow:scroll!important}.d-inline[_ngcontent-%COMP%]{display:inline!important}.d-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-block[_ngcontent-%COMP%]{display:block!important}.d-grid[_ngcontent-%COMP%]{display:grid!important}.d-table[_ngcontent-%COMP%]{display:table!important}.d-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-flex[_ngcontent-%COMP%]{display:flex!important}.d-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-none[_ngcontent-%COMP%]{display:none!important}.shadow[_ngcontent-%COMP%]{box-shadow:0 .5rem 1rem #00000026!important}.shadow-sm[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013!important}.shadow-lg[_ngcontent-%COMP%]{box-shadow:0 1rem 3rem #0000002d!important}.shadow-none[_ngcontent-%COMP%]{box-shadow:none!important}.position-static[_ngcontent-%COMP%]{position:static!important}.position-relative[_ngcontent-%COMP%]{position:relative!important}.position-absolute[_ngcontent-%COMP%]{position:absolute!important}.position-fixed[_ngcontent-%COMP%]{position:fixed!important}.position-sticky[_ngcontent-%COMP%]{position:sticky!important}.top-0[_ngcontent-%COMP%]{top:0!important}.top-50[_ngcontent-%COMP%]{top:50%!important}.top-100[_ngcontent-%COMP%]{top:100%!important}.bottom-0[_ngcontent-%COMP%]{bottom:0!important}.bottom-50[_ngcontent-%COMP%]{bottom:50%!important}.bottom-100[_ngcontent-%COMP%]{bottom:100%!important}.start-0[_ngcontent-%COMP%]{left:0!important}.start-50[_ngcontent-%COMP%]{left:50%!important}.start-100[_ngcontent-%COMP%]{left:100%!important}.end-0[_ngcontent-%COMP%]{right:0!important}.end-50[_ngcontent-%COMP%]{right:50%!important}.end-100[_ngcontent-%COMP%]{right:100%!important}.translate-middle[_ngcontent-%COMP%]{transform:translate(-50%,-50%)!important}.translate-middle-x[_ngcontent-%COMP%]{transform:translate(-50%)!important}.translate-middle-y[_ngcontent-%COMP%]{transform:translateY(-50%)!important}.border[_ngcontent-%COMP%]{border:1px solid #dee2e6!important}.border-0[_ngcontent-%COMP%]{border:0!important}.border-top[_ngcontent-%COMP%]{border-top:1px solid #dee2e6!important}.border-top-0[_ngcontent-%COMP%]{border-top:0!important}.border-end[_ngcontent-%COMP%]{border-right:1px solid #dee2e6!important}.border-end-0[_ngcontent-%COMP%]{border-right:0!important}.border-bottom[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6!important}.border-bottom-0[_ngcontent-%COMP%]{border-bottom:0!important}.border-start[_ngcontent-%COMP%]{border-left:1px solid #dee2e6!important}.border-start-0[_ngcontent-%COMP%]{border-left:0!important}.border-primary[_ngcontent-%COMP%]{border-color:#0d6efd!important}.border-secondary[_ngcontent-%COMP%]{border-color:#6c757d!important}.border-success[_ngcontent-%COMP%]{border-color:#198754!important}.border-info[_ngcontent-%COMP%]{border-color:#0dcaf0!important}.border-warning[_ngcontent-%COMP%]{border-color:#ffc107!important}.border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important}.border-light[_ngcontent-%COMP%]{border-color:#f8f9fa!important}.border-dark[_ngcontent-%COMP%]{border-color:#212529!important}.border-white[_ngcontent-%COMP%]{border-color:#fff!important}.border-1[_ngcontent-%COMP%]{border-width:1px!important}.border-2[_ngcontent-%COMP%]{border-width:2px!important}.border-3[_ngcontent-%COMP%]{border-width:3px!important}.border-4[_ngcontent-%COMP%]{border-width:4px!important}.border-5[_ngcontent-%COMP%]{border-width:5px!important}.w-25[_ngcontent-%COMP%]{width:25%!important}.w-50[_ngcontent-%COMP%]{width:50%!important}.w-75[_ngcontent-%COMP%]{width:75%!important}.w-100[_ngcontent-%COMP%]{width:100%!important}.w-auto[_ngcontent-%COMP%]{width:auto!important}.mw-100[_ngcontent-%COMP%]{max-width:100%!important}.vw-100[_ngcontent-%COMP%]{width:100vw!important}.min-vw-100[_ngcontent-%COMP%]{min-width:100vw!important}.h-25[_ngcontent-%COMP%]{height:25%!important}.h-50[_ngcontent-%COMP%]{height:50%!important}.h-75[_ngcontent-%COMP%]{height:75%!important}.h-100[_ngcontent-%COMP%]{height:100%!important}.h-auto[_ngcontent-%COMP%]{height:auto!important}.mh-100[_ngcontent-%COMP%]{max-height:100%!important}.vh-100[_ngcontent-%COMP%]{height:100vh!important}.min-vh-100[_ngcontent-%COMP%]{min-height:100vh!important}.flex-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-first[_ngcontent-%COMP%]{order:-1!important}.order-0[_ngcontent-%COMP%]{order:0!important}.order-1[_ngcontent-%COMP%]{order:1!important}.order-2[_ngcontent-%COMP%]{order:2!important}.order-3[_ngcontent-%COMP%]{order:3!important}.order-4[_ngcontent-%COMP%]{order:4!important}.order-5[_ngcontent-%COMP%]{order:5!important}.order-last[_ngcontent-%COMP%]{order:6!important}.m-0[_ngcontent-%COMP%]{margin:0!important}.m-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-3[_ngcontent-%COMP%]{margin:1rem!important}.m-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-5[_ngcontent-%COMP%]{margin:3rem!important}.m-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-0[_ngcontent-%COMP%]{margin-right:0!important}.me-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-0[_ngcontent-%COMP%]{padding:0!important}.p-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-3[_ngcontent-%COMP%]{padding:1rem!important}.p-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-5[_ngcontent-%COMP%]{padding:3rem!important}.px-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-5[_ngcontent-%COMP%]{padding-left:3rem!important}.font-monospace[_ngcontent-%COMP%]{font-family:var(--bs-font-monospace)!important}.fs-1[_ngcontent-%COMP%]{font-size:calc(1.375rem + 1.5vw)!important}.fs-2[_ngcontent-%COMP%]{font-size:calc(1.325rem + .9vw)!important}.fs-3[_ngcontent-%COMP%]{font-size:calc(1.3rem + .6vw)!important}.fs-4[_ngcontent-%COMP%]{font-size:calc(1.275rem + .3vw)!important}.fs-5[_ngcontent-%COMP%]{font-size:1.25rem!important}.fs-6[_ngcontent-%COMP%]{font-size:1rem!important}.fst-italic[_ngcontent-%COMP%]{font-style:italic!important}.fst-normal[_ngcontent-%COMP%]{font-style:normal!important}.fw-light[_ngcontent-%COMP%]{font-weight:300!important}.fw-lighter[_ngcontent-%COMP%]{font-weight:lighter!important}.fw-normal[_ngcontent-%COMP%]{font-weight:400!important}.fw-bold[_ngcontent-%COMP%]{font-weight:700!important}.fw-bolder[_ngcontent-%COMP%]{font-weight:bolder!important}.lh-1[_ngcontent-%COMP%]{line-height:1!important}.lh-sm[_ngcontent-%COMP%]{line-height:1.25!important}.lh-base[_ngcontent-%COMP%]{line-height:1.5!important}.lh-lg[_ngcontent-%COMP%]{line-height:2!important}.text-start[_ngcontent-%COMP%]{text-align:left!important}.text-end[_ngcontent-%COMP%]{text-align:right!important}.text-center[_ngcontent-%COMP%]{text-align:center!important}.text-decoration-none[_ngcontent-%COMP%]{text-decoration:none!important}.text-decoration-underline[_ngcontent-%COMP%]{text-decoration:underline!important}.text-decoration-line-through[_ngcontent-%COMP%]{text-decoration:line-through!important}.text-lowercase[_ngcontent-%COMP%]{text-transform:lowercase!important}.text-uppercase[_ngcontent-%COMP%]{text-transform:uppercase!important}.text-capitalize[_ngcontent-%COMP%]{text-transform:capitalize!important}.text-wrap[_ngcontent-%COMP%]{white-space:normal!important}.text-nowrap[_ngcontent-%COMP%]{white-space:nowrap!important}.text-break[_ngcontent-%COMP%]{word-wrap:break-word!important;word-break:break-word!important}.text-primary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-primary-rgb),var(--bs-text-opacity))!important}.text-secondary[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-secondary-rgb),var(--bs-text-opacity))!important}.text-success[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-success-rgb),var(--bs-text-opacity))!important}.text-info[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-info-rgb),var(--bs-text-opacity))!important}.text-warning[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-warning-rgb),var(--bs-text-opacity))!important}.text-danger[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-danger-rgb),var(--bs-text-opacity))!important}.text-light[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-light-rgb),var(--bs-text-opacity))!important}.text-dark[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-dark-rgb),var(--bs-text-opacity))!important}.text-black[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-black-rgb),var(--bs-text-opacity))!important}.text-white[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-white-rgb),var(--bs-text-opacity))!important}.text-body[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:rgba(var(--bs-body-color-rgb),var(--bs-text-opacity))!important}.text-muted[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#6c757d!important}.text-black-50[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#00000080!important}.text-white-50[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:#ffffff80!important}.text-reset[_ngcontent-%COMP%]{--bs-text-opacity: 1;color:inherit!important}.text-opacity-25[_ngcontent-%COMP%]{--bs-text-opacity: .25}.text-opacity-50[_ngcontent-%COMP%]{--bs-text-opacity: .5}.text-opacity-75[_ngcontent-%COMP%]{--bs-text-opacity: .75}.text-opacity-100[_ngcontent-%COMP%]{--bs-text-opacity: 1}.bg-primary[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-primary-rgb),var(--bs-bg-opacity))!important}.bg-secondary[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-secondary-rgb),var(--bs-bg-opacity))!important}.bg-success[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-success-rgb),var(--bs-bg-opacity))!important}.bg-info[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-info-rgb),var(--bs-bg-opacity))!important}.bg-warning[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-warning-rgb),var(--bs-bg-opacity))!important}.bg-danger[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-danger-rgb),var(--bs-bg-opacity))!important}.bg-light[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-light-rgb),var(--bs-bg-opacity))!important}.bg-dark[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-dark-rgb),var(--bs-bg-opacity))!important}.bg-black[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-black-rgb),var(--bs-bg-opacity))!important}.bg-white[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-white-rgb),var(--bs-bg-opacity))!important}.bg-body[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:rgba(var(--bs-body-bg-rgb),var(--bs-bg-opacity))!important}.bg-transparent[_ngcontent-%COMP%]{--bs-bg-opacity: 1;background-color:transparent!important}.bg-opacity-10[_ngcontent-%COMP%]{--bs-bg-opacity: .1}.bg-opacity-25[_ngcontent-%COMP%]{--bs-bg-opacity: .25}.bg-opacity-50[_ngcontent-%COMP%]{--bs-bg-opacity: .5}.bg-opacity-75[_ngcontent-%COMP%]{--bs-bg-opacity: .75}.bg-opacity-100[_ngcontent-%COMP%]{--bs-bg-opacity: 1}.bg-gradient[_ngcontent-%COMP%]{background-image:var(--bs-gradient)!important}.user-select-all[_ngcontent-%COMP%]{-webkit-user-select:all!important;user-select:all!important}.user-select-auto[_ngcontent-%COMP%]{-webkit-user-select:auto!important;user-select:auto!important}.user-select-none[_ngcontent-%COMP%]{-webkit-user-select:none!important;user-select:none!important}.pe-none[_ngcontent-%COMP%]{pointer-events:none!important}.pe-auto[_ngcontent-%COMP%]{pointer-events:auto!important}.rounded[_ngcontent-%COMP%]{border-radius:.25rem!important}.rounded-0[_ngcontent-%COMP%]{border-radius:0!important}.rounded-1[_ngcontent-%COMP%]{border-radius:.2rem!important}.rounded-2[_ngcontent-%COMP%]{border-radius:.25rem!important}.rounded-3[_ngcontent-%COMP%]{border-radius:.3rem!important}.rounded-circle[_ngcontent-%COMP%]{border-radius:50%!important}.rounded-pill[_ngcontent-%COMP%]{border-radius:50rem!important}.rounded-top[_ngcontent-%COMP%]{border-top-left-radius:.25rem!important;border-top-right-radius:.25rem!important}.rounded-end[_ngcontent-%COMP%]{border-top-right-radius:.25rem!important;border-bottom-right-radius:.25rem!important}.rounded-bottom[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem!important;border-bottom-left-radius:.25rem!important}.rounded-start[_ngcontent-%COMP%]{border-bottom-left-radius:.25rem!important;border-top-left-radius:.25rem!important}.visible[_ngcontent-%COMP%]{visibility:visible!important}.invisible[_ngcontent-%COMP%]{visibility:hidden!important}@media (min-width: 576px){.float-sm-start[_ngcontent-%COMP%]{float:left!important}.float-sm-end[_ngcontent-%COMP%]{float:right!important}.float-sm-none[_ngcontent-%COMP%]{float:none!important}.d-sm-inline[_ngcontent-%COMP%]{display:inline!important}.d-sm-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-sm-block[_ngcontent-%COMP%]{display:block!important}.d-sm-grid[_ngcontent-%COMP%]{display:grid!important}.d-sm-table[_ngcontent-%COMP%]{display:table!important}.d-sm-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-sm-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-sm-flex[_ngcontent-%COMP%]{display:flex!important}.d-sm-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-sm-none[_ngcontent-%COMP%]{display:none!important}.flex-sm-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-sm-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-sm-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-sm-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-sm-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-sm-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-sm-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-sm-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-sm-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-sm-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-sm-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-sm-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-sm-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-sm-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-sm-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-sm-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-sm-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-sm-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-sm-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-sm-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-sm-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-sm-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-sm-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-sm-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-sm-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-sm-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-sm-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-sm-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-sm-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-sm-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-sm-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-sm-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-sm-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-sm-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-sm-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-sm-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-sm-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-sm-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-sm-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-sm-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-sm-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-sm-first[_ngcontent-%COMP%]{order:-1!important}.order-sm-0[_ngcontent-%COMP%]{order:0!important}.order-sm-1[_ngcontent-%COMP%]{order:1!important}.order-sm-2[_ngcontent-%COMP%]{order:2!important}.order-sm-3[_ngcontent-%COMP%]{order:3!important}.order-sm-4[_ngcontent-%COMP%]{order:4!important}.order-sm-5[_ngcontent-%COMP%]{order:5!important}.order-sm-last[_ngcontent-%COMP%]{order:6!important}.m-sm-0[_ngcontent-%COMP%]{margin:0!important}.m-sm-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-sm-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-sm-3[_ngcontent-%COMP%]{margin:1rem!important}.m-sm-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-sm-5[_ngcontent-%COMP%]{margin:3rem!important}.m-sm-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-sm-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-sm-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-sm-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-sm-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-sm-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-sm-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-sm-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-sm-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-sm-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-sm-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-sm-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-sm-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-sm-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-sm-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-sm-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-sm-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-sm-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-sm-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-sm-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-sm-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-sm-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-sm-0[_ngcontent-%COMP%]{margin-right:0!important}.me-sm-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-sm-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-sm-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-sm-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-sm-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-sm-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-sm-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-sm-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-sm-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-sm-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-sm-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-sm-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-sm-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-sm-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-sm-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-sm-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-sm-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-sm-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-sm-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-sm-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-sm-0[_ngcontent-%COMP%]{padding:0!important}.p-sm-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-sm-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-sm-3[_ngcontent-%COMP%]{padding:1rem!important}.p-sm-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-sm-5[_ngcontent-%COMP%]{padding:3rem!important}.px-sm-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-sm-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-sm-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-sm-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-sm-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-sm-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-sm-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-sm-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-sm-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-sm-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-sm-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-sm-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-sm-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-sm-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-sm-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-sm-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-sm-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-sm-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-sm-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-sm-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-sm-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-sm-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-sm-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-sm-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-sm-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-sm-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-sm-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-sm-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-sm-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-sm-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-sm-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-sm-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-sm-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-sm-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-sm-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-sm-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-sm-start[_ngcontent-%COMP%]{text-align:left!important}.text-sm-end[_ngcontent-%COMP%]{text-align:right!important}.text-sm-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 768px){.float-md-start[_ngcontent-%COMP%]{float:left!important}.float-md-end[_ngcontent-%COMP%]{float:right!important}.float-md-none[_ngcontent-%COMP%]{float:none!important}.d-md-inline[_ngcontent-%COMP%]{display:inline!important}.d-md-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-md-block[_ngcontent-%COMP%]{display:block!important}.d-md-grid[_ngcontent-%COMP%]{display:grid!important}.d-md-table[_ngcontent-%COMP%]{display:table!important}.d-md-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-md-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-md-flex[_ngcontent-%COMP%]{display:flex!important}.d-md-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-md-none[_ngcontent-%COMP%]{display:none!important}.flex-md-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-md-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-md-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-md-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-md-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-md-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-md-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-md-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-md-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-md-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-md-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-md-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-md-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-md-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-md-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-md-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-md-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-md-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-md-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-md-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-md-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-md-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-md-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-md-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-md-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-md-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-md-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-md-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-md-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-md-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-md-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-md-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-md-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-md-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-md-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-md-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-md-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-md-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-md-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-md-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-md-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-md-first[_ngcontent-%COMP%]{order:-1!important}.order-md-0[_ngcontent-%COMP%]{order:0!important}.order-md-1[_ngcontent-%COMP%]{order:1!important}.order-md-2[_ngcontent-%COMP%]{order:2!important}.order-md-3[_ngcontent-%COMP%]{order:3!important}.order-md-4[_ngcontent-%COMP%]{order:4!important}.order-md-5[_ngcontent-%COMP%]{order:5!important}.order-md-last[_ngcontent-%COMP%]{order:6!important}.m-md-0[_ngcontent-%COMP%]{margin:0!important}.m-md-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-md-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-md-3[_ngcontent-%COMP%]{margin:1rem!important}.m-md-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-md-5[_ngcontent-%COMP%]{margin:3rem!important}.m-md-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-md-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-md-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-md-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-md-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-md-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-md-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-md-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-md-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-md-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-md-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-md-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-md-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-md-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-md-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-md-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-md-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-md-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-md-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-md-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-md-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-md-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-md-0[_ngcontent-%COMP%]{margin-right:0!important}.me-md-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-md-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-md-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-md-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-md-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-md-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-md-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-md-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-md-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-md-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-md-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-md-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-md-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-md-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-md-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-md-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-md-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-md-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-md-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-md-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-md-0[_ngcontent-%COMP%]{padding:0!important}.p-md-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-md-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-md-3[_ngcontent-%COMP%]{padding:1rem!important}.p-md-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-md-5[_ngcontent-%COMP%]{padding:3rem!important}.px-md-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-md-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-md-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-md-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-md-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-md-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-md-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-md-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-md-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-md-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-md-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-md-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-md-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-md-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-md-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-md-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-md-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-md-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-md-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-md-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-md-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-md-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-md-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-md-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-md-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-md-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-md-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-md-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-md-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-md-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-md-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-md-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-md-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-md-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-md-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-md-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-md-start[_ngcontent-%COMP%]{text-align:left!important}.text-md-end[_ngcontent-%COMP%]{text-align:right!important}.text-md-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 992px){.float-lg-start[_ngcontent-%COMP%]{float:left!important}.float-lg-end[_ngcontent-%COMP%]{float:right!important}.float-lg-none[_ngcontent-%COMP%]{float:none!important}.d-lg-inline[_ngcontent-%COMP%]{display:inline!important}.d-lg-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-lg-block[_ngcontent-%COMP%]{display:block!important}.d-lg-grid[_ngcontent-%COMP%]{display:grid!important}.d-lg-table[_ngcontent-%COMP%]{display:table!important}.d-lg-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-lg-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-lg-flex[_ngcontent-%COMP%]{display:flex!important}.d-lg-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-lg-none[_ngcontent-%COMP%]{display:none!important}.flex-lg-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-lg-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-lg-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-lg-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-lg-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-lg-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-lg-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-lg-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-lg-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-lg-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-lg-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-lg-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-lg-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-lg-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-lg-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-lg-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-lg-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-lg-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-lg-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-lg-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-lg-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-lg-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-lg-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-lg-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-lg-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-lg-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-lg-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-lg-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-lg-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-lg-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-lg-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-lg-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-lg-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-lg-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-lg-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-lg-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-lg-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-lg-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-lg-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-lg-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-lg-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-lg-first[_ngcontent-%COMP%]{order:-1!important}.order-lg-0[_ngcontent-%COMP%]{order:0!important}.order-lg-1[_ngcontent-%COMP%]{order:1!important}.order-lg-2[_ngcontent-%COMP%]{order:2!important}.order-lg-3[_ngcontent-%COMP%]{order:3!important}.order-lg-4[_ngcontent-%COMP%]{order:4!important}.order-lg-5[_ngcontent-%COMP%]{order:5!important}.order-lg-last[_ngcontent-%COMP%]{order:6!important}.m-lg-0[_ngcontent-%COMP%]{margin:0!important}.m-lg-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-lg-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-lg-3[_ngcontent-%COMP%]{margin:1rem!important}.m-lg-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-lg-5[_ngcontent-%COMP%]{margin:3rem!important}.m-lg-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-lg-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-lg-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-lg-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-lg-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-lg-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-lg-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-lg-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-lg-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-lg-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-lg-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-lg-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-lg-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-lg-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-lg-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-lg-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-lg-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-lg-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-lg-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-lg-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-lg-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-lg-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-lg-0[_ngcontent-%COMP%]{margin-right:0!important}.me-lg-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-lg-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-lg-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-lg-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-lg-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-lg-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-lg-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-lg-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-lg-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-lg-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-lg-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-lg-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-lg-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-lg-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-lg-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-lg-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-lg-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-lg-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-lg-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-lg-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-lg-0[_ngcontent-%COMP%]{padding:0!important}.p-lg-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-lg-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-lg-3[_ngcontent-%COMP%]{padding:1rem!important}.p-lg-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-lg-5[_ngcontent-%COMP%]{padding:3rem!important}.px-lg-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-lg-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-lg-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-lg-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-lg-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-lg-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-lg-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-lg-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-lg-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-lg-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-lg-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-lg-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-lg-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-lg-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-lg-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-lg-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-lg-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-lg-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-lg-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-lg-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-lg-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-lg-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-lg-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-lg-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-lg-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-lg-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-lg-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-lg-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-lg-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-lg-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-lg-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-lg-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-lg-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-lg-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-lg-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-lg-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-lg-start[_ngcontent-%COMP%]{text-align:left!important}.text-lg-end[_ngcontent-%COMP%]{text-align:right!important}.text-lg-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1200px){.float-xl-start[_ngcontent-%COMP%]{float:left!important}.float-xl-end[_ngcontent-%COMP%]{float:right!important}.float-xl-none[_ngcontent-%COMP%]{float:none!important}.d-xl-inline[_ngcontent-%COMP%]{display:inline!important}.d-xl-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-xl-block[_ngcontent-%COMP%]{display:block!important}.d-xl-grid[_ngcontent-%COMP%]{display:grid!important}.d-xl-table[_ngcontent-%COMP%]{display:table!important}.d-xl-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-xl-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-xl-flex[_ngcontent-%COMP%]{display:flex!important}.d-xl-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-xl-none[_ngcontent-%COMP%]{display:none!important}.flex-xl-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-xl-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-xl-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-xl-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-xl-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-xl-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-xl-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-xl-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-xl-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-xl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-xl-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-xl-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-xl-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-xl-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-xl-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-xl-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-xl-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-xl-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-xl-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-xl-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-xl-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-xl-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-xl-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-xl-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-xl-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-xl-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-xl-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-xl-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-xl-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-xl-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-xl-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-xl-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-xl-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-xl-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-xl-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-xl-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-xl-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-xl-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-xl-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-xl-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-xl-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-xl-first[_ngcontent-%COMP%]{order:-1!important}.order-xl-0[_ngcontent-%COMP%]{order:0!important}.order-xl-1[_ngcontent-%COMP%]{order:1!important}.order-xl-2[_ngcontent-%COMP%]{order:2!important}.order-xl-3[_ngcontent-%COMP%]{order:3!important}.order-xl-4[_ngcontent-%COMP%]{order:4!important}.order-xl-5[_ngcontent-%COMP%]{order:5!important}.order-xl-last[_ngcontent-%COMP%]{order:6!important}.m-xl-0[_ngcontent-%COMP%]{margin:0!important}.m-xl-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-xl-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-xl-3[_ngcontent-%COMP%]{margin:1rem!important}.m-xl-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-xl-5[_ngcontent-%COMP%]{margin:3rem!important}.m-xl-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-xl-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-xl-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xl-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xl-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-xl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xl-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-xl-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-xl-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-xl-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xl-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xl-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-xl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xl-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-xl-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-xl-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-xl-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-xl-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-xl-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-xl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-xl-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-xl-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-xl-0[_ngcontent-%COMP%]{margin-right:0!important}.me-xl-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-xl-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-xl-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-xl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-xl-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-xl-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-xl-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-xl-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-xl-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-xl-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-xl-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-xl-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-xl-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-xl-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-xl-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-xl-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-xl-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-xl-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-xl-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-xl-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-xl-0[_ngcontent-%COMP%]{padding:0!important}.p-xl-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-xl-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-xl-3[_ngcontent-%COMP%]{padding:1rem!important}.p-xl-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-xl-5[_ngcontent-%COMP%]{padding:3rem!important}.px-xl-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-xl-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-xl-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-xl-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-xl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xl-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-xl-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-xl-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xl-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xl-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-xl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xl-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xl-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-xl-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-xl-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-xl-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-xl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-xl-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-xl-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-xl-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-xl-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-xl-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-xl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-xl-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-xl-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-xl-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-xl-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-xl-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-xl-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-xl-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-xl-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-xl-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-xl-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-xl-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-xl-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-xl-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-xl-start[_ngcontent-%COMP%]{text-align:left!important}.text-xl-end[_ngcontent-%COMP%]{text-align:right!important}.text-xl-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1400px){.float-xxl-start[_ngcontent-%COMP%]{float:left!important}.float-xxl-end[_ngcontent-%COMP%]{float:right!important}.float-xxl-none[_ngcontent-%COMP%]{float:none!important}.d-xxl-inline[_ngcontent-%COMP%]{display:inline!important}.d-xxl-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-xxl-block[_ngcontent-%COMP%]{display:block!important}.d-xxl-grid[_ngcontent-%COMP%]{display:grid!important}.d-xxl-table[_ngcontent-%COMP%]{display:table!important}.d-xxl-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-xxl-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-xxl-flex[_ngcontent-%COMP%]{display:flex!important}.d-xxl-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-xxl-none[_ngcontent-%COMP%]{display:none!important}.flex-xxl-fill[_ngcontent-%COMP%]{flex:1 1 auto!important}.flex-xxl-row[_ngcontent-%COMP%]{flex-direction:row!important}.flex-xxl-column[_ngcontent-%COMP%]{flex-direction:column!important}.flex-xxl-row-reverse[_ngcontent-%COMP%]{flex-direction:row-reverse!important}.flex-xxl-column-reverse[_ngcontent-%COMP%]{flex-direction:column-reverse!important}.flex-xxl-grow-0[_ngcontent-%COMP%]{flex-grow:0!important}.flex-xxl-grow-1[_ngcontent-%COMP%]{flex-grow:1!important}.flex-xxl-shrink-0[_ngcontent-%COMP%]{flex-shrink:0!important}.flex-xxl-shrink-1[_ngcontent-%COMP%]{flex-shrink:1!important}.flex-xxl-wrap[_ngcontent-%COMP%]{flex-wrap:wrap!important}.flex-xxl-nowrap[_ngcontent-%COMP%]{flex-wrap:nowrap!important}.flex-xxl-wrap-reverse[_ngcontent-%COMP%]{flex-wrap:wrap-reverse!important}.gap-xxl-0[_ngcontent-%COMP%]{grid-gap:0!important;gap:0!important}.gap-xxl-1[_ngcontent-%COMP%]{grid-gap:.25rem!important;gap:.25rem!important}.gap-xxl-2[_ngcontent-%COMP%]{grid-gap:.5rem!important;gap:.5rem!important}.gap-xxl-3[_ngcontent-%COMP%]{grid-gap:1rem!important;gap:1rem!important}.gap-xxl-4[_ngcontent-%COMP%]{grid-gap:1.5rem!important;gap:1.5rem!important}.gap-xxl-5[_ngcontent-%COMP%]{grid-gap:3rem!important;gap:3rem!important}.justify-content-xxl-start[_ngcontent-%COMP%]{justify-content:flex-start!important}.justify-content-xxl-end[_ngcontent-%COMP%]{justify-content:flex-end!important}.justify-content-xxl-center[_ngcontent-%COMP%]{justify-content:center!important}.justify-content-xxl-between[_ngcontent-%COMP%]{justify-content:space-between!important}.justify-content-xxl-around[_ngcontent-%COMP%]{justify-content:space-around!important}.justify-content-xxl-evenly[_ngcontent-%COMP%]{justify-content:space-evenly!important}.align-items-xxl-start[_ngcontent-%COMP%]{align-items:flex-start!important}.align-items-xxl-end[_ngcontent-%COMP%]{align-items:flex-end!important}.align-items-xxl-center[_ngcontent-%COMP%]{align-items:center!important}.align-items-xxl-baseline[_ngcontent-%COMP%]{align-items:baseline!important}.align-items-xxl-stretch[_ngcontent-%COMP%]{align-items:stretch!important}.align-content-xxl-start[_ngcontent-%COMP%]{align-content:flex-start!important}.align-content-xxl-end[_ngcontent-%COMP%]{align-content:flex-end!important}.align-content-xxl-center[_ngcontent-%COMP%]{align-content:center!important}.align-content-xxl-between[_ngcontent-%COMP%]{align-content:space-between!important}.align-content-xxl-around[_ngcontent-%COMP%]{align-content:space-around!important}.align-content-xxl-stretch[_ngcontent-%COMP%]{align-content:stretch!important}.align-self-xxl-auto[_ngcontent-%COMP%]{align-self:auto!important}.align-self-xxl-start[_ngcontent-%COMP%]{align-self:flex-start!important}.align-self-xxl-end[_ngcontent-%COMP%]{align-self:flex-end!important}.align-self-xxl-center[_ngcontent-%COMP%]{align-self:center!important}.align-self-xxl-baseline[_ngcontent-%COMP%]{align-self:baseline!important}.align-self-xxl-stretch[_ngcontent-%COMP%]{align-self:stretch!important}.order-xxl-first[_ngcontent-%COMP%]{order:-1!important}.order-xxl-0[_ngcontent-%COMP%]{order:0!important}.order-xxl-1[_ngcontent-%COMP%]{order:1!important}.order-xxl-2[_ngcontent-%COMP%]{order:2!important}.order-xxl-3[_ngcontent-%COMP%]{order:3!important}.order-xxl-4[_ngcontent-%COMP%]{order:4!important}.order-xxl-5[_ngcontent-%COMP%]{order:5!important}.order-xxl-last[_ngcontent-%COMP%]{order:6!important}.m-xxl-0[_ngcontent-%COMP%]{margin:0!important}.m-xxl-1[_ngcontent-%COMP%]{margin:.25rem!important}.m-xxl-2[_ngcontent-%COMP%]{margin:.5rem!important}.m-xxl-3[_ngcontent-%COMP%]{margin:1rem!important}.m-xxl-4[_ngcontent-%COMP%]{margin:1.5rem!important}.m-xxl-5[_ngcontent-%COMP%]{margin:3rem!important}.m-xxl-auto[_ngcontent-%COMP%]{margin:auto!important}.mx-xxl-0[_ngcontent-%COMP%]{margin-right:0!important;margin-left:0!important}.mx-xxl-1[_ngcontent-%COMP%]{margin-right:.25rem!important;margin-left:.25rem!important}.mx-xxl-2[_ngcontent-%COMP%]{margin-right:.5rem!important;margin-left:.5rem!important}.mx-xxl-3[_ngcontent-%COMP%]{margin-right:1rem!important;margin-left:1rem!important}.mx-xxl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important;margin-left:1.5rem!important}.mx-xxl-5[_ngcontent-%COMP%]{margin-right:3rem!important;margin-left:3rem!important}.mx-xxl-auto[_ngcontent-%COMP%]{margin-right:auto!important;margin-left:auto!important}.my-xxl-0[_ngcontent-%COMP%]{margin-top:0!important;margin-bottom:0!important}.my-xxl-1[_ngcontent-%COMP%]{margin-top:.25rem!important;margin-bottom:.25rem!important}.my-xxl-2[_ngcontent-%COMP%]{margin-top:.5rem!important;margin-bottom:.5rem!important}.my-xxl-3[_ngcontent-%COMP%]{margin-top:1rem!important;margin-bottom:1rem!important}.my-xxl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important;margin-bottom:1.5rem!important}.my-xxl-5[_ngcontent-%COMP%]{margin-top:3rem!important;margin-bottom:3rem!important}.my-xxl-auto[_ngcontent-%COMP%]{margin-top:auto!important;margin-bottom:auto!important}.mt-xxl-0[_ngcontent-%COMP%]{margin-top:0!important}.mt-xxl-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.mt-xxl-2[_ngcontent-%COMP%]{margin-top:.5rem!important}.mt-xxl-3[_ngcontent-%COMP%]{margin-top:1rem!important}.mt-xxl-4[_ngcontent-%COMP%]{margin-top:1.5rem!important}.mt-xxl-5[_ngcontent-%COMP%]{margin-top:3rem!important}.mt-xxl-auto[_ngcontent-%COMP%]{margin-top:auto!important}.me-xxl-0[_ngcontent-%COMP%]{margin-right:0!important}.me-xxl-1[_ngcontent-%COMP%]{margin-right:.25rem!important}.me-xxl-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.me-xxl-3[_ngcontent-%COMP%]{margin-right:1rem!important}.me-xxl-4[_ngcontent-%COMP%]{margin-right:1.5rem!important}.me-xxl-5[_ngcontent-%COMP%]{margin-right:3rem!important}.me-xxl-auto[_ngcontent-%COMP%]{margin-right:auto!important}.mb-xxl-0[_ngcontent-%COMP%]{margin-bottom:0!important}.mb-xxl-1[_ngcontent-%COMP%]{margin-bottom:.25rem!important}.mb-xxl-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.mb-xxl-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.mb-xxl-4[_ngcontent-%COMP%]{margin-bottom:1.5rem!important}.mb-xxl-5[_ngcontent-%COMP%]{margin-bottom:3rem!important}.mb-xxl-auto[_ngcontent-%COMP%]{margin-bottom:auto!important}.ms-xxl-0[_ngcontent-%COMP%]{margin-left:0!important}.ms-xxl-1[_ngcontent-%COMP%]{margin-left:.25rem!important}.ms-xxl-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.ms-xxl-3[_ngcontent-%COMP%]{margin-left:1rem!important}.ms-xxl-4[_ngcontent-%COMP%]{margin-left:1.5rem!important}.ms-xxl-5[_ngcontent-%COMP%]{margin-left:3rem!important}.ms-xxl-auto[_ngcontent-%COMP%]{margin-left:auto!important}.p-xxl-0[_ngcontent-%COMP%]{padding:0!important}.p-xxl-1[_ngcontent-%COMP%]{padding:.25rem!important}.p-xxl-2[_ngcontent-%COMP%]{padding:.5rem!important}.p-xxl-3[_ngcontent-%COMP%]{padding:1rem!important}.p-xxl-4[_ngcontent-%COMP%]{padding:1.5rem!important}.p-xxl-5[_ngcontent-%COMP%]{padding:3rem!important}.px-xxl-0[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important}.px-xxl-1[_ngcontent-%COMP%]{padding-right:.25rem!important;padding-left:.25rem!important}.px-xxl-2[_ngcontent-%COMP%]{padding-right:.5rem!important;padding-left:.5rem!important}.px-xxl-3[_ngcontent-%COMP%]{padding-right:1rem!important;padding-left:1rem!important}.px-xxl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important;padding-left:1.5rem!important}.px-xxl-5[_ngcontent-%COMP%]{padding-right:3rem!important;padding-left:3rem!important}.py-xxl-0[_ngcontent-%COMP%]{padding-top:0!important;padding-bottom:0!important}.py-xxl-1[_ngcontent-%COMP%]{padding-top:.25rem!important;padding-bottom:.25rem!important}.py-xxl-2[_ngcontent-%COMP%]{padding-top:.5rem!important;padding-bottom:.5rem!important}.py-xxl-3[_ngcontent-%COMP%]{padding-top:1rem!important;padding-bottom:1rem!important}.py-xxl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important;padding-bottom:1.5rem!important}.py-xxl-5[_ngcontent-%COMP%]{padding-top:3rem!important;padding-bottom:3rem!important}.pt-xxl-0[_ngcontent-%COMP%]{padding-top:0!important}.pt-xxl-1[_ngcontent-%COMP%]{padding-top:.25rem!important}.pt-xxl-2[_ngcontent-%COMP%]{padding-top:.5rem!important}.pt-xxl-3[_ngcontent-%COMP%]{padding-top:1rem!important}.pt-xxl-4[_ngcontent-%COMP%]{padding-top:1.5rem!important}.pt-xxl-5[_ngcontent-%COMP%]{padding-top:3rem!important}.pe-xxl-0[_ngcontent-%COMP%]{padding-right:0!important}.pe-xxl-1[_ngcontent-%COMP%]{padding-right:.25rem!important}.pe-xxl-2[_ngcontent-%COMP%]{padding-right:.5rem!important}.pe-xxl-3[_ngcontent-%COMP%]{padding-right:1rem!important}.pe-xxl-4[_ngcontent-%COMP%]{padding-right:1.5rem!important}.pe-xxl-5[_ngcontent-%COMP%]{padding-right:3rem!important}.pb-xxl-0[_ngcontent-%COMP%]{padding-bottom:0!important}.pb-xxl-1[_ngcontent-%COMP%]{padding-bottom:.25rem!important}.pb-xxl-2[_ngcontent-%COMP%]{padding-bottom:.5rem!important}.pb-xxl-3[_ngcontent-%COMP%]{padding-bottom:1rem!important}.pb-xxl-4[_ngcontent-%COMP%]{padding-bottom:1.5rem!important}.pb-xxl-5[_ngcontent-%COMP%]{padding-bottom:3rem!important}.ps-xxl-0[_ngcontent-%COMP%]{padding-left:0!important}.ps-xxl-1[_ngcontent-%COMP%]{padding-left:.25rem!important}.ps-xxl-2[_ngcontent-%COMP%]{padding-left:.5rem!important}.ps-xxl-3[_ngcontent-%COMP%]{padding-left:1rem!important}.ps-xxl-4[_ngcontent-%COMP%]{padding-left:1.5rem!important}.ps-xxl-5[_ngcontent-%COMP%]{padding-left:3rem!important}.text-xxl-start[_ngcontent-%COMP%]{text-align:left!important}.text-xxl-end[_ngcontent-%COMP%]{text-align:right!important}.text-xxl-center[_ngcontent-%COMP%]{text-align:center!important}}@media (min-width: 1200px){.fs-1[_ngcontent-%COMP%]{font-size:2.5rem!important}.fs-2[_ngcontent-%COMP%]{font-size:2rem!important}.fs-3[_ngcontent-%COMP%]{font-size:1.75rem!important}.fs-4[_ngcontent-%COMP%]{font-size:1.5rem!important}}@media print{.d-print-inline[_ngcontent-%COMP%]{display:inline!important}.d-print-inline-block[_ngcontent-%COMP%]{display:inline-block!important}.d-print-block[_ngcontent-%COMP%]{display:block!important}.d-print-grid[_ngcontent-%COMP%]{display:grid!important}.d-print-table[_ngcontent-%COMP%]{display:table!important}.d-print-table-row[_ngcontent-%COMP%]{display:table-row!important}.d-print-table-cell[_ngcontent-%COMP%]{display:table-cell!important}.d-print-flex[_ngcontent-%COMP%]{display:flex!important}.d-print-inline-flex[_ngcontent-%COMP%]{display:inline-flex!important}.d-print-none[_ngcontent-%COMP%]{display:none!important}}.site-header[_ngcontent-%COMP%]{background-color:#212529;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px)}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6c757d;transition:color .15s ease-in-out}.site-header[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .site-header[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#e9ecef;text-decoration:none}.site-footer[_ngcontent-%COMP%]{background-color:#212529;-webkit-backdrop-filter:saturate(180%) blur(20px);backdrop-filter:saturate(180%) blur(20px);color:#f8f9fa}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#6c757d;transition:color .15s ease-in-out}.site-footer[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .site-footer[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{color:#e9ecef;text-decoration:none}"]}),a})(),eY=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[[xg]]}),a})(),nY=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[[xg]]}),a})(),rY=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[[yS,O_,w_,nY,xg]]}),a})(),iY=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a}),a.\u0275inj=A.cJS({imports:[[xg]]}),a})();const sY=(0,We.Lq)({pdbFile:void 0,pmlFile:void 0,dcdFile:void 0,custom:!1,min:0,max:0},(0,We.on)(ow,(a,{blob:t,fileType:e})=>{const o=Object.assign({},a);return e===ph.pdb&&(o.pdbFile=t),e===ph.pml&&(o.pmlFile=t),e===ph.dcd&&(o.dcdFile=t),o}),(0,We.on)(aS,a=>{const t=Object.assign({},a);return t.pdbFile=void 0,t.pmlFile=void 0,t.dcdFile=void 0,t}),(0,We.on)(GC,(a,{pdbFile:t})=>{const e=Object.assign({},a);return e.pdbFile=t,e}),(0,We.on)(sw,(a,{pmlFile:t})=>{const e=Object.assign({},a);return e.pmlFile=t,e}),(0,We.on)(cS,(a,{dcdFile:t})=>{const e=Object.assign({},a);return e.dcdFile=t,e}),(0,We.on)(lS,(a,{custom:t})=>{const e=Object.assign({},a);return e.custom=t,e}),(0,We.on)(Cr,(a,{min:t})=>{const e=Object.assign({},a);return e.min=t,e}),(0,We.on)(aw,(a,{max:t})=>{const e=Object.assign({},a);return e.max=t,e})),lY=(0,We.Lq)({play:"stop",currentFrame:null,hidePast:!1,range:[0,0]},(0,We.on)(lw,(a,{playStatus:t})=>{const e=Object.assign({},a);return e.play=t,e}),(0,We.on)(Gb,(a,{currentFrame:t})=>{const e=Object.assign({},a);return e.currentFrame=t,e}),(0,We.on)(fa,(a,{hidePast:t})=>{const e=Object.assign({},a);return e.hidePast=t,e}),(0,We.on)(jb,(a,{range:t})=>{const e=Object.assign({},a);return e.range=t,e})),pY=(0,We.Lq)({all:null,selected:null,range:[0,0]},(0,We.on)(cw,(a,{all:t})=>{const e=Object.assign({},a);return e.selected=null,e.all=t,e}),(0,We.on)(e_,(a,{selected:t})=>{const e=Object.assign({},a);return e.all=null,e.selected=t,e}),(0,We.on)(gl,(a,{range:t})=>{const e=Object.assign({},a);return e.range=t,e}),(0,We.on)(n_,(a,{range:t,selected:e})=>{const o=Object.assign({},a);return o.all=null,o.range=t,o.selected=e,o})),gY=(0,We.Lq)({id:null,name:null,frameIndecies:[],involvedAtomSerials:[],frameIndeciesDict:null},(0,We.on)(_f,(a,{selected:t})=>{const e=Object.assign({},a);return e.id=t.id,e.name=t.name,e.frameIndecies=t.frameIndecies,e.frameIndeciesDict=t.frameIndeciesDict,e.involvedAtomSerials=t.involvedAtomSerials,e}),(0,We.on)(jC,a=>{const t=Object.assign({},a);return t.id=null,t.name=null,t.frameIndecies=[],t.frameIndeciesDict=null,t.involvedAtomSerials=[],t})),_Y=(0,We.Lq)({tab:"ngl"},(0,We.on)(WC,(a,{tab:t})=>{console.log("set tab",t);const e=Object.assign({},a);return e.tab=t,e})),yY={files:function(a,t){return sY(a,t)},player:function(a,t){return lY(a,t)},display:function(a,t){return pY(a,t)},selection:function(a,t){return gY(a,t)},tab:function(a,t){return _Y(a,t)}},CY=[];let MY=(()=>{class a{}return a.\u0275fac=function(e){return new(e||a)},a.\u0275mod=A.oAB({type:a,bootstrap:[tY]}),a.\u0275inj=A.cJS({providers:[],imports:[[We.Aw,hb.FT,bD,it,eY,rY,iY,We.Aw.forRoot(yY,{metaReducers:CY,runtimeChecks:{strictStateImmutability:!0,strictActionImmutability:!0,strictActionSerializability:!0,strictStateSerializability:!0}}),hb.FT.instrument({maxAge:25,logOnly:true})]]}),a})();(0,A.G48)(),ub().bootstrapModule(MY).catch(a=>console.error(a))}},ie=>{ie(ie.s=2724)}]);